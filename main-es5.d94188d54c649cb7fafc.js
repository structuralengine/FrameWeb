(function(){function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(c){r=!0,o=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,t)})(t)}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&_setPrototypeOf(r,n.prototype),r}).apply(null,arguments)}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(t);if(e){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/+4+":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("fXoL"),r=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"toNumber",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=null;try{var r=t.toString().trim();r.length>0&&(e=+r,i=isNaN(e)?null:e)}catch(a){i=null}if(null!=n){var o=Math.pow(10,n);i=Math.round(i*o)/o}return i}},{key:"objectEquals",value:function(t,e){if(t===e)return!0;var n=Object.keys(t).sort(),i=Object.keys(e).sort();return n.toString()===i.toString()&&-1===n.findIndex(function(n){return t[n]!==e[n]})}}]),t}();return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[]]}),t}()},"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return a});var i=n("mrSG"),r=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.a;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(i.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:r});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(u){}try{for(var r=Object(i.g)(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var a=Object(i.e)(o.value,2),s=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});s.resolve(l)}catch(u){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(i.b)(this,void 0,void 0,function(){var t;return Object(i.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(i.f)(Object(i.f)([],Object(i.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(i.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,i=void 0===n?{}:n,r=this.normalizeInstanceIdentifier(void 0===e?"[DEFAULT]":e);if(this.isInitialized(r))throw Error(this.name+"("+r+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:r,options:i})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,i=t.options,r=void 0===i?{}:i,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:r}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"33Cz":function(t,e,n){t.exports=n.p+"result-fsec-es5.e0ba8993e896ffe3b1b1.worker.js"},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r.pending=!1,r}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3NgB":function(t,e,n){t.exports=n.p+"combine-fsec-es5.49b027fdcaf09c3c06d5.worker.js"},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"3WO2":function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return l});var i=n("fXoL"),r=n("4KcU"),o=n("924u"),a=n("ZW/g"),s=n("sPaR"),c=n("/+4+"),l=function(){var e=function(){function e(n,i,r,o,a){_classCallCheck(this,e),this.fsec=n,this.pickfsec=i,this.member=r,this.notice=o,this.helper=a,this.clear(),this.isChange=!0,this.worker=new Worker(t,{name:"combine-fsec",type:void 0})}return _createClass(e,[{key:"clear",value:function(){this.fsecCombine={}}},{key:"getCombineFsecColumns",value:function(t,e){var n=new Array;t in this.fsecCombine&&(n=this.fsecCombine[t]);var i={};e in n&&(i=n[e]);for(var r=new Array,o=null,a={},s=0,c=Object.keys(i);s<c.length;s++){var l=i[c[s]],u={m:o===l.m?"":l.m,n:"n"in l?l.n:"",l:l.l.toFixed(3),fx:l.fx.toFixed(2),fy:l.fy.toFixed(2),fz:l.fz.toFixed(2),mx:l.mx.toFixed(2),my:l.my.toFixed(2),mz:l.mz.toFixed(2),case:l.case};a.n===u.n&&a.fx===u.fx&&a.fy===u.fy&&a.fz===u.fz&&a.mx===u.mx&&a.my===u.my&&a.mz===u.mz||(r.push(u),o=l.m,Object.assign(a,u))}return r}},{key:"setFsecCombineJson",value:function(t,e,n){for(var i=this,r={},o=this.notice.getNoticePointsJson(),a=this.member.getMemberJson(0),s=Object.keys(a),c=function(){var t=u[l],e=i.member.getMemberLength(t),n=o.find(function(e){return e.m===t}),a=new Array;if(a.push(0),void 0!==n){var s,c=_createForOfIteratorHelper(n.Points);try{for(c.s();!(s=c.n()).done;){var h=s.value;a.push(h)}}catch(d){c.e(d)}finally{c.f()}}a.push(e),r[t]=a},l=0,u=s;l<u.length;l++)c();var h={defList:t,combList:e,fsec:this.fsec.fsec,noticePoints:r},d=performance.now();"undefined"!=typeof Worker&&(this.worker.onmessage=function(t){var e=t.data;i.fsecCombine=e.fsecCombine,i.isChange=!1,console.log("\u65ad\u9762fsec \u306e \u7d44\u307f\u5408\u308f\u305b Combine \u96c6\u8a08\u304c\u7d42\u308f\u308a\u307e\u3057\u305f",performance.now()-d),i.pickfsec.setFsecPickupJson(n,i.fsecCombine)},this.worker.postMessage(h))}},{key:"getFsecJson",value:function(){return this.fsecCombine}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(r.a),i.Yb(o.a),i.Yb(a.a),i.Yb(s.a),i.Yb(c.a))},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}).call(this,n("3NgB"))},"4KcU":function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return a});var i=n("fXoL"),r=n("ZW/g"),o=n("/+4+"),a=function(){var e=function(){function e(n,i){_classCallCheck(this,e),this.member=n,this.helper=i,this.clear(),this.worker=new Worker(t,{name:"result-fsec",type:void 0})}return _createClass(e,[{key:"clear",value:function(){this.fsec={}}},{key:"getFsecColumns",value:function(t){var e=t.toString();return e in this.fsecColumns?this.fsecColumns[e]:new Array}},{key:"getFsecJson",value:function(){return this.fsec}},{key:"setFsecJson",value:function(t){for(var e=this,n=0,i=Object.keys(t);n<i.length;n++){var r=i[n],o=new Array,a=t[r];if("object"==typeof a&&"fsec"in a){for(var s=a.fsec,c=0,l="",u=0,h=Object.keys(s);u<h.length;u++){var d=h[u],p=0;l=d.replace("member","");for(var f=s[d],g={},m=this.member.getMember(l),v=m.ni,b="",_=1,y=Object.keys(f).length;_<=y;){var C="P"+_.toString();if(!(C in f))break;var x=f[C],w=this.helper.toNumber(x.fxi),M=this.helper.toNumber(x.fyi),O=this.helper.toNumber(x.fzi),P=this.helper.toNumber(x.mxi),k=this.helper.toNumber(x.myi),A=this.helper.toNumber(x.mzi);c++,(g={m:l,n:v,l:p,fx:w=null==w?0:Math.round(100*w)/100,fy:M=null==M?0:Math.round(100*M)/100,fz:O=null==O?0:Math.round(100*O)/100,mx:P=null==P?0:Math.round(100*P)/100,my:k=null==k?0:Math.round(100*k)/100,mz:A=null==A?0:Math.round(100*A)/100}).row=c,o.push(g),l="",v="",_===y&&(b=m.nj);var T=this.helper.toNumber(x.L),S=this.helper.toNumber(x.fxj),E=this.helper.toNumber(x.fyj),I=this.helper.toNumber(x.fzj),R=this.helper.toNumber(x.mxj),D=this.helper.toNumber(x.myj),N=this.helper.toNumber(x.mzj);c++,(g={m:"",n:b,l:p+=Math.round(1e3*T)/1e3,fx:S=null==S?0:Math.round(100*S)/100,fy:E=null==E?0:Math.round(100*E)/100,fz:I=null==I?0:Math.round(100*I)/100,mx:R=null==R?0:Math.round(100*R)/100,my:D=null==D?0:Math.round(100*D)/100,mz:N=null==N?0:Math.round(100*N)/100}).row=c,o.push(g),_++}}this.fsec[r.replace("Case","")]=o}}var L={fsec:this.fsec},z=performance.now();"undefined"!=typeof Worker?(this.worker.onmessage=function(t){var n=t.data;e.fsecColumns=n.response,null!==n.error?console.log("\u65ad\u9762\u529b\u306ehtml\u304c\u7d42\u308f\u308a\u307e\u3057\u305f",performance.now()-z):console.log("\u65ad\u9762\u529b\u306ehtml\u306e\u751f\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f",n.error)},this.worker.postMessage(L)):console.log("\u65ad\u9762\u529b\u306ehtml\u306e\u751f\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(r.a),i.Yb(o.a))},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}).call(this,n("33Cz"))},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("lJxs"),r=n("Cfvw"),o=n("zx2A");function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(o){return o.pipe(a(function(n,o){return Object(r.a)(t(n,o)).pipe(Object(i.a)(function(t,i){return e(n,t,o,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new s(t,n))})}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}]),t}(),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(r=e.call(this,t)).project=i,r.concurrent=o,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new o.a(this),n=this.destination;n.add(e);var i=Object(o.c)(t,e);i!==e&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.b)},"6Uf2":function(t,e,n){"use strict";(function(t){var e,i=n("zIRd"),r=n("mrSG"),o=n("qOnz"),a=n("q/0M"),s=n("/6Yf"),c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.J)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.D)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),l=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),u=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(n){}return new l},h=u("localStorage"),d=u("sessionStorage"),p=new a.b("@firebase/database"),f=(e=1,function(){return e++}),g=function(t){var e=Object(o.I)(t),n=new o.d;n.update(e);var i=n.digest();return o.h.encodeByteArray(i)},m=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i="",r=0;r<e.length;r++){var a=e[r];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?i+=t.apply(null,a):i+="object"==typeof a?Object(o.J)(a):a,i+=" "}return i},v=null,b=!0,_=function(t,e){Object(o.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(p.logLevel=a.a.VERBOSE,v=p.log.bind(p),e&&d.set("logging_enabled",!0)):"function"==typeof t?v=t:(v=null,d.remove("logging_enabled"))},y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===v&&!0===d.get("logging_enabled")&&_(!0)),v){var n=m.apply(null,t);v(n)}},C=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];y.apply(void 0,Object(r.f)([t],Object(r.e)(e)))}},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,Object(r.f)([],Object(r.e)(t)));p.error(n)},w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,Object(r.f)([],Object(r.e)(t)));throw p.error(n),new Error(n)},M=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+m.apply(void 0,Object(r.f)([],Object(r.e)(t)));p.warn(n)},O=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},P="[MIN_NAME]",k="[MAX_NAME]",A=function(t,e){if(t===e)return 0;if(t===P||e===k)return-1;if(e===P||t===k)return 1;var n=L(t),i=L(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},T=function(t,e){return t===e?0:t<e?-1:1},S=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.J)(e))},E=function t(e){if("object"!=typeof e||null===e)return Object(o.J)(e);var n=[];for(var i in e)n.push(i);n.sort();for(var r="{",a=0;a<n.length;a++)0!==a&&(r+=","),r+=Object(o.J)(n[a]),r+=":",r+=t(e[n[a]]);return r+"}"},I=function(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function R(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var D=function(t){var e,n,i,r,a;Object(o.f)(!O(t),"Invalid JSON number"),0===t?(n=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(i%2?1:0),i=Math.floor(i/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var c=s.join(""),l="";for(a=0;a<64;a+=8){var u=parseInt(c.substr(a,8),2).toString(16);1===u.length&&(u="0"+u),l+=u}return l.toLowerCase()},N=new RegExp("^-?(0*)\\d{1,10}$"),L=function(t){if(N.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},z=function(t){try{t()}catch(e){setTimeout(function(){throw M("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},j=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},F=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function q(){return new F("")}function B(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function U(t){return t.pieces_.length-t.pieceNum_}function H(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new F(t.pieces_,e)}function V(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function W(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function G(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function Q(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new F(e,0)}function Y(t,e){for(var n=[],i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof F)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new F(n,0)}function K(t){return t.pieceNum_>=t.pieces_.length}function X(t,e){var n=B(t),i=B(e);if(null===n)return e;if(n===i)return X(H(t),H(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function $(t,e){for(var n=G(t,0),i=G(e,0),r=0;r<n.length&&r<i.length;r++){var o=A(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1}function J(t,e){if(U(t)!==U(e))return!1;for(var n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Z(t,e){var n=t.pieceNum_,i=e.pieceNum_;if(U(t)>U(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}var tt=function(t,e){this.errorPrefix_=e,this.parts_=G(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.H)(this.parts_[n]);et(this)};function et(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+nt(t))}function nt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var it=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rt=function(){function t(t,e,n,i,r,o,a){void 0===r&&(r=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function ot(t,e,n){var i;if(Object(o.f)("string"==typeof e,"typeof type must == string"),Object(o.f)("object"==typeof n,"typeof params must == object"),"websocket"===e)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var r=[];return R(n,function(t,e){r.push(t+"="+e)}),i+r.join("&")}var at,st,ct,lt,ut,ht,dt,pt=function(t,e){var n=ft(t),i=n.namespace;return"firebase.com"===n.domain&&w(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||w("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&M("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new rt(n.host,n.secure,i,e,"ws"===n.scheme||"wss"===n.scheme,"",i!==n.subdomain),path:new F(n.pathString)}},ft=function(t){var e="",n="",i="",o="",a="",s=!0,c="https",l=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(c=t.substring(0,u-1),t=t.substring(u+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(o=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}e+="/"+r}return e}(t.substring(h,d)));var p=function(t){var e,n,i={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(r.g)(t.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var c=s.split("=");2===c.length?i[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):M("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}(t.substring(Math.min(t.length,d)));(u=e.indexOf(":"))>=0?(s="https"===c||"wss"===c,l=parseInt(e.substring(u+1),10)):u=e.length;var f=e.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var g=e.indexOf(".");i=e.substring(0,g).toLowerCase(),n=e.substring(g+1),a=i}"ns"in p&&(a=p.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:s,scheme:c,pathString:o,namespace:a}},gt=/[\[\].#$\/\u0000-\u001F\u007F]/,mt=/[\[\].#$\u0000-\u001F\u007F]/,vt=function(t){return"string"==typeof t&&0!==t.length&&!gt.test(t)},bt=function(t){return"string"==typeof t&&0!==t.length&&!mt.test(t)},_t=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!O(t)||t&&"object"==typeof t&&Object(o.k)(t,".sv")},yt=function(t,e,n,i,r){r&&void 0===n||Ct(Object(o.o)(t,e,r),n,i)},Ct=function t(e,n,i){var r=i instanceof F?new tt(i,e):i;if(void 0===n)throw new Error(e+"contains undefined "+nt(r));if("function"==typeof n)throw new Error(e+"contains a function "+nt(r)+" with contents = "+n.toString());if(O(n))throw new Error(e+"contains "+n.toString()+" "+nt(r));if("string"==typeof n&&n.length>10485760/3&&Object(o.H)(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+nt(r)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(R(n,function(n,i){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!vt(n)))throw new Error(e+" contains an invalid key ("+n+") "+nt(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var c,l;l=n,(c=r).parts_.length>0&&(c.byteLength_+=1),c.parts_.push(l),c.byteLength_+=Object(o.H)(l),et(c),t(e,i,r),function(t){var e=t.parts_.pop();t.byteLength_-=Object(o.H)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),a&&s)throw new Error(e+' contains ".value" child '+nt(r)+" in addition to actual children.")}},xt=function(t,e,n,i,r){if(!r||void 0!==n){var a=Object(o.o)(t,e,r);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];R(n,function(t,e){var n=new F(t);if(Ct(a,e,Y(i,n)),".priority"===V(n)&&!_t(e))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)}),function(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=G(i=e[n]),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!vt(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort($);var a=null;for(n=0;n<e.length;n++){if(i=e[n],null!==a&&Z(a,i))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,s)}},wt=function(t,e,n,i){if(!i||void 0!==n){if(O(n))throw new Error(Object(o.o)(t,e,i)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!_t(n))throw new Error(Object(o.o)(t,e,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Mt=function(t,e,n,i){if(!i||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.o)(t,e,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ot=function(t,e,n,i){if(!(i&&void 0===n||vt(n)))throw new Error(Object(o.o)(t,e,i)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Pt=function(t,e,n,i){if(!(i&&void 0===n||bt(n)))throw new Error(Object(o.o)(t,e,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},kt=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Pt(t,e,n,i)},At=function(t,e){if(".info"===B(e))throw new Error(t+" failed = Can't modify data under /.info/")},Tt=function(t,e,n){var i=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!vt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),bt(t)}(i))throw new Error(Object(o.o)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},St=function(t,e,n,i){if((!i||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.o)(t,e,i)+"must be a boolean.")},Et=function(t){return"number"==typeof t?"number:"+D(t):"string:"+t},It=function(t){if(t.isLeafNode()){var e=t.val();Object(o.f)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.k)(e,".sv"),"Priority must be a string or number.")}else Object(o.f)(t===at||t.isEmpty(),"priority of unexpected type.");Object(o.f)(t===at||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Rt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.f)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),It(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return st},set:function(t){st=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return K(e)?this:".priority"===B(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var i=B(e);return null===i?n:n.isEmpty()&&".priority"!==i?this:(Object(o.f)(".priority"!==i||1===U(e),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(H(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Et(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?D(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(i);return Object(o.f)(r>=0,"Unknown leaf type: "+n),Object(o.f)(a>=0,"Unknown leaf type: "+i),r===a?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-r},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Dt=function(){function t(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Nt=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:zt.EMPTY_NODE,this.right=null!=o?o:zt.EMPTY_NODE}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return zt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return zt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Lt=function(){function t(){}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Nt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),zt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Nt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,i=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Dt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Dt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Lt,t}(),jt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Ft=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new jt(P,t),i=new jt(P,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return jt.MIN},t}(),qt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?A(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return jt.MIN},e.prototype.maxPost=function(){return new jt(k,new Rt("[PRIORITY-POST]",lt))},e.prototype.makePost=function(t,e){var n=ct(t);return new jt(e,new Rt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Ft)),Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return ut},set:function(t){ut=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return A(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return jt.MIN},e.prototype.maxPost=function(){return new jt(k,ut)},e.prototype.makePost=function(t,e){return Object(o.f)("string"==typeof t,"KeyIndex indexValue must always be a string."),new jt(t,ut)},e.prototype.toString=function(){return".key"},e}(Ft),Ut=new Bt,Ht=Math.log(2),Vt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Ht,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Wt=function(t,e,n,i){t.sort(e);var r=function e(i,r){var o,a,s=r-i;if(0===s)return null;if(1===s)return o=t[i],a=n?n(o):o,new Nt(a,o.node,Nt.BLACK,null,null);var c=parseInt(s/2,10)+i,l=e(i,c),u=e(c+1,r);return o=t[c],a=n?n(o):o,new Nt(a,o.node,Nt.BLACK,l,u)},o=function(e){for(var i=null,o=null,a=t.length,s=function(e,i){var o=a-e,s=a;a-=e;var l=r(o+1,s),u=t[o],h=n?n(u):u;c(new Nt(h,u.node,i,null,l))},c=function(t){i?(i.left=t,i=t):(o=t,i=t)},l=0;l<e.count;++l){var u=e.nextBitIsOne(),h=Math.pow(2,e.count-(l+1));u?s(h,Nt.BLACK):(s(h,Nt.BLACK),s(h,Nt.RED))}return o}(new Vt(t.length));return new zt(i||e,o)},Gt={},Qt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.f)(Gt&&qt,"ChildrenNode.ts has not been loaded"),ht=ht||new t({".priority":Gt},{".priority":qt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.G)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof zt?e:null},t.prototype.hasIndex=function(t){return Object(o.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.f)(e!==Ut,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i,a=[],s=!1,c=n.getIterator(jt.Wrap),l=c.getNext();l;)s=s||e.isDefinedOn(l.node),a.push(l),l=c.getNext();i=s?Wt(a,e.getCompare()):Gt;var u=e.toString(),h=Object(r.a)({},this.indexSet_);h[u]=e;var d=Object(r.a)({},this.indexes_);return d[u]=i,new t(d,h)},t.prototype.addToIndexes=function(e,n){var i=this;return new t(Object(o.E)(this.indexes_,function(t,r){var a=Object(o.G)(i.indexSet_,r);if(Object(o.f)(a,"Missing index implementation for "+r),t===Gt){if(a.isDefinedOn(e.node)){for(var s=[],c=n.getIterator(jt.Wrap),l=c.getNext();l;)l.name!==e.name&&s.push(l),l=c.getNext();return s.push(e),Wt(s,a.getCompare())}return Gt}var u=n.get(e.name),h=t;return u&&(h=h.remove(new jt(e.name,u))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.E)(this.indexes_,function(t){if(t===Gt)return t;var i=n.get(e.name);return i?t.remove(new jt(e.name,i)):t}),this.indexSet_)},t}();function Yt(t,e){return A(t.name,e.name)}function Kt(t,e){return A(t,e)}var Xt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&It(this.priorityNode_),this.children_.isEmpty()&&Object(o.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return dt||(dt=new t(new zt(Kt),null,Qt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||dt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?dt:e},t.prototype.getChild=function(t){var e=B(t);return null===e?this:this.getImmediateChild(e).getChild(H(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i=new jt(e,n),r=void 0,a=void 0;n.isEmpty()?(r=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));var s=r.isEmpty()?dt:this.priorityNode_;return new t(r,s,a)},t.prototype.updateChild=function(t,e){var n=B(t);if(null===n)return e;Object(o.f)(".priority"!==B(t)||1===U(t),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(H(t),e);return this.updateImmediateChild(n,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},i=0,r=0,o=!0;if(this.forEachChild(qt,function(a,s){n[a]=s.val(e),i++,o&&t.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):o=!1}),!e&&o&&r<2*i){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Et(this.getPriority().val())+":"),this.forEachChild(qt,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new jt(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new jt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new jt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var i=this.children_.getIteratorFrom(t.name,jt.Wrap),r=i.peek();null!=r&&e.compare(r,t)<0;)i.getNext(),r=i.peek();return i},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var i=this.children_.getReverseIteratorFrom(t.name,jt.Wrap),r=i.peek();null!=r&&e.compare(r,t)>0;)i.getNext(),r=i.peek();return i},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===$t?-1:0},t.prototype.withIndex=function(e){if(e===Ut||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ut||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(qt),i=e.getIterator(qt),r=n.getNext(),o=i.getNext();r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ut?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),$t=new(function(t){function e(){return t.call(this,new zt(Kt),Xt.EMPTY_NODE,Qt.Default)||this}return Object(r.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Xt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Xt));function Jt(t,e){if(void 0===e&&(e=null),null===t)return Xt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.f)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Rt(t,Jt(e));if(t instanceof Array){var n=Xt.EMPTY_NODE;return R(t,function(e,i){if(Object(o.k)(t,e)&&"."!==e.substring(0,1)){var r=Jt(i);!r.isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r))}}),n.updatePriority(Jt(e))}var i=[],r=!1;if(R(t,function(t,e){if("."!==t.substring(0,1)){var n=Jt(e);n.isEmpty()||(r=r||!n.getPriority().isEmpty(),i.push(new jt(t,n)))}}),0===i.length)return Xt.EMPTY_NODE;var a=Wt(i,Yt,function(t){return t.name},Kt);if(r){var s=Wt(i,qt.getCompare());return new Xt(a,Jt(e),new Qt({".priority":s},{".priority":qt}))}return new Xt(a,Jt(e),Qt.Default)}Object.defineProperties(jt,{MIN:{value:new jt(P,Xt.EMPTY_NODE)},MAX:{value:new jt(k,$t)}}),Bt.__EMPTY_NODE=Xt.EMPTY_NODE,Rt.__childrenNodeConstructor=Xt,at=$t,lt=$t,ct=Jt;var Zt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function te(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var ee,ne=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Zt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(K(this.path)){if(null!=this.affectedTree.value)return Object(o.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new F(e));return new t(q(),n,this.revert)}return Object(o.f)(B(this.path)===e,"operationForChild called for unrelated child."),new t(H(this.path),this.affectedTree,this.revert)},t}(),ie=function(){function t(t,e){void 0===e&&(ee||(ee=new zt(T)),e=ee),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return R(e,function(t,e){n=n.set(new F(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:q(),value:this.value};if(K(t))return null;var n=B(t),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(H(t),e);return null!=r?{path:Y(new F(n),r.path),value:r.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(K(e))return this;var n=B(e),i=this.children.get(n);return null!==i?i.subtree(H(e)):new t(null)},t.prototype.set=function(e,n){if(K(e))return new t(n,this.children);var i=B(e),r=(this.children.get(i)||new t(null)).set(H(e),n),o=this.children.insert(i,r);return new t(this.value,o)},t.prototype.remove=function(e){if(K(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=B(e),i=this.children.get(n);if(i){var r=i.remove(H(e)),o=void 0;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(K(t))return this.value;var e=B(t),n=this.children.get(e);return n?n.get(H(t)):null},t.prototype.setTree=function(e,n){if(K(e))return n;var i,r=B(e),o=(this.children.get(r)||new t(null)).setTree(H(e),n);return i=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,i)},t.prototype.fold=function(t){return this.fold_(q(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(i,r){n[i]=r.fold_(Y(t,i),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,q(),e)},t.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(K(t))return null;var r=B(t),o=this.children.get(r);return o?o.findOnPath_(H(t),Y(e,r),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,q(),e)},t.prototype.foreachOnPath_=function(e,n,i){if(K(e))return this;this.value&&i(n,this.value);var r=B(e),o=this.children.get(r);return o?o.foreachOnPath_(H(e),Y(n,r),i):new t(null)},t.prototype.foreach=function(t){this.foreach_(q(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,i){i.foreach_(Y(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),re=function(){function t(t,e){this.source=t,this.path=e,this.type=Zt.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return K(this.path)?new t(this.source,q()):new t(this.source,H(this.path))},t}(),oe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Zt.OVERWRITE}return t.prototype.operationForChild=function(e){return K(this.path)?new t(this.source,q(),this.snap.getImmediateChild(e)):new t(this.source,H(this.path),this.snap)},t}(),ae=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Zt.MERGE}return t.prototype.operationForChild=function(e){if(K(this.path)){var n=this.children.subtree(new F(e));return n.isEmpty()?null:n.value?new oe(this.source,q(),n.value):new t(this.source,q(),n)}return Object(o.f)(B(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,H(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),se=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(K(t))return this.isFullyInitialized()&&!this.filtered_;var e=B(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}();function ce(t,e){return{eventCache:t,serverCache:e}}function le(t,e,n,i){return ce(new se(e,n,i),t.serverCache)}function ue(t,e,n,i){return ce(t.eventCache,new se(e,n,i))}function he(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function de(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}function pe(t){return{type:"value",snapshotNode:t}}function fe(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ge(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function me(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var ve=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,r,a){Object(o.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(i).equals(n.getChild(i))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(ge(e,s)):Object(o.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(fe(e,n)):a.trackChildChange(me(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(qt,function(t,i){e.hasChild(t)||n.trackChildChange(ge(t,i))}),e.isLeafNode()||e.forEachChild(qt,function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(me(e,i,r))}else n.trackChildChange(fe(e,i))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Xt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),be=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.f)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(o.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var i=this.changeMap.get(n);if(i){var r=i.type;if("child_added"===e&&"child_removed"===r)this.changeMap.set(n,me(n,t.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===r)this.changeMap.set(n,ge(n,i.oldSnap));else if("child_changed"===e&&"child_added"===r)this.changeMap.set(n,fe(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==r)throw Object(o.g)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,me(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),_e=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new ie(null))},t}();function ye(t,e,n){if(K(e))return new _e(new ie(n));var i=t.writeTree_.findRootMostValueAndPath(e);if(null!=i){var r=i.path,o=i.value,a=X(r,e);return o=o.updateChild(a,n),new _e(t.writeTree_.set(r,o))}var s=new ie(n),c=t.writeTree_.setTree(e,s);return new _e(c)}function Ce(t,e,n){var i=t;return R(n,function(t,n){i=ye(i,Y(e,t),n)}),i}function xe(t,e){if(K(e))return _e.empty();var n=t.writeTree_.setTree(e,new ie(null));return new _e(n)}function we(t,e){return null!=Me(t,e)}function Me(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(X(n.path,e)):null}function Oe(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(qt,function(t,n){e.push(new jt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new jt(t,n.value))}),e}function Pe(t,e){if(K(e))return t;var n=Me(t,e);return new _e(null!=n?new ie(n):t.writeTree_.subtree(e))}function ke(t){return t.writeTree_.isEmpty()}function Ae(t,e){return Te(q(),t.writeTree_,e)}function Te(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var i=null;return e.children.inorderTraversal(function(e,r){".priority"===e?(Object(o.f)(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=Te(Y(t,e),r,n)}),n.getChild(t).isEmpty()||null===i||(n=n.updateChild(Y(t,".priority"),i)),n}function Se(t,e){return Be(e,t)}function Ee(t,e){if(t.snap)return Z(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Z(Y(t.path,n),e))return!0;return!1}function Ie(t){return t.visible}function Re(t,e,n){for(var i=_e.empty(),r=0;r<t.length;++r){var a=t[r];if(e(a)){var s=a.path,c=void 0;if(a.snap)Z(n,s)?i=ye(i,c=X(n,s),a.snap):Z(s,n)&&(c=X(s,n),i=ye(i,q(),a.snap.getChild(c)));else{if(!a.children)throw Object(o.g)("WriteRecord should have .snap or .children");if(Z(n,s))i=Ce(i,c=X(n,s),a.children);else if(Z(s,n))if(K(c=X(s,n)))i=Ce(i,q(),a.children);else{var l=Object(o.G)(a.children,B(c));if(l){var u=l.getChild(H(c));i=ye(i,q(),u)}}}}}return i}function De(t,e,n,i,r){if(i||r){var o=Pe(t.visibleWrites,e);return!r&&ke(o)?n:r||null!=n||we(o,q())?Ae(Re(t.allWrites,function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(Z(t.path,e)||Z(e,t.path))},e),n||Xt.EMPTY_NODE):null}var a=Me(t.visibleWrites,e);if(null!=a)return a;var s=Pe(t.visibleWrites,e);return ke(s)?n:null!=n||we(s,q())?Ae(s,n||Xt.EMPTY_NODE):null}function Ne(t,e,n,i){return De(t.writeTree,t.treePath,e,n,i)}function Le(t,e){return function(t,e,n){var i=Xt.EMPTY_NODE,r=Me(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(qt,function(t,e){i=i.updateImmediateChild(t,e)}),i;if(n){var o=Pe(t.visibleWrites,e);return n.forEachChild(qt,function(t,e){var n=Ae(Pe(o,new F(t)),e);i=i.updateImmediateChild(t,n)}),Oe(o).forEach(function(t){i=i.updateImmediateChild(t.name,t.node)}),i}return Oe(Pe(t.visibleWrites,e)).forEach(function(t){i=i.updateImmediateChild(t.name,t.node)}),i}(t.writeTree,t.treePath,e)}function ze(t,e,n,i){return function(t,e,n,i,r){Object(o.f)(i||r,"Either existingEventSnap or existingServerSnap must exist");var a=Y(e,n);if(we(t.visibleWrites,a))return null;var s=Pe(t.visibleWrites,a);return ke(s)?r.getChild(n):Ae(s,r.getChild(n))}(t.writeTree,t.treePath,e,n,i)}function je(t,e){return function(t,e){return Me(t.visibleWrites,e)}(t.writeTree,Y(t.treePath,e))}function Fe(t,e,n){return function(t,e,n,i){var r=Y(e,n),o=Me(t.visibleWrites,r);return null!=o?o:i.isCompleteForChild(n)?Ae(Pe(t.visibleWrites,r),i.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function qe(t,e){return Be(Y(t.treePath,e),t.writeTree)}function Be(t,e){return{treePath:t,writeTree:e}}var Ue=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),He=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new se(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fe(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:de(this.viewCache_),r=function(t,e,n,i,r,o){return function(t,e,n,i,r,o,a){var s,c=Pe(t.visibleWrites,e),l=Me(c,q());if(null!=l)s=l;else{if(null==n)return[];s=Ae(c,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var u=[],h=a.getCompare(),d=o?s.getReverseIteratorFrom(i,a):s.getIteratorFrom(i,a),p=d.getNext();p&&u.length<1;)0!==h(p,i)&&u.push(p),p=d.getNext();return u}(t.writeTree,t.treePath,e,n,0,r,o)}(this.writes_,i,e,0,n,t);return 0===r.length?null:r[0]},t}();function Ve(t,e,n,i,r,a){var s=e.eventCache;if(null!=je(i,n))return e;var c=void 0,l=void 0;if(K(n))if(Object(o.f)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var u=de(e),h=Le(i,u instanceof Xt?u:Xt.EMPTY_NODE);c=t.filter.updateFullNode(e.eventCache.getNode(),h,a)}else{var d=Ne(i,de(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,a)}else{var p=B(n);if(".priority"===p){Object(o.f)(1===U(n),"Can't have a priority with additional path components");var f=s.getNode(),g=ze(i,n,f,l=e.serverCache.getNode());c=null!=g?t.filter.updatePriority(f,g):s.getNode()}else{var m=H(n),v=void 0;if(s.isCompleteForChild(p)){l=e.serverCache.getNode();var b=ze(i,n,s.getNode(),l);v=null!=b?s.getNode().getImmediateChild(p).updateChild(m,b):s.getNode().getImmediateChild(p)}else v=Fe(i,p,e.serverCache);c=null!=v?t.filter.updateChild(s.getNode(),p,v,m,r,a):s.getNode()}}return le(e,c,s.isFullyInitialized()||K(n),t.filter.filtersNodes())}function We(t,e,n,i,r,o,a,s){var c,l=e.serverCache,u=a?t.filter:t.filter.getIndexedFilter();if(K(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),h,null)}else{var d=B(n);if(!l.isCompleteForPath(n)&&U(n)>1)return e;var p=H(n),f=l.getNode().getImmediateChild(d).updateChild(p,i);c=".priority"===d?u.updatePriority(l.getNode(),f):u.updateChild(l.getNode(),d,f,p,Ue,null)}var g=ue(e,c,l.isFullyInitialized()||K(n),u.filtersNodes());return Ve(t,g,n,r,new He(r,g,o),s)}function Ge(t,e,n,i,r,o,a){var s,c,l=e.eventCache,u=new He(r,e,o);if(K(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,a),s=le(e,c,!0,t.filter.filtersNodes());else{var h=B(n);if(".priority"===h)c=t.filter.updatePriority(e.eventCache.getNode(),i),s=le(e,c,l.isFullyInitialized(),l.isFiltered());else{var d=H(n),p=l.getNode().getImmediateChild(h),f=void 0;if(K(d))f=i;else{var g=u.getCompleteChild(h);f=null!=g?".priority"===V(d)&&g.getChild(Q(d)).isEmpty()?g:g.updateChild(d,i):Xt.EMPTY_NODE}s=p.equals(f)?e:le(e,t.filter.updateChild(l.getNode(),h,f,d,u,a),l.isFullyInitialized(),t.filter.filtersNodes())}}return s}function Qe(t,e){return t.eventCache.isCompleteForChild(e)}function Ye(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function Ke(t,e,n,i,r,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c,l=e;c=K(n)?i:new ie(null).setTree(n,i);var u=e.serverCache.getNode();return c.children.inorderTraversal(function(n,i){if(u.hasChild(n)){var c=Ye(0,e.serverCache.getNode().getImmediateChild(n),i);l=We(t,l,new F(n),c,r,o,a,s)}}),c.children.inorderTraversal(function(n,i){var c=!e.serverCache.isCompleteForChild(n)&&void 0===i.value;if(!u.hasChild(n)&&!c){var h=Ye(0,e.serverCache.getNode().getImmediateChild(n),i);l=We(t,l,new F(n),h,r,o,a,s)}}),l}var Xe=function(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()};function $e(t,e,n,i,r,a){var s=i.filter(function(t){return t.type===n});s.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(o.g)("Should only compare child_ events.");var i=new jt(e.childName,e.snapshotNode),r=new jt(n.childName,n.snapshotNode);return t.index_.compare(i,r)}(t,e,n)}),s.forEach(function(n){var i=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,a);r.forEach(function(r){r.respondsTo(n.type)&&e.push(r.createEvent(i,t.query_))})})}var Je,Ze,tn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",en=(Je=0,Ze=[],function(t){var e,n=t===Je;Je=t;var i=new Array(8);for(e=7;e>=0;e--)i[e]=tn.charAt(t%64),t=Math.floor(t/64);Object(o.f)(0===t,"Cannot push at time == 0");var r=i.join("");if(n){for(e=11;e>=0&&63===Ze[e];e--)Ze[e]=0;Ze[e]++}else for(e=0;e<12;e++)Ze[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)r+=tn.charAt(Ze[e]);return Object(o.f)(20===r.length,"nextPushId: Length should be 20."),r}),nn=function(t){if("2147483647"===t)return"-";var e=L(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),i=0;i<n.length;i++)n[i]=t.charAt(i);if(n.length<786)return n.push("-"),n.join("");for(var r=n.length-1;r>=0&&"z"===n[r];)r--;if(-1===r)return k;var o=tn.charAt(tn.indexOf(n[r])+1);return n[r]=o,n.slice(0,r+1).join("")},rn=function(t){if("-2147483648"===t)return P;var e=L(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),i=0;i<n.length;i++)n[i]=t.charAt(i);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=tn.charAt(tn.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))},on=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?A(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return jt.MIN},e.prototype.maxPost=function(){return jt.MAX},e.prototype.makePost=function(t,e){var n=Jt(t);return new jt(e,n)},e.prototype.toString=function(){return".value"},e}(Ft)),an=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.f)(!K(e)&&".priority"!==B(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(r.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?A(t.name,e.name):r},e.prototype.makePost=function(t,e){var n=Jt(t),i=Xt.EMPTY_NODE.updateChild(this.indexPath_,n);return new jt(e,i)},e.prototype.maxPost=function(){var t=Xt.EMPTY_NODE.updateChild(this.indexPath_,$t);return new jt(k,t)},e.prototype.toString=function(){return G(this.indexPath_,0).join("/")},e}(Ft),sn=function(){function t(e){this.indexedFilter_=new ve(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,i,r,o){return this.matches(new jt(e,n))||(n=Xt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Xt.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(Xt.EMPTY_NODE);var r=this;return e.forEachChild(qt,function(t,e){r.matches(new jt(t,e))||(i=i.updateImmediateChild(t,Xt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),cn=function(){function t(t){this.rangedFilter_=new sn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,i,r,o){return this.rangedFilter_.matches(new jt(e,n))||(n=Xt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,o):this.fullLimitUpdateChild_(t,e,n,r,o)},t.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=Xt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=Xt.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;r.hasNext()&&o<this.limit_;){var a=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(a.name,a.node),o++}}else{i=(i=e.withIndex(this.index_)).updatePriority(Xt.EMPTY_NODE);var s=void 0,c=void 0,l=void 0;if(r=void 0,this.reverse_){r=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var u=this.index_.getCompare();l=function(t,e){return u(e,t)}}else r=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;r.hasNext();)a=r.getNext(),!h&&l(s,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,c)<=0?o++:i=i.updateImmediateChild(a.name,Xt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,i,r){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var c=t;Object(o.f)(c.numChildren()===this.limit_,"");var l=new jt(e,n),u=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),p=i.getChildAfterChild(this.index_,u,this.reverse_);null!=p&&(p.name===e||c.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:a(p,l);if(h&&!n.isEmpty()&&f>=0)return null!=r&&r.trackChildChange(me(e,n,d)),c.updateImmediateChild(e,n);null!=r&&r.trackChildChange(ge(e,d));var g=c.updateImmediateChild(e,Xt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=r&&r.trackChildChange(fe(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}return n.isEmpty()?t:h&&a(u,l)>=0?(null!=r&&(r.trackChildChange(ge(u.name,u.node)),r.trackChildChange(fe(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(u.name,Xt.EMPTY_NODE)):t},t}(),ln=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:P},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:k},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===qt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function un(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function hn(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function dn(t,e,n){var i=t.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=n?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function pn(t,e,n){var i;return t.index_===Ut?("string"==typeof e&&(e=nn(e)),i=dn(t,e,n)):i=dn(t,e,null==n?k:nn(n)),i.startAfterSet_=!0,i}function fn(t,e,n){var i=t.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==n?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function gn(t,e,n){var i;return t.index_===Ut?("string"==typeof e&&(e=rn(e)),i=fn(t,e,n)):i=fn(t,e,null==n?P:rn(n)),i.endBeforeSet_=!0,i}function mn(t,e){var n=t.copy();return n.index_=e,n}function vn(t){var e,n={};return t.isDefault()||(t.index_===qt?e="$priority":t.index_===on?e="$value":t.index_===Ut?e="$key":(Object(o.f)(t.index_ instanceof an,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(o.J)(e),t.startSet_&&(n.startAt=Object(o.J)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(o.J)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(o.J)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(o.J)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}var bn,_n=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,i=this.query_.getQueryParams(),r=new ve(i.getIndex()),o=(n=i).loadsAllData()?new ve(n.getIndex()):n.hasLimit()?new cn(n):new sn(n);this.processor_=function(t){return{filter:t}}(o);var a=e.serverCache,s=e.eventCache,c=r.updateFullNode(Xt.EMPTY_NODE,a.getNode(),null),l=o.updateFullNode(Xt.EMPTY_NODE,s.getNode(),null),u=new se(c,a.isFullyInitialized(),r.filtersNodes()),h=new se(l,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=ce(h,u),this.eventGenerator_=new Xe(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function yn(t,e){var n=de(t.viewCache_);return n&&(t.query.getQueryParams().loadsAllData()||!K(e)&&!n.getImmediateChild(B(e)).isEmpty())?n.getChild(e):null}function Cn(t){return 0===t.eventRegistrations_.length}function xn(t,e,n){var i=[];if(n){Object(o.f)(null==e,"A cancel should cancel all event registrations.");var r=t.query.path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,r);e&&i.push(e)})}if(e){for(var a=[],s=0;s<t.eventRegistrations_.length;++s){var c=t.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(s+1));break}}else a.push(c)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return i}function wn(t,e,n,i){e.type===Zt.MERGE&&null!==e.source.queryId&&(Object(o.f)(de(t.viewCache_),"We should always have a full cache before handling merges"),Object(o.f)(he(t.viewCache_),"Missing event cache, even though we have a server cache"));var r,a,s=t.viewCache_,c=function(t,e,n,i,r){var a,s,c=new be;if(n.type===Zt.OVERWRITE){var l=n;l.source.fromUser?a=Ge(t,e,l.path,l.snap,i,r,c):(Object(o.f)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.serverCache.isFiltered()&&!K(l.path),a=We(t,e,l.path,l.snap,i,r,s,c))}else if(n.type===Zt.MERGE){var u=n;u.source.fromUser?a=function(t,e,n,i,r,o,a){var s=e;return i.foreach(function(i,c){var l=Y(n,i);Qe(e,B(l))&&(s=Ge(t,s,l,c,r,o,a))}),i.foreach(function(i,c){var l=Y(n,i);Qe(e,B(l))||(s=Ge(t,s,l,c,r,o,a))}),s}(t,e,u.path,u.children,i,r,c):(Object(o.f)(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.serverCache.isFiltered(),a=Ke(t,e,u.path,u.children,i,r,s,c))}else if(n.type===Zt.ACK_USER_WRITE){var h=n;a=h.revert?function(t,e,n,i,r,a){var s;if(null!=je(i,n))return e;var c=new He(i,e,r),l=e.eventCache.getNode(),u=void 0;if(K(n)||".priority"===B(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=Ne(i,de(e));else{var d=e.serverCache.getNode();Object(o.f)(d instanceof Xt,"serverChildren would be complete if leaf node"),h=Le(i,d)}u=t.filter.updateFullNode(l,h=h,a)}else{var p=B(n),f=Fe(i,p,e.serverCache);null==f&&e.serverCache.isCompleteForChild(p)&&(f=l.getImmediateChild(p)),(u=null!=f?t.filter.updateChild(l,p,f,H(n),c,a):e.eventCache.getNode().hasChild(p)?t.filter.updateChild(l,p,Xt.EMPTY_NODE,H(n),c,a):l).isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Ne(i,de(e))).isLeafNode()&&(u=t.filter.updateFullNode(u,s,a))}return s=e.serverCache.isFullyInitialized()||null!=je(i,q()),le(e,u,s,t.filter.filtersNodes())}(t,e,h.path,i,r,c):function(t,e,n,i,r,o,a){if(null!=je(r,n))return e;var s=e.serverCache.isFiltered(),c=e.serverCache;if(null!=i.value){if(K(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return We(t,e,n,c.getNode().getChild(n),r,o,s,a);if(K(n)){var l=new ie(null);return c.getNode().forEachChild(Ut,function(t,e){l=l.set(new F(t),e)}),Ke(t,e,n,l,r,o,s,a)}return e}var u=new ie(null);return i.foreach(function(t,e){var i=Y(n,t);c.isCompleteForPath(i)&&(u=u.set(t,c.getNode().getChild(i)))}),Ke(t,e,n,u,r,o,s,a)}(t,e,h.path,h.affectedTree,i,r,c)}else{if(n.type!==Zt.LISTEN_COMPLETE)throw Object(o.g)("Unknown operation type: "+n.type);a=function(t,e,n,i,r){var o=e.serverCache;return Ve(t,ue(e,o.getNode(),o.isFullyInitialized()||K(n),o.isFiltered()),n,i,Ue,r)}(t,e,n.path,i,c)}var d=c.getChanges();return function(t,e,n){var i=e.eventCache;if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=he(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(pe(he(e)))}}(e,a,d),{viewCache:a,changes:d}}(t.processor_,s,e,n,i);return r=t.processor_,a=c.viewCache,Object(o.f)(a.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),Object(o.f)(a.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed"),Object(o.f)(c.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,Mn(t,c.changes,c.viewCache.eventCache.getNode(),null)}function Mn(t,e,n,i){return function(t,e,n,i){var r=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),$e(t,r,"child_removed",e,i,n),$e(t,r,"child_added",e,i,n),$e(t,r,"child_moved",o,i,n),$e(t,r,"child_changed",e,i,n),$e(t,r,"value",e,i,n),r}(t.eventGenerator_,e,n,i?[i]:t.eventRegistrations_)}var On=function(){this.views=new Map};function Pn(t,e,n,i){var a,s,c=e.source.queryId;if(null!==c){var l=t.views.get(c);return Object(o.f)(null!=l,"SyncTree gave us an op for an invalid query."),wn(l,e,n,i)}var u=[];try{for(var h=Object(r.g)(t.views.values()),d=h.next();!d.done;d=h.next())u=u.concat(wn(l=d.value,e,n,i))}catch(p){a={error:p}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}return u}function kn(t,e,n,i,r){var o=e.queryIdentifier(),a=t.views.get(o);if(!a){var s=Ne(n,r?i:null),c=!1;s?c=!0:i instanceof Xt?(s=Le(n,i),c=!1):(s=Xt.EMPTY_NODE,c=!1);var l=ce(new se(s,c,!1),new se(i,r,!1));return new _n(e,l)}return a}function An(t){var e,n,i=[];try{for(var o=Object(r.g)(t.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;s.query.getQueryParams().loadsAllData()||i.push(s)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function Tn(t,e){var n,i,o=null;try{for(var a=Object(r.g)(t.views.values()),s=a.next();!s.done;s=a.next())o=o||yn(s.value,e)}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}function Sn(t,e){if(e.getQueryParams().loadsAllData())return Rn(t);var n=e.queryIdentifier();return t.views.get(n)}function En(t,e){return null!=Sn(t,e)}function In(t){return null!=Rn(t)}function Rn(t){var e,n;try{for(var i=Object(r.g)(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.query.getQueryParams().loadsAllData())return a}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null}var Dn=1,Nn=function(t){this.listenProvider_=t,this.syncPointTree_=new ie(null),this.pendingWriteTree_={visibleWrites:_e.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Ln(t,e,n,i,r){return function(t,e,n,i,r){Object(o.f)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=ye(t.visibleWrites,e,n)),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i,r),r?Un(t,new oe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function zn(t,e,n){void 0===n&&(n=!1);var i=function(t,e){for(var n=0;n<t.allWrites.length;n++){var i=t.allWrites[n];if(i.writeId===e)return i}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});Object(o.f)(n>=0,"removeWrite called with nonexistent writeId.");var i=t.allWrites[n];t.allWrites.splice(n,1);for(var r=i.visible,a=!1,s=t.allWrites.length-1;r&&s>=0;){var c=t.allWrites[s];c.visible&&(s>=n&&Ee(c,i.path)?r=!1:Z(i.path,c.path)&&(a=!0)),s--}return!!r&&(a?(function(t){t.visibleWrites=Re(t.allWrites,Ie,q()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=xe(t.visibleWrites,i.path):R(i.children,function(e){t.visibleWrites=xe(t.visibleWrites,Y(i.path,e))}),!0))}(t.pendingWriteTree_,e)){var r=new ie(null);return null!=i.snap?r=r.set(q(),!0):R(i.children,function(t){r=r.set(new F(t),!0)}),Un(t,new ne(i.path,r,n))}return[]}function jn(t,e,n){return Un(t,new oe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Fn(t,e,n,i){var a=e.path,s=t.syncPointTree_.get(a),c=[];if(s&&("default"===e.queryIdentifier()||En(s,e))){var l=function(t,e,n,i){var a,s,c=e.queryIdentifier(),l=[],u=[],h=In(t);if("default"===c)try{for(var d=Object(r.g)(t.views.entries()),p=d.next();!p.done;p=d.next()){var f,g=Object(r.e)(p.value,2),m=g[0];u=u.concat(xn(f=g[1],n,i)),Cn(f)&&(t.views.delete(m),f.query.getQueryParams().loadsAllData()||l.push(f.query))}}catch(v){a={error:v}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}else(f=t.views.get(c))&&(u=u.concat(xn(f,n,i)),Cn(f)&&(t.views.delete(c),f.query.getQueryParams().loadsAllData()||l.push(f.query)));return h&&!In(t)&&l.push(new(Object(o.f)(bn,"Reference.ts has not been loaded"),bn)(e.repo,e.path)),{removed:l,events:u}}(s,e,n,i);0===s.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(a));var u=l.removed;c=l.events;var h=-1!==u.findIndex(function(t){return t.getQueryParams().loadsAllData()}),d=t.syncPointTree_.findOnPath(a,function(t,e){return In(e)});if(h&&!d){var p=t.syncPointTree_.subtree(a);if(!p.isEmpty())for(var f=function(t){return t.fold(function(t,e,n){if(e&&In(e))return[Rn(e)];var i=[];return e&&(i=An(e)),R(n,function(t,e){i=i.concat(e)}),i})}(p),g=0;g<f.length;++g){var m=f[g],v=m.query,b=Wn(t,m);t.listenProvider_.startListening($n(v),Gn(t,v),b.hashFn,b.onComplete)}}!d&&u.length>0&&!i&&(h?t.listenProvider_.stopListening($n(e),null):u.forEach(function(e){var n=t.queryToTagMap.get(Qn(e));t.listenProvider_.stopListening($n(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var i=e[n];if(!i.getQueryParams().loadsAllData()){var r=Qn(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}(t,u)}return c}function qn(t,e,n){var i=e.path,r=null,a=!1;t.syncPointTree_.foreachOnPath(i,function(t,e){var n=X(t,i);r=r||Tn(e,n),a=a||In(e)});var s,c=t.syncPointTree_.get(i);c?(a=a||In(c),r=r||Tn(c,q())):(c=new On,t.syncPointTree_=t.syncPointTree_.set(i,c)),null!=r?s=!0:(s=!1,r=Xt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild(function(t,e){var n=Tn(e,q());n&&(r=r.updateImmediateChild(t,n))}));var l=En(c,e);if(!l&&!e.getQueryParams().loadsAllData()){var u=Qn(e);Object(o.f)(!t.queryToTagMap.has(u),"View does not exist, but we have a tag");var h=Dn++;t.queryToTagMap.set(u,h),t.tagToQueryMap.set(h,u)}var d=function(t,e,n,i,r,o){var a=kn(t,e,i,r,o);return t.views.has(e.queryIdentifier())||t.views.set(e.queryIdentifier(),a),function(t,e){t.eventRegistrations_.push(e)}(a,n),function(t,e){var n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(qt,function(t,e){i.push(fe(t,e))}),n.isFullyInitialized()&&i.push(pe(n.getNode())),Mn(t,i,n.getNode(),e)}(a,n)}(c,e,n,Se(t.pendingWriteTree_,i),r,s);if(!l&&!a){var p=Sn(c,e);d=d.concat(function(t,e,n){var i=e.path,r=Gn(t,e),a=Wn(t,n),s=t.listenProvider_.startListening($n(e),r,a.hashFn,a.onComplete),c=t.syncPointTree_.subtree(i);if(r)Object(o.f)(!In(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(t,e,n){if(!K(t)&&e&&In(e))return[Rn(e).query];var i=[];return e&&(i=i.concat(An(e).map(function(t){return t.query}))),R(n,function(t,e){i=i.concat(e)}),i}),u=0;u<l.length;++u){var h=l[u];t.listenProvider_.stopListening($n(h),Gn(t,h))}return s}(t,e,p))}return d}function Bn(t,e,n){var i=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,function(t,n){var i=Tn(n,X(t,e));if(i)return i});return De(i,e,r,n,!0)}function Un(t,e){return Hn(e,t.syncPointTree_,null,Se(t.pendingWriteTree_,q()))}function Hn(t,e,n,i){if(K(t.path))return Vn(t,e,n,i);var r=e.get(q());null==n&&null!=r&&(n=Tn(r,q()));var o=[],a=B(t.path),s=t.operationForChild(a),c=e.children.get(a);if(c&&s){var l=n?n.getImmediateChild(a):null,u=qe(i,a);o=o.concat(Hn(s,c,l,u))}return r&&(o=o.concat(Pn(r,t,i,n))),o}function Vn(t,e,n,i){var r=e.get(q());null==n&&null!=r&&(n=Tn(r,q()));var o=[];return e.children.inorderTraversal(function(e,r){var a=n?n.getImmediateChild(e):null,s=qe(i,e),c=t.operationForChild(e);c&&(o=o.concat(Vn(c,r,a,s)))}),r&&(o=o.concat(Pn(r,t,i,n))),o}function Wn(t,e){var n=e.query,i=Gn(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||Xt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return i?function(t,e,n){var i=Yn(t,n);if(i){var r=Kn(i),o=r.path,a=r.queryId,s=X(o,e);return Xn(t,o,new re(te(a),s))}return[]}(t,n.path,i):function(t,e){return Un(t,new re({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n.path);var r=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var i=new Error(t+" at "+e.path.toString()+": "+n);return i.code=t.toUpperCase(),i}(e,n);return Fn(t,n,null,r)}}}function Gn(t,e){var n=Qn(e);return t.queryToTagMap.get(n)}function Qn(t){return t.path.toString()+"$"+t.queryIdentifier()}function Yn(t,e){return t.tagToQueryMap.get(e)}function Kn(t){var e=t.indexOf("$");return Object(o.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new F(t.substr(0,e))}}function Xn(t,e,n){var i=t.syncPointTree_.get(e);return Object(o.f)(i,"Missing sync point for query tag that we're tracking"),Pn(i,n,Se(t.pendingWriteTree_,e),null)}function $n(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t}var Jn=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Zn=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=Y(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Bn(this.syncTree_,this.path_)},t}(),ti=function(t,e,n){return t&&"object"==typeof t?(Object(o.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ei(t[".sv"],e,n):"object"==typeof t[".sv"]?ni(t[".sv"],e):void Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ei=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.f)(!1,"Unexpected server value: "+t)}},ni=function(t,e,n){t.hasOwnProperty("increment")||Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var i=t.increment;"number"!=typeof i&&Object(o.f)(!1,"Unexpected increment value: "+i);var r=e.node();if(Object(o.f)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;var a=r.getValue();return"number"!=typeof a?i:a+i},ii=function(t,e,n,i){return oi(e,new Zn(n,t),i)},ri=function(t,e,n){return oi(t,new Jn(e),n)};function oi(t,e,n){var i,r=t.getPriority().val(),o=ti(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=ti(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new Rt(s,Jt(o)):t}var c=t;return i=c,o!==c.getPriority().val()&&(i=i.updatePriority(new Rt(o))),c.forEachChild(qt,function(t,r){var o=oi(r,e.getImmediateChild(t),n);o!==r&&(i=i.updateImmediateChild(t,o))}),i}function ai(){return{value:null,children:new Map}}function si(t,e,n){if(K(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var i=B(e);t.children.has(i)||t.children.set(i,ai()),si(t.children.get(i),e=H(e),n)}}function ci(t,e){if(K(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(qt,function(e,n){si(t,new F(e),n)}),ci(t,e)}if(t.children.size>0){var i=B(e);return e=H(e),t.children.has(i)&&ci(t.children.get(i),e)&&t.children.delete(i),0===t.children.size}return!0}function li(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,i){li(i,new F(e.toString()+"/"+t),n)})}var ui=function(){function t(){this.rootNode_=Xt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),hi=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.m)(this.counters_)},t}(),di={},pi={};function fi(t){var e=t.toString();return di[e]||(di[e]=new hi),di[e]}var gi=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(r.a)({},t);return this.last_&&R(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),mi=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new gi(t);var n=1e4+2e4*Math.random();j(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;R(e,function(e,r){r>0&&Object(o.k)(t.statsToReport_,e)&&(n[e]=r,i=!0)}),i&&this.server_.reportStats(n),j(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),vi=function(){this.eventLists_=[],this.recursionDepth_=0};function bi(t,e){for(var n=null,i=0;i<e.length;i++){var r=e[i],o=r.getPath();null===n||J(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function _i(t,e,n){bi(t,n),Ci(t,function(t){return J(t,e)})}function yi(t,e,n){bi(t,n),Ci(t,function(t){return Z(t,e)||Z(e,t)})}function Ci(t,e){t.recursionDepth_++;for(var n=!0,i=0;i<t.eventLists_.length;i++){var r=t.eventLists_[i];r&&(e(r.path)?(xi(t.eventLists_[i]),t.eventLists_[i]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function xi(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var i=n.getEventRunner();v&&y("event: "+n.toString()),z(i)}}}var wi=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=Object(r.f)([],Object(r.e)(this.listeners_[t])),o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},t.prototype.validateEventType_=function(t){Object(o.f)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),Mi=function(t){function e(){var e,n,i=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==i.visible_&&(i.visible_=t,i.trigger("visible",t))},!1),i}return Object(r.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(wi),Oi=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.x)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(r.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(wi),Pi=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&z(function(){n.onMessage_(t[e])})},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},t}(),ki=function(){function t(t,e,n,i,r){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=i,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(t),this.stats_=fi(e),this.urlFn=function(t){return ot(e,"long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Pi(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(o.z)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new Ai(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Object(r.e)(t,5),o=i[0],a=i[1],s=i[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===o)n.id=a,n.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Object(r.e)(t,2),o=i[0],a=i[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,a)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&it.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.z)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.i)(e),i=I(n,1840),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.z)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.J)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ai=function(){function t(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.z)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=f(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(c){y("frame writing exception"),c.stack&&y(c.stack),y(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||y("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var i=function(){n.outstandingRequests.delete(e),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,function(){clearTimeout(r),i()})},t.prototype.addTag=function(t,e){var n=this;Object(o.z)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){y("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}},Math.floor(1))},t}(),Ti="";function Si(t){Ti=t}var Ei=null;"undefined"!=typeof MozWebSocket?Ei=MozWebSocket:"undefined"!=typeof WebSocket&&(Ei=WebSocket);var Ii=function(){function t(e,n,i,r,o){this.connId=e,this.applicationId=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=fi(n),this.connURL=t.connectionURL_(n,r,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var i={v:"5"};return!Object(o.z)()&&"undefined"!=typeof location&&location.hostname&&it.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),ot(t,"websocket",i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.z)()){var i={headers:{"User-Agent":"Firebase/5/"+Ti+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},r=process.env,a=0===this.connURL.indexOf("wss://")?r.HTTPS_PROXY||r.https_proxy:r.HTTP_PROXY||r.http_proxy;a&&(i.proxy={origin:a}),this.mySock=new Ei(this.connURL,[],i)}else this.mySock=new Ei(this.connURL,[],i={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(c){this.log_("Error instantiating WebSocket.");var s=c.message||c.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ei&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.D)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.f)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=I(e,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ri=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[ki,Ii]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,i,o=Ii&&Ii.isAvailable(),a=o&&!Ii.previouslyFailed();if(e.webSocketOnly&&(o||M("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Ii];else{var s=this.transports_=[];try{for(var c=Object(r.g)(t.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var u=l.value;u&&u.isAvailable()&&s.push(u)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Di=function(){function t(t,e,n,i,r,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=i,this.onReady_=r,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new Ri(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,i)},Math.floor(0));var r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=j(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=S("t",t),n=S("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=S("t",t),n=S("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=S("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?x("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):x("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&M("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),j(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):j(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Ni=function(){function t(){}return t.prototype.put=function(t,e,n,i){},t.prototype.merge=function(t,e,n,i){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Li=function(t){function e(n,i,r,a,s,c,l){var u=t.call(this)||this;if(u.repoInfo_=n,u.applicationId_=i,u.onDataUpdate_=r,u.onConnectStatus_=a,u.onServerInfoUpdate_=s,u.authTokenProvider_=c,u.authOverride_=l,u.id=e.nextPersistentConnectionId_++,u.log_=C("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingGets_=[],u.outstandingPutCount_=0,u.outstandingGetCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=1e3,u.maxReconnectDelay_=3e5,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,l&&!Object(o.z)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),Mi.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&Oi.getInstance().on("online",u.onOnline_,u),u}return Object(r.c)(e,t),e.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_(Object(o.J)(r)),Object(o.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},e.prototype.get=function(t){var e=this,n=new o.a,i={p:t.path.toString(),q:t.queryObject()},r={action:"g",request:i,onComplete:function(t){var r=t.d;"ok"===t.s?(e.onDataUpdate_(i.p,r,!1,null),n.resolve(r)):n.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[a];void 0!==t&&r===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,i){var r=t.queryIdentifier(),a=t.path.toString();this.log_("Listen called for "+a+" "+r),this.listens.has(a)||this.listens.set(a,new Map),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.f)(!this.listens.get(a).has(r),"listen() called twice for same path/queryId.");var s={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(a).set(r,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(i){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})},e.prototype.sendListen_=function(t){var n=this,i=t.query,r=i.path.toString(),o=i.queryIdentifier();this.log_("Listen on "+r+" for "+o);var a={p:r};t.tag&&(a.q=i.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,c=a.s;e.warnOnListenWarnings_(s,i),(n.listens.get(r)&&n.listens.get(r).get(o))===t&&(n.log_("listen response",a),"ok"!==c&&n.removeListen_(r,o),t.onComplete&&t.onComplete(c,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.k)(t,"w")){var n=Object(o.G)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',r=e.path.toString();M("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.q)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.C)(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,function(n){var i=n.s,r=n.d||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),i=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+i),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},e.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},e.prototype.putInternal=function(t,e,n,i,r){var o={p:e,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i.s,i.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.J)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):x("Unrecognized action received from server: "+Object(o.J)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,s=this,c=this.lastSessionId,l=!1,u=null,h=function(){u?u.close():(l=!0,r())};this.realtime_={close:h,sendRequest:function(t){Object(o.f)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(d).then(function(t){l?y("getToken() completed but was canceled"):(y("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,u=new Di(a,s.repoInfo_,s.applicationId_,n,i,r,function(t){M(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},c))}).then(null,function(e){s.log_("Failed to get token: "+e),l||(t.repoInfo_.nodeAdmin&&M(e),h())})}},e.prototype.interrupt=function(t){y("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){y("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.u)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return E(t)}).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,i=new F(t).toString();if(this.listens.has(i)){var r=this.listens.get(i);n=r.get(e),r.delete(e),0===r.size&&this.listens.delete(i)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){y("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,i;this.tryAuth();try{for(var o=Object(r.g)(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var c=(n=void 0,Object(r.g)(s.values())),l=c.next();!l.done;l=c.next())this.sendListen_(l.value)}catch(d){n={error:d}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var u=0;u<this.outstandingPuts_.length;u++)this.outstandingPuts_[u]&&this.sendPut_(u);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.z)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Ti.replace(/\./g,"-")]=1,Object(o.x)()?t["framework.cordova"]=1:Object(o.A)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Oi.getInstance().currentlyOnline();return Object(o.u)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Ni),zi=function(t){function e(e,n,i){var r=t.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=n,r.authTokenProvider_=i,r.log_=C("p:rest:"),r.listens_={},r}return Object(r.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.f)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,i,r){var a=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var c=e.getListenId_(t,i),l={};this.listens_[c]=l;var u=vn(t.getQueryParams());this.restRequest_(s+".json",u,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,i),Object(o.G)(a.listens_,c)===l&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var i=e.getListenId_(t,n);delete this.listens_[i]},e.prototype.get=function(t){var e=this,n=vn(t.getQueryParams()),i=t.path.toString(),r=new o.a;return this.restRequest_(i+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(i,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var i=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(r){var a=r&&r.accessToken;a&&(e.auth=a);var s=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+Object(o.F)(e);i.log_("Sending REST request for "+s);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){i.log_("REST Response for "+s+" received. status:",c.status,"response:",c.responseText);var t=null;if(c.status>=200&&c.status<300){try{t=Object(o.D)(c.responseText)}catch(e){M("Failed to parse JSON response for "+s+": "+c.responseText)}n(null,t)}else 401!==c.status&&404!==c.status&&M("Got unsuccessful REST response for "+s+" Status: "+c.status),n(c.status);n=null}},c.open("GET",s,!0),c.send()})},e}(Ni),ji=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(o.K)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(o.K)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(o.K)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(o.K)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(o.K)("DataSnapshot.child",0,1,arguments.length),e=String(e),Pt("DataSnapshot.child",1,e,!1);var n=new F(e),i=this.ref_.child(n);return new t(this.node_.getChild(n),i,qt)},t.prototype.hasChild=function(t){Object(o.K)("DataSnapshot.hasChild",1,1,arguments.length),Pt("DataSnapshot.hasChild",1,t,!1);var e=new F(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(o.K)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(o.K)("DataSnapshot.forEach",1,1,arguments.length),Object(o.L)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var i=this.node_;return!!i.forEachChild(this.index_,function(i,r){return e(new t(r,n.ref_.child(i),qt))})},t.prototype.hasChildren=function(){return Object(o.K)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.K)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(o.K)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Fi=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function qi(t,e){for(var n=e instanceof F?e:new F(e),i=t,r=B(n);null!==r;){var a=Object(o.G)(i.node.children,r)||{children:{},childCount:0};i=new Fi(r,i,a),r=B(n=H(n))}return i}function Bi(t){return t.node.value}function Ui(t,e){t.node.value=e,Qi(t)}function Hi(t){return t.node.childCount>0}function Vi(t,e){R(t.node.children,function(n,i){e(new Fi(n,t,i))})}function Wi(t,e,n,i){n&&!i&&e(t),Vi(t,function(t){Wi(t,e,!0,i)}),n&&i&&e(t)}function Gi(t){return new F(null===t.parent?t.name:Gi(t.parent)+"/"+t.name)}function Qi(t){null!==t.parent&&function(t,e,n){var i=function(t){return void 0===Bi(t)&&!Hi(t)}(n),r=Object(o.k)(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Qi(t)):i||r||(t.node.children[e]=n.node,t.node.childCount++,Qi(t))}(t.parent,t.name,t)}var Yi=function(){function t(t,e,n,i){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vi,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ai(),this.transactionQueueTree_=new Fi,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Ki(t){var e=t.infoData_.getNode(new F(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Xi(t){return(e=(e={timestamp:Ki(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function $i(t,e,n,i,r){t.dataUpdateCount++;var a=new F(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(r)if(i){var c=Object(o.E)(n,function(t){return Jt(t)});s=function(t,e,n,i){var r=Yn(t,i);if(r){var o=Kn(r),a=o.path,s=o.queryId,c=X(a,e),l=ie.fromObject(n);return Xn(t,a,new ae(te(s),c,l))}return[]}(t.serverSyncTree_,a,c,r)}else{var l=Jt(n);s=function(t,e,n,i){var r=Yn(t,i);if(null!=r){var o=Kn(r),a=o.path,s=o.queryId,c=X(a,e);return Xn(t,a,new oe(te(s),c,n))}return[]}(t.serverSyncTree_,a,l,r)}else if(i){var u=Object(o.E)(n,function(t){return Jt(t)});s=function(t,e,n){var i=ie.fromObject(n);return Un(t,new ae({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,a,u)}else{var h=Jt(n);s=jn(t.serverSyncTree_,a,h)}var d=a;s.length>0&&(d=vr(t,a)),yi(t.eventQueue_,d,s)}function Ji(t,e){Zi(t,"connected",e),!1===e&&function(t){hr(t,"onDisconnectEvents");var e=Xi(t),n=ai();li(t.onDisconnect_,q(),function(i,r){var o=ii(i,r,t.serverSyncTree_,e);si(n,i,o)});var i=[];li(n,q(),function(e,n){i=i.concat(jn(t.serverSyncTree_,e,n));var r=xr(t,e);vr(t,r)}),t.onDisconnect_=ai(),yi(t.eventQueue_,q(),i)}(t)}function Zi(t,e,n){var i=new F("/.info/"+e),r=Jt(n);t.infoData_.updateSnapshot(i,r);var o=jn(t.infoSyncTree_,i,r);yi(t.eventQueue_,i,o)}function tr(t){return t.nextWriteId_++}function er(t,e,n,i,r){hr(t,"set",{path:e.toString(),value:n,priority:i});var o=Xi(t),a=Jt(n,i),s=Bn(t.serverSyncTree_,e),c=ri(a,s,o),l=tr(t),u=Ln(t.serverSyncTree_,e,c,l,!0);bi(t.eventQueue_,u),t.server_.put(e.toString(),a.val(!0),function(n,i){var o="ok"===n;o||M("set at "+e+" failed: "+n);var a=zn(t.serverSyncTree_,l,!o);yi(t.eventQueue_,e,a),dr(0,r,n,i)});var h=xr(t,e);vr(t,h),yi(t.eventQueue_,h,[])}function nr(t,e,n,i){hr(t,"update",{path:e.toString(),value:n});var r=!0,a=Xi(t),s={};if(R(n,function(n,i){r=!1,s[n]=ii(Y(e,n),Jt(i),t.serverSyncTree_,a)}),r)y("update() called with empty data.  Don't do anything."),dr(0,i,"ok",void 0);else{var c=tr(t),l=function(t,e,n,i){!function(t,e,n,i){Object(o.f)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Ce(t.visibleWrites,e,n),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i);var r=ie.fromObject(n);return Un(t,new ae({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,e,s,c);bi(t.eventQueue_,l),t.server_.merge(e.toString(),n,function(n,r){var o="ok"===n;o||M("update at "+e+" failed: "+n);var a=zn(t.serverSyncTree_,c,!o),s=a.length>0?vr(t,e):e;yi(t.eventQueue_,s,a),dr(0,i,n,r)}),R(n,function(n){var i=xr(t,Y(e,n));vr(t,i)}),yi(t.eventQueue_,e,[])}}function ir(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(i,r){"ok"===i&&ci(t.onDisconnect_,e),dr(0,n,i,r)})}function rr(t,e,n,i){var r=Jt(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),function(n,o){"ok"===n&&si(t.onDisconnect_,e,r),dr(0,i,n,o)})}function or(t,e,n,i,r){var o=Jt(n,i);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,i){"ok"===n&&si(t.onDisconnect_,e,o),dr(0,r,n,i)})}function ar(t,e,n,i){if(Object(o.u)(n))return y("onDisconnect().update() called with empty data.  Don't do anything."),void dr(0,i,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(r,o){"ok"===r&&R(n,function(n,i){var r=Jt(i);si(t.onDisconnect_,Y(e,n),r)}),dr(0,i,r,o)})}function sr(t,e,n){var i;i=".info"===B(e.path)?qn(t.infoSyncTree_,e,n):qn(t.serverSyncTree_,e,n),_i(t.eventQueue_,e.path,i)}function cr(t,e,n){var i;i=".info"===B(e.path)?Fn(t.infoSyncTree_,e,n):Fn(t.serverSyncTree_,e,n),_i(t.eventQueue_,e.path,i)}function lr(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}function ur(t){t.persistentConnection_&&t.persistentConnection_.resume("repo_interrupt")}function hr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i="";t.persistentConnection_&&(i=t.persistentConnection_.id+":"),y.apply(void 0,Object(r.f)([i],Object(r.e)(e)))}function dr(t,e,n,i){e&&z(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),r=t;i&&(r+=": "+i);var o=new Error(r);o.code=t,e(o)}})}function pr(t){return t.__database||(t.__database=new Fr(t))}function fr(t,e,n,i,r){hr(t,"transaction on "+e);var a=function(){},s=new Rr(t,e);s.on("value",a);var c={path:e,update:n,onComplete:i,status:null,order:f(),applyLocally:r,retryCount:0,unwatcher:function(){s.off("value",a)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=gr(t,e,void 0);c.currentInputSnapshot=l;var u=c.update(l.val());if(void 0===u){if(c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete){var h=new ji(c.currentInputSnapshot,new Rr(t,c.path),qt);c.onComplete(null,!1,h)}}else{Ct("transaction failed: Data returned ",u,c.path),c.status=0;var d=qi(t.transactionQueueTree_,e),p=Bi(d)||[];p.push(c),Ui(d,p);var g=void 0;"object"==typeof u&&null!==u&&Object(o.k)(u,".priority")?(g=Object(o.G)(u,".priority"),Object(o.f)(_t(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(Bn(t.serverSyncTree_,e)||Xt.EMPTY_NODE).getPriority().val();var m=Xi(t),v=Jt(u,g),b=ri(v,l,m);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=b,c.currentWriteId=tr(t);var _=Ln(t.serverSyncTree_,e,b,c.currentWriteId,c.applyLocally);yi(t.eventQueue_,e,_),mr(t,t.transactionQueueTree_)}}function gr(t,e,n){return Bn(t.serverSyncTree_,e,n)||Xt.EMPTY_NODE}function mr(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||Cr(t,e),Bi(e)){var n=_r(t,e);Object(o.f)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var i=n.map(function(t){return t.currentWriteId}),r=gr(t,e,i),a=r,s=r.hash(),c=0;c<n.length;c++){var l=n[c];Object(o.f)(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var u=X(e,l.path);a=a.updateChild(u,l.currentOutputSnapshotRaw)}var h=a.val(!0),d=e;t.server_.put(d.toString(),h,function(i){hr(t,"transaction put response",{path:d.toString(),status:i});var r=[];if("ok"===i){for(var o=[],a=0;a<n.length;a++){if(n[a].status=2,r=r.concat(zn(t.serverSyncTree_,n[a].currentWriteId)),n[a].onComplete){var s=n[a].currentOutputSnapshotResolved,c=new Rr(t,n[a].path),l=new ji(s,c,qt);o.push(n[a].onComplete.bind(null,null,!0,l))}n[a].unwatcher()}for(Cr(t,qi(t.transactionQueueTree_,e)),mr(t,t.transactionQueueTree_),yi(t.eventQueue_,e,r),a=0;a<o.length;a++)z(o[a])}else{if("datastale"===i)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(M("transaction at "+d.toString()+" failed: "+i),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=i;vr(t,e)}},s)}(t,Gi(e),n)}else Hi(e)&&Vi(e,function(e){mr(t,e)})}function vr(t,e){var n=br(t,e),i=Gi(n);return function(t,e,n){if(0!==e.length){for(var i=[],r=[],a=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),s=0;s<e.length;s++){var c=e[s],l=X(n,c.path),u=!1,h=void 0;if(Object(o.f)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,h=c.abortReason,r=r.concat(zn(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)u=!0,h="maxretry",r=r.concat(zn(t.serverSyncTree_,c.currentWriteId,!0));else{var d=gr(t,c.path,a);c.currentInputSnapshot=d;var p=e[s].update(d.val());if(void 0!==p){Ct("transaction failed: Data returned ",p,c.path);var f=Jt(p);"object"==typeof p&&null!=p&&Object(o.k)(p,".priority")||(f=f.updatePriority(d.getPriority()));var g=c.currentWriteId,m=Xi(t),v=ri(f,d,m);c.currentOutputSnapshotRaw=f,c.currentOutputSnapshotResolved=v,c.currentWriteId=tr(t),a.splice(a.indexOf(g),1),r=(r=r.concat(Ln(t.serverSyncTree_,c.path,v,c.currentWriteId,c.applyLocally))).concat(zn(t.serverSyncTree_,g,!0))}else u=!0,h="nodata",r=r.concat(zn(t.serverSyncTree_,c.currentWriteId,!0))}if(yi(t.eventQueue_,n,r),r=[],u&&(e[s].status=2,setTimeout(e[s].unwatcher,Math.floor(0)),e[s].onComplete))if("nodata"===h){var b=new Rr(t,e[s].path),_=new ji(e[s].currentInputSnapshot,b,qt);i.push(e[s].onComplete.bind(null,null,!1,_))}else i.push(e[s].onComplete.bind(null,new Error(h),!1,null))}for(Cr(t,t.transactionQueueTree_),s=0;s<i.length;s++)z(i[s]);mr(t,t.transactionQueueTree_)}}(t,_r(t,n),i),i}function br(t,e){var n,i=t.transactionQueueTree_;for(n=B(e);null!==n&&void 0===Bi(i);)i=qi(i,n),n=B(e=H(e));return i}function _r(t,e){var n=[];return yr(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function yr(t,e,n){var i=Bi(e);if(i)for(var r=0;r<i.length;r++)n.push(i[r]);Vi(e,function(e){yr(t,e,n)})}function Cr(t,e){var n=Bi(e);if(n){for(var i=0,r=0;r<n.length;r++)2!==n[r].status&&(n[i]=n[r],i++);n.length=i,Ui(e,n.length>0?n:void 0)}Vi(e,function(e){Cr(t,e)})}function xr(t,e){var n=Gi(br(t,e)),i=qi(t.transactionQueueTree_,e);return function(t,e,n){for(var i=t.parent;null!==i;){if(e(i))return!0;i=i.parent}}(i,function(e){wr(t,e)}),wr(t,i),Wi(i,function(e){wr(t,e)}),n}function wr(t,e){var n=Bi(e);if(n){for(var i=[],r=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(o.f)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(o.f)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(zn(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?Ui(e,void 0):n.length=a+1,yi(t.eventQueue_,Gi(e),r),s=0;s<i.length;s++)z(i[s])}}var Mr,Or,Pr=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(o.K)("OnDisconnect.cancel",0,1,arguments.length),Object(o.L)("OnDisconnect.cancel",1,t,!0);var e=new o.a;return ir(this.repo_,this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(o.K)("OnDisconnect.remove",0,1,arguments.length),At("OnDisconnect.remove",this.path_),Object(o.L)("OnDisconnect.remove",1,t,!0);var e=new o.a;return rr(this.repo_,this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(o.K)("OnDisconnect.set",1,2,arguments.length),At("OnDisconnect.set",this.path_),yt("OnDisconnect.set",1,t,this.path_,!1),Object(o.L)("OnDisconnect.set",2,e,!0);var n=new o.a;return rr(this.repo_,this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(o.K)("OnDisconnect.setWithPriority",2,3,arguments.length),At("OnDisconnect.setWithPriority",this.path_),yt("OnDisconnect.setWithPriority",1,t,this.path_,!1),wt("OnDisconnect.setWithPriority",2,e,!1),Object(o.L)("OnDisconnect.setWithPriority",3,n,!0);var i=new o.a;return or(this.repo_,this.path_,t,e,i.wrapCallback(n)),i.promise},t.prototype.update=function(t,e){if(Object(o.K)("OnDisconnect.update",1,2,arguments.length),At("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,M("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xt("OnDisconnect.update",1,t,this.path_,!1),Object(o.L)("OnDisconnect.update",2,e,!0);var r=new o.a;return ar(this.repo_,this.path_,t,r.wrapCallback(e)),r.promise},t}(),kr=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.K)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ar=function(){function t(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.J)(this.snapshot.exportVal())},t}(),Tr=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Sr=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Ar("value",this,new ji(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callback_;return function(){i.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Tr(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Er=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.k)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Tr(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.f)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),i=e.getQueryParams().getIndex();return new Ar(t.type,this,new ji(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callbacks_[t.eventType];return function(){i.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var i=Object.keys(e.callbacks_),r=Object.keys(this.callbacks_),o=i.length;if(o===r.length){if(1===o){var a=i[0],s=r[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return r.every(function(t){return e.callbacks_[t]===n.callbacks_[t]})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Ir=function(){function t(t,e,n,i){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.f)(Mr,"Reference.ts has not been loaded"),Mr},set:function(t){Mr=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ut){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==P)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==k)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(t.getIndex()===qt){if(null!=e&&!_t(e)||null!=n&&!_t(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.f)(t.getIndex()instanceof an||t.getIndex()===on,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(o.K)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,i,r){Object(o.K)("Query.on",2,4,arguments.length),Mt("Query.on",1,e,!1),Object(o.L)("Query.on",2,n,!1);var a=t.getCancelAndContextArgs_("Query.on",i,r);if("value"===e)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[e]=n,this.onChildEvent(s,a.cancel,a.context)}return n},t.prototype.onValueEvent=function(t,e,n){var i=new Sr(t,e||null,n||null);sr(this.repo,this,i)},t.prototype.onChildEvent=function(t,e,n){var i=new Er(t,e,n);sr(this.repo,this,i)},t.prototype.off=function(t,e,n){Object(o.K)("Query.off",0,3,arguments.length),Mt("Query.off",1,t,!0),Object(o.L)("Query.off",2,e,!0),Object(o.M)("Query.off",3,n,!0);var i=null,r=null;if("value"===t){var a=e||null;i=new Sr(a,null,n||null)}else t&&(e&&((r={})[t]=e),i=new Er(r,null,n||null));cr(this.repo,this,i)},t.prototype.get=function(){return null!=(n=function(t,e){var n=e.path,i=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var r=X(t,n);i=i||Tn(e,r)});var r=t.syncPointTree_.get(n);r?i=i||Tn(r,q()):(r=new On,t.syncPointTree_=t.syncPointTree_.set(n,r));var o=null!=i,a=o?new se(i,!0,!1):null;return he(kn(r,e,Se(t.pendingWriteTree_,e.path),o?a.getNode():Xt.EMPTY_NODE,o).viewCache_)}((t=this.repo).serverSyncTree_,e=this))?Promise.resolve(new ji(n,e.getRef(),e.getQueryParams().getIndex())):t.server_.get(e).then(function(n){var i=Jt(n),r=jn(t.serverSyncTree_,e.path,i);return _i(t.eventQueue_,e.path,r),Promise.resolve(new ji(i,e.getRef(),e.getQueryParams().getIndex()))},function(n){return hr(t,"get for query "+Object(o.J)(e)+" failed: "+n),Promise.reject(new Error(n))});var t,e,n},t.prototype.once=function(e,n,i,r){var a=this;Object(o.K)("Query.once",1,4,arguments.length),Mt("Query.once",1,e,!1),Object(o.L)("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",i,r),c=!0,l=new o.a;l.promise.catch(function(){});var u=function t(i){c&&(c=!1,a.off(e,t),n&&n.bind(s.context)(i),l.resolve(i))};return this.on(e,u,function(t){a.off(e,u),s.cancel&&s.cancel.bind(s.context)(t),l.reject(t)}),l.promise},t.prototype.limitToFirst=function(e){if(Object(o.K)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,un(this.queryParams_,e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(o.K)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,hn(this.queryParams_,e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(o.K)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Pt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new F(e);if(K(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new an(n),r=mn(this.queryParams_,i);return t.validateQueryEndpoints_(r),new t(this.repo,this.path,r,!0)},t.prototype.orderByKey=function(){Object(o.K)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=mn(this.queryParams_,Ut);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(o.K)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=mn(this.queryParams_,qt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(o.K)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=mn(this.queryParams_,on);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.startAt",0,2,arguments.length),yt("Query.startAt",1,e,this.path,!0),Ot("Query.startAt",2,n,!0);var i=dn(this.queryParams_,e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.startAfter=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.startAfter",0,2,arguments.length),yt("Query.startAfter",1,e,this.path,!1),Ot("Query.startAfter",2,n,!0);var i=pn(this.queryParams_,e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.endAt",0,2,arguments.length),yt("Query.endAt",1,e,this.path,!0),Ot("Query.endAt",2,n,!0);var i=fn(this.queryParams_,e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.endBefore=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.endBefore",0,2,arguments.length),yt("Query.endBefore",1,e,this.path,!1),Ot("Query.endBefore",2,n,!0);var i=gn(this.queryParams_,e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(o.K)("Query.equalTo",1,2,arguments.length),yt("Query.equalTo",1,t,this.path,!1),Ot("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(o.K)("Query.toString",0,0,arguments.length),this.repo.toString()+W(this.path)},t.prototype.toJSON=function(){return Object(o.K)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return function(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==qt&&(e.i=t.index_.toString()),e}(this.queryParams_)},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=E(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(o.K)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var i=this.repo===e.repo,r=J(this.path,e.path),a=this.queryIdentifier()===e.queryIdentifier();return i&&r&&a},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:null,context:null};if(e&&n)i.cancel=e,Object(o.L)(t,3,i.cancel,!0),i.context=n,Object(o.M)(t,4,i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error(Object(o.o)(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Rr=function(t){function e(e,n){if(!(e instanceof Yi))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,new ln,!1)||this}return Object(r.c)(e,t),e.prototype.getKey=function(){return Object(o.K)("Reference.key",0,0,arguments.length),K(this.path)?null:V(this.path)},e.prototype.child=function(t){return Object(o.K)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof F||(null===B(this.path)?kt("Reference.child",1,t,!1):Pt("Reference.child",1,t,!1)),new e(this.repo,Y(this.path,t))},e.prototype.getParent=function(){Object(o.K)("Reference.parent",0,0,arguments.length);var t=Q(this.path);return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(o.K)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return pr(this.repo)},e.prototype.set=function(t,e){Object(o.K)("Reference.set",1,2,arguments.length),At("Reference.set",this.path),yt("Reference.set",1,t,this.path,!1),Object(o.L)("Reference.set",2,e,!0);var n=new o.a;return er(this.repo,this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(o.K)("Reference.update",1,2,arguments.length),At("Reference.update",this.path),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,M("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xt("Reference.update",1,t,this.path,!1),Object(o.L)("Reference.update",2,e,!0);var r=new o.a;return nr(this.repo,this.path,t,r.wrapCallback(e)),r.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(o.K)("Reference.setWithPriority",2,3,arguments.length),At("Reference.setWithPriority",this.path),yt("Reference.setWithPriority",1,t,this.path,!1),wt("Reference.setWithPriority",2,e,!1),Object(o.L)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new o.a;return er(this.repo,this.path,t,e,i.wrapCallback(n)),i.promise},e.prototype.remove=function(t){return Object(o.K)("Reference.remove",0,1,arguments.length),At("Reference.remove",this.path),Object(o.L)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(o.K)("Reference.transaction",1,3,arguments.length),At("Reference.transaction",this.path),Object(o.L)("Reference.transaction",1,t,!1),Object(o.L)("Reference.transaction",2,e,!0),St("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var i=new o.a;"function"==typeof e&&i.promise.catch(function(){});var r=function(t,n,r){t?i.reject(t):i.resolve(new kr(n,r)),"function"==typeof e&&e(t,n,r)};return fr(this.repo,this.path,t,r,n),i.promise},e.prototype.setPriority=function(t,e){Object(o.K)("Reference.setPriority",1,2,arguments.length),At("Reference.setPriority",this.path),wt("Reference.setPriority",1,t,!1),Object(o.L)("Reference.setPriority",2,e,!0);var n=new o.a;return er(this.repo,Y(this.path,".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(o.K)("Reference.push",0,2,arguments.length),At("Reference.push",this.path),yt("Reference.push",1,t,this.path,!0),Object(o.L)("Reference.push",2,e,!0);var n,i=Ki(this.repo),r=en(i),a=this.child(r),s=this.child(r);return n=null!=t?a.set(t,e).then(function(){return s}):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),a},e.prototype.onDisconnect=function(){return At("Reference.onDisconnect",this.path),new Pr(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Ir);Ir.__referenceConstructor=Rr,Or=Rr,Object(o.f)(!bn,"__referenceConstructor has already been defined"),bn=Or;var Dr=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then(function(t){return n.auth_=t})}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(y("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';M(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Nr=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),Lr={},zr=!1;function jr(t,e,n,i){var r=n||t.options.databaseURL;void 0===r&&(t.options.projectId||w("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),y("Using default host for project ",t.options.projectId),r=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=pt(r,i),c=s.repoInfo,l=void 0;"undefined"!=typeof process&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(a=!0,c=(s=pt(r="http://"+l+"?ns="+c.namespace,i)).repoInfo):a=!s.repoInfo.secure;var u=i&&a?new Nr:new Dr(t,e);return Tt("Invalid Firebase Database URL",1,s),K(s.path)||w("Database URL must point to the root of a Firebase Database (not including a child path)."),pr(function(t,e,n){var i=Object(o.G)(Lr,e.name);i||(Lr[e.name]=i={});var r=Object(o.G)(i,t.toURLString());return r&&w("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Yi(t,zr,e,n),i[t.toURLString()]=r,r}(c,t,u))}var Fr=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(r.b)(e,void 0,void 0,function(){return Object(r.d)(this,function(t){var e,n;return this.checkDeleted_("delete"),e=this.repo_,(n=Object(o.G)(Lr,e.app.name))&&Object(o.G)(n,e.key)===e||w("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),lr(e),delete n[e.key],this.repoInternal_=null,this.rootInternal_=null,[2]})})}},t instanceof Yi||w("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(function(t){if(t.stats_=fi(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new zi(t.repoInfo_,function(e,n,i,r){$i(t,e,n,i,r)},t.authTokenProvider_),setTimeout(function(){return Ji(t,!0)},0);else{var e=t.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.J)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Li(t.repoInfo_,t.app.options.appId,function(e,n,i,r){$i(t,e,n,i,r)},function(e){Ji(t,e)},function(e){!function(t,e){R(e,function(e,n){Zi(t,e,n)})}(t,e)},t.authTokenProvider_,e),t.server_=t.persistentConnection_}var n,i;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.statsReporter_=(n=function(){return new mi(t.stats_,t.server_)},i=t.repoInfo_.toString(),pi[i]||(pi[i]=n()),pi[i]),t.infoData_=new ui,t.infoSyncTree_=new Nn({startListening:function(e,n,i,r){var o=[],a=t.infoData_.getNode(e.path);return a.isEmpty()||(o=jn(t.infoSyncTree_,e.path,a),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),Zi(t,"connected",!1),t.serverSyncTree_=new Nn({startListening:function(e,n,i,r){return t.server_.listen(e,i,n,function(n,i){var o=r(n,i);yi(t.eventQueue_,e.path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this.repoInternal_),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Rr(this.repo_,q())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?w("Cannot call useEmulator() after instance has already been initialized."):function(t,e,n){t.repoInfo_=new rt(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new Nr)}(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(o.K)("database.ref",0,1,arguments.length),t instanceof Rr?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(o.K)(e,1,1,arguments.length);var n=pt(t,this.repo_.repoInfo_.nodeAdmin);Tt(e,1,n);var i=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||i.host===this.repo_.repoInfo_.host||w(e+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&w("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(o.K)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),lr(this.repo_)},t.prototype.goOnline=function(){Object(o.K)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),ur(this.repo_)},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),qr=Object.freeze({__proto__:null,forceLongPolling:function(){Ii.forceDisallow(),ki.forceAllow()},forceWebSockets:function(){ki.forceDisallow()},isWebSocketsAvailable:function(){return Ii.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new gi(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var i=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);R(n,function(t,e){for(var n=t,r=t.length;r<i+2;r++)n+=" ";console.log(n+e)})}}(t.repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t.repo,e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t.repo,e)},initStandalone:function(t){var e=t.app,n=t.url,i=t.customAuthImpl,r=t.namespace,o=t.nodeAdmin,a=void 0!==o&&o;Si(t.version);var c=new s.c("auth-internal",new s.b("database-standalone"));return c.setComponent(new s.a("auth-internal",function(){return i},"PRIVATE")),{instance:jr(e,c,n,a),namespace:r}}}),Br=Li;Li.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Li.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Ur=Object.freeze({__proto__:null,DataConnection:Br,RealTimeConnection:Di,hijackHash:function(t){var e=Li.prototype.put;return Li.prototype.put=function(n,i,r,o){void 0!==o&&(o=t()),e.call(this,n,i,r,o)},function(){Li.prototype.put=e}},ConnectionTarget:rt,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){!function(t){zr=t}(t)}}),Hr=Fr.ServerValue;!function(e){Si(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new s.a("database",function(t,e){var n=e.instanceIdentifier;return jr(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),n,void 0)},"PUBLIC").setServiceProps({Reference:Rr,Query:Ir,Database:Fr,DataSnapshot:ji,enableLogging:_,INTERNAL:qr,ServerValue:Hr,TEST_ACCESS:Ur}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.9.6"),Object(o.z)()&&(t.exports=n)}(i.a)}).call(this,n("3UD+")(t))},"6jd5":function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return a});var i=n("fXoL"),r=n("mD1l"),o=n("fF1W"),a=function(){var e=function(){function e(n,i){_classCallCheck(this,e),this.disg=n,this.pickdisg=i,this.clear(),this.isChange=!0,this.worker=new Worker(t,{name:"combine-disg",type:void 0})}return _createClass(e,[{key:"clear",value:function(){this.disgCombine={}}},{key:"getCombineDisgColumns",value:function(t,e){var n=new Array;t in this.disgCombine&&(n=this.disgCombine[t]);var i={};e in n&&(i=n[e]);for(var r=new Array,o=0,a=Object.keys(i);o<a.length;o++){var s=i[a[o]],c={id:s.id,dx:s.dx.toFixed(4),dy:s.dy.toFixed(4),dz:s.dz.toFixed(4),rx:s.rx.toFixed(4),ry:s.ry.toFixed(4),rz:s.rz.toFixed(4),case:s.case};r.push(c)}return r}},{key:"setDisgCombineJson",value:function(t,e,n){var i=this,r={defList:t,combList:e,disg:this.disg.disg},o=performance.now();"undefined"!=typeof Worker&&(this.worker.onmessage=function(t){var e=t.data;i.disgCombine=e.disgCombine,i.isChange=!1,console.log("\u5909\u4f4ddisg \u306e \u7d44\u307f\u5408\u308f\u305b Combine \u96c6\u8a08\u304c\u7d42\u308f\u308a\u307e\u3057\u305f",performance.now()-o),i.pickdisg.setDisgPickupJson(n,i.disgCombine)},this.worker.postMessage(r))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(r.a),i.Yb(o.a))},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}).call(this,n("rldD"))},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return h});var i=1,r=Promise.resolve(),o={};function a(t){return t in o&&(delete o[t],!0)}var s=function(t){var e=i++;return o[e]=!0,r.then(function(){return a(e)&&t()}),e},c=function(t){a(t)},l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=s(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),u=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),h=u},"7jk5":function(t,e,n){var i=n("EVdn");t.exports=i,function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e,n,i=0,r=Array.prototype.slice;t.cleanData=(e=t.cleanData,function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(a){}e(n)}),t.widget=function(e,n,i){var r,o,a,s={},c=e.split(".")[0],l=c+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[c]=t[c]||{},r=t[c][e],o=t[c][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(a=new n).options=t.widget.extend({},a.options),t.each(i,function(e,i){s[e]=t.isFunction(i)?function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}():i}),o.prototype=t.widget.extend(a,{widgetEventPrefix:r&&a.widgetEventPrefix||e},s,{constructor:o,namespace:c,widgetName:e,widgetFullName:l}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,o=r.call(arguments,1),a=0,s=o.length;a<s;a++)for(n in o[a])i=o[a][n],o[a].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,s=r.call(arguments,1),c=this;return a?this.length||"instance"!==o?this.each(function(){var n,r=t.data(this,i);return"instance"===o?(c=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,s))!==r&&void 0!==n?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):c=void 0:(s.length&&(o=t.widget.extend.apply(null,[o].concat(s))),this.each(function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))})),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(r=a[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],i=this;function r(r,o){var a,s;for(s=0;s<r.length;s++)a=i.classesElementLookup[r[s]]||t(),a=t(e.add?t.unique(a.get().concat(e.element.get())):a.not(e.element).get()),i.classesElementLookup[r[s]]=a,n.push(r[s]),o&&e.classes[r[s]]&&n.push(e.classes[r[s]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&r(e.keys.match(/\S+/g)||[],!0),e.extra&&r(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i="boolean"==typeof i?i:n};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,a){function s(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var c=i.match(/^([\w:-]*)\s*(.*)$/),l=c[1]+o.eventNamespace,u=c[2];u?r.on(l,u,s):n.on(l,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,a=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){var a;"string"==typeof r&&(r={effect:r});var s=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&t.effects&&t.effects.effect[s]?i[e](r):s!==e&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),function(){var e,n=Math.max,i=Math.abs,r=/left|center|right/,o=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,c=/%$/,l=t.fn.position;function u(t,e,n){return[parseFloat(t[0])*(c.test(t[0])?e/100:1),parseFloat(t[1])*(c.test(t[1])?n/100:1)]}function h(e,n){return parseInt(t.css(e,n),10)||0}function d(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var n,i,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return t("body").append(r),n=o.offsetWidth,r.css("overflow","scroll"),n===(i=o.offsetWidth)&&(i=r[0].clientWidth),r.remove(),e=n-i},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:i||r?{left:0,top:0}:t(e).offset(),scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return l.apply(this,arguments);e=t.extend({},e);var c,p,f,g,m,v,b=t(e.of),_=t.position.getWithinInfo(e.within),y=t.position.getScrollInfo(_),C=(e.collision||"flip").split(" "),x={};return v=d(b),b[0].preventDefault&&(e.at="left top"),p=v.width,f=v.height,m=t.extend({},g=v.offset),t.each(["my","at"],function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):o.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=o.test(i[1])?i[1]:"center",t=a.exec(i[0]),n=a.exec(i[1]),x[this]=[t?t[0]:0,n?n[0]:0],e[this]=[s.exec(i[0])[0],s.exec(i[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===e.at[0]?m.left+=p:"center"===e.at[0]&&(m.left+=p/2),"bottom"===e.at[1]?m.top+=f:"center"===e.at[1]&&(m.top+=f/2),c=u(x.at,p,f),m.left+=c[0],m.top+=c[1],this.each(function(){var r,o,a=t(this),s=a.outerWidth(),l=a.outerHeight(),d=h(this,"marginLeft"),v=h(this,"marginTop"),w=s+d+h(this,"marginRight")+y.width,M=l+v+h(this,"marginBottom")+y.height,O=t.extend({},m),P=u(x.my,a.outerWidth(),a.outerHeight());"right"===e.my[0]?O.left-=s:"center"===e.my[0]&&(O.left-=s/2),"bottom"===e.my[1]?O.top-=l:"center"===e.my[1]&&(O.top-=l/2),O.left+=P[0],O.top+=P[1],r={marginLeft:d,marginTop:v},t.each(["left","top"],function(n,i){t.ui.position[C[n]]&&t.ui.position[C[n]][i](O,{targetWidth:p,targetHeight:f,elemWidth:s,elemHeight:l,collisionPosition:r,collisionWidth:w,collisionHeight:M,offset:[c[0]+P[0],c[1]+P[1]],my:e.my,at:e.at,within:_,elem:a})}),e.using&&(o=function(t){var r=g.left-O.left,o=r+p-s,c=g.top-O.top,u=c+f-l,h={target:{element:b,left:g.left,top:g.top,width:p,height:f},element:{element:a,left:O.left,top:O.top,width:s,height:l},horizontal:o<0?"left":r>0?"right":"center",vertical:u<0?"top":c>0?"bottom":"middle"};p<s&&i(r+o)<p&&(h.horizontal="center"),f<l&&i(c+u)<f&&(h.vertical="middle"),h.important=n(i(r),i(o))>n(i(c),i(u))?"horizontal":"vertical",e.using.call(this,t,h)}),a.offset(t.extend(O,{using:o}))})},t.ui.position={fit:{left:function(t,e){var i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=t.left-e.collisionPosition.marginLeft,s=r-a,c=a+e.collisionWidth-o-r;e.collisionWidth>o?s>0&&c<=0?t.left+=s-(t.left+s+e.collisionWidth-o-r):t.left=c>0&&s<=0?r:s>c?r+o-e.collisionWidth:r:s>0?t.left+=s:c>0?t.left-=c:t.left=n(t.left-a,t.left)},top:function(t,e){var i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,s=r-a,c=a+e.collisionHeight-o-r;e.collisionHeight>o?s>0&&c<=0?t.top+=s-(t.top+s+e.collisionHeight-o-r):t.top=c>0&&s<=0?r:s>c?r+o-e.collisionHeight:r:s>0?t.top+=s:c>0?t.top-=c:t.top=n(t.top-a,t.top)}},flip:{left:function(t,e){var n,r,o=e.within,a=o.width,s=o.isWindow?o.scrollLeft:o.offset.left,c=t.left-e.collisionPosition.marginLeft,l=c-s,u=c+e.collisionWidth-a-s,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];l<0?((n=t.left+h+d+p+e.collisionWidth-a-(o.offset.left+o.scrollLeft))<0||n<i(l))&&(t.left+=h+d+p):u>0&&((r=t.left-e.collisionPosition.marginLeft+h+d+p-s)>0||i(r)<u)&&(t.left+=h+d+p)},top:function(t,e){var n,r,o=e.within,a=o.height,s=o.isWindow?o.scrollTop:o.offset.top,c=t.top-e.collisionPosition.marginTop,l=c-s,u=c+e.collisionHeight-a-s,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,p=-2*e.offset[1];l<0?((r=t.top+h+d+p+e.collisionHeight-a-(o.offset.top+o.scrollTop))<0||r<i(l))&&(t.top+=h+d+p):u>0&&((n=t.top-e.collisionPosition.marginTop+h+d+p-s)>0||i(n)<u)&&(t.top+=h+d+p)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:(n="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(n+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.ui.focusable=function(e,n){var i,r,o,a,s,c=e.nodeName.toLowerCase();return"area"===c?(r=(i=e.parentNode).name,!(!e.href||!r||"map"!==i.nodeName.toLowerCase())&&(o=t("img[usemap='#"+r+"']")).length>0&&o.is(":visible")):(/^(input|select|textarea|button|object)$/.test(c)?(a=!e.disabled)&&(s=t(e).closest("fieldset")[0])&&(a=!s.disabled):a="a"===c&&e.href||n,a&&t(e).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function a(e,n,r,o){return t.each(i,function(){n-=parseFloat(t.css(e,"padding"+this))||0,r&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}t.fn["inner"+n]=function(e){return void 0===e?o["inner"+n].call(this):this.each(function(){t(this).css(r,a(this,e)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){t(this).css(r,a(this,e,!0,i)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=(o=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(o,"\\$1")}),t.fn.labels=function(){var e,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(i=this.attr("id"))&&(o=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}}),t.fn.extend({uniqueId:(a=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var o,a,s=!1;t(document).on("mouseup",function(){s=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!s){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),s=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,s=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(i=(n=t(r.containment))[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=r.containment:this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),c=t.pageX,l=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(c=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(c=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((c-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,c=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(c=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){this.isOver?(this.isOver=0,i.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(e),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+a.offsetHeight-e.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+a.offsetWidth-e.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(s).scrollTop()<r.scrollSensitivity?o=t(s).scrollTop(t(s).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<r.scrollSensitivity&&(o=t(s).scrollTop(t(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(s).scrollLeft()<r.scrollSensitivity?o=t(s).scrollLeft(t(s).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<r.scrollSensitivity&&(o=t(s).scrollLeft(t(s).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,a,s,c,l,u,h,d,p,f=i.options,g=f.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,b=n.offset.top,_=b+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)l=(c=i.snapElements[d].left-i.margins.left)+i.snapElements[d].width,h=(u=i.snapElements[d].top-i.margins.top)+i.snapElements[d].height,v<c-g||m>l+g||_<u-g||b>h+g||!t.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(u-_)<=g,o=Math.abs(h-b)<=g,a=Math.abs(c-v)<=g,s=Math.abs(l-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),p=r||o||a||s,"outer"!==f.snapMode&&(r=Math.abs(u-b)<=g,o=Math.abs(h-_)<=g,a=Math.abs(c-m)<=g,s=Math.abs(l-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[d].snapping&&(r||o||a||s||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=r||o||a||s||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=t.makeArray(t(i.options.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});o.length&&(r=parseInt(t(o[0]).css("zIndex"),10)||0,t(o).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+o.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){this._splice(t.ui.ddmanager.droppables[this.options.scope])},_setOption:function(e,n){"accept"===e?this.accept=t.isFunction(n)?n:function(t){return t.is(n)}:"scope"===e&&(this._splice(t.ui.ddmanager.droppables[this.options.scope]),this._addToManager(n)),this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&c(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e))return r=!0,!1}),!r&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var c=t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,s=o+e.helperProportions.width,c=a+e.helperProportions.height,l=n.offset.left,u=n.offset.top,h=l+n.proportions().width,d=u+n.proportions().height;switch(i){case"fit":return l<=o&&s<=h&&u<=a&&c<=d;case"intersect":return l<o+e.helperProportions.width/2&&s-e.helperProportions.width/2<h&&u<a+e.helperProportions.height/2&&c-e.helperProportions.height/2<d;case"pointer":return t(r.pageY,u,n.proportions().height)&&t(r.pageX,l,n.proportions().width);case"touch":return(a>=u&&a<=d||c>=u&&c<=d||a<u&&c>d)&&(o>=l&&o<=h||s>=l&&s<=h||o<l&&s>h);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=n?n.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<s.length;r++)if(s[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===a&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&c(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,a=c(e,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r})).length&&((i=t(o[0]).droppable("instance")).greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i,r=n&&"left"===n?"scrollLeft":"scrollTop";return e[r]>0||(e[r]=1,i=e[r]>0,e[r]=0,i)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),this.originalElement.css({position:(e=this.element).css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,a=this.options,s=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)r="ui-resizable-"+(e=t.trim(i[n])),o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=e.pageX-r.left||0,a=e.pageY-r.top||0,s=this._change[this.axis];return this._updatePrevProperties(),!!s&&(n=s.apply(this,[e,o,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,a,s,c,l=this.options;return this._helper&&(r=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,o=i?0:this.sizeDiff.width,a={width:this.helper.width()-o,height:this.helper.height()-r},s=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,c=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:c,left:s})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,(e=o.minHeight*this.aspectRatio)>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,c=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&l&&(t.left=s-e.minWidth),i&&l&&(t.left=s-e.maxWidth),a&&u&&(t.top=c-e.minHeight),r&&u&&(t.top=c-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.options;this.elementOffset=this.element.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){return{left:this.originalPosition.left+e,width:this.originalSize.width-e}},n:function(t,e,n){return{top:this.originalPosition.top+n,height:this.originalSize.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s={width:n.size.width-(o?0:n.sizeDiff.width),height:n.size.height-a},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,l=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(s,l&&c?{top:l,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,a,s,c=t(this).resizable("instance"),l=c.element,u=c.options.containment,h=u instanceof t?u.get(0):/parent/.test(u)?l.parent().get(0):u;h&&(c.containerElement=t(h),/document/.test(u)||u===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(h),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=c._num(e.css("padding"+i))}),c.containerOffset=e.offset(),c.containerPosition=e.position(),c.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=c.containerOffset,r=c.containerSize.height,o=c.containerSize.width,a=c._hasScroll(h,"left")?h.scrollWidth:o,s=c._hasScroll(h)?h.scrollHeight:r,c.parentData={element:h,left:i.left,top:i.top,width:a,height:s}))},resize:function(e){var n,i,r,o,a=t(this).resizable("instance"),s=a.options,c=a.containerOffset,l=a.position,u=a._aspectRatio||e.shiftKey,h={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=c),l.left<(a._helper?c.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-c.left:a.position.left-h.left),u&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=s.helper?c.left:0),l.top<(a._helper?c.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-c.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?c.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-h.left:a.offset.left-c.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-h.top:a.offset.top-c.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,u&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,u&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,a=t(e.helper),s=a.offset(),c=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:c,height:l}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:c,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance");t(e.options.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.originalSize,o=i.originalPosition,a={height:i.size.height-r.height||0,width:i.size.width-r.width||0,top:i.position.top-o.top||0,left:i.position.left-o.left||0};t(i.options.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,c="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=c[0]||1,u=c[1]||1,h=Math.round((r.width-o.width)/l)*l,d=Math.round((r.height-o.height)/u)*u,p=o.width+h,f=o.height+d,g=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,b=i.minHeight&&i.minHeight>f;i.grid=c,v&&(p+=l),b&&(f+=u),g&&(p-=l),m&&(f-=u),/^(se|s|e)$/.test(s)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(s)?(n.size.width=p,n.size.height=f,n.position.top=a.top-d):/^(sw)$/.test(s)?(n.size.width=p,n.size.height=f,n.position.left=a.left-h):((f-u<=0||p-l<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),f-u>0?(n.size.height=f,n.position.top=a.top-d):(n.size.height=f=u-e.height,n.position.top=a.top+o.height-f),p-l>0?(n.size.width=p,n.position.left=a.left-h):(n.size.width=p=l-e.width,n.position.left=a.left+o.width-p))}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");if(r)return i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],a=this.opos[1],s=e.pageX,c=e.pageY;return o>s&&(n=s,s=o,o=n),a>c&&(n=c,c=a,a=n),this.helper.css({left:o,top:a,width:s-o,height:c-a}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),l=!1,u={};n&&n.element!==i.element[0]&&(u.left=n.left+i.elementPos.left,u.right=n.right+i.elementPos.left,u.top=n.top+i.elementPos.top,u.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?l=!(u.left>s||u.right<o||u.top>c||u.bottom<a):"fit"===r.tolerance&&(l=u.left>o&&u.right<s&&u.top>a&&u.bottom<c),l?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!i||this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==s&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=this.positionAbs.top,i=t.left,r=i+t.width,o=t.top,a=o+t.height,s=this.offset.click.top,c=this.offset.click.left;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?("x"===this.options.axis||n+s>o&&n+s<a)&&("y"===this.options.axis||e+c>i&&e+c<r):i<e+this.helperProportions.width/2&&e+this.helperProportions.width-this.helperProportions.width/2<r&&o<n+this.helperProportions.height/2&&n+this.helperProportions.height-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!i||!r)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,o,a=[],s=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(i=(r=t(c[n],this.document[0])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&s.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function l(){a.push(this)}for(s.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(l);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,a,s,c,l,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(i=(r=t(d[n],this.document[0])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(a=h[n][1],i=0,l=(s=h[n][0]).length;i<l;i++)(c=t(s[i])).data(this.widgetName+"-item",a),u.push({item:c,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,a,s,c,l,u,h,d=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,a=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",s=u?"width":"height",h=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(c=this.items[i].item.offset()[a],l=!1,e[h]-c>this.items[i][s]/2&&(l=!0),Math.abs(e[h]-c)<r&&(r=Math.abs(e[h]-c),o=this.items[i],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,c=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():c?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():c?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function r(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}for(this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(i.push(function(t){this._trigger("remove",t,this._uiHash())}),i.push((function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}).call(this,this.currentContainer)),i.push((function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}).call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&this._eventHandler({target:n=n||this.active[0],currentTarget:n,preventDefault:t.noop})},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,r=this.options,o=this.active,a=t(e.currentTarget),s=a[0]===o[0],c=s&&r.collapsible,l=c?t():a.next(),u=o.next(),h={oldHeader:o,oldPanel:u,newHeader:c?t():a,newPanel:l};e.preventDefault(),s&&!r.collapsible||!1===this._trigger("beforeActivate",e,h)||(r.active=!c&&this.headers.index(a),this.active=s?t():a,this._toggle(h),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),s||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=a.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,a=this,s=0,c=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},h=l&&u.down||u,d=function(){a._toggleComplete(n)};return"number"==typeof h&&(o=h),"string"==typeof h&&(r=h),r=r||h.easing||u.easing,o=o||h.duration||u.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:d,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===c&&(s+=n.now):"content"!==a.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-s),s=0)}})):e.animate(this.hideProps,o,r,d):t.animate(this.showProps,o,r,d)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,r,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,i=this.previousFilter||"",o=!1,r=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,o=this,a=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);o._addClass(i,"ui-menu-icon","ui-icon "+a),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(e=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);o._isDivider(e)&&o._addClass(e,"ui-menu-divider","ui-widget-content")}),r=(i=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(r,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,a,s;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=e.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var n,i,r;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){if(i)return i=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,r;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),(i=n.item.attr("aria-label")||r.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible");e&&(!e||n||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}});var l,u,h=/ui-corner-([a-z]){2,6}/g;function d(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=p(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function p(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,f)}function f(){t.datepicker._isDisabledDatepicker(l.inline?l.dpDiv.parent()[0]:l.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function g(e,n){for(var i in t.extend(e,n),n)null==n[i]&&(e[i]=n[i]);return e}function m(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,r){var o,a={};if(r)return"controlgroupLabel"===i?((o=e.element.find(r)).each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(t.fn[i]&&(a=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(r).each(function(){var r=t(this),o=r[i]("instance"),s=t.widget.extend({},a);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(s.classes=e._resolveClassesValues(s.classes,o)),r[i](s);var c=r[i]("widget");t.data(c[0],"ui-controlgroup-data",o||r[i]("instance")),n.push(c[0])}})))}),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this).data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(t,e){var n=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,n)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,function(r){var o=n.options.classes[r]||"";o=t.trim(o.replace(h,"")),i[r]=(o+" "+e[r]).replace(/\s+/g," ")}),i},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===e.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,n="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(n):t(n).filter(function(){return 0===t(this).form().length})).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){(void 0===t.showLabel?this.options.showLabel:t.showLabel)||(void 0===t.icon?this.options.icon:t.icon)||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(d.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return g(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;r="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),r)).settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?p(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[s?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||e.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[s?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(o.setMonth((e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i})(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,o){var a,s,c,l,u=this._dialogInst;return u||(this.uuid+=1,this._dialogInput=t("<input type='text' id='dp"+this.uuid+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",u)),g(u.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(u,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(a=document.documentElement.clientWidth,s=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+c,s/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),l===r&&(l=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,o,a,s,c=this._getInst(e);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?t.extend({},t.datepicker._defaults):c?"all"===n?t.extend({},c.settings):this._get(c,n):null;r=n||{},"string"==typeof n&&((r={})[n]=i),c&&(this._curInst===c&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(c,"min"),s=this._getMinMaxDate(c,"max"),g(c.settings,r),null!==a&&void 0!==r.dateFormat&&void 0===r.minDate&&(c.settings.minDate=this._formatDate(c,a)),null!==s&&void 0!==r.dateFormat&&void 0===r.maxDate&&(c.settings.maxDate=this._formatDate(c,s)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),c),this._autoSize(c),this._setDate(c,o),this._updateAlternate(c),this._updateDatepicker(c))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return(r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),(n=t.datepicker._get(o,"onSelect"))?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(i){}return!0},_showDatepicker:function(e){var n,i,r,o,a,s,c;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e||(n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(r=(i=t.datepicker._get(n,"beforeShow"))?i.apply(e,[e,n]):{})&&(g(n.settings,r),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return!(o|="fixed"===t(this).css("position"))}),a={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),a=t.datepicker._checkOffset(n,a,o),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(s=t.datepicker._get(n,"showAnim"),c=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[s]?n.dpDiv.show(s,t.datepicker._get(n,"showOptions"),c):n.dpDiv[s||"show"](s?c:null),t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),t.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4,l=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],o=e.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&f.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,c=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-a:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+s?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>c&&c>r?Math.abs(n.left+r-c):0),n.top-=Math.min(n.top,n.top+o>l&&l>o?Math.abs(o+s):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return[(n=t(e).offset()).left,n.top]},_hideDatepicker:function(e){var n,i,r,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),i=this._get(a,"duration"),r=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[n]||t.effects[n])?a.dpDiv.hide(n,t.datepicker._get(a,"showOptions"),i,r):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,(o=this._get(a,"onClose"))&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id===t.datepicker._mainDivId||0!==n.parents("#"+t.datepicker._mainDivId).length||n.hasClass(t.datepicker.markerClassName)||n.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!n.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===i)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,a=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((o=this._getInst(a[0])).selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var r,o,a,s,c=0,l=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,b=-1,_=!1,y=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},C=function(t){var e=y(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=new RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),o=n.substring(c).match(r);if(!o)throw"Missing number at position "+c;return c+=o[0].length,parseInt(o[0],10)},x=function(e,i,r){var o=-1,a=t.map(y(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var i=e[1];if(n.substr(c,i.length).toLowerCase()===i.toLowerCase())return o=e[0],c+=i.length,!1}),-1!==o)return o+1;throw"Unknown name at position "+c},w=function(){if(n.charAt(c)!==e.charAt(r))throw"Unexpected literal at position "+c;c++};for(r=0;r<e.length;r++)if(_)"'"!==e.charAt(r)||y("'")?w():_=!1;else switch(e.charAt(r)){case"d":v=C("d");break;case"D":x("D",h,d);break;case"o":b=C("o");break;case"m":m=C("m");break;case"M":m=x("M",p,f);break;case"y":g=C("y");break;case"@":g=(s=new Date(C("@"))).getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"!":g=(s=new Date((C("!")-this._ticksTo1970)/1e4)).getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"'":y("'")?w():_=!0;break;default:w()}if(c<n.length&&(a=n.substr(c),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=u?0:-100)),b>-1)for(m=1,v=b;!(v<=(o=this._getDaysInMonth(g,m-1)));)m++,v-=o;if((s=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||s.getMonth()+1!==m||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,c=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},l=function(t,e,n){var i=""+e;if(c(t))for(;i.length<n;)i="0"+i;return i},u=function(t,e,n,i){return c(t)?i[e]:n[e]},h="",d=!1;if(e)for(i=0;i<t.length;i++)if(d)"'"!==t.charAt(i)||c("'")?h+=t.charAt(i):d=!1;else switch(t.charAt(i)){case"d":h+=l("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),r,o);break;case"o":h+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=l("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),a,s);break;case"y":h+=c("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":c("'")?h+="'":d=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t);try{o=this.parseDate(n,i,a)||r}catch(s){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=null==n||""===n?i:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(l){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=i.getFullYear(),o=i.getMonth(),a=i.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=s.exec(n);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":o+=parseInt(c[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(c[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,o))}c=s.exec(n)}return new Date(r,o,a)}(n):"number"==typeof n?isNaN(n)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(n):new Date(n.getTime());return(r=r&&"Invalid Date"===r.toString()?i:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,a,s,c,l,u,h,d,p,f,g,m,v,b,_,y,C,x,w,M,O,P,k,A,T,S,E,I,R,D,N,L,z,j,F,q=new Date,B=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate())),U=this._get(t,"isRTL"),H=this._get(t,"showButtonPanel"),V=this._get(t,"hideIfNoPrevNext"),W=this._get(t,"navigationAsDateFormat"),G=this._getNumberOfMonths(t),Q=this._get(t,"showCurrentAtPos"),Y=this._get(t,"stepMonths"),K=1!==G[0]||1!==G[1],X=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),$=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-Q,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-G[0]*G[1]+1,J.getDate())),e=$&&e<$?$:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)--Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,n=this._get(t,"prevText"),n=W?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z-Y,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=W?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,Z+Y,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+r+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+r+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?X:B,a=W?this.formatDate(a,s,this._getFormatConfig(t)):a,c=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=H?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?c:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(U?"":c)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),y="",x=0;x<G[0];x++){for(w="",this.maxRows=4,M=0;M<G[1];M++){if(O=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),P=" ui-corner-all",k="",K){if(k+="<div class='ui-datepicker-group",G[1]>1)switch(M){case 0:k+=" ui-datepicker-group-first",P=" ui-corner-"+(U?"right":"left");break;case G[1]-1:k+=" ui-datepicker-group-last",P=" ui-corner-"+(U?"left":"right");break;default:k+=" ui-datepicker-group-middle",P=""}k+="'>"}for(k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+P+"'>"+(/all|left/.test(P)&&0===x?U?o:i:"")+(/all|right/.test(P)&&0===x?U?i:o:"")+this._generateMonthYearHeader(t,Z,tt,$,J,x>0||M>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",A=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",C=0;C<7;C++)A+="<th scope='col'"+((C+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[T=(C+u)%7]+"'>"+p[T]+"</span></th>";for(k+=A+"</tr></thead><tbody>",S=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),E=(this._getFirstDayOfMonth(tt,Z)-u+7)%7,I=Math.ceil((E+S)/7),this.maxRows=R=K&&this.maxRows>I?this.maxRows:I,D=this._daylightSavingAdjust(new Date(tt,Z,1-E)),N=0;N<R;N++){for(k+="<tr>",L=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(D)+"</td>":"",C=0;C<7;C++)z=m?m.apply(t.input?t.input[0]:null,[D]):[!0,""],F=(j=D.getMonth()!==Z)&&!b||!z[0]||$&&D<$||J&&D>J,L+="<td class='"+((C+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(D.getTime()===O.getTime()&&Z===t.selectedMonth&&t._keyEvent||_.getTime()===D.getTime()&&_.getTime()===O.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+z[1]+(D.getTime()===X.getTime()?" "+this._currentClass:"")+(D.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!z[2]?"":" title='"+z[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+D.getMonth()+"' data-year='"+D.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+D.getDate()+"</span>":"<a class='ui-state-default"+(D.getTime()===B.getTime()?" ui-state-highlight":"")+(D.getTime()===X.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+D.getDate()+"</a>")+"</td>",D.setDate(D.getDate()+1),D=this._daylightSavingAdjust(D);k+=L+"</tr>"}++Z>11&&(Z=0,tt++),w+=k+="</tbody></table>"+(K?"</div>"+(G[0]>0&&M===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}y+=w}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,n,i,r,o,a,s){var c,l,u,h,d,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(c=i&&i.getFullYear()===n,l=r&&r.getFullYear()===n,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!c||u>=i.getMonth())&&(!l||u<=r.getMonth())&&(y+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+s[u]+"</option>");y+="</select>"}if(b||(_+=y+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)_+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),f=(p=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(h[0]),g=Math.max(f,p(h[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)t.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),b&&(_+=(!o&&m&&v?"":"&#xa0;")+y),_+"</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,s=null,c=this._get(t,"yearRange");return c&&(n=c.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new d,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(o).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,n=this.options;function i(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",n,i(r))},drag:function(t,n){e._trigger("drag",t,i(n))},stop:function(r,o){var a=o.offset.left-e.document.scrollLeft(),s=o.offset.top-e.document.scrollTop();n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",r,i(o))}})},_makeResizable:function(){var e=this,n=this.options,i=n.resizable,r=this.uiDialog.css("position"),o="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";function a(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,i){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",n,a(i))},resize:function(t,n){e._trigger("resize",t,a(n))},stop:function(i,r){var o=e.uiDialog.offset(),s=o.left-e.document.scrollLeft(),c=o.top-e.document.scrollTop();n.height=e.uiDialog.height(),n.width=e.uiDialog.width(),n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(c>=0?"+":"")+c,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",i,a(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||this.document.data("ui-dialog-instances",t=[]),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=o.is(":data(ui-draggable)"))&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=o.is(":data(ui-resizable)"))&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||!1===n||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){var a;o.optgroup!==r&&(a=t("<li>",{text:o.optgroup}),i._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),r=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each(function(e,r){i.push(n._parseOption(t(r),e))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),o=[];for(r.length>(n=i.values&&i.values.length||1)&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;e<n;e++)o.push("<span tabindex='0'></span>");this.handles=r.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,a,s,c=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n=this._normValueFromMouse({x:e.pageX,y:e.pageY}),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var a=Math.abs(n-c.values(e));(i>a||i===a&&(e===c._lastChangedValue||c.values(e)===l.min))&&(i=a,r=t(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),a=r.offset(),s=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=s?{left:0,top:0}:{left:e.pageX-a.left-r.width()/2,top:e.pageY-a.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e=this._normValueFromMouse({x:t.pageX,y:t.pageY});return this._slide(t,this._handleIndex,e),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/e)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),o[e]=n),n!==r&&!1!==this._trigger("slide",t,this._uiHash(e,n,o))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(t){var e,n;if(arguments.length)return this._trimAlignValue(this.options.values[t]);if(this._hasMultipleValues()){for(e=this.options.values.slice(),n=0;n<e.length;n+=1)e[n]=this._trimAlignValue(e[n]);return e}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;(t=Math.round((t-e)/n)*n+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,o,a=this.options.range,s=this.options,c=this,l=!this._animateOff&&s.animate,u={};this._hasMultipleValues()?this.handles.each(function(i){n=(c.values(i)-c._valueMin())/(c._valueMax()-c._valueMin())*100,u["horizontal"===c.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[l?"animate":"css"](u,s.animate),!0===c.options.range&&("horizontal"===c.orientation?(0===i&&c.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},s.animate),1===i&&c.range[l?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===i&&c.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&c.range[l?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),u["horizontal"===this.orientation?"left":"bottom"]=(n=o!==r?(i-r)/(o-r)*100:0)+"%",this.handle.stop(1,1)[l?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-n+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(e){var n,i,r,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(r=this.options.step,n=i=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(e,o,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);null!=r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){var n;function i(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n}))}n=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;if("culture"===t||"numberFormat"===t)return n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:m(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:m(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:m(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:m(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:m(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());m(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(u=/#.*$/,function(t){var e,n;e=t.href.replace(u,""),n=location.href.replace(u,"");try{e=decodeURIComponent(e)}catch(i){}try{n=decodeURIComponent(n)}catch(i){}return t.hash.length>1&&e===n}),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(n.active):t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){if(t(r).attr("aria-controls")===i)return e=n,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){for(var i=this.tabs.length-1;-1!==t.inArray((e>i&&(e=0),e<0&&(e=i),e),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(n,i){var r,o,a,s=t(i).uniqueId().attr("id"),c=t(i).closest("li"),l=c.attr("aria-controls");e._isLocal(i)?(a=(r=i.hash).substring(1),o=e.element.find(e._sanitizeSelector(r))):(a=c.attr("aria-controls")||t({}).uniqueId()[0].id,(o=e.element.find(r="#"+a)).length||(o=e._createPanel(a)).insertAfter(e.panels[n-1]||e.tablist),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&c.data("ui-tabs-aria-controls",l),c.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;i=this.tabs[r];r++)n=t(i),!0===e||-1!==t.inArray(r,e)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget).closest("li"),o=r[0]===i[0],a=o&&n.collapsible,s=a?t():this._getPanelForTab(r),c=i.length?this._getPanelForTab(i):t(),l={oldTab:i,oldPanel:c,newTab:a?t():r,newPanel:s};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",e,l)||(n.active=!a&&this.tabs.index(r),this.active=o?t():r,this.xhr&&this.xhr.abort(),c.length||s.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(r),e),this._toggle(e,l))},_toggle:function(e,n){var i=this,r=n.newPanel,o=n.oldPanel;function a(){i.running=!1,i._trigger("activate",e,n)}function s(){i._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),r.length&&i.options.show?i._show(r,i.options.show,a):(r.show(),a())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){i._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),o.hide(),s()),o.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&o.length?n.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;!1!==n&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(!0!==n){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),s={tab:r,panel:a},c=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){a.html(t),i._trigger("load",n,s),c(r,e)},1)}).fail(function(t,e){setTimeout(function(){c(t,e)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1),e.removeData("ui-tooltip-id"),(i=t.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(e,t,i);(n=i.call(t[0],function(n){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))})}))&&this._open(e,t,n)},_open:function(e,n,i){var r,o,a,s,c=t.extend({},this.options.position);function l(t){c.of=t,o.is(":hidden")||o.position(c)}i&&((r=this._find(n))?r.tooltip.find(".ui-tooltip-content").html(i):(n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),this._addDescribedBy(n,(o=r.tooltip).attr("id")),o.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(s=t("<div>").html(o.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),s.removeAttr("id").find("[id]").removeAttr("id"),s.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:l}),l(e)):o.position(t.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){o.is(":visible")&&(l(c.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:o})))},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);o?(n=o.tooltip,o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1))):r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});var v,b=t;t.effects={effect:{}},function(t,e){var n,i=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],o=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},a={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=o.support={},l=t("<p>")[0],u=t.each;function h(t,e,n){var i=s[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function d(e){var i=o(),s=i._rgba=[];return e=e.toLowerCase(),u(r,function(t,n){var r,o=n.re.exec(e),c=o&&n.parse(o),l=n.space||"rgba";if(c)return r=i[l](c),i[a[l].cache]=r[a[l].cache],s=i._rgba=r._rgba,!1}),s.length?("0,0,0,0"===s.join()&&t.extend(s,n.transparent),i):n[e]}function p(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}l.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=l.style.backgroundColor.indexOf("rgba")>-1,u(a,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),o.fn=t.extend(o.prototype,{parse:function(e,i,r,s){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(i),i=void 0);var c=this,l=t.type(e),p=this._rgba=[];return void 0!==i&&(e=[e,i,r,s],l="array"),"string"===l?this.parse(d(e)||n._default):"array"===l?(u(a.rgba.props,function(t,n){p[n.idx]=h(e[n.idx],n)}),this):"object"===l?(u(a,e instanceof o?function(t,n){e[n.cache]&&(c[n.cache]=e[n.cache].slice())}:function(n,i){var r=i.cache;u(i.props,function(t,n){if(!c[r]&&i.to){if("alpha"===t||null==e[t])return;c[r]=i.to(c._rgba)}c[r][n.idx]=h(e[t],n,!0)}),c[r]&&t.inArray(null,c[r].slice(0,3))<0&&(c[r][3]=1,i.from&&(c._rgba=i.from(c[r])))}),this):void 0},is:function(t){var e=o(t),n=!0,i=this;return u(a,function(t,r){var o,a=e[r.cache];return a&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],u(r.props,function(t,e){if(null!=a[e.idx])return n=a[e.idx]===o[e.idx]})),n}),n},_space:function(){var t=[],e=this;return u(a,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var n=o(t),i=n._space(),r=a[i],c=0===this.alpha()?o("transparent"):this,l=c[r.cache]||r.to(c._rgba),d=l.slice();return n=n[r.cache],u(r.props,function(t,i){var r=i.idx,o=l[r],a=n[r],c=s[i.type]||{};null!==a&&(null===o?d[r]=a:(c.mod&&(a-o>c.mod/2?o+=c.mod:o-a>c.mod/2&&(o-=c.mod)),d[r]=h((a-o)*e+o,i)))}),this[i](d)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=o(e)._rgba;return o(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,a.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n=t[0]/255,i=t[1]/255,r=t[2]/255,o=t[3],a=Math.max(n,i,r),s=Math.min(n,i,r),c=a-s,l=a+s,u=.5*l;return e=0===c?0:u<=.5?c/l:c/(2-l),[Math.round(s===a?0:n===a?60*(i-r)/c+360:i===a?60*(r-n)/c+120:60*(n-i)/c+240)%360,e,u,null==o?1:o]},a.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],o=i<=.5?i*(1+n):i+n-i*n,a=2*i-o;return[Math.round(255*p(a,o,e+1/3)),Math.round(255*p(a,o,e)),Math.round(255*p(a,o,e-1/3)),r]},u(a,function(e,n){var r=n.props,a=n.cache,s=n.to,c=n.from;o.fn[e]=function(e){if(s&&!this[a]&&(this[a]=s(this._rgba)),void 0===e)return this[a].slice();var n,i=t.type(e),l="array"===i||"object"===i?e:arguments,d=this[a].slice();return u(r,function(t,e){var n=l["object"===i?t:e.idx];null==n&&(n=d[e.idx]),d[e.idx]=h(n,e)}),c?((n=o(c(d)))[a]=d,n):o(d)},u(r,function(n,r){o.fn[n]||(o.fn[n]=function(o){var a,s=t.type(o),c="alpha"===n?this._hsla?"hsla":"rgba":e,l=this[c](),u=l[r.idx];return"undefined"===s?u:("function"===s&&(o=o.call(this,u),s=t.type(o)),null==o&&r.empty?this:("string"===s&&(a=i.exec(o))&&(o=u+parseFloat(a[2])*("+"===a[1]?1:-1)),l[r.idx]=o,this[c](l)))})})}),o.hook=function(e){var n=e.split(" ");u(n,function(e,n){t.cssHooks[n]={set:function(e,i){var r,a,s="";if("transparent"!==i&&("string"!==t.type(i)||(r=d(i)))){if(i=o(r||i),!c.rgba&&1!==i._rgba[3]){for(a="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(l){}i=i.blend(s&&"transparent"!==s?s:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=o(e.elem,n),e.end=o(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return u(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},n=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){var e=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function i(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)"string"==typeof r[n=r[i]]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(b.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,a,s){var c=t.speed(o,a,s);return this.queue(function(){var o,a=t(this),s=a.attr("class")||"",l=c.children?a.find("*").addBack():a;l=l.map(function(){return{el:t(this),start:i(this)}}),(o=function(){t.each(e,function(t,e){r[e]&&a[e+"Class"](r[e])})})(),l=l.map(function(){return this.end=i(this.el[0]),this.diff=function(e,i){var r,o,a={};for(r in i)e[r]!==(o=i[r])&&(n[r]||!t.fx.step[r]&&isNaN(parseFloat(o))||(a[r]=o));return a}(this.start,this.end),this}),a.attr("class",s),l=l.map(function(){var e=this,n=t.Deferred(),i=t.extend({},c,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),c.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,a){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]||!!t.isFunction(e)||"object"==typeof e&&!e.effect}function i(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(n){return!!t(n).data("ui-effects-animated")||e(n)}}(t.expr.filters.animated)),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;n<i;n++)null!==e[n]&&t.data("ui-effects-"+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;i<r;i++)null!==e[i]&&(n=t.data("ui-effects-"+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data("ui-effects-style",t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data("ui-effects-style")||"",t.removeData("ui-effects-style")},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data("ui-effects-placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e="ui-effects-placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){var n=e.apply(this,arguments),i=t.effects.effect[n.effect],r=i.mode,o=n.queue,a=o||"fx",s=n.complete,c=n.mode,l=[],u=function(e){var n=t(this),i=t.effects.mode(n,c)||r;n.data("ui-effects-animated",!0),l.push(i),r&&("show"===i||i===r&&"hide"===i)&&n.show(),r&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};if(t.fx.off||!i)return c?this[c](n.duration,s):this.each(function(){s&&s.call(this)});function h(e){var o=t(this);function a(){t.isFunction(s)&&s.call(o[0]),t.isFunction(e)&&e()}n.mode=l.shift(),!1===t.uiBackCompat||r?"none"===n.mode?(o[c](),a()):i.call(o[0],n,function(){o.removeData("ui-effects-animated"),t.effects.cleanUp(o),"hide"===n.mode&&o.hide(),a()}):(o.is(":hidden")?"hide"===c:"show"===c)?(o[c](),a()):i.call(o[0],n,a)}return!1===o?this.each(u).each(h):this.queue(a,u).queue(a,h)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):i(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),a=t("body"),s=o?a.scrollTop():0,c=o?a.scrollLeft():0,l=r.offset(),u={top:l.top-s,left:l.left-c,height:r.innerHeight(),width:r.innerWidth()},h=i.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-s,left:h.left-c,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){d.remove(),t.isFunction(n)&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=i(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),v={},t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){v[e]=function(e){return Math.pow(e,t+2)}}),t.extend(v,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(v,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(-2*t+2)/2}}),t.effects.define("blind","hide",function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",a=r.cssClip(),s={clip:t.extend({},a)},c=t.effects.createPlaceholder(r);s.clip[i[o][0]]=s.clip[i[o][1]],"show"===e.mode&&(r.cssClip(s.clip),c&&c.css(t.effects.clipToBox(s)),s.clip=a),c&&c.animate(t.effects.clipToBox(s),e.duration,e.easing),r.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("bounce",function(e,n){var i,r,o,a=t(this),s=e.mode,c="hide"===s,l="show"===s,u=e.direction||"up",h=e.distance,d=e.times||5,p=2*d+(l||c?1:0),f=e.duration/p,g=e.easing,m="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,b=0,_=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),h||(h=a["top"===m?"outerHeight":"outerWidth"]()/3),l&&((r={opacity:1})[m]=o,a.css("opacity",0).css(m,v?2*-h:2*h).animate(r,f,g)),c&&(h/=Math.pow(2,d-1)),(r={})[m]=o;b<d;b++)(i={})[m]=(v?"-=":"+=")+h,a.animate(i,f,g).animate(r,f,g),h=c?2*h:h/2;c&&((i={opacity:0})[m]=(v?"-=":"+=")+h,a.animate(i,f,g)),a.queue(n),t.effects.unshift(a,_,p+1)}),t.effects.define("clip","hide",function(e,n){var i,r={},o=t(this),a=e.direction||"vertical",s="both"===a,c=s||"horizontal"===a,l=s||"vertical"===a;i=o.cssClip(),r.clip={top:l?(i.bottom-i.top)/2:i.top,right:c?(i.right-i.left)/2:i.right,bottom:l?(i.bottom-i.top)/2:i.bottom,left:c?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("drop","hide",function(e,n){var i,r=t(this),o="show"===e.mode,a=e.direction||"left",s="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a?"-=":"+=",l="+="===c?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(r),i=e.distance||r["top"===s?"outerHeight":"outerWidth"](!0)/2,u[s]=c+i,o&&(r.css(u),u[s]=l+i,u.opacity=1),r.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("explode","hide",function(e,n){var i,r,o,a,s,c,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,u=l,h=t(this),d="show"===e.mode,p=h.show().css("visibility","hidden").offset(),f=Math.ceil(h.outerWidth()/u),g=Math.ceil(h.outerHeight()/l),m=[];function v(){m.push(this),m.length===l*u&&(h.css({visibility:"visible"}),t(m).remove(),n())}for(i=0;i<l;i++)for(a=p.top+i*g,c=i-(l-1)/2,r=0;r<u;r++)o=p.left+r*f,s=r-(u-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*f,top:-i*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:g,left:o+(d?s*f:0),top:a+(d?c*g:0),opacity:d?0:1}).animate({left:o+(d?0:s*f),top:a+(d?0:c*g),opacity:d?1:0},e.duration||500,e.easing,v)}),t.effects.define("fade","toggle",function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("fold","hide",function(e,n){var i=t(this),r=e.mode,o="show"===r,a="hide"===r,s=e.size||15,c=/([0-9]+)%/.exec(s),l=e.horizFirst?["right","bottom"]:["bottom","right"],u=e.duration/2,h=t.effects.createPlaceholder(i),d=i.cssClip(),p={clip:t.extend({},d)},f={clip:t.extend({},d)},g=[d[l[0]],d[l[1]]],m=i.queue().length;c&&(s=parseInt(c[1],10)/100*g[a?0:1]),p.clip[l[0]]=s,f.clip[l[0]]=s,f.clip[l[1]]=0,o&&(i.cssClip(f.clip),h&&h.css(t.effects.clipToBox(f)),f.clip=d),i.queue(function(n){h&&h.animate(t.effects.clipToBox(p),u,e.easing).animate(t.effects.clipToBox(f),u,e.easing),n()}).animate(p,u,e.easing).animate(f,u,e.easing).queue(n),t.effects.unshift(i,m,4)}),t.effects.define("highlight","show",function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("size",function(e,n){var i,r,o,a=t(this),s=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=e.mode,h="effect"!==u,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),v=e.from||m,b=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===u&&(o=v,v=b,b=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:b.height/m.height,x:b.width/m.width}},"box"!==d&&"both"!==d||(r.from.y!==r.to.y&&(v=t.effects.setTransition(a,c,r.from.y,v),b=t.effects.setTransition(a,c,r.to.y,b)),r.from.x!==r.to.x&&(v=t.effects.setTransition(a,l,r.from.x,v),b=t.effects.setTransition(a,l,r.to.x,b))),"content"!==d&&"both"!==d||r.from.y!==r.to.y&&(v=t.effects.setTransition(a,s,r.from.y,v),b=t.effects.setTransition(a,s,r.to.y,b)),p&&(i=t.effects.getBaseline(p,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,b.top=(m.outerHeight-b.outerHeight)*i.y+g.top,b.left=(m.outerWidth-b.outerWidth)*i.x+g.left),a.css(v),"content"!==d&&"both"!==d||(c=c.concat(["marginTop","marginBottom"]).concat(s),l=l.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var n=t(this),i=t.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},a={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(n,c,r.from.y,o),a=t.effects.setTransition(n,c,r.to.y,a)),r.from.x!==r.to.x&&(o=t.effects.setTransition(n,l,r.from.x,o),a=t.effects.setTransition(n,l,r.to.x,a)),h&&t.effects.saveStyle(n),n.css(o),n.animate(a,e.duration,e.easing,function(){h&&t.effects.restoreStyle(n)})})),a.animate(b,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===b.opacity&&a.css("opacity",v.opacity),h||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),n()}})}),t.effects.define("scale",function(e,n){var i=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"effect"!==r?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,n)}),t.effects.define("puff","hide",function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)}),t.effects.define("pulsate","show",function(e,n){var i=t(this),r=e.mode,o="show"===r,a=2*(e.times||5)+(o||"hide"===r?1:0),s=e.duration/a,c=0,l=1,u=i.queue().length;for(!o&&i.is(":visible")||(i.css("opacity",0).show(),c=1);l<a;l++)i.animate({opacity:c},s,e.easing),c=1-c;i.animate({opacity:c},s,e.easing),i.queue(n),t.effects.unshift(i,u,a+1)}),t.effects.define("shake",function(e,n){var i=1,r=t(this),o=e.direction||"left",a=e.distance||20,s=e.times||3,c=2*s+1,l=Math.round(e.duration/c),u="up"===o||"down"===o?"top":"left",h="up"===o||"left"===o,d={},p={},f={},g=r.queue().length;for(t.effects.createPlaceholder(r),d[u]=(h?"-=":"+=")+a,p[u]=(h?"+=":"-=")+2*a,f[u]=(h?"-=":"+=")+2*a,r.animate(d,l,e.easing);i<s;i++)r.animate(p,l,e.easing).animate(f,l,e.easing);r.animate(p,l,e.easing).animate(d,l/2,e.easing).queue(n),t.effects.unshift(r,g,c+1)}),t.effects.define("slide","show",function(e,n){var i,r,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=e.mode,c=e.direction||"left",l="up"===c||"down"===c?"top":"left",u="up"===c||"left"===c,h=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[l],d[l]=(u?-1:1)*h+r,d.clip=o.cssClip(),d.clip[a[c][1]]=d.clip[a[c][0]],"show"===s&&(o.cssClip(d.clip),o.css(l,d[l]),d.clip=i,d[l]=r),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),!1!==t.uiBackCompat&&t.effects.define("transfer",function(e,n){t(this).transfer(e,n)})}(i)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("n6bG"),r=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),c=n("NJ4a"),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o){var a;switch(_classCallCheck(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=r.a;break;case 1:if(!t){a.destination=r.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new u(_assertThisInitialized(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new u(_assertThisInitialized(a),t,i,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,i){var r=new n(t,e,i);return r.syncErrorThrowable=!1,r}}]),n}(o.a),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,s){var c,l;_classCallCheck(this,n),(c=e.call(this))._parentSubscriber=t;var u=_assertThisInitialized(c);return Object(i.a)(o)?l=o:o&&(l=o.next,a=o.error,s=o.complete,o!==r.a&&(u=Object.create(o),Object(i.a)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(_assertThisInitialized(c)))),c._context=u,c._next=l,c._error=a,c._complete=s,c}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(l)},"924u":function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return r});var i=n("fXoL"),r=function(){var e=function(){function e(){_classCallCheck(this,e),this.clear(),this.isChange=!0,this.worker=new Worker(t,{name:"pickup-fsec",type:void 0})}return _createClass(e,[{key:"clear",value:function(){this.fsecPickup={}}},{key:"getPickupFsecColumns",value:function(t,e){var n=new Array;t in this.fsecPickup&&(n=this.fsecPickup[t]);var i={};e in n&&(i=n[e]);for(var r=new Array,o=null,a={},s=0,c=Object.keys(i);s<c.length;s++){var l=i[c[s]],u={m:o===l.m?"":l.m,n:"n"in l?l.n:"",l:l.l.toFixed(3),fx:l.fx.toFixed(2),fy:l.fy.toFixed(2),fz:l.fz.toFixed(2),mx:l.mx.toFixed(2),my:l.my.toFixed(2),mz:l.mz.toFixed(2),case:l.case};a.n===u.n&&a.fx===u.fx&&a.fy===u.fy&&a.fz===u.fz&&a.mx===u.mx&&a.my===u.my&&a.mz===u.mz||(r.push(u),o=l.m,Object.assign(a,u))}return r}},{key:"setFsecPickupJson",value:function(t,e){var n=this,i={pickList:t,fsecCombine:e},r=performance.now();"undefined"!=typeof Worker&&(this.worker.onmessage=function(t){var e=t.data;n.fsecPickup=e.fsecPickup,n.isChange=!1,console.log("\u65ad\u9762\u529bfsec \u306e \u30d4\u30c3\u30af\u30a2\u30c3\u30d7 PickUp \u96c6\u8a08\u304c\u7d42\u308f\u308a\u307e\u3057\u305f",performance.now()-r)},this.worker.postMessage(i))}},{key:"getFsecJson",value:function(){return this.fsecPickup}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}).call(this,n("IFiM"))},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},C289:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return a});var i=n("fXoL"),r=n("H+DU"),o=n("Qs6e"),a=function(){var e=function(){function e(n,i){_classCallCheck(this,e),this.reac=n,this.pickreac=i,this.clear(),this.isChange=!0,this.worker=new Worker(t,{name:"combine-reac",type:void 0})}return _createClass(e,[{key:"clear",value:function(){this.reacCombine={}}},{key:"getCombineReacColumns",value:function(t,e){var n=new Array;t in this.reacCombine&&(n=this.reacCombine[t]);var i={};e in n&&(i=n[e]);for(var r=new Array,o=0,a=Object.keys(i);o<a.length;o++){var s=i[a[o]],c={id:s.id,tx:s.tx.toFixed(2),ty:s.ty.toFixed(2),tz:s.tz.toFixed(2),mx:s.mx.toFixed(2),my:s.my.toFixed(2),mz:s.mz.toFixed(2),case:s.case};r.push(c)}return r}},{key:"setReacCombineJson",value:function(t,e,n){var i=this,r={defList:t,combList:e,reac:this.reac.reac},o=performance.now();"undefined"!=typeof Worker&&(this.worker.onmessage=function(t){var e=t.data;i.reacCombine=e.reacCombine,i.isChange=!1,console.log("\u53cd\u529breac \u306e \u7d44\u307f\u5408\u308f\u305b Combine \u96c6\u8a08\u304c\u7d42\u308f\u308a\u307e\u3057\u305f",performance.now()-o),i.pickreac.setReacPickupJson(n,i.reacCombine)},this.worker.postMessage(r))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(r.a),i.Yb(o.a))},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}).call(this,n("CpDR"))},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("HDdC"),r=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),c=n("Lhse"),l=n("c2HN"),u=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new i.a(function(n){var i=new o.a;return i.add(e.schedule(function(){var r=t[a.a]();i.add(r.subscribe({next:function(t){i.add(e.schedule(function(){return n.next(t)}))},error:function(t){i.add(e.schedule(function(){return n.error(t)}))},complete:function(){i.add(e.schedule(function(){return n.complete()}))}}))})),i})}(t,e);if(Object(l.a)(t))return function(t,e){return new i.a(function(n){var i=new o.a;return i.add(e.schedule(function(){return t.then(function(t){i.add(e.schedule(function(){n.next(t),i.add(e.schedule(function(){return n.complete()}))}))},function(t){i.add(e.schedule(function(){return n.error(t)}))})})),i})}(t,e);if(Object(u.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(function(n){var i,r=new o.a;return r.add(function(){i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(function(){i=t[c.a](),r.add(e.schedule(function(){if(!n.closed){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.a?t:new i.a(Object(r.a)(t))}},CpDR:function(t,e,n){t.exports=n.p+"combine-reac-es5.352152671d94dad94ee8.worker.js"},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var i=n("3N8a"),r=new(n("IjjT").a)(i.a),o=r},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=Array.isArray||function(t){return t&&"number"==typeof t.length}},Dn7Z:function(t,e,n){t.exports=n.p+"pickup-reac-es5.a090e18406ef7edc3278.worker.js"},EVdn:function(t,e,n){var i;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],a=Object.getPrototypeOf,s=o.slice,c=o.flat?function(t){return o.flat.call(t)}:function(t){return o.concat.apply([],t)},l=o.push,u=o.indexOf,h={},d=h.toString,p=h.hasOwnProperty,f=p.toString,g=f.call(Object),m={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},_=n.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function C(t,e,n){var i,r,o=(n=n||_).createElement("script");if(o.text=t,e)for(i in y)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function x(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[d.call(t)]||"object":typeof t}var w=function t(e,n){return new t.fn.init(e,n)};function M(t){var e=!!t&&"length"in t&&t.length,n=x(t);return!v(t)&&!b(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}w.fn=w.prototype={jquery:"3.5.1",constructor:w,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(w.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},w.extend=w.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&a!==i&&(l&&i&&(w.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[e],o=r&&!Array.isArray(n)?[]:r||w.isPlainObject(n)?n:{},r=!1,a[e]=w.extend(l,o,i)):void 0!==i&&(a[e]=i));return a},w.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t)||(e=a(t))&&("function"!=typeof(n=p.call(e,"constructor")&&e.constructor)||f.call(n)!==g))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){C(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(M(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(M(Object(t))?w.merge(n,"string"==typeof t?[t]:t):l.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:u.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(M(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return c(a)},guid:1,support:m}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=o[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){h["[object "+e+"]"]=e.toLowerCase()});var O=function(t){var e,n,i,r,o,a,s,c,l,u,h,d,p,f,g,m,v,b,_,y="sizzle"+1*new Date,C=t.document,x=0,w=0,M=ct(),O=ct(),P=ct(),k=ct(),A=function(t,e){return t===e&&(h=!0),0},T={}.hasOwnProperty,S=[],E=S.pop,I=S.push,R=S.push,D=S.slice,N=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",z="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\[[\\x20\\t\\r\\n\\f]*("+j+")(?:"+z+"*([*^$|!~]?=)"+z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+z+"*\\]",q=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",B=new RegExp(z+"+","g"),U=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),V=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),W=new RegExp(z+"|>"),G=new RegExp(q),Q=new RegExp("^"+j+"$"),Y={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){d()},at=yt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{R.apply(S=D.call(C.childNodes),C.childNodes)}catch(Ot){R={apply:S.length?function(t,e){I.apply(t,D.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function st(t,e,i,r){var o,s,l,u,h,f,v,b=e&&e.ownerDocument,C=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==C&&9!==C&&11!==C)return i;if(!r&&(d(e),e=e||p,g)){if(11!==C&&(h=Z.exec(t)))if(o=h[1]){if(9===C){if(!(l=e.getElementById(o)))return i;if(l.id===o)return i.push(l),i}else if(b&&(l=b.getElementById(o))&&_(e,l)&&l.id===o)return i.push(l),i}else{if(h[2])return R.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return R.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!k[t+" "]&&(!m||!m.test(t))&&(1!==C||"object"!==e.nodeName.toLowerCase())){if(v=t,b=e,1===C&&(W.test(t)||V.test(t))){for((b=tt.test(t)&&vt(e.parentNode)||e)===e&&n.scope||((u=e.getAttribute("id"))?u=u.replace(it,rt):e.setAttribute("id",u=y)),s=(f=a(t)).length;s--;)f[s]=(u?"#"+u:":scope")+" "+_t(f[s]);v=f.join(",")}try{return R.apply(i,b.querySelectorAll(v)),i}catch(x){k(t,!0)}finally{u===y&&e.removeAttribute("id")}}}return c(t.replace(U,"$1"),e,i,r)}function ct(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function lt(t){return t[y]=!0,t}function ut(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(Ot){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function dt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return lt(function(e){return e=+e,lt(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},o=st.isXML=function(t){var e=(t.ownerDocument||t).documentElement;return!K.test(t.namespaceURI||e&&e.nodeName||"HTML")},d=st.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:C;return a!=p&&9===a.nodeType&&a.documentElement?(f=(p=a).documentElement,g=!o(p),C!=p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),n.scope=ut(function(t){return f.appendChild(t).appendChild(p.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=ut(function(t){return f.appendChild(t).id=y,!p.getElementsByName||!p.getElementsByName(y).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=J.test(p.querySelectorAll))&&(ut(function(t){var e;f.appendChild(t).innerHTML="<a id='"+y+"'></a><select id='"+y+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+L+")"),t.querySelectorAll("[id~="+y+"-]").length||m.push("~="),(e=p.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+y+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=J.test(b=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=b.call(t,"*"),b.call(t,"[s!='']:x"),v.push("!=",q)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(f.compareDocumentPosition),_=e||J.test(f.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==p||t.ownerDocument==C&&_(C,t)?-1:e==p||e.ownerDocument==C&&_(C,e)?1:u?N(u,t)-N(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t==p?-1:e==p?1:r?-1:o?1:u?N(u,t)-N(u,e):0;if(r===o)return dt(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?dt(a[i],s[i]):a[i]==C?-1:s[i]==C?1:0},p):p},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(d(t),n.matchesSelector&&g&&!k[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=b.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(Ot){k(e,!0)}return st(e,p,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=p&&d(t),_(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=p&&d(t);var r=i.attrHandle[e.toLowerCase()],o=r&&T.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},st.escape=function(t){return(t+"").replace(it,rt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(A),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return u=null,t},r=st.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=st.selectors={cacheLength:50,createPseudo:lt,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&G.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=M[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+z+"|$)"))&&M(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=st.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(B," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var l,u,h,d,p,f,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),b=!c&&!s,_=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&b){for(_=(p=(l=(u=(h=(d=m)[y]||(d[y]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===x&&l[1])&&l[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(_=p=0)||f.pop();)if(1===d.nodeType&&++_&&d===e){u[t]=[x,p,_];break}}else if(b&&(_=p=(l=(u=(h=(d=e)[y]||(d[y]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===x&&l[1]),!1===_)for(;(d=++p&&d&&d[g]||(_=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++_||(b&&((u=(h=d[y]||(d[y]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[x,_]),d!==e)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return r[y]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?lt(function(t,n){for(var i,o=r(t,e),a=o.length;a--;)t[i=N(t,o[a])]=!(n[i]=o[a])}):function(t){return r(t,0,n)}):r}},pseudos:{not:lt(function(t){var e=[],n=[],i=s(t.replace(U,"$1"));return i[y]?lt(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:lt(function(t){return function(e){return st(t,e).length>0}}),contains:lt(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}}),lang:lt(function(t){return Q.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return $.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt(function(){return[0]}),last:mt(function(t,e){return[e-1]}),eq:mt(function(t,e,n){return[n<0?n+e:n]}),even:mt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:mt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:mt(function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t}),gt:mt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ft(e);function bt(){}function _t(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function yt(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=w++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,c){var l,u,h,d=[x,s];if(c){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,c))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(u=(h=e[y]||(e[y]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=u[o])&&l[0]===x&&l[1]===s)return d[2]=l[2];if(u[o]=d,d[2]=t(e,n,c))return!0}return!1}}function Ct(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function xt(t,e,n,i,r){for(var o,a=[],s=0,c=t.length,l=null!=e;s<c;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),l&&e.push(s)));return a}function wt(t,e,n,i,r,o){return i&&!i[y]&&(i=wt(i)),r&&!r[y]&&(r=wt(r,o)),lt(function(o,a,s,c){var l,u,h,d=[],p=[],f=a.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)st(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),m=!t||!o&&e?g:xt(g,d,t,s,c),v=n?r||(o?t:f||i)?[]:a:m;if(n&&n(m,v,s,c),i)for(l=xt(v,p),i(l,[],s,c),u=l.length;u--;)(h=l[u])&&(v[p[u]]=!(m[p[u]]=h));if(o){if(r||t){if(r){for(l=[],u=v.length;u--;)(h=v[u])&&l.push(m[u]=h);r(null,v=[],l,c)}for(u=v.length;u--;)(h=v[u])&&(l=r?N(o,h):d[u])>-1&&(o[l]=!(a[l]=h))}}else v=xt(v===a?v.splice(f,v.length):v),r?r(null,a,v,c):R.apply(a,v)})}function Mt(t){for(var e,n,r,o=t.length,a=i.relative[t[0].type],s=a||i.relative[" "],c=a?1:0,u=yt(function(t){return t===e},s,!0),h=yt(function(t){return N(e,t)>-1},s,!0),d=[function(t,n,i){var r=!a&&(i||n!==l)||((e=n).nodeType?u(t,n,i):h(t,n,i));return e=null,r}];c<o;c++)if(n=i.relative[t[c].type])d=[yt(Ct(d),n)];else{if((n=i.filter[t[c].type].apply(null,t[c].matches))[y]){for(r=++c;r<o&&!i.relative[t[r].type];r++);return wt(c>1&&Ct(d),c>1&&_t(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(U,"$1"),n,c<r&&Mt(t.slice(c,r)),r<o&&Mt(t=t.slice(r)),r<o&&_t(t))}d.push(n)}return Ct(d)}return bt.prototype=i.filters=i.pseudos,i.setFilters=new bt,a=st.tokenize=function(t,e){var n,r,o,a,s,c,l,u=O[t+" "];if(u)return e?0:u.slice(0);for(s=t,c=[],l=i.preFilter;s;){for(a in n&&!(r=H.exec(s))||(r&&(s=s.slice(r[0].length)||s),c.push(o=[])),n=!1,(r=V.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(U," ")}),s=s.slice(n.length)),i.filter)!(r=Y[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):O(t,c).slice(0)},s=st.compile=function(t,e){var n,r=[],o=[],s=P[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=Mt(e[n]))[y]?r.push(s):o.push(s);(s=P(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,a,s,c,u){var h,f,m,v=0,b="0",_=o&&[],y=[],C=l,w=o||r&&i.find.TAG("*",u),M=x+=null==C?1:Math.random()||.1,O=w.length;for(u&&(l=a==p||a||u);b!==O&&null!=(h=w[b]);b++){if(r&&h){for(f=0,a||h.ownerDocument==p||(d(h),s=!g);m=t[f++];)if(m(h,a||p,s)){c.push(h);break}u&&(x=M)}n&&((h=!m&&h)&&v--,o&&_.push(h))}if(v+=b,n&&b!==v){for(f=0;m=e[f++];)m(_,y,a,s);if(o){if(v>0)for(;b--;)_[b]||y[b]||(y[b]=E.call(c));y=xt(y)}R.apply(c,y),u&&!o&&y.length>0&&v+e.length>1&&st.uniqueSort(c)}return u&&(x=M,l=C),_};return n?lt(o):o}(o,r))).selector=t}return s},c=st.select=function(t,e,n,r){var o,c,l,u,h,d="function"==typeof t&&t,p=!r&&a(t=d.selector||t);if(n=n||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&9===e.nodeType&&g&&i.relative[c[1].type]){if(!(e=(i.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(o=Y.needsContext.test(t)?0:c.length;o--&&!i.relative[u=(l=c[o]).type];)if((h=i.find[u])&&(r=h(l.matches[0].replace(et,nt),tt.test(c[0].type)&&vt(e.parentNode)||e))){if(c.splice(o,1),!(t=r.length&&_t(c)))return R.apply(n,r),n;break}}return(d||s(t,p))(r,e,!g,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=y.split("").sort(A).join("")===y,n.detectDuplicates=!!h,d(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ht("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ht("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||ht(L,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),st}(n);w.find=O,(w.expr=O.selectors)[":"]=w.expr.pseudos,w.uniqueSort=w.unique=O.uniqueSort,w.text=O.getText,w.isXMLDoc=O.isXML,w.contains=O.contains,w.escapeSelector=O.escape;var P=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&w(t).is(n))break;i.push(t)}return i},k=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},A=w.expr.match.needsContext;function T(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function E(t,e,n){return v(e)?w.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?w.grep(t,function(t){return t===e!==n}):"string"!=typeof e?w.grep(t,function(t){return u.call(e,t)>-1!==n}):w.filter(e,t,n)}w.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?w.find.matchesSelector(i,t)?[i]:[]:w.find.matches(t,w.grep(e,function(t){return 1===t.nodeType}))},w.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(w(t).filter(function(){for(e=0;e<i;e++)if(w.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)w.find(t,r[e],n);return i>1?w.uniqueSort(n):n},filter:function(t){return this.pushStack(E(this,t||[],!1))},not:function(t){return this.pushStack(E(this,t||[],!0))},is:function(t){return!!E(this,"string"==typeof t&&A.test(t)?w(t):t||[],!1).length}});var I,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||I,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(w.merge(this,w.parseHTML(i[1],(e=e instanceof w?e[0]:e)&&e.nodeType?e.ownerDocument||e:_,!0)),S.test(i[1])&&w.isPlainObject(e))for(i in e)v(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=_.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,I=w(_);var D=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(w.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&w(t);if(!A.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?u.call(w(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return P(t,"parentNode")},parentsUntil:function(t,e,n){return P(t,"parentNode",n)},next:function(t){return L(t,"nextSibling")},prev:function(t){return L(t,"previousSibling")},nextAll:function(t){return P(t,"nextSibling")},prevAll:function(t){return P(t,"previousSibling")},nextUntil:function(t,e,n){return P(t,"nextSibling",n)},prevUntil:function(t,e,n){return P(t,"previousSibling",n)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){return null!=t.contentDocument&&a(t.contentDocument)?t.contentDocument:(T(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},function(t,e){w.fn[t]=function(n,i){var r=w.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=w.filter(i,r)),this.length>1&&(N[t]||w.uniqueSort(r),D.test(t)&&r.reverse()),this.pushStack(r)}});var z=/[^\x20\t\r\n\f]+/g;function j(t){return t}function F(t){throw t}function q(t,e,n,i){var r;try{t&&v(r=t.promise)?r.call(t).done(e).fail(n):t&&v(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}w.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return w.each(t.match(z)||[],function(t,n){e[n]=!0}),e}(t):w.extend({},t);var e,n,i,r,o=[],a=[],s=-1,c=function(){for(r=r||t.once,i=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){w.each(n,function(n,i){v(i)?t.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==x(i)&&e(i)})}(arguments),n&&!e&&c()),this},remove:function(){return w.each(arguments,function(t,e){for(var n;(n=w.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?w.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},w.extend({Deferred:function(t){var e=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return w.Deferred(function(n){w.each(e,function(e,i){var r=v(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function a(t,e,i,r){return function(){var s=this,c=arguments,l=function(){var n,l;if(!(t<o)){if((n=i.apply(s,c))===e.promise())throw new TypeError("Thenable self-resolution");v(l=n&&("object"==typeof n||"function"==typeof n)&&n.then)?r?l.call(n,a(o,e,j,r),a(o,e,F,r)):(o++,l.call(n,a(o,e,j,r),a(o,e,F,r),a(o,e,j,e.notifyWith))):(i!==j&&(s=void 0,c=[n]),(r||e.resolveWith)(s,c))}},u=r?l:function(){try{l()}catch(n){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(n,u.stackTrace),t+1>=o&&(i!==F&&(s=void 0,c=[n]),e.rejectWith(s,c))}};t?u():(w.Deferred.getStackHook&&(u.stackTrace=w.Deferred.getStackHook()),n.setTimeout(u))}}return w.Deferred(function(n){e[0][3].add(a(0,n,v(r)?r:j,n.notifyWith)),e[1][3].add(a(0,n,v(t)?t:j)),e[2][3].add(a(0,n,v(i)?i:F))}).promise()},promise:function(t){return null!=t?w.extend(t,r):r}},o={};return w.each(e,function(t,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add(function(){i=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=s.call(arguments),o=w.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?s.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(q(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||v(r[n]&&r[n].then)))return o.then();for(;n--;)q(r[n],a(n),o.reject);return o.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&B.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},w.readyException=function(t){n.setTimeout(function(){throw t})};var U=w.Deferred();function H(){_.removeEventListener("DOMContentLoaded",H),n.removeEventListener("load",H),w.ready()}w.fn.ready=function(t){return U.then(t).catch(function(t){w.readyException(t)}),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==t&&--w.readyWait>0||U.resolveWith(_,[w]))}}),w.ready.then=U.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?n.setTimeout(w.ready):(_.addEventListener("DOMContentLoaded",H),n.addEventListener("load",H));var V=function t(e,n,i,r,o,a,s){var c=0,l=e.length,u=null==i;if("object"===x(i))for(c in o=!0,i)t(e,n,c,i[c],!0,a,s);else if(void 0!==r&&(o=!0,v(r)||(s=!0),u&&(s?(n.call(e,r),n=null):(u=n,n=function(t,e,n){return u.call(w(t),n)})),n))for(;c<l;c++)n(e[c],i,s?r:r.call(e[c],c,n(e[c],i)));return o?e:u?n.call(e):l?n(e[0],i):a},W=/^-ms-/,G=/-([a-z])/g;function Q(t,e){return e.toUpperCase()}function Y(t){return t.replace(W,"ms-").replace(G,Q)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=w.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[Y(e)]=n;else for(i in e)r[Y(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Y(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Y):(e=Y(e))in i?[e]:e.match(z)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||w.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var $=new X,J=new X,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tt=/[A-Z]/g;function et(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(tt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Z.test(t)?JSON.parse(t):t)}(n)}catch(r){}J.set(t,e,n)}else n=void 0;return n}w.extend({hasData:function(t){return J.hasData(t)||$.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return $.access(t,e,n)},_removeData:function(t,e){$.remove(t,e)}}),w.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=J.get(o),1===o.nodeType&&!$.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=Y(i.slice(5)),et(o,i,r[i]));$.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){J.set(this,t)}):V(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=J.get(o,t))||void 0!==(n=et(o,t))?n:void 0;this.each(function(){J.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){J.remove(this,t)})}}),w.extend({queue:function(t,e,n){var i;if(t)return i=$.get(t,e=(e||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=$.access(t,e,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){var n=w.queue(t,e=e||"fx"),i=n.length,r=n.shift(),o=w._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){w.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return $.get(t,n)||$.access(t,n,{empty:w.Callbacks("once memory").add(function(){$.remove(t,[e+"queue",n])})})}}),w.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?w.queue(this[0],t):void 0===e?this:this.each(function(){var n=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&w.dequeue(this,t)})},dequeue:function(t){return this.each(function(){w.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=w.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=$.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],ot=_.documentElement,at=function(t){return w.contains(t.ownerDocument,t)},st={composed:!0};ot.getRootNode&&(at=function(t){return w.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var ct=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===w.css(t,"display")};function lt(t,e,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return w.css(t,e,"")},c=s(),l=n&&n[3]||(w.cssNumber[e]?"":"px"),u=t.nodeType&&(w.cssNumber[e]||"px"!==l&&+c)&&it.exec(w.css(t,e));if(u&&u[3]!==l){for(l=l||u[3],u=+(c/=2)||1;a--;)w.style(t,e,u+l),(1-o)*(1-(o=s()/c||.5))<=0&&(a=0),u/=o;w.style(t,e,(u*=2)+l),n=n||[]}return n&&(u=+u||+c||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=u,i.end=r)),r}var ut={};function ht(t){var e,n=t.ownerDocument,i=t.nodeName,r=ut[i];return r||(e=n.body.appendChild(n.createElement(i)),r=w.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ut[i]=r,r)}function dt(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=$.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ct(i)&&(r[o]=ht(i))):"none"!==n&&(r[o]="none",$.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}w.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ct(this)?w(this).show():w(this).hide()})}});var pt,ft,gt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i;pt=_.createDocumentFragment().appendChild(_.createElement("div")),(ft=_.createElement("input")).setAttribute("type","radio"),ft.setAttribute("checked","checked"),ft.setAttribute("name","t"),pt.appendChild(ft),m.checkClone=pt.cloneNode(!0).cloneNode(!0).lastChild.checked,pt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!pt.cloneNode(!0).lastChild.defaultValue,pt.innerHTML="<option></option>",m.option=!!pt.lastChild;var bt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _t(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&T(t,e)?w.merge([t],n):n}function yt(t,e){for(var n=0,i=t.length;n<i;n++)$.set(t[n],"globalEval",!e||$.get(e[n],"globalEval"))}bt.tbody=bt.tfoot=bt.colgroup=bt.caption=bt.thead,bt.th=bt.td,m.option||(bt.optgroup=bt.option=[1,"<select multiple='multiple'>","</select>"]);var Ct=/<|&#?\w+;/;function xt(t,e,n,i,r){for(var o,a,s,c,l,u,h=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((o=t[p])||0===o)if("object"===x(o))w.merge(d,o.nodeType?[o]:o);else if(Ct.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(mt.exec(o)||["",""])[1].toLowerCase(),a.innerHTML=(c=bt[s]||bt._default)[1]+w.htmlPrefilter(o)+c[2],u=c[0];u--;)a=a.lastChild;w.merge(d,a.childNodes),(a=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",p=0;o=d[p++];)if(i&&w.inArray(o,i)>-1)r&&r.push(o);else if(l=at(o),a=_t(h.appendChild(o),"script"),l&&yt(a),n)for(u=0;o=a[u++];)vt.test(o.type||"")&&n.push(o);return h}var wt=/^key/,Mt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ot=/^([^.]*)(?:\.(.+)|)/;function Pt(){return!0}function kt(){return!1}function At(t,e){return t===function(){try{return _.activeElement}catch(t){}}()==("focus"===e)}function Tt(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)Tt(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=kt;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return w().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),t.each(function(){w.event.add(this,e,r,i,n)})}function St(t,e,n){n?($.set(t,e,!1),w.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=$.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(w.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=s.call(arguments),$.set(this,e,o),i=n(this,e),this[e](),o!==(r=$.get(this,e))||i?$.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&($.set(this,e,{value:w.event.trigger(w.extend(o[0],w.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===$.get(t,e)&&w.event.add(t,e,Pt)}w.event={global:{},add:function(t,e,n,i,r){var o,a,s,c,l,u,h,d,p,f,g,m=$.get(t);if(K(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&w.find.matchesSelector(ot,r),n.guid||(n.guid=w.guid++),(c=m.events)||(c=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(z)||[""]).length;l--;)p=g=(s=Ot.exec(e[l])||[])[1],f=(s[2]||"").split(".").sort(),p&&(h=w.event.special[p]||{},h=w.event.special[p=(r?h.delegateType:h.bindType)||p]||{},u=w.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=c[p])||((d=c[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,f,a)||t.addEventListener&&t.addEventListener(p,a)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),w.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,a,s,c,l,u,h,d,p,f,g,m=$.hasData(t)&&$.get(t);if(m&&(c=m.events)){for(l=(e=(e||"").match(z)||[""]).length;l--;)if(p=g=(s=Ot.exec(e[l])||[])[1],f=(s[2]||"").split(".").sort(),p){for(h=w.event.special[p]||{},d=c[p=(i?h.delegateType:h.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)u=d[o],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,m.handle)||w.removeEvent(t,p,m.handle),delete c[p])}else for(p in c)w.event.remove(t,p+e[l],n,i,!0);w.isEmptyObject(c)&&$.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=new Array(arguments.length),c=w.event.fix(t),l=($.get(this,"events")||Object.create(null))[c.type]||[],u=w.event.special[c.type]||{};for(s[0]=c,e=1;e<arguments.length;e++)s[e]=arguments[e];if(c.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,c)){for(a=w.event.handlers.call(this,c,l),e=0;(r=a[e++])&&!c.isPropagationStopped();)for(c.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==o.namespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(i=((w.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,c),c.result}},handlers:function(t,e){var n,i,r,o,a,s=[],c=e.delegateCount,l=t.target;if(c&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],a={},n=0;n<c;n++)void 0===a[r=(i=e[n]).selector+" "]&&(a[r]=i.needsContext?w(r,this).index(l)>-1:w.find(r,this,null,[l]).length),a[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return l=this,c<e.length&&s.push({elem:l,handlers:e.slice(c)}),s},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&T(e,"input")&&St(e,"click",Pt),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&T(e,"input")&&St(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&T(e,"input")&&$.get(e,"click")||T(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},(w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Pt:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0}).prototype={constructor:w.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Pt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Pt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Pt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&wt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Mt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(t,e){w.event.special[t]={setup:function(){return St(this,t,At),!1},trigger:function(){return St(this,t),!0},delegateType:e}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||w.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),w.fn.extend({on:function(t,e,n,i){return Tt(this,t,e,n,i)},one:function(t,e,n,i){return Tt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,w(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=kt),this.each(function(){w.event.remove(this,t,n,e)})}});var Et=/<script|<style|<link/i,It=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Dt(t,e){return T(t,"table")&&T(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function Nt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Lt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function zt(t,e){var n,i,r,o,a,s;if(1===e.nodeType){if($.hasData(t)&&(s=$.get(t).events))for(r in $.remove(e,"handle events"),s)for(n=0,i=s[r].length;n<i;n++)w.event.add(e,r,s[r][n]);J.hasData(t)&&(o=J.access(t),a=w.extend({},o),J.set(e,a))}}function jt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&gt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Ft(t,e,n,i){e=c(e);var r,o,a,s,l,u,h=0,d=t.length,p=d-1,f=e[0],g=v(f);if(g||d>1&&"string"==typeof f&&!m.checkClone&&It.test(f))return t.each(function(r){var o=t.eq(r);g&&(e[0]=f.call(this,r,o.html())),Ft(o,e,n,i)});if(d&&(o=(r=xt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=w.map(_t(r,"script"),Nt)).length;h<d;h++)l=r,h!==p&&(l=w.clone(l,!0,!0),s&&w.merge(a,_t(l,"script"))),n.call(t[h],l,h);if(s)for(u=a[a.length-1].ownerDocument,w.map(a,Lt),h=0;h<s;h++)vt.test((l=a[h]).type||"")&&!$.access(l,"globalEval")&&w.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&!l.noModule&&w._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):C(l.textContent.replace(Rt,""),l,u))}return t}function qt(t,e,n){for(var i,r=e?w.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||w.cleanData(_t(i)),i.parentNode&&(n&&at(i)&&yt(_t(i,"script")),i.parentNode.removeChild(i));return t}w.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),c=at(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(a=_t(s),i=0,r=(o=_t(t)).length;i<r;i++)jt(o[i],a[i]);if(e)if(n)for(o=o||_t(t),a=a||_t(s),i=0,r=o.length;i<r;i++)zt(o[i],a[i]);else zt(t,s);return(a=_t(s,"script")).length>0&&yt(a,!c&&_t(t,"script")),s},cleanData:function(t){for(var e,n,i,r=w.event.special,o=0;void 0!==(n=t[o]);o++)if(K(n)){if(e=n[$.expando]){if(e.events)for(i in e.events)r[i]?w.event.remove(n,i):w.removeEvent(n,i,e.handle);n[$.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),w.fn.extend({detach:function(t){return qt(this,t,!0)},remove:function(t){return qt(this,t)},text:function(t){return V(this,function(t){return void 0===t?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ft(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Dt(this,t).appendChild(t)})},prepend:function(){return Ft(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Dt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ft(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ft(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(_t(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return w.clone(this,t,e)})},html:function(t){return V(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Et.test(t)&&!bt[(mt.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(w.cleanData(_t(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Ft(this,arguments,function(e){var n=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(_t(this)),n&&n.replaceChild(e,this))},t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){w.fn[t]=function(t){for(var n,i=[],r=w(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(r[a])[e](n),l.apply(i,n.get());return this.pushStack(i)}});var Bt=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),Ut=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ht=function(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=o[r];return i},Vt=new RegExp(rt.join("|"),"i");function Wt(t,e,n){var i,r,o,a,s=t.style;return(n=n||Ut(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||at(t)||(a=w.style(t,e)),!m.pixelBoxStyles()&&Bt.test(a)&&Vt.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Gt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(l).appendChild(u);var t=n.getComputedStyle(u);i="1%"!==t.top,c=12===e(t.marginLeft),u.style.right="60%",a=36===e(t.right),r=36===e(t.width),u.style.position="absolute",o=12===e(u.offsetWidth/3),ot.removeChild(l),u=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,s,c,l=_.createElement("div"),u=_.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===u.style.backgroundClip,w.extend(m,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,e,i,r;return null==s&&(t=_.createElement("table"),e=_.createElement("tr"),i=_.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",i.style.height="9px",ot.appendChild(t).appendChild(e).appendChild(i),r=n.getComputedStyle(e),s=parseInt(r.height)>3,ot.removeChild(t)),s}}))}();var Qt=["Webkit","Moz","ms"],Yt=_.createElement("div").style,Kt={};function Xt(t){return w.cssProps[t]||Kt[t]||(t in Yt?t:Kt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Qt.length;n--;)if((t=Qt[n]+e)in Yt)return t}(t)||t)}var $t=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Zt={position:"absolute",visibility:"hidden",display:"block"},te={letterSpacing:"0",fontWeight:"400"};function ee(t,e,n){var i=it.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ne(t,e,n,i,r,o){var a="width"===e?1:0,s=0,c=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=w.css(t,n+rt[a],!0,r)),i?("content"===n&&(c-=w.css(t,"padding"+rt[a],!0,r)),"margin"!==n&&(c-=w.css(t,"border"+rt[a]+"Width",!0,r))):(c+=w.css(t,"padding"+rt[a],!0,r),"padding"!==n?c+=w.css(t,"border"+rt[a]+"Width",!0,r):s+=w.css(t,"border"+rt[a]+"Width",!0,r));return!i&&o>=0&&(c+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-c-s-.5))||0),c}function ie(t,e,n){var i=Ut(t),r=(!m.boxSizingReliable()||n)&&"border-box"===w.css(t,"boxSizing",!1,i),o=r,a=Wt(t,e,i),s="offset"+e[0].toUpperCase()+e.slice(1);if(Bt.test(a)){if(!n)return a;a="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&T(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===w.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===w.css(t,"boxSizing",!1,i),(o=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+ne(t,e,n||(r?"border":"content"),o,i,a)+"px"}function re(t,e,n,i,r){return new re.prototype.init(t,e,n,i,r)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Wt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=Y(e),c=Jt.test(e),l=t.style;if(c||(e=Xt(s)),a=w.cssHooks[e]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:l[e];"string"==(o=typeof n)&&(r=it.exec(n))&&r[1]&&(n=lt(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||c||(n+=r&&r[3]||(w.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(c?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,i){var r,o,a,s=Y(e);return Jt.test(e)||(e=Xt(s)),(a=w.cssHooks[e]||w.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Wt(t,e,i)),"normal"===r&&e in te&&(r=te[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),w.each(["height","width"],function(t,e){w.cssHooks[e]={get:function(t,n,i){if(n)return!$t.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ie(t,e,i):Ht(t,Zt,function(){return ie(t,e,i)})},set:function(t,n,i){var r,o=Ut(t),a=!m.scrollboxSize()&&"absolute"===o.position,s=(a||i)&&"border-box"===w.css(t,"boxSizing",!1,o),c=i?ne(t,e,i,s,o):0;return s&&a&&(c-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ne(t,e,"border",!1,o)-.5)),c&&(r=it.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=w.css(t,e)),ee(0,n,c)}}}),w.cssHooks.marginLeft=Gt(m.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-Ht(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(t,e){w.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+rt[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(w.cssHooks[t+e].set=ee)}),w.fn.extend({css:function(t,e){return V(this,function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=Ut(t),r=e.length;a<r;a++)o[e[a]]=w.css(t,e[a],!1,i);return o}return void 0!==n?w.style(t,e,n):w.css(t,e)},t,e,arguments.length>1)}}),w.Tween=re,(re.prototype={constructor:re,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var t=re.propHooks[this.prop];return t&&t.get?t.get(this):re.propHooks._default.get(this)},run:function(t){var e,n=re.propHooks[this.prop];return this.pos=e=this.options.duration?w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):re.propHooks._default.set(this),this}}).init.prototype=re.prototype,(re.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||!w.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=re.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},(w.fx=re.prototype.init).step={};var oe,ae,se=/^(?:toggle|show|hide)$/,ce=/queueHooks$/;function le(){ae&&(!1===_.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(le):n.setTimeout(le,w.fx.interval),w.fx.tick())}function ue(){return n.setTimeout(function(){oe=void 0}),oe=Date.now()}function he(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=rt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function de(t,e,n){for(var i,r=(pe.tweeners[e]||[]).concat(pe.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function pe(t,e,n){var i,r,o=0,a=pe.prefilters.length,s=w.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=oe||ue(),n=Math.max(0,l.startTime+l.duration-e),i=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(i);return s.notifyWith(t,[l,i,n]),i<1&&a?n:(a||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:e,originalOptions:n,startTime:oe||ue(),duration:n.duration,tweens:[],createTween:function(e,n){var i=w.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),u=l.props;for(function(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=Y(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=w.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(u,l.opts.specialEasing);o<a;o++)if(i=pe.prefilters[o].call(l,t,u,l.opts))return v(i.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return w.map(u,de,l),v(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(pe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return lt(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(z);for(var n,i=0,r=t.length;i<r;i++)(pe.tweeners[n=t[i]]=pe.tweeners[n]||[]).unshift(e)},prefilters:[function(t,e,n){var i,r,o,a,s,c,l,u,h="width"in e||"height"in e,d=this,p={},f=t.style,g=t.nodeType&&ct(t),m=$.get(t,"fxshow");for(i in n.queue||(null==(a=w._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,w.queue(t,"fx").length||a.empty.fire()})})),e)if(se.test(r=e[i])){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}p[i]=m&&m[i]||w.style(t,i)}if((c=!w.isEmptyObject(e))||!w.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(l=m&&m.display)&&(l=$.get(t,"display")),"none"===(u=w.css(t,"display"))&&(l?u=l:(dt([t],!0),l=t.style.display||l,u=w.css(t,"display"),dt([t]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===w.css(t,"float")&&(c||(d.done(function(){f.display=l}),null==l&&(l="none"===(u=f.display)?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),c=!1,p)c||(m?"hidden"in m&&(g=m.hidden):m=$.access(t,"fxshow",{display:l}),o&&(m.hidden=!g),g&&dt([t],!0),d.done(function(){for(i in g||dt([t]),$.remove(t,"fxshow"),p)w.style(t,i,p[i])})),c=de(g?m[i]:0,i,d),i in m||(m[i]=c.start,g&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?pe.prefilters.unshift(t):pe.prefilters.push(t)}}),w.speed=function(t,e,n){var i=t&&"object"==typeof t?w.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in w.fx.speeds?w.fx.speeds[i.duration]:w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ct).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=w.isEmptyObject(t),o=w.speed(e,n,i),a=function(){var e=pe(this,w.extend({},t),o);(r||$.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=w.timers,a=$.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ce.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||w.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=$.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=w.timers,a=i?i.length:0;for(n.finish=!0,w.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(t,e){var n=w.fn[e];w.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(he(e,!0),t,i,r)}}),w.each({slideDown:he("show"),slideUp:he("hide"),slideToggle:he("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){w.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),w.timers=[],w.fx.tick=function(){var t,e=0,n=w.timers;for(oe=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||w.fx.stop(),oe=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){ae||(ae=!0,le())},w.fx.stop=function(){ae=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,e){return t=w.fx&&w.fx.speeds[t]||t,this.queue(e=e||"fx",function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=_.createElement("input"),e=_.createElement("select").appendChild(_.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=_.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var fe,ge=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return V(this,w.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){w.removeAttr(this,t)})}}),w.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?w.prop(t,e,n):(1===o&&w.isXMLDoc(t)||(r=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?fe:void 0)),void 0!==n?null===n?void w.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=w.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&T(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(z);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),fe={set:function(t,e,n){return!1===e?w.removeAttr(t,n):t.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ge[e]||w.find.attr;ge[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=ge[a],ge[a]=r,r=null!=n(t,e,i)?a:null,ge[a]=o),r}});var me=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function be(t){return(t.match(z)||[]).join(" ")}function _e(t){return t.getAttribute&&t.getAttribute("class")||""}function ye(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(z)||[]}w.fn.extend({prop:function(t,e){return V(this,w.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[w.propFix[t]||t]})}}),w.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(t)||(r=w.propHooks[e=w.propFix[e]||e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):me.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(w.propHooks.selected={get:function(t){return null},set:function(t){}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,c=0;if(v(t))return this.each(function(e){w(this).addClass(t.call(this,e,_e(this)))});if((e=ye(t)).length)for(;n=this[c++];)if(r=_e(n),i=1===n.nodeType&&" "+be(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=be(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,c=0;if(v(t))return this.each(function(e){w(this).removeClass(t.call(this,e,_e(this)))});if(!arguments.length)return this.attr("class","");if((e=ye(t)).length)for(;n=this[c++];)if(r=_e(n),i=1===n.nodeType&&" "+be(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=be(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):v(t)?this.each(function(n){w(this).toggleClass(t.call(this,n,_e(this),e),e)}):this.each(function(){var e,r,o,a;if(i)for(r=0,o=w(this),a=ye(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=_e(this))&&$.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":$.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+be(_e(n))+" ").indexOf(e)>-1)return!0;return!1}});var Ce=/\r/g;w.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=v(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,w(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=w.map(r,function(t){return null==t?"":t+""})),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Ce,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:be(w.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],c=a?o+1:r.length;for(i=o<0?c:a?o:0;i<c;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(e=w(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=w.makeArray(e),a=r.length;a--;)((i=r[a]).selected=w.inArray(w.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=w.inArray(w(t).val(),e)>-1}},m.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),m.focusin="onfocusin"in n;var xe=/^(?:focusinfocus|focusoutblur)$/,we=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(t,e,i,r){var o,a,s,c,l,u,h,d,f=[i||_],g=p.call(t,"type")?t.type:t,m=p.call(t,"namespace")?t.namespace.split("."):[];if(a=d=s=i=i||_,3!==i.nodeType&&8!==i.nodeType&&!xe.test(g+w.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),l=g.indexOf(":")<0&&"on"+g,(t=t[w.expando]?t:new w.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:w.makeArray(e,[t]),h=w.event.special[g]||{},r||!h.trigger||!1!==h.trigger.apply(i,e))){if(!r&&!h.noBubble&&!b(i)){for(xe.test((c=h.delegateType||g)+g)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||_)&&f.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)d=a,t.type=o>1?c:h.bindType||g,(u=($.get(a,"events")||Object.create(null))[t.type]&&$.get(a,"handle"))&&u.apply(a,e),(u=l&&a[l])&&u.apply&&K(a)&&(t.result=u.apply(a,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),e)||!K(i)||l&&v(i[g])&&!b(i)&&((s=i[l])&&(i[l]=null),w.event.triggered=g,t.isPropagationStopped()&&d.addEventListener(g,we),i[g](),t.isPropagationStopped()&&d.removeEventListener(g,we),w.event.triggered=void 0,s&&(i[l]=s)),t.result}},simulate:function(t,e,n){var i=w.extend(new w.Event,n,{type:t,isSimulated:!0});w.event.trigger(i,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each(function(){w.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return w.event.trigger(t,e,n,!0)}}),m.focusin||w.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=$.access(i,e);r||i.addEventListener(t,n,!0),$.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=$.access(i,e)-1;r?$.access(i,e,r):(i.removeEventListener(t,n,!0),$.remove(i,e))}}});var Me=n.location,Oe={guid:Date.now()},Pe=/\?/;w.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(i){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),e};var ke=/\[\]$/,Ae=/\r?\n/g,Te=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Ee(t,e,n,i){var r;if(Array.isArray(e))w.each(e,function(e,r){n||ke.test(t)?i(t,r):Ee(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==x(e))i(t,e);else for(r in e)Ee(t+"["+r+"]",e[r],n,i)}w.param=function(t,e){var n,i=[],r=function(t,e){var n=v(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,function(){r(this.name,this.value)});else for(n in t)Ee(n,t[n],e,r);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Se.test(this.nodeName)&&!Te.test(t)&&(this.checked||!gt.test(t))}).map(function(t,e){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}});var Ie=/%20/g,Re=/#.*$/,De=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,Le=/^(?:GET|HEAD)$/,ze=/^\/\//,je={},Fe={},qe="*/".concat("*"),Be=_.createElement("a");function Ue(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(z)||[];if(v(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function He(t,e,n,i){var r={},o=t===Fe;function a(s){var c;return r[s]=!0,w.each(t[s]||[],function(t,s){var l=s(e,n,i);return"string"!=typeof l||o||r[l]?o?!(c=l):void 0:(e.dataTypes.unshift(l),a(l),!1)}),c}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Ve(t,e){var n,i,r=w.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&w.extend(!0,t,i),t}Be.href=Me.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Me.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Me.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ve(Ve(t,w.ajaxSettings),e):Ve(w.ajaxSettings,t)},ajaxPrefilter:Ue(je),ajaxTransport:Ue(Fe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var i,r,o,a,s,c,l,u,h,d,p=w.ajaxSetup({},e=e||{}),f=p.context||p,g=p.context&&(f.nodeType||f.jquery)?w(f):w.event,m=w.Deferred(),v=w.Callbacks("once memory"),b=p.statusCode||{},y={},C={},x="canceled",M={readyState:0,getResponseHeader:function(t){var e;if(l){if(!a)for(a={};e=Ne.exec(o);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(t,e){return null==l&&(t=C[t.toLowerCase()]=C[t.toLowerCase()]||t,y[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)M.always(t[M.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||x;return i&&i.abort(e),O(0,e),this}};if(m.promise(M),p.url=((t||p.url||Me.href)+"").replace(ze,Me.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(z)||[""],null==p.crossDomain){c=_.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Be.protocol+"//"+Be.host!=c.protocol+"//"+c.host}catch(P){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),He(je,p,e,M),l)return M;for(h in(u=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Le.test(p.type),r=p.url.replace(Re,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ie,"+")):(d=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(Pe.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(De,"$1"),d=(Pe.test(r)?"&":"?")+"_="+Oe.guid+++d),p.url=r+d),p.ifModified&&(w.lastModified[r]&&M.setRequestHeader("If-Modified-Since",w.lastModified[r]),w.etag[r]&&M.setRequestHeader("If-None-Match",w.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&M.setRequestHeader("Content-Type",p.contentType),M.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+qe+"; q=0.01":""):p.accepts["*"]),p.headers)M.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(f,M,p)||l))return M.abort();if(x="abort",v.add(p.complete),M.done(p.success),M.fail(p.error),i=He(Fe,p,e,M)){if(M.readyState=1,u&&g.trigger("ajaxSend",[M,p]),l)return M;p.async&&p.timeout>0&&(s=n.setTimeout(function(){M.abort("timeout")},p.timeout));try{l=!1,i.send(y,O)}catch(P){if(l)throw P;O(-1,P)}}else O(-1,"No Transport");function O(t,e,a,c){var h,d,_,y,C,x=e;l||(l=!0,s&&n.clearTimeout(s),i=void 0,o=c||"",M.readyState=t>0?4:0,h=t>=200&&t<300||304===t,a&&(y=function(t,e,n){for(var i,r,o,a,s=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}(p,M,a)),!h&&w.inArray("script",p.dataTypes)>-1&&(p.converters["text script"]=function(){}),y=function(t,e,n,i){var r,o,a,s,c,l={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=l[c+" "+o]||l["* "+o]))for(r in l)if((s=r.split(" "))[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[r]:!0!==l[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(P){return{state:"parsererror",error:a?P:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}(p,y,M,h),h?(p.ifModified&&((C=M.getResponseHeader("Last-Modified"))&&(w.lastModified[r]=C),(C=M.getResponseHeader("etag"))&&(w.etag[r]=C)),204===t||"HEAD"===p.type?x="nocontent":304===t?x="notmodified":(x=y.state,d=y.data,h=!(_=y.error))):(_=x,!t&&x||(x="error",t<0&&(t=0))),M.status=t,M.statusText=(e||x)+"",h?m.resolveWith(f,[d,x,M]):m.rejectWith(f,[M,x,_]),M.statusCode(b),b=void 0,u&&g.trigger(h?"ajaxSuccess":"ajaxError",[M,p,h?d:_]),v.fireWith(f,[M,x]),u&&(g.trigger("ajaxComplete",[M,p]),--w.active||w.event.trigger("ajaxStop")))}return M},getJSON:function(t,e,n){return w.get(t,e,n,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],function(t,e){w[e]=function(t,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),w.ajax(w.extend({url:t,type:e,dataType:r,data:n,success:i},w.isPlainObject(t)&&t))}}),w.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),w._evalUrl=function(t,e,n){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){w.globalEval(t,e,n)}})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return v(t)?this.each(function(e){w(this).wrapInner(t.call(this,e))}):this.each(function(){var e=w(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=v(t);return this.each(function(n){w(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},Ge=w.ajaxSettings.xhr();m.cors=!!Ge&&"withCredentials"in Ge,m.ajax=Ge=!!Ge,w.ajaxTransport(function(t){var e,i;if(m.cors||Ge&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(We[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(c){if(e)throw c}},abort:function(){e&&e()}}}),w.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),w.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=w("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),_.head.appendChild(e[0])},abort:function(){n&&n()}}});var Qe,Ye=[],Ke=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||w.expando+"_"+Oe.guid++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,a,s=!1!==t.jsonp&&(Ke.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ke,"$1"+r):!1!==t.jsonp&&(t.url+=(Pe.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||w.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){void 0===o?w(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(r)),a&&v(o)&&o(a[0]),a=o=void 0}),"script"}),m.createHTMLDocument=((Qe=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Qe.childNodes.length),w.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,e.head.appendChild(i)):e=_),o=!n&&[],(r=S.exec(t))?[e.createElement(r[1])]:(r=xt([t],e,o),o&&o.length&&w(o).remove(),w.merge([],r.childNodes)));var i,r,o},w.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=be(t.slice(s)),t=t.slice(0,s)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&w.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?w("<div>").append(w.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},w.expr.pseudos.animated=function(t){return w.grep(w.timers,function(e){return t===e.elem}).length},w.offset={setOffset:function(t,e,n){var i,r,o,a,s,c,l=w.css(t,"position"),u=w(t),h={};"static"===l&&(t.style.position="relative"),s=u.offset(),o=w.css(t,"top"),c=w.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+c).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(c)||0),v(e)&&(e=e.call(t,n,w.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):("number"==typeof h.top&&(h.top+="px"),"number"==typeof h.left&&(h.left+="px"),u.css(h))}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){w.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?{top:(e=i.getBoundingClientRect()).top+(n=i.ownerDocument.defaultView).pageYOffset,left:e.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===w.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),r.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-w.css(i,"marginTop",!0),left:e.left-r.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||ot})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;w.fn[t]=function(i){return V(this,function(t,i,r){var o;if(b(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),w.each(["top","left"],function(t,e){w.cssHooks[e]=Gt(m.pixelPosition,function(t,n){if(n)return n=Wt(t,e),Bt.test(n)?w(t).position()[e]+"px":n})}),w.each({Height:"height",Width:"width"},function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){w.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return V(this,function(e,n,r){var o;return b(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?w.css(e,n,s):w.style(e,n,r,s)},e,a?r:void 0,a)}})}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){w.fn[e]=function(t){return this.on(e,t)}}),w.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){w.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}});var Xe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return i=s.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(s.call(arguments)))}).guid=t.guid=t.guid||w.guid++,r},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=T,w.isFunction=v,w.isWindow=b,w.camelCase=Y,w.type=x,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},w.trim=function(t){return null==t?"":(t+"").replace(Xe,"")},void 0===(i=(function(){return w}).apply(e,[]))||(t.exports=i);var $e=n.jQuery,Je=n.$;return w.noConflict=function(t){return n.$===w&&(n.$=Je),t&&n.jQuery===w&&(n.jQuery=$e),w},void 0===r&&(n.jQuery=n.$=w),w})},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i=n("HDdC"),r=new i.a(function(t){return t.complete()});function o(t){return t?function(t){return new i.a(function(e){return t.schedule(function(){return e.complete()})})}(t):r}},"H+DU":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL"),r=n("/+4+"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.reac={}}},{key:"getReacColumns",value:function(t,e){return(this.reac[t]?this.reac[t]:new Array)[e]}},{key:"getReacJson",value:function(){return this.reac}},{key:"setReacJson",value:function(t){for(var e=0,n=0,i=Object.keys(t);n<i.length;n++){var r=i[n],o=new Array,a=t[r];if("object"==typeof a&&"reac"in a){var s=a.reac;if(null!==s){for(var c=0,l=Object.keys(s);c<l.length;c++){var u=l[c],h=s[u],d=this.helper.toNumber(h.tx),p=this.helper.toNumber(h.ty),f=this.helper.toNumber(h.tz),g=this.helper.toNumber(h.mx),m=this.helper.toNumber(h.my),v=this.helper.toNumber(h.mz);d=null==d?0:d,p=null==p?0:p,f=null==f?0:f,g=null==g?0:g,m=null==m?0:m,v=null==v?0:v;var b={id:u.replace("node",""),tx:d.toFixed(2),ty:p.toFixed(2),tz:f.toFixed(2),mx:g.toFixed(2),my:m.toFixed(2),mz:v.toFixed(2)};o.push(b)}this.reac[r.replace("Case","")]=o,e=Math.max(e,o.length)}}}this.REAC_ROWS_COUNT=e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Yb(r.a))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i,r=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),c=n("SpAZ"),l=n("2fFW"),u=((i=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var i=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new r.a(t,e,n):new r.a(a.a)}(t,e,n);if(s.add(i?i.call(s,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),l.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){l.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.a?i:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))(function(e,i){var r;r=n.subscribe(function(e){try{t(e)}catch(n){i(n),r&&r.unsubscribe()}},i,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(i=e).length?c.a:1===i.length?i[0]:function(t){return i.reduce(function(t,e){return e(t)},t)})(this);var i}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})}}]),t}()).create=function(t){return new i(t)},i);function h(t){if(t||(t=l.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IFiM:function(t,e,n){t.exports=n.p+"pickup-fsec-es5.dcd21e7a82ae89a6bdf8.worker.js"},Iab2:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){"use strict";function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){a(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,a){var s=r.URL||r.webkitURL,c=document.createElement("a");c.download=o=o||t.name||"download",c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?i(c):n(c.href)?e(t,o,a):i(c,c.target="_blank")):(c.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){i(c)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,o){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),r);else if(n(t))e(t,r,o);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){i(a)})}}:function(t,n,i,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var s="application/octet-stream"===t.type,c=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=t:location=t,a=null},u.readAsDataURL(t)}else{var h=r.URL||r.webkitURL,d=h.createObjectURL(t);a?a.location=d:location.href=d,a=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});r.saveAs=a.saveAs=a,t.exports=a})?i.apply(e,[]):i)||(t.exports=r)},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.now;return _classCallCheck(this,n),(r=e.call(this,t,function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():o()})).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,i):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,i)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(i)},Jgta:function(t,e,n){"use strict";var i=n("zIRd");n.d(e,"a",function(){return i.a}),i.a.registerVersion("firebase","8.3.1","app")},K3IU:function(t,e,n){"use strict";n.r(e),e.default="/**\r\n * ParamQuery Pro\r\n * \r\n * Copyright (c) 2012-2020 Paramvir Dhindsa (http://paramquery.com)\r\n * Released under Evaluation license\r\n * http://paramquery.com/pro/license/evaluate\r\n * \r\n */\r\n.pq-theme input,.pq-theme input[type],.pq-theme label,.pq-theme select,.pq-theme textarea{font-weight:400;margin-bottom:0}\r\n.pq-theme{overflow:hidden;position:relative;z-index:0;box-sizing:border-box}\r\ndiv.pq-theme *{box-sizing:inherit}\r\ndiv.pq-theme select{width:auto;height:auto}\r\n.pq-theme :focus{outline:none}\r\n.pq-resize-iframe{margin:0;border:0}\r\n.pq-body-outer:focus{outline:none!important;border:none!important}\r\n.pq-table>.pq-grid-row>.pq-grid-cell.pq-focus{border:1px solid #666}\r\n.pq-disable-select{-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none}\r\n.pq-native-select{-webkit-user-select:text;-moz-user-select:text;-o-user-select:text;user-select:text}\r\n.pq-theme>.pq-grid-top{border-width:0 0 1px;border-style:solid;margin-top:-1px;position:relative}\r\n.pq-slider-icon{position:absolute;z-index:4;right:0;top:0}\r\n.pq-grid-title{padding:4.5px 5px}\r\n.pq-group-header{border-top:1px solid transparent;zoom:1;padding:3px 5px;position:relative}\r\n.pq-group-menu{position:relative;float:right;border-radius:3px;white-space:nowrap}\r\n.pq-group-header.pq-drop-hover{cursor:copy}\r\n.pq-group-placeholder{padding:4px;color:#777}\r\n.pq-group-item{display:inline-block;float:left;white-space:nowrap;border:1px solid #bfbfbf;padding:4px 5px;border-radius:4px;margin-right:10px;position:relative;cursor:pointer}\r\n.pq-group-item>.ui-icon{margin:-3px}\r\n.pq-group-item>.pq-group-remove,.pq-group-item>.pq-group-toggle{display:inline-block;border-radius:5px;margin-left:3px;border:1px solid transparent;width:18px;height:17px;font-weight:700}\r\n.pq-group-item>.pq-group-toggle{margin-left:0;margin-right:3px}\r\n.pq-grid .pq-icon-hover,.pq-group-title-cell .pq-group-icon{cursor:pointer;border:1px solid transparent;border-radius:4px;height:18px;width:18px;font-size:10px;vertical-align:middle}\r\n.pq-group-title-cell .pq-group-icon{position:relative;margin:-2px 1px -2px 0}\r\n.pq-group-title-cell .pq-tree-icon{position:relative;top:1px}\r\n.pq-toolbar{border-top:1px solid transparent;padding:4px 5px;zoom:1;overflow:hidden;text-align:left}\r\n.pq-toolbar>.pq-separator,.pq-toolbar>button,.pq-toolbar>div,.pq-toolbar>input,.pq-toolbar>label,.pq-toolbar>p,.pq-toolbar>select,.pq-toolbar>span,.pq-toolbar>textarea{margin-left:5px;margin-right:5px;vertical-align:middle}\r\n.pq-toolbar textarea{resize:none}\r\n.pq-toolbar>label>textarea{vertical-align:middle}\r\n.pq-theme .pq-search-txt{overflow:visible;padding:1px 4px}\r\n.pq-theme input[type=text],.pq-theme select,.pq-theme textarea{border:1px solid #ccc;padding:1px 4px;border-radius:4px}\r\n.pq-draggable{cursor:move}\r\n.pq-theme>.pq-grid-bottom{border-width:1px 0 0;top:1px;overflow:hidden;border-style:solid;border-color:transparent;font-weight:400!important;position:relative}\r\n.pq-grid-center{position:relative;overflow-x:hidden;overflow-y:hidden;margin-bottom:-1px}\r\n.pq-header-outer{position:relative;border-top-width:0!important;border-left-width:0!important;border-right-width:0!important;text-align:left}\r\n.pq-grid-row:last-child>.pq-grid-col{border-bottom-width:0}\r\n.pq-header-outer .pq-grid-row{background:transparent!important}\r\n.pq-grid-header-inner{position:relative}\r\n.pq-grid-header-left{overflow:hidden}\r\n.pq-grid-norows{position:absolute;left:0;top:5px;text-align:center;width:100%}\r\n.pq-col-sort-icon{margin-right:-3px;min-width:3px;display:inline-block}\r\n.pq-space.pq-col-sort-icon{width:16px}\r\n.pq-space.pq-col-sort-count{display:inline-block}\r\n.pq-col-sort-count{font-weight:400;width:6px;font-size:.8em}\r\n.pq-grid-col-resize-handle{cursor:col-resize;width:10px;height:100%;position:absolute;top:0;z-index:2}\r\n.pq-grid-drag-bar{position:absolute;width:1px;z-index:100;top:0;background-color:#000}\r\n.pq-align-right,.pq-theme .pq-align-right *{text-align:right}\r\n.pq-align-left,.pq-align-left *{text-align:left}\r\n.pq-theme .pq-align-center,.pq-theme .pq-align-center *{text-align:center}\r\n.pq-valign-center>div{position:relative;top:50%;transform:translateY(-50%)}\r\n.pq-valign-bottom>div{position:relative;top:100%;transform:translateY(-100%)}\r\n.pq-grid-cell.pq-group-title-cell *{text-align:left}\r\n.pq-grid-cell label{text-indent:0}\r\ndiv.pq-body-outer{position:relative}\r\ndiv.pq-grid-cont{overflow:hidden;border-top:0;height:100%;position:relative}\r\n.pq-cont-right{position:relative;overflow:auto;-webkit-overflow-scrolling:touch;height:100%}\r\n.pq-header-outer .pq-cont-right,.pq-summary-outer .pq-cont-right{overflow:hidden}\r\n.pq-summary-outer{border-top:1px solid transparent}\r\n.pq-cont-left{position:absolute;left:0;top:0;overflow:hidden}\r\n.pq-body-outer .pq-cont-left{border-right:1px solid transparent}\r\n.pq-cont-lt,.pq-cont-tr{position:absolute;left:0;top:0;overflow:hidden;border-bottom:1px solid transparent}\r\n.pq-cont-inner{z-index:0}\r\n.pq-cont-lt{border-right:1px solid transparent}\r\n.pq-table{position:absolute;left:0;top:0;overflow:hidden}\r\n.pq-table-left,.pq-table-lt{width:100%}\r\n.pq-table-lt,.pq-table-tr{height:100%}\r\n.pq-grid-cell,.pq-grid-col{position:absolute;padding:0;overflow:hidden;text-decoration:inherit}\r\n.pq-grid-cell>div,.pq-grid-col>div,.pq-grid-number-cell,.pq-grid-number-col{padding:3px 5px}\r\n.pq-grid-col,.pq-grid-row>.pq-grid-cell{border:1px solid transparent}\r\n.pq-grid-row:not(:last-child)>.pq-grid-col{border-bottom-color:transparent}\r\n.pq-grid-row>.pq-grid-col{border-left-color:transparent}\r\n.pq-grid-row:first-child>.pq-grid-col{border-top-color:transparent}\r\n.pq-grid-row{position:absolute}\r\n.pq-theme .pq-grid-cont .ui-state-hover{font-weight:400}\r\n.pq-grid-header-table input,.pq-grid-header-table select,.pq-grid-header-table textarea,.pq-toolbar input,.pq-toolbar select,.pq-toolbar textarea{color:initial}\r\n.pq-grid-header-table .pq-td-div{position:relative;float:left;width:100%;overflow:hidden}\r\n.pq-has-menu>.pq-td-div{width:calc(100% - 20px)}\r\n.pq-grid-col-leaf .pq-title-span:hover{text-decoration:underline;cursor:pointer}\r\n.pq-grid-col-leaf{cursor:-webkit-grab;cursor:grab}\r\n.pq-grid-header-search-row>.pq-grid-col>.pq-td-div{display:block}\r\n.pq-grid-col{overflow:hidden;font-weight:400}\r\n.pq-grid-header-table>tbody>tr>.pq-grid-col{border-width:0 1px 1px 0;border-style:solid}\r\n.pq-grid-number-col{border-right:1px solid #cfcfcf;padding:4px 5px;text-align:right}\r\n.pq-theme .pq-col-drag-helper{padding:1px 5px 4px 3px;box-shadow:0 4px 8px rgba(0,0,0,.5)}\r\n.pq-theme .pq-col-drag-helper .pq-drag-icon{height:16px;width:16px;margin-right:5px;margin-top:1px;float:left}\r\n.pq-theme .pq-drop-hover{background-image:url('index.1b7a6c8de5cae7a04e85.js')}\r\n.pq-cont-inner>.pq-table>.pq-grid-row{border-width:0;border-bottom:1px solid transparent}\r\n.pq-cell-blue-tr,.pq-cell-dirty,.pq-cell-red-tr,.pq-grid-cell[title]{background-repeat:no-repeat}\r\n.pq-cell-dirty{background-image:linear-gradient(135deg,red 5px,transparent 0)}\r\n.pq-cell-blue-tr{background-image:linear-gradient(-135deg,blue 5px,transparent 0)}\r\n.pq-cell-dirty.pq-cell-blue-tr{background-image:linear-gradient(135deg,red 5px,transparent 0),linear-gradient(-135deg,blue 5px,transparent 0)}\r\n.pq-grid-cell[title]{background-image:linear-gradient(-135deg,#4682b4 5px,transparent 0)}\r\n.pq-cell-dirty.pq-grid-cell[title]{background-image:linear-gradient(135deg,red 5px,transparent 0),linear-gradient(-135deg,#4682b4 5px,transparent 0)}\r\n.pq-cell-red-tr{background-image:linear-gradient(-135deg,red 5px,transparent 0)}\r\n.pq-cell-dirty.pq-cell-red-tr{background-image:linear-gradient(135deg,red 5px,transparent 0),linear-gradient(-135deg,red 5px,transparent 0)}\r\n.pq-wrap>.pq-grid-row>.pq-grid-cell,.pq-wrap>.pq-grid-row>.pq-grid-col{word-wrap:break-word;white-space:normal}\r\n.pq-no-wrap>.pq-grid-row>.pq-grid-cell,.pq-no-wrap>.pq-grid-row>.pq-grid-col>.pq-td-div{word-wrap:normal;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\r\n.pq-grid-cell>div{white-space:inherit;text-overflow:inherit;overflow:inherit}\r\n.pq-merge-cell{z-index:1;background-color:inherit}\r\n.pq-grid-header-search-row .pq-grid-hd-search-field{width:100%;box-sizing:border-box}\r\n.pq-grid-header-search-row .pq-from-div{float:left;padding-right:3px;width:50%;box-sizing:border-box}\r\n.pq-grid-header-search-row .pq-to-div{float:right;padding-left:3px;width:50%;box-sizing:border-box}\r\nspan.pq-from-to-center{width:6px;position:absolute;left:50%;line-height:20px;margin-left:-3px;text-align:center}\r\ndiv.pq-editor-outer{position:absolute;padding:0;z-index:5;background:#fff;display:table;color:#333}\r\ndiv.pq-editor-inner{display:table-cell;vertical-align:middle;width:100%;height:100%}\r\ndiv.pq-editor-inner>div[contenteditable=true]{overflow:auto}\r\ndiv.pq-editor-inner>.pq-cell-editor{padding:2px 3px;width:100%}\r\ntextarea.pq-cell-editor{border:none;outline-width:0;padding:2px 5px;resize:none;display:block;border-radius:0;overflow:hidden;overflow-y:auto}\r\ndiv.pq-tooltip{padding:3px 10px}\r\nspan.pq-tooltip-icon{display:inline-block;position:relative;top:3px;margin-right:4px}\r\n.pq-grid-row>.pq-grid-number-cell{border-top-width:0;border-right:1px solid #d0d0d0;overflow:hidden;font-weight:400;text-align:right;position:absolute;left:0;top:0}\r\n.pq-body-outer .pq-grid-number-cell,.pq-summary-outer .pq-grid-number-cell{border-bottom:1px solid transparent}\r\ndiv.pq-grid-disable{background:#ccc;z-index:3}\r\n.pq-loading,div.pq-grid-disable{height:100%;width:100%;position:absolute;left:0;top:0}\r\n.pq-loading{display:none}\r\n.pq-loading-bg{height:100%;width:100%;position:absolute;left:0;top:0;z-index:10}\r\ndiv.pq-loading-mask{width:100px;height:25px;z-index:6;padding:5px;position:absolute;left:50%;top:50%;margin-left:-50px;margin-top:-13px;box-sizing:content-box}\r\ndiv.pq-loading-mask>div{border:1px solid transparent;padding-top:0;padding-right:6px;padding-left:29px;line-height:23px;background-image:url('loading.87295b715c73ef2d9da8.gif');background-position:6px;background-repeat:no-repeat;white-space:nowrap;word-wrap:normal}\r\n.pq-pager{padding:4px 5px}\r\n.pq-grid-summary,.pq-pager{position:relative;overflow:hidden;border-top:1px solid transparent;margin-top:-1px}\r\n.pq-pager>span{vertical-align:middle;position:relative}\r\n.pq-theme span.pq-separator{height:18px;border-left:1px solid #ccc;display:inline-block;position:relative;margin:0 6px}\r\n.pq-page-current{height:20px;width:45px}\r\n.pq-theme .ui-button-icon-only{width:24px;margin-right:5px;padding:.5em 0}\r\n.pq-arrow-down,.pq-arrow-up{position:absolute!important;z-index:200}\r\n.pq-theme label{display:inline-block}\r\n.pq-theme input[type=checkbox],.pq-theme input[type=radio]{width:14px;height:14px;padding:0;margin-bottom:0;vertical-align:middle;position:relative;top:-1px}\r\n.pq-theme input[type=checkbox]{margin-right:4px}\r\n.ui-menu .pq-menu-item.ui-menu-item{padding:0}\r\n.ui-state-active.ui-menu-item,.ui-state-focus.ui-menu-item{border:1px solid transparent}\r\n.pq-menu-item>label{padding:3px 5px;text-indent:0;width:100%}\r\n.pq-tool-panel{width:200px;float:right}\r\n.pq-pivot-pane{padding:2px;border:1px solid #666;border-top:0;border-right:0;position:relative}\r\n.pq-pivot-pane:last-child{border-bottom:0}\r\n.pq-pivot-label{position:absolute;background:inherit;left:2px;top:0;padding-right:5px}\r\n.pq-pivot-label input[type=checkbox]{margin-top:2px}\r\n.pq-tool-panel[panes=\"4\"] .pq-pivot-pane{height:20%}\r\n.pq-tool-panel[panes=\"3\"] .pq-pivot-pane{height:25%}\r\n.pq-tool-panel .pq-pivot-cols-all.pq-pivot-pane,.pq-tool-panel[panes=\"2\"] .pq-pivot-pane{height:50%}\r\n.pq-tool-panel[panes=\"4\"] .pq-pivot-cols-all.pq-pivot-pane{height:40%}\r\n.pq-tool-panel[panes=\"1\"] .pq-pivot-pane{height:100%}\r\n.pq-pivot-col{margin:0;padding:1px 4px;position:relative;cursor:move}\r\n.pq-deny-drag{cursor:not-allowed}\r\n.pq-pivot-pane .pq-pivot-col{border-width:1px 0 0;border-style:dotted}\r\n.pq-pivot-col:last-child{border-bottom-width:1px}\r\n.pq-pivot-pane .pq-sortable{padding-top:18px;top:0;bottom:0;right:0;left:0;overflow:auto;position:absolute;background:#fff}\r\n.pq-pivot-rows .pq-icon{height:14px;width:12px;margin:2px 4px;float:left;background:url('row-group.67274e8a7bd1094c63a7.png')}\r\n.pq-pivot-cols .pq-icon{height:14px;width:13px;margin:2px 4px;float:left;background:url('pivot.4642ed1527e6286a88d5.png')}\r\n.pq-pivot-vals .pq-icon{height:12px;width:12px;margin:2px 4px;float:left;background:url('sum.d7e79a043ac6e20597e4.png')}\r\n.pq-grid-overlay{border-width:1px;border-style:solid;position:absolute;z-index:1;pointer-events:none}\r\n.pq-grid-overlay.cell,.pq-head-overlay{border-width:0}\r\n.pq-number-overlay{border-left-width:0;border-right-width:0;z-index:3}\r\n.pq-head-menu{width:250px}\r\n.pq-filter-icon,.pq-menu-icon{height:12px;position:absolute;top:5px;right:4px;opacity:.3}\r\n.pq-menu-icon{width:12px;background:url('menu.fe896d64d73f014fc12f.png')}\r\n.pq-menu-icon:hover{cursor:default}\r\n.pq-col-filtered .pq-menu-icon{opacity:.8;border:1px solid #000}\r\n.pq-filter-icon{width:14px;background:url('filter.96cff61162c6211a33e9.png')}\r\n.pq-col-filtered .pq-filter-icon{opacity:.8}\r\n.pq-tab-visible-icon{display:inline-block;width:16px;background:url('eye.56b35368955b897fa1a4.png');background-repeat:no-repeat;background-position:50%}\r\n.pq-tab-filter-icon{display:inline-block;width:14px;background:url('filter.96cff61162c6211a33e9.png');background-repeat:no-repeat;background-position:50%}\r\n.pq-filter-icon:hover,.pq-menu-icon:hover{opacity:1}\r\n.pq-popup{position:absolute!important;z-index:10000;box-sizing:border-box;background:#fff;display:inline-block;border-width:1px;border-style:solid;border-radius:4px;box-shadow:1px 4px 10px 0 rgba(50,50,50,.75)}\r\n.pq-popup:after{content:\"\"}\r\n.pq-popup *{box-sizing:inherit}\r\ndiv.pq-popup .ui-tabs-panel{padding:0}\r\n.pq-cmenu>table{border-collapse:collapse}\r\n.pq-cmenu-item{background:#fff}\r\n.pq-cmenu-item>td:not([colspan]){padding:4px}\r\n.pq-cmenu-item.pq_disabled{color:#aaa}\r\n.pq-cmenu-item:hover:not(.pq_disabled){background:#ddd;cursor:pointer}\r\n.pq-cell-disable{opacity:.7;text-shadow:0 1px 0 #fff;cursor:not-allowed}\r\n.pq-theme .pq-dnd-drag{color:#ccc}\r\n.pq-theme .pq-dnd-parent{text-shadow:2px 2px 2px #888}"},KqfI:function(t,e,n){"use strict";function i(){}n.d(e,"a",function(){return i})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("z+Ro"),r=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(i.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(r.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NC1B:function(t,e,n){"use strict";n.r(e),e.default="/**\r\n * ParamQuery Pro\r\n * \r\n * Copyright (c) 2012-2020 Paramvir Dhindsa (http://paramquery.com)\r\n * Released under Evaluation license\r\n * http://paramquery.com/pro/license/evaluate\r\n * \r\n */\r\ndiv.pq-theme *{line-height:normal;font-family:inherit;font-size:inherit}\r\n.pq-theme .ui-icon{display:inline-block}\r\n.ui-icon.pq-col-sort-icon{vertical-align:bottom}\r\n.pq-slider-icon{top:4px}\r\n.pq-grid-header-search-row,.pq-grid-top.ui-widget-header{font-weight:400}\r\n.pq-ui-button.ui-widget-header{background:transparent;border-width:0;border-radius:4px;margin:1px;padding:0 3px;cursor:pointer;font-size:16px}\r\n.pq-ui-button:focus,.pq-ui-button:hover{border-width:1px;margin:0;outline:none}\r\n.pq-body-outer .pq-cont-left,.pq-cont-lt,.pq-cont-tr,.pq-grid-cell,.pq-grid-row{border-color:#ccc}\r\n.pq-td-border-right>.pq-grid-row>.pq-grid-cell{border-right-color:#ccc}\r\n.pq-loading-bg{background:#ccc}\r\n.pq-grid-bottom select{color:initial}\r\n.pq-page-current{color:initial;padding:0 1px;text-align:center;border-width:1px}\r\n.pq-ui-button.disabled{opacity:.3}"},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return i})},Ne9s:function(t,e,n){n("K3IU"),n("NC1B"),t.exports=n("PBWc")},NsTc:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL"),r=n("/+4+"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.node=new Array}},{key:"getNodeColumns",value:function(t){var e,n=null,i=_createForOfIteratorHelper(this.node);try{for(i.s();!(e=i.n()).done;){var r=e.value;if(r.id.toString()===t.toString()){n=r;break}}}catch(o){i.e(o)}finally{i.f()}return null==n&&(n={id:t,x:"",y:"",z:""},this.node.push(n)),n}},{key:"setNodeJson",value:function(t){if("node"in t)for(var e=t.node,n=0,i=Object.keys(e);n<i.length;n++){var r=i[n],o=this.convertNumber(e[r]),a={id:r,x:null===o.x?"":o.x.toFixed(3),y:null===o.y?"":o.y.toFixed(3),z:null===o.z?"":o.z.toFixed(3)};this.node.push(a)}}},{key:"getNodeJson",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n={},i=_createForOfIteratorHelper(this.node);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=this.convertNumber(r);null==o.x&&null==o.y&&null==o.z||(n[r.id]={x:null==o.x?e:o.x,y:null==o.y?e:o.y,z:null==o.z?e:o.z})}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"getNodeText",value:function(){var t=this.getNodeJson();return JSON.stringify(t)}},{key:"getNodePos",value:function(t){var e=this.getNodeJson();return Object.keys(e).length<=0?null:t in e?e[t]:null}},{key:"convertNumber",value:function(t){return{x:this.helper.toNumber(t.x),y:this.helper.toNumber(t.y),z:this.helper.toNumber(t.z)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Yb(r.a))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},PBWc:function PBWc(module,exports,__webpack_require__){var jQuery=__webpack_require__("UAtO"),pq={},JSZip=__webpack_require__("xOOu"),jQuery,pq,JSZip,t,e;module.exports=pq,e=pq.mixin={},e.render={getRenderVal:function(t,e,n){var i=t.column,r=i.exportRender;return(e&&!1!==r||r)&&(i.render||i._render||i.format||i._renderG)?n.renderCell(t):[t.rowData[t.dataIndx],""]},getTitle:function(t,e){var n=t.title;return n?"function"==typeof n&&(n=n.call(this.that,{colIndx:e,column:t,dataIndx:t.dataIndx,Export:!0})):n="",n}},e.GrpTree={buildCache:function(){for(var t,e,n=this,i=n.isTree,r=i?n.that.options.dataModel.data:n.that.pdata,o=n.cache={},a=n.id,s=0,c=r.length;c>s;s++)if(t=r[s],i||t.pq_gtitle){if(null==(e=t[a]))throw"unknown id of row";o[e]=t}},cascadeInit:function(){if(this.getCascadeInit()){for(var t,e=this,n=[],i=e.cbId,r=e.that,o=r.options[e.model].select,a=r.pdata,s=0,c=a.length;c>s;s++)(t=a[s])[i]?e.isEditable(t)?(n.push(t),delete t[i]):o&&(t.pq_rowselect=!0):null===t[i]&&delete t[i];n.length&&e.checkNodes(n,null,null,!0)}},cascadeNest:function(t){for(var e,n,i,r=this,o=r.cbId,a=r.prop,s=r.childstr,c=t.length,l=0;c>l;l++)(n=t[l])[a]&&(e=!0,r.eachChild(n,r.chkEachChild(o,n[o],a)),delete n[a]),(i=n[s])&&i.length&&r.cascadeNest(i);e&&r.hasParent(n)&&r.eachParent(n,r.chkEachParent(o))},checkAll:function(t,e){return this.checkNodes(this.that.pdata,t=null==t||t,e,null,!0)},checkNodes:function(t,e,n,i,r){null==e&&(e=!0);for(var o,a,s,c=0,l=t.length,u=[],h={check:e},d=this,p=d.that,f=p.riOffset,g=d.cbId,m=d.prop,v=p.options[d.model],b=!r&&d.isCascade(v),_=i&&v.eventForInit||!i,y=v.select;l>c;c++)this.isEditable(o=t[c])&&u.push({rowData:o,rowIndx:a=o.pq_ri,rowIndxPage:a-f});if(h.rows=u,h.dataIndx=d.colUI.dataIndx,i&&(h.init=i),_&&(s=p._trigger("beforeCheck",n,h)),!1!==s&&(l=(u=h.rows).length)){var C=this.chkRows=[];for(c=0;l>c;c++)o=u[c].rowData,b&&(o[m]=!0),C.push({rd:o,val:e,oldVal:o[g]}),o[g]=e;b&&d.cascadeNest(d.getRoots()),y&&this.selectRows(),b&&(h.getCascadeList=d.getCascadeList(d)),_&&p._trigger("check",n,h),C.length=0}d.setValCBox(),i||p.refresh({header:!1})},chkEachChild:function(t,e,n){return function(i){if(this.isEditable(i)&&(!n||!i[n])){var r=i[t];null!==e&&r!==e&&(this.chkRows.push({rd:i,val:e,oldVal:r}),i[t]=e)}}},chkEachParent:function(t){var e=this.childstr;return function(n){if(this.isEditable(n)){for(var i,r,o,a=n[e],s=0,c=0,l=n[t],u=0,h=a.length;h>u;u++)if(this.isEditable(i=a[u])){if(o=i[t])s++;else{if(null===o){r=null;break}c++}if(s&&c){r=null;break}}void 0===r&&(r=!!s),l!==r&&(this.chkRows.push({rd:n,val:r,oldVal:l}),n[t]=r)}}},eachChild:function(t,e,n){e.call(this,t,n);for(var i,r=this.childstr,o=t[r]||[],a=0,s=o.length;s>a;a++)(i=o[a])[r]?this.eachChild(i,e,t):e.call(this,i,t)},eachParent:function(t,e){for(;t=this.getParent(t);)e.call(this,t)},_flatten:function(t,e,n,i){for(var r,o,a=this,s=t.length,c=a.id,l=a.parentId,u=0,h=a.childstr;s>u;u++)(r=t[u]).pq_level=n,i.push(r),e&&(r[l]=c?e[c]:e),(o=r[h])&&a._flatten(o,r,n+1,i)},flatten:function(t){var e=[];return this._flatten(t,null,0,e),e},getCascadeInit:function(){var t=this._cascadeInit;return this._cascadeInit=!0,t},getNode:function(t){return this.cache[t]},getParent:function(t){return this.cache[t[this.parentId]]},fillState:function(t){var e,n,i=this.childstr,r=this.cache;for(e in r)(n=r[e])[i]&&(t[e]=n.pq_close||!1);return t},hasParent:function(t){return null!=t[this.parentId]},getRoots:function(t){for(var e,n=t||this.that.pdata||[],i=n.length,r=0,o=[];i>r;r++)0!==(e=n[r]).pq_level||e.pq_gsummary||o.push(e);return i&&!o.length&&(o=n),o},setCascadeInit:function(t){this._cascadeInit=t},getCascadeList:function(t){var e=[];return function(){if(!e.length)for(var n=t.chkRows,i=0,r=t.cbId,o=n.length;o>i;i++){var a=n[i],s=a.rd,c=s.pq_ri,l={},u={};l[r]=a.val,u[r]=a.oldVal,e.push({rowIndx:c,rowData:s,newRow:l,oldRow:u})}return e}},getChildren:function(t){return(t?t[this.childstr]:this.getRoots())||[]},getSummary:function(t){return t.pq_child_sum},isAncestor:function(t,e){for(var n=t;n=this.getParent(n);)if(n==e)return!0},isEmpty:function(t){return!(t[this.childstr]||[]).length},isCascade:function(t){return t.cascade&&t.checkbox&&!t.maxCheck},isEditable:function(t){if(t.pq_gsummary)return!1;var e,n=this.colCB;return!n||!(e=n.editable)||("function"==typeof e?e.call(this.that,{rowData:t}):e)},isFolder:function(t){return null!=t.pq_close||!!t[this.childstr]},onCheckbox:function(t,e){return function(n,i){e.checkbox&&t.colUI==i.column&&t.checkNodes([i.rowData],i.input.checked,n)}},onCMInit:function(){var t,e,n,i=this,r=i.that,o=r.columns,a=i.model,s="treeModel"===a,c=r.colModel,l=r.options[a];l.titleInFirstCol&&c&&(n=c.find(function(t){return!t.hidden}),l.titleIndx=n.dataIndx=(null==n.dataIndx?Math.random():n.dataIndx).toString()),l.checkbox&&o&&((e=o[l.cbId]||{dataIndx:l.cbId}).cb={check:!0,uncheck:!1,select:l.select,header:l.checkboxHead,maxCheck:l.maxCheck},t=s?o[l.dataIndx]:o[l.titleIndx]),i.colCB=e,i.colUI=t,o&&s&&i.setCellRender()},onCustomSortTree:function(t,e){var n=this,i=n.getRoots(e.data);return n.sort(i,e.sort_composite),e.data=n.flatten(i),!1},onRefresh:function(t,e){return function(){if(e.checkbox)for(var t=this.$cont.find(".pq_indeter"),n=t.length;n--;)t[n].indeterminate=!0}},refreshView:function(t){this.that.refreshView({header:!1,source:t})},renderCB:function(t,e,n){if(e.pq_gsummary)return"";var i,r="",o="",a="";return"function"==typeof t&&(t=t.call(this.that,e)),t?(e[n]&&(r="checked"),this.isEditable(e)||(o="disabled",i="pq_disable"),null===e[n]&&(a="class='pq_indeter'"),["<input type='checkbox' "+a+" "+r+" "+o+"/>",i]):void 0},selectRows:function(){for(var t=0,e=this.chkRows,n=e.length;n>t;t++){var i=e[t];i.rd.pq_rowselect=i.val}},sort:function(t,e){var n=this.childstr,i=function(t){return"function"==typeof e?e:e[t]};!function t(e,r){var o,a=e.length,s=0;if(a)for(r&&e.sort(r),r=i(e[0].pq_level+1);a>s;s++)(o=e[s][n])&&t(o,r)}(t,i(0))},copyArray:function(t,e){for(var n=0,i=e.length;i>n;n++)t.push(e[n])},_summaryT:function(t,e,n,i,r,o,a){for(var s,c,l,u,h,d=this,p=d.childstr,f=d.isGroup,g=o.summaryInTitleRow,m=o.showSummary,v=!o.skipSingleSummary,b=o.titleIndx,_=0,y=t.length,C=0,x={},w={},M=d.id,O=d.parentId,P=f&&a?o.dataIndx[a.pq_level]:"",k=[],A=n.length,T=pq.aggregate;A>C;C++)x[h=n[C]]=[];for(;y>_;_++){if(s=null,e.push(c=t[_]),l=c[p]){for(s=d._summaryT(l,e,n,i,r,o,c),C=0;A>C;C++)d.copyArray(x[h=n[C]],s[1][h]);d.copyArray(k,s[2])}if(!f||!c.pq_gtitle){for(C=0;A>C;C++)x[h=n[C]].push(c[h]);k.push(c)}}for(C=0;A>C;C++)w[h=n[C]]=T[u=(u=i[C])[P]||u.type](x[h],r[C],k),g&&a&&h!=b&&(a[h]=w[h]);return!a||f&&!m[a.pq_level]||(w.pq_level=a.pq_level,w[O]=a[M],(v||y>1)&&e.push(w),a.pq_child_sum=w,w.pq_hidden=a.pq_close),w.pq_gsummary=!0,[w,x,k]},summaryT:function(){for(var t,e,n,i=this,r=i.that,o=r.options,a=o[i.model],s=i.getRoots(),c=[],l=[],u=[],h=[],d=0,p=r.colModel,f=p.length;f>d;d++)(e=(t=p[d]).summary)&&e.type&&(u.push(t.dataIndx),h.push(t),l.push(e));n=i._summaryT(s,c,u,l,h,a)[0],a.grandSummary?(n.pq_grandsummary=!0,i.summaryData=o.summaryData=[n]):(i.summaryData||[]).length=0,r.pdata=c}},function(t){var e=pq.mixin,n=!0;t(function(){var e=t("<input type='checkbox' style='position:fixed;left:-50px;top:-50px;'/>").appendTo(document.body);e[0].indeterminate=!0,e.on("change",function(){n=!1}),e.click(),e.remove()}),e.ChkGrpTree={getCheckedNodes:function(t){var e,n=this.that,i=t?n.getData():n.options.dataModel.data,r=i.length,o=0,a=[],s=this.colCB||{},c=(s.cb||{}).check,l=s.dataIndx;if(null!=l)for(;r>o;o++)(e=i[o])[l]===c&&a.push(e);return a},hasCboxHead:function(){return((this.colCB||{}).cb||{}).header},isHeadChecked:function(){return this.inpVal},onBeforeCheck:function(t,e){if(e.check&&this.colCB){var n=this.colCB,i=n.cb,r=i.select,o=i.maxCheck;if(o&&this.colUI.dataIndx==e.dataIndx){var a=e.rows.slice(0,o),s=a.length,c=n.dataIndx,l=this.getCheckedNodes(!0),u=s+l.length-o;u>0&&l.slice(0,u).forEach(function(t){t[c]=i.uncheck,r&&delete t.pq_rowselect}),e.rows=a}}},onHeaderChange:function(t){!1===this.checkAll(t.target.checked,t)&&this.refreshHeadVal()},onRefreshHeader:function(){var t=this,e=t.that;if(t.hasCboxHead()){if("groupModel"==t.model&&!e.options[t.model].on)return;var i=e.getCellHeader({dataIndx:t.colUI.dataIndx}),r=i.find("input");r.length||(i.find(".pq-title-span").prepend('<input type="checkbox" />'),r=i.find("input")),t.$inp&&r[0]==t.$inp[0]||(t.$inp=r,t.refreshHeadVal(),n&&r.on("click",function(e){null==r.data("pq_value")&&(r[0].checked=!0,r.data("pq_value",!0),t.onHeaderChange(e))}),r.on("change",function(e){t.onHeaderChange(e)}))}},refreshHeadVal:function(){this.$inp&&this.$inp.pqval({val:this.inpVal})},setValCBox:function(){if(this.hasCboxHead()){var t,e=this.that,n=e.options,i=this.colCB,r=i.dataIndx,o=e.colIndxs[r],a=i.cb,s=a.all,c="remote"!=n.pageModel.type&&s?0:e.riOffset,l=s?n.dataModel.data:e.pdata,u=null,h=0,d=0,p=0;if(l){for(var f=0,g=l.length;g>f;f++)(t=l[f]).pq_gsummary||t.pq_gtitle||!this.isEditable(t,i,f+c,o,r)||(d++,t[r]===a.check?h++:p++);h==d&&d?u=!0:p==d&&(u=!1),this.inpVal=u,this.refreshHeadVal()}}},unCheckAll:function(){this.checkAll(!1)},unCheckNodes:function(t,e){this.checkNodes(t,!1,e)}}}(jQuery),function(t){var e=t.paramquery=t.paramquery||{},n=function(t,e,n,i){for(var r=e.slice(),o=0,a=r.length,s=[];a>o;o++){var c=r[o],l=c.cb,u=c.one;if(u){if(c._oncerun)continue;c._oncerun=!0}if(!1===l.call(t,n,i)&&(n.preventDefault(),n.stopPropagation()),u&&s.push(o),n.isImmediatePropagationStopped())break}if(a=s.length)for(o=a-1;o>=0;o--)r.splice(s[o],1)};e._trigger=function(e,i,r){var o,a,s=this,c=s.listeners,l=c[e],u=s.options,h=u.allEvents,d=u.bubble,p=s.element,f=u[e];if(r=r||{},(i=t.Event(i)).type=s.widgetName+":"+e,i.target=p[0],a=i.originalEvent)for(o in a)o in i||(i[o]=a[o]);return h&&"function"==typeof h&&h.call(s,i,r),l&&l.length&&(n(s,l,i,r),i.isImmediatePropagationStopped())||u.trigger&&(p[d?"trigger":"triggerHandler"](i,r),i.isImmediatePropagationStopped())||(f&&!1===f.call(s,i,r)&&(i.preventDefault(),i.stopPropagation()),(l=c[e+"Done"])&&l.length&&n(s,l,i,r)),!i.isDefaultPrevented()};var i=function(t,e,n,i,r){var o=t.listeners[e];o||(o=t.listeners[e]=[]),o[r?"unshift":"push"]({cb:n,one:i})};e.on=function(){var t=arguments;if("boolean"==typeof t[0])var e=t[0],n=t[1],r=t[2],o=t[3];else n=t[0],r=t[1],o=t[2];for(var a=n.split(" "),s=0;s<a.length;s++){var c=a[s];c&&i(this,c,r,o,e)}return this},e.one=function(){for(var t=arguments.length,e=[],n=0;t>n;n++)e[n]=arguments[n];return e[t]=!0,this.on.apply(this,e)};var r=function(t,e,n){if(n){var i=t.listeners[e];if(i){for(var r=[],o=0,a=i.length;a>o;o++)n==i[o].cb&&r.push(o);if(r.length)for(o=r.length-1;o>=0;o--)i.splice(r[o],1)}}else delete t.listeners[e]};e.off=function(t,e){for(var n=t.split(" "),i=0;i<n.length;i++){var o=n[i];o&&r(this,o,e)}return this};var o={options:{items:".pq-grid-cell.pq-has-tooltip,.pq-grid-cell[title]",position:{my:"center top",at:"center bottom"},content:function(){var e=t(this),n=e.closest(".pq-grid").pqGrid("instance"),i=n.getCellIndices({$td:e}),r=n.data({rowIndx:i.rowIndx,dataIndx:i.dataIndx,data:"pq_valid"}).data;if(r){var o=r.icon,a=r.msg;return(""==o?"":"<span class='ui-icon "+o+" pq-tooltip-icon'></span>")+(null!=a?a:"")}return e.attr("title")}},_create:function(){this._super();var e=this.element,n=this.eventNamespace;e.on("pqtooltipopen"+n,function(e,n){var i=t(e.target),r=t(e.originalEvent.target);if(r.on("remove.pqtt",function(t){i.pqTooltip("close",t,!0)}),i.is(".pq-grid")){var o,a=i.pqGrid("instance"),s=a.getCellIndices({$td:r}),c=s.dataIndx;if((o=a.getRowData({rowIndx:s.rowIndx}))&&(o=o.pq_celldata)&&(o=o[c])&&(o=o.pq_valid)){var l=o.style;n.tooltip.addClass(o.cls);var u=n.tooltip.attr("style");n.tooltip.attr("style",u+";"+l)}}}),e.on("pqtooltipclose"+n,function(e,n){(t(e.target),t(e.originalEvent.target)).off(".pqtt")})}};t.widget("paramquery.pqTooltip",t.ui.tooltip,o)}(jQuery),t=jQuery,t.paramquery=t.paramquery||{},t.paramquery.onResize=function(e,n){var i=t(e);"static"===i.css("position")&&i.css("position","relative");var r=t('<iframe type="text/html" src="about:blank" class="pq-resize-iframe" style="display:block;width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1;overflow: hidden; pointer-events: none;" />').appendTo(i);r[0].data="about:blank",r.css("opacity","0");for(var o=0;o<i.length;o++)t(r[o].contentWindow).on("resize",function(t){n.call(e,t)})},function(t){function e(t){return t.charCodeAt(0)-64}var n=t.paramquery,i=Array.prototype;!i.find&&(i.find=function(t,e){for(var n,i=0,r=this.length;r>i;i++)if(t.call(e,n=this[i],i,this))return n}),!i.findIndex&&(i.findIndex=function(t,e){for(var n=0,i=this.length;i>n;n++)if(t.call(e,this[n],n,this))return n;return-1}),t.extend(pq,{arrayUnique:function(t,e){var n,i,r,o=[],a=t.length,s={};for(n=0;a>n;n++)i=t[n],1!=s[r=e?i[e]:i]&&(s[r]=1,o.push(i));return o},cap1:function(t){return t&&t.length?t[0].toUpperCase()+t.slice(1):""},elementFromXY:function(e){var n,i=e.clientX,r=e.clientY,o=t(document.elementFromPoint(i,r));return o.closest(".ui-draggable-dragging").length&&((n=o).hide(),o=t(document.elementFromPoint(i,r)),n.show()),o},escapeHtml:function(t){return t.replace(/&/g,"&amp;").replace(/<([a-z,A-Z]+)/g,"&lt;$1")},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;")},excelToJui:function(){var t={};return function(e){var n=t[e];return n||(n=e.replace(/yy/g,"y").replace(/dddd/g,"DD").replace(/ddd/g,"D").replace(/mmmm/g,"MM").replace(/mmm/g,"M"),t[e]=n),n}}(),excelToNum:function(){var t={};return function(e){var n=t[e];return n||(n=e.replace(/\\/g,""),t[e]=n),n}}(),copyObj:function(e,n,i){var r,o,a=pq.objectify(i);for(r in n)a[r]||(e[r]=t.isPlainObject(o=n[r])?t.extend(!0,{},o):o);return e},flatten:function(t,e){var n,i=0,r=t.length;for(e=e||[];r>i;i++)null!=(n=t[i])&&(n.push?pq.flatten(n,e):e.push(n));return e},toRC:function(t){var e=t.match(/([A-Z]+)(\d+)/),n=pq.toNumber(e[1]);return[e[2]-1,n]},formatEx:function(t,e,n,i){return n&&(i=i||pq.getDataType(t),pq.filter.conditions[n][i])?this.format(t,e,i):e},format:function(e,n,i){var r=e.format;if(r&&null!=n){if("function"==typeof r)return r(n);if("date"==(i=i||pq.getDataType(e)))try{var o=new Date(n);o&&!isNaN(o.getTime())&&(n=t.datepicker.formatDate(r,o))}catch(a){}else n=pq.formatNumber(n,r)}return n},fileRead:function(t,e,n){var i=new FileReader;i[e](t),i.onload=function(){n(i.result)}},fileToBase:function(t,e){pq.fileRead(t,"readAsDataURL",e)},xmlhttp:function(t,e,n){var i=new XMLHttpRequest;i.onload=function(){n(i.response)},i.open("GET",t),i.responseType=e,i.send()},urlToBase:function(t,e){pq.xmlhttp(t,"blob",function(t){pq.fileToBase(t,e)})},objectAttr:function(t){t&&(t=t.split(" "))},deFormat:function(e,n,i){if(n){var r,o,a=e.format;if(a&&(o=pq.getDataType(e),!i||pq.filter.conditions[i][o]))try{"function"==typeof a?n=e.deFormat(n):"date"==o?(r=e.formatRaw||"mm/dd/yy")!=a&&(n=t.datepicker.parseDate(a,n),n=t.datepicker.formatDate(r,n)):n=pq.deFormatNumber(n,a)}catch(s){n=null}}return n},fakeEvent:function(t,e,n){if("timeout"==e){var i,r="keyup change";t.off(r).on(r,function(){clearTimeout(i),i=setTimeout(function(){t.triggerHandler("timeout")},n)})}},getAddress:function(t){var e=t.split(":"),n=this.toRC(e[0]),i=n[0],r=n[1],o=this.toRC(e[1]||e[0]),a=o[0],s=o[1];return{r1:i,c1:r,rc:a-i+1,cc:s-r+1,r2:a,c2:s}},getClsVal:function(t,e){var n=t.match(new RegExp("\\b"+e+"(\\S+)\\b"));return n?n[1]:null},getDataType:function(t){var e,n=t.dataType;return"bool"==n?e="bool":"float"==n||"integer"==n?e="number":"date"==n&&(e="date"),e||"string"},getFn:function(){var t={};return function(e){var n=e;return"string"==typeof e&&((n=t[e])||(n=window,e.split(".").forEach(function(t){n=n[t]}),t[e]=n)),n}}(),isCtrl:function(t){return t.ctrlKey||t.metaKey},isDateFormat:function(){var t={};return function(e){var n=t[e];return null==n&&(n=t[e]=/^[mdy\s-\/\.,]*$/i.test(e)),n}}(),isEmpty:function(t){for(var e in t)return!1;return!0},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},juiToExcel:function(){var t={};return function(e){var n=t[e];return n||(n=e.replace(/y/g,"yy").replace(/DD/g,"dddd").replace(/D/g,"ddd").replace(/MM/g,"mmmm").replace(/M/g,"mmm"),t[e]=n),n}}(),makePopup:function(e,n,i){var r=(Math.random()+"").replace(".",""),o="mousedown.pq"+r+" keydown.pq"+r,a=function(){s.remove(),t(document).off(o),i&&i()},s=t(e);s.addClass("pq-popup").on("keydown",function(e){e.keyCode==t.ui.keyCode.ESCAPE&&a()}),t(n).one("remove",function(){a()}),t(document).on(o,function(i){var r=t(i.target);e.contains(r[0])||pq.isCtrl(i)||r.closest(".ui-datepicker").length||r.closest(n).length||a()})},moveItem:function(t,e,n,i){return n>i?(e.splice(n,1),e.splice(i++,0,t)):n==i?i++:(e.splice(i,0,t),e.splice(n,1)),i},newLine:function(t){return isNaN(t)&&"string"==typeof t?t.replace(/(\r\n|\r|\n)/g,"<br>"):t},numToExcel:function(){var t={};return function(e){var n=t[e];return n||(n=e.replace(/[^#0,.@%]/g,function(t){return"\\"+t}),t[e]=n),n}}(),objectify:function(t){for(var e={},n=t.length;n--;)e[t[n]]=1;return e},styleObj:function(t){if("string"==typeof t){var e=t.split(";");t={},e.forEach(function(n){n&&(e=n.split(":"))[0]&&e[1]&&(t[e[0].trim()]=e[1].trim())})}return t},styleStr:function(t){if("string"!=typeof t){var e,n,i=[];for(e in t)(n=t[e])&&i.push(e+":"+n);t=i.length?i.join(";")+";":""}return t},unescapeXml:function(){var t={amp:"&",lt:"<",gt:">",quot:'"',apos:"'"};return function(e){return e.replace(/&(amp|lt|gt|quot|apos);/g,function(e,n){return t[n]})}}()}),n.select=function(t){var e,n,i,r=t.options,o=t.groupIndx,a=t.labelIndx,s=t.valueIndx,c=null!=a&&null!=s,l=null!=o,u=t.prepend,h=t.dataMap,d=function(){for(var t={},e=0;e<h.length;e++){var n=h[e];t[n]=v[n]}return"data-map='"+JSON.stringify(t)+"'"},p=["<select ",t.attr," >"];if(u)for(var f in u)p.push('<option value="',f,'">',u[f],"</option>");if(r&&r.length){for(var g=0,m=r.length;m>g;g++){var v=r[g];if(c){var b=v[s],_=v.pq_disabled?'disabled="disabled" ':"",y=v.pq_selected?'selected="selected" ':"";if(null==b)continue;if(i=h?d():"",l){var C=v.pq_disabled_group?'disabled="disabled" ':"";n!=(e=v[o])&&(null!=n&&p.push("</optgroup>"),p.push('<optgroup label="',e,'" ',C," >"),n=e)}a==s?p.push("<option ",y,_,i,">",b,"</option>"):p.push("<option ",y,_,i,' value="',b,'">',v[a],"</option>")}else if("object"==typeof v)for(var f in v)p.push('<option value="',f,'">',v[f],"</option>");else p.push("<option>",v,"</option>")}l&&p.push("</optgroup>")}return p.push("</select>"),p.join("")},t.fn.pqval=function(t){if(t){if(t.incr){var e=this.data("pq_value");return this.prop("indeterminate",!1),e?(e=!1,this.prop("checked",!1)):!1===e?(e=null,this.prop("indeterminate",!0),this.prop("checked",!1)):(e=!0,this.prop("checked",!0)),this.data("pq_value",e),e}return this.data("pq_value",e=t.val),this.prop("indeterminate",!1),null===e?(this.prop("indeterminate",!0),this.prop("checked",!1)):this.prop("checked",!!e),this}return this.data("pq_value")},n.xmlToArray=function(e,n){var i=n.itemParent,r=n.itemNames,o=[];return t(e).find(i).each(function(e,n){var i=t(n),a=[];t(r).each(function(t,e){a.push(i.find(e).text().replace(/\r|\n|\t/g,""))}),o.push(a)}),o},n.xmlToJson=function(e,n){var i=n.itemParent,r=n.itemNames,o=[];return t(e).find(i).each(function(e,n){for(var i=t(n),a={},s=0,c=r.length;c>s;s++){var l=r[s];a[l]=i.find(l).text().replace(/\r|\n|\t/g,"")}o.push(a)}),o},n.tableToArray=function(e){var n=t(e),i=[],r=[],o=n.children("tbody").children("tr"),a=o.length?t(o[0]):t(),s=o.length>1?t(o[1]):t();return a.children("th,td").each(function(e,n){var r=t(n),o=r.html(),a=r.width(),c="left";s.length&&(c=s.find("td:eq("+e+")").attr("align")||c),i.push({title:o,width:a,dataType:"string",align:c,dataIndx:e})}),o.each(function(e,n){if(0!=e){var i=t(n),o=[];i.children("td").each(function(e,n){o.push(t.trim(t(n).html()))}),r.push(o)}}),{data:r,colModel:i}};var r=function(){var t,e={};return function(n,i){var r,o,a;if(n){if(o=n.split(":"),r=e[n=i&&o.length>1?o[1]:o[0]])return r;t||(t=/^([^#0]*|&#[^#0]*)?[\,\.#0]*?([\,\s\.]?)([#0]*)(([\,\s\.])([0]+))?([^#^0]*|&#[^#]*)?$/),(a=n.match(t))&&a.length&&(e[n]=r={symbol:a[1]||"",thouSep:a[2],thousand:a[3].length,decSep:a[5]||"",decimal:(a[6]||[]).length,symbolEnd:a[7]||""})}return r||{symbol:"",symbolEnd:"",thouSep:",",thousand:3,decSep:".",decimal:2}}}();n.formatCurrency=function(t,e){if(!e)return t;var n=parseFloat(t);if(!isNaN(n)&&"Infinity"!=n){(e||"").indexOf("%")>0&&(n*=100);for(var i=0>n,o=r(e,i),a=o.symbol,s=o.symbolEnd,c=o.thousand,l=o.thouSep,u=o.decSep,h=o.decimal,d=(n=n.toFixed(h)).length,p=h+u.length,f=n.substring(0,d-p),g=n.substring(d-p+u.length,d),m=f.match(/\d/g).reverse(),v=[],b=0;b<m.length;b++)b>0&&b%c==0&&v.push(l),v.push(m[b]);return(i?"-":"")+a+(f=(v=v.reverse()).join(""))+u+g+s}},pq.formatNumber=n.formatCurrency,pq.deFormatNumber=function(t,e){var n=r(e,0>t),i=n.symbolEnd,o=n.thouSep,a=n.decSep;return o="."===o?"\\.":o,t=t.replace(n.symbol,"").replace(i,"").replace(new RegExp(o,"g"),""),a&&(t=1*t.replace(a,".")),t},pq.valid={isFloat:function(t){var e=1*t;return!isNaN(e)&&e==t},isInt:function(t){var e=parseInt(t);return!isNaN(e)&&e==t},isDate:function(t){return!isNaN(Date.parse(t))}};var o=[],a={},s=pq.toLetter=function(t){var e=o[t];if(!e){var n=++t%26,i=t/26|0,r=n?String.fromCharCode(64+n):(--i,"Z");e=i?s(i-1)+r:r,t--,o[t]=e,a[e]=t}return e};pq.toNumber=function(t){var n,i,r=a[t];if(null==r){for(n=t.length,r=-1,i=0;n>i;i++)r+=e(t[i])*Math.pow(26,n-i-1);o[r]=t,a[t]=r}return r},pq.generateData=function(t,e){for(var n=[],i=0;e>i;i++)n[i]=s(i);var r=[];for(i=0;t>i;i++)for(var o=r[i]=[],a=0;e>a;a++)o[a]=n[a]+(i+1);return r},function(){function e(e){var n=e.rtl;return null==n&&(n=e.rtl="rtl"==t(e).css("direction")),n}var n="w",i="scrollLeft";t(function(){var e=t("<div dir='rtl' style='visibilty:hidden;height:4px;width:4px;overflow:auto;'>rtl</div>").appendTo("body"),r=e[0];0==r[i]&&(r[i]=100,n=0==r[i]?"g":"i"),e.remove()}),pq.scrollTop=function(t){return t.scrollTop},pq[i+"Val"]=function(t,i){return e(t)?"w"==n?t.scrollWidth-t.clientWidth-i:"g"==n?-1*i:i:i},pq[i]=function(t,r){var o,a=e(t);if(null==r){if(o=t[i],a){if("w"==n)return t.scrollWidth-t.clientWidth-o;if("g"==n)return-1*o}return o}t[i]=pq[i+"Val"](t,r)}}()}(jQuery),function(t){pq.validations={minLen:function(t,e,n){return t=n(t),e=n(e),t.length>=e||void 0},nonEmpty:function(t){return null!=t&&""!==t||void 0},maxLen:function(t,e,n){return t=n(t),e=n(e),t.length<=e||void 0},gt:function(t,e,n){return(t=n(t))>(e=n(e))||void 0},gte:function(t,e,n){return(t=n(t))>=(e=n(e))||void 0},lt:function(t,e,n){return t=n(t),(e=n(e))>t||void 0},lte:function(t,e,n){return t=n(t),(e=n(e))>=t||void 0},neq:function(t,e,n){return(t=n(t))!==(e=n(e))||void 0},regexp:function(t,e){return!!new RegExp(e).test(t)||void 0}};var e=t.paramquery;e.cValid=function(t){this.that=t},e.cValid.prototype={_isValidCell:function(t){var e=this.that,n=t.column,i=n.validations;if(!i||!i.length)return{valid:!0};var r,o=t.value,a=n.dataType,s=function(t){return e.getValueFromDataType(t,a,!0)},c=t.rowData;if(!c)throw"rowData required.";for(var l=0;l<i.length;l++){var u=i[l],h=u.type,d=!1,p=u.msg;if(!1!==u.on){if(r=pq.validations[h])d=null!=o&&r(o,u.value,s);else if(h){var f={column:n,value:o,rowData:c,msg:p};!1===e.callFn(h,f)?(d=!1,p=f.msg):d=!0}else d=!0;if(!d)return{valid:!1,msg:p,column:n,warn:u.warn,dataIndx:n.dataIndx,validation:u}}}return{valid:!0}},onScrollCell:function(t,e,n,i,r,o){var a,s=this.that,c=s.options.bootstrap;if(t||(a=s.getEditCell())&&a.$cell){var l=t||a.$cell;l.attr("title",e);var u="tooltip",h="open";c.on&&c.tooltip&&(u=c.tooltip,h="show");try{l[u]("destroy")}catch(d){}l[u]({trigger:"manual",position:{my:"left center+5",at:"right center"},content:function(){return(""==n?"":"<span class='ui-icon "+n+" pq-tooltip-icon'></span>")+e},open:function(t,e){var n=e.tooltip;if(i&&n.addClass(i),o){var a=n.attr("style");n.attr("style",a+";"+o)}r&&n.tooltip.css(r)}})[u](h)}},isValidCell:function(e){var n=this,i=n.that,r=e.rowData,o=e.rowIndx,a=e.value,s=e.valueDef,c=e.column,l=e.focusInvalid,u=i.options,h=e.allowInvalid,d=c.dataIndx,p=u.validation,f=u.warning,g=u.editModel,m=g.invalidClass,v=g.warnClass,b=document.activeElement;if(e.checkEditable&&0==i.isEditable({rowIndx:o,rowData:r,column:c,dataIndx:d}))return{valid:!0};var _=this._isValidCell({column:c,value:a,rowData:r}),y=_.valid,C=_.warn,x=_.msg;if(y)i.data({rowData:r,dataIndx:d,data:"pq_valid"})&&(i.removeClass({rowData:r,rowIndx:o,dataIndx:d,cls:v+" "+m}),i.removeData({rowData:r,dataIndx:d,data:"pq_valid"}));else var w=t.extend({},C?f:p,_.validation),M=w.css,O=w.cls,P=w.icon,k=w.style;if(h||C)return y?{valid:!0}:(i.addClass({rowData:r,rowIndx:o,dataIndx:d,cls:C?v:m}),i.data({rowData:r,dataIndx:d,data:{pq_valid:{css:M,icon:P,style:k,msg:x,cls:O}}}),_);if(!y){if(null==o){var A=i.getRowIndx({rowData:r,dataUF:!0});if(null==(o=A.rowIndx)||A.uf)return _.uf=A.uf,_}if(l){var T;if(s){if(t(b).hasClass("pq-editor-focus")){var S=u.editModel.indices;if(S){var E=S.rowIndx;if(null!=o&&o!=E)throw"incorrect usage of isValid rowIndx: "+o;if(d!=S.dataIndx)throw"incorrect usage of isValid dataIndx: "+d;i.editCell({rowIndx:E,dataIndx:d})}}}else{i.goToPage({rowIndx:o});var I=i.normalize(I={rowIndx:o,dataIndx:d});T=i.getCell(I),i.scrollCell(I,function(){n.onScrollCell(T,x,P,O,M,k),i.focus(I)})}this.onScrollCell(T,x,P,O,M,k)}return _}if(s){var R=i.getEditCell();if(R&&R.$cell){var D=R.$cell;D.removeAttr("title");try{D.tooltip("destroy")}catch(N){}}}return{valid:!0}},isValid:function(t){var e=this.that,n=(t=t||{}).focusInvalid,i=t.checkEditable,r=null!=(r=t.allowInvalid)&&r;if(null!=(d=t.dataIndx)){var o=e.columns[d],a=t.rowData||e.getRowData(t),s=t.hasOwnProperty("value");return(p=this.isValidCell({rowData:a,checkEditable:i,rowIndx:t.rowIndx,value:s?t.value:a[d],valueDef:s,column:o,allowInvalid:r,focusInvalid:n})).valid||p.warn?{valid:!0}:p}if(null!=t.rowIndx||null!=t.rowIndxPage||null!=t.rowData){a=t.rowData||e.getRowData(t);for(var c=e.colModel,l=[],u=0,h=c.length;h>u;u++){var d,p;if(!(o=c[u]).hidden&&!(p=this.isValidCell({rowData:a,value:a[d=o.dataIndx],column:o,rowIndx:t.rowIndx,checkEditable:i,allowInvalid:r,focusInvalid:n})).valid&&!p.warn){if(!r)return p;l.push({rowData:a,dataIndx:d,column:o})}}return r&&l.length?{cells:l,valid:!1}:{valid:!0}}var f=t.data?t.data:e.options.dataModel.data;if(l=[],!f)return null;for(u=0,h=f.length;h>u;u++){var g=this.isValid({rowData:a=f[u],rowIndx:void 0,checkEditable:i,allowInvalid:r,focusInvalid:n}),m=g.cells;if(!1===r){if(!g.valid)return g}else m&&m.length&&(l=l.concat(m))}return r&&l.length?{cells:l,valid:!1}:{valid:!0}}}}(jQuery),function(t){var e={options:{curPage:0,totalPages:0,totalRecords:0,msg:"",rPPOptions:[10,20,30,40,50,100],rPP:20,layout:["first","prev","|","strPage","|","next","last","|","strRpp","|","refresh","|","strDisplay"]},_create:function(){var t=this,e=t.options,n=e.rtl,i=t.element,r={first:t.initButton(e.strFirstPage,"seek-"+(n?"end":"first"),"first"),"|":"<td><span class='pq-separator'></span></td>",next:t.initButton(e.strNextPage,"seek-"+(n?"prev":"next"),"next"),prev:t.initButton(e.strPrevPage,"seek-"+(n?"next":"prev"),"prev"),last:t.initButton(e.strLastPage,"seek-"+(n?"first":"end"),"last"),strPage:t.getPageOf(),strRpp:t.getRppOptions(),refresh:t.initButton(e.strRefresh,"refresh","refresh"),strDisplay:"<td><span class='pq-page-display'>"+t.getDisplay()+"</span></td>"},o=e.layout.map(function(t){return r[t]}).join("");t.listeners={},i.html("<table style='border-collapse:collapse;'><tr>"+o+"</tr></table>"),i.addClass("pq-pager"),t.$first=i.find(".pq-page-first"),t.bindButton(t.$first,function(n){e.curPage>1&&t.onChange(n,1)}),t.$prev=i.find(".pq-page-prev"),t.bindButton(t.$prev,function(n){e.curPage>1&&t.onChange(n,e.curPage-1)}),t.$next=i.find(".pq-page-next"),t.bindButton(t.$next,function(n){e.curPage<e.totalPages&&t.onChange(n,e.curPage+1)}),t.$last=i.find(".pq-page-last"),t.bindButton(t.$last,function(n){e.curPage!==e.totalPages&&t.onChange(n,e.totalPages)}),t.$refresh=i.find(".pq-page-refresh"),t.bindButton(t.$refresh,function(e){return!1!==t._trigger("beforeRefresh",e)&&void t._trigger("refresh",e)}),t.$display=i.find(".pq-page-display"),t.$select=i.find(".pq-page-select").val(e.rPP).on("change",t.onChangeSelect.bind(t)),t.$totalPages=i.find(".pq-page-total"),t.$curPage=i.find(".pq-page-current"),t.bindCurPage(t.$curPage)},_destroy:function(){this.element.empty().removeClass("pq-pager").enableSelection(),this._trigger("destroy")},_setOption:function(t,e){"curPage"!=t&&"totalPages"!=t||(e*=1),this._super(t,e)},_setOptions:function(e){var n,i=!1,r=this.options;for(n in e){var o=e[n],a=typeof o;"string"==a||"number"==a?o!=r[n]&&(this._setOption(n,o),i=!0):"function"==typeof o.splice||t.isPlainObject(o)?JSON.stringify(o)!=JSON.stringify(r[n])&&(this._setOption(n,o),i=!0):o!=r[n]&&(this._setOption(n,o),i=!0)}return i&&this._refresh(),this}};t.widget("paramquery.pqPager",e),pq.pager=function(e,n){var i=t(e).pqPager(n);return i.data("paramqueryPqPager")||i.data("paramquery-pqPager")};var n=t.paramquery,i=n.pqPager;i.regional={},i.defaults=i.prototype.options,t.extend(i.prototype,{bindButton:function(e,n){e.bind("click keydown",function(e){return"keydown"!=e.type||e.keyCode==t.ui.keyCode.ENTER?n.call(this,e):void 0})},bindCurPage:function(e){var n=this,i=this.options;e.bind("keydown",function(e){e.keyCode===t.ui.keyCode.ENTER&&t(this).trigger("change")}).bind("change",function(e){var r=t(this),o=r.val();return isNaN(o)||1>o||(o=parseInt(o))!==i.curPage&&(o>i.totalPages||!1===n.onChange(e,o))?(r.val(i.curPage),!1):void 0})},initButton:function(t,e,n){return"<td><span class='pq-ui-button ui-widget-header pq-page-"+n+"' tabindex='0' title='"+t+"'><span class='ui-icon ui-icon-"+e+"'></span></span></td>"},onChange:function(t,e){var n={curPage:e};return!1!==this._trigger("beforeChange",t,n)&&(this.options.curPage=e,void this._trigger("change",t,n))},onChangeSelect:function(e){var n=t(e.target),i=this,r=1*n.val(),o={rPP:r};return!1===i._trigger("beforeChange",e,o)?(n.val(i.options.rPP),!1):(i.options.rPP=r,void i._trigger("change",e,o))},refresh:function(){this._destroy(),this._create()},format:function(t){var e=t.format;return function(t){return e?pq.formatNumber(t,e):t}},_refresh:function(){var t=this,e=t.options,n=e.curPage>=e.totalPages;t.setDisable(t.$next,n),t.setDisable(t.$last,n),t.setDisable(t.$first,n=e.curPage<=1),t.setDisable(t.$prev,n),t.$totalPages.text(t.format(e)(e.totalPages)),t.$curPage.val(e.curPage),t.$select.val(e.rPP),t.$display.html(this.getDisplay()),t._trigger("refreshView")},getDisplay:function(){var t=this.options,e=this.format(t);if(t.totalRecords>0){var n=t.rPP,i=t.strDisplay||"",r=t.curPage,o=t.totalRecords,a=r*n;a>o&&(a=o),i=(i=(i=i.replace("{0}",e((r-1)*n+1))).replace("{1}",e(a))).replace("{2}",e(o))}else i="";return i},getPageOf:function(){var t=this.options;return"<td><span>"+(t.strPage||"").replace("{0}","<input type='text' value='"+t.curPage+"' tabindex='0' class='pq-page-current ui-corner-all' />").replace("{1}","<span class='pq-page-total'>"+this.format(t)(t.totalPages)+"</span>")+"</span></td>"},getRppOptions:function(){var t,e,n,i,r,o=this.options,a=o.rPPOptions,s=0,c=a.length,l=this.format(o),u=o.strRpp||"";if(u&&-1!=u.indexOf("{0}")){for(r=["<select class='ui-corner-all pq-page-select' >"];c>s;s++)e=1*(n=a[s])==n?l(t=n):n[t=Object.keys(n)[0]],r.push('<option value="',t,'">',e,"</option>");r.push("</select>"),i=r.join(""),u=u.replace("{0}",i)+"</span>"}return"<td><span class='pq-page-rppoptions'>"+u+"</span></td>"},getInstance:function(){return{pager:this}},_trigger:n._trigger,on:n.on,one:n.one,off:n.off,setDisable:function(t,e){t[e?"addClass":"removeClass"]("disabled").css("pointer-events",e?"none":"").attr("tabindex",e?"":"0")}})}(jQuery),function(t){function e(t){return"<span class='btn btn-xs glyphicon glyphicon-"+t+"' ></span>"}function n(t){return"<span class='ui-widget-header pq-ui-button'><span class='ui-icon ui-icon-"+t+"'></span></span>"}var i=function(){};i.prototype={belongs:function(t){return t.target==this.that.element[0]||void 0},setTimer:function(t,e){clearTimeout(this._timeID),this._timeID=setTimeout(function(){t()},e)}};var r=t.paramquery;r.cClass=i;var o={widgetEventPrefix:"pqgrid",_createWidget:function(e,n){return this.origOptions=e,t.Widget.prototype._createWidget.apply(this,arguments)},_create:function(){var e=this,n=e.options,i=e.element,o=e.eventNamespace,a=n.bootstrap,s=a.on,c=n.roundCorners&&!s,l=n.ui;t(document).triggerHandler("pqGrid:bootup",{instance:this}),e.BS_on=s,n.collapsible||(n.collapsible={on:!1,collapsed:!1}),n.flexHeight&&(n.height="flex"),n.flexWidth&&(n.width="flex"),e.iRefresh=new r.cRefresh(e),e.iKeyNav=new r.cKeyNav(e),e.iValid=new r.cValid(e),e.tables=[],e.$tbl=null,e.iCols=new r.cColModel(e),e.iSort=new r.cSort(e),e._initTypeColumns(),i.on("scroll"+o,function(){this.scrollLeft=0,this.scrollTop=0}).on("mousedown"+o,e._mouseDown.bind(e));var u=s?a.grid:l.grid,h=s?"":l.header_o,d=s?"":l.bottom,p=s?a.top:l.top;i.empty().attr({role:"grid",dir:n.rtl?"rtl":"ltr"}).addClass("pq-grid pq-theme "+u+" "+(c?" ui-corner-all":"")).html(["<div class='pq-grid-top ",p," ",c?" ui-corner-top":"","'>","<div class='pq-grid-title",c?" ui-corner-top":"","'>&nbsp;</div>","</div>","<div class='pq-grid-center-o'>","<div class='pq-tool-panel' style='display:",n.toolPanel.show?"":"none",";'></div>","<div class='pq-grid-center' >","<div class='pq-header-outer ",h,"'></div>","<div class='pq-body-outer' tabindex='0' ></div>","<div class='pq-summary-outer' ></div>","</div>","<div style='clear:both;'></div>","</div>","<div class='pq-grid-bottom ",d," ",c?" ui-corner-bottom":"","'>","<div class='pq-grid-footer'></div>","</div>"].join("")),e.setLocale(),e.$bottom=t(".pq-grid-bottom",i),e.$summary=t(".pq-summary-outer",i),e.$toolPanel=i.find(".pq-tool-panel"),e.$top=t("div.pq-grid-top",i),n.showTop||e.$top.css("display","none"),e.$title=t("div.pq-grid-title",i),n.showTitle||e.$title.css("display","none");var f=e.$grid_center=t(".pq-grid-center",i).on("scroll",function(){this.scrollTop=0}),g=e.$header=t(".pq-header-outer",f).on("scroll",function(){this.scrollTop=0,this.scrollLeft=0});e.iHeader=new r.cHeader(e,g),e.$footer=t(".pq-grid-footer",i);var m=e.$cont=t(".pq-body-outer",f);f.on("mousedown",e._onGCMouseDown.bind(e)),e.iRenderB=new pq.cRenderBody(e,{$center:f,$b:m,$sum:e.$summary,header:!0,$h:e.$header}),e._trigger("render",null,{dataModel:e.options.dataModel,colModel:e.colModel}),"ontouchend"in document&&(e.addTouch(),e.contextIOS(i)),i.on("contextmenu"+o,e.onContext.bind(e)),m.on("click",".pq-grid-cell,.pq-grid-number-cell",function(n){return!0!==t.data(n.target,e.widgetName+".preventClickEvent")&&e.evtBelongs(n)?e._onClickCell(n):void 0}).on("dblclick",".pq-grid-cell",function(t){return e.evtBelongs(t)?e._onDblClickCell(t):void 0}),m.on("focusout",function(){e.onblur()}).on("focus",function(t){e.onfocus(t)}).on("mousedown",e._onMouseDown.bind(e)).on("change",e._onChange(e)).on("mouseenter",".pq-grid-cell,.pq-grid-number-cell",e._onCellMouseEnter(e)).on("mouseenter",".pq-grid-row",e._onRowMouseEnter(e)).on("mouseleave",".pq-grid-cell",e._onCellMouseLeave(e)).on("mouseleave",".pq-grid-row",e._onRowMouseLeave(e)).on("keyup",e._onKeyUp(e)),n.selectionModel.native||this.disableSelection(),f.bind("keydown.pq-grid",e._onKeyPressDown(e)),this._refreshTitle(),e.iRows=new r.cRows(e),e.generateLoading(),e._initPager(),e._refreshResizable(),e._refreshDraggable(),e.iResizeColumns=new r.cResizeColumns(e)},contextIOS:function(e){var n,i,r,o="contextmenu";e.on("touchstart",function(a){n=1,setTimeout(function(){if(n&&1==(r=a.originalEvent.touches).length){var e=t.Event(o,r[0]);t(a.target).trigger(e),i=1}},600),e.one(o,function(){n=0})}).on("touchmove touchend",function(t){n=0,i&&(i=0,t.preventDefault())})},addTouch:function(){var e,n,i=this.$grid_center[0];i.addEventListener("touchstart",function(i){var r=i.target,o=i.changedTouches[0],a=t.Event("mousedown",o);if(a.which=1,t(r).trigger(a),e){if(r&&r==e.target){var s=e.x-o.pageX,c=e.y-o.pageY;12>=Math.sqrt(s*s+c*c)&&(n=e,setTimeout(function(){n=null},500))}}else e={x:o.pageX,y:o.pageY,target:r},setTimeout(function(){e=null},400)},!0),i.addEventListener("touchend",function(e){var i=e.target;n&&i==n.target&&t(i).trigger("dblclick",e)})},_mouseDown:function(e){var n=this;return t(e.target).closest(".pq-editor-focus").length?(this._blurEditMode=!0,void window.setTimeout(function(){n._blurEditMode=!1},0)):void 0},destroy:function(){for(var e in this._trigger("destroy"),this._super(),t(window).off("resize"+this.eventNamespace),this)delete this[e];this.options=void 0,t.fragments={}},setLocale:function(){var e=this.options,n=e.locale;e.strLocal!=n&&(t.extend(!0,e,r.pqGrid.regional[n]),t.extend(e.pageModel,r.pqPager.regional[n]))},_setOption:function(t,e){var n,i=this,r=i.options,o=i.pageI,a=function(){r[t]=e},s=i.iRenderB,c=i.iRenderSum,l=i.iRenderHead,u=function(t){return t?"addClass":"removeClass"},h=r.dataModel;if("height"===t)a(),i._refreshResizable();else if("locale"==t||"pageModel"==t)a(),"locale"==t&&i.setLocale(),o&&o.destroy();else if("width"===t)a(),i._refreshResizable();else if("title"==t)a(),i._refreshTitle();else if("roundCorners"==t){a();var d=u(e);i.element[d]("ui-corner-all"),i.$top[d]("ui-corner-top"),i.$bottom[d]("ui-corner-bottom")}else if("freezeCols"==t)e=parseInt(e),!isNaN(e)&&e>=0&&e<=i.colModel.length-2&&a();else if("freezeRows"==t)e=parseInt(e),!isNaN(e)&&e>=0&&a();else if("resizable"==t)a(),i._refreshResizable();else if("draggable"==t)a(),i._refreshDraggable();else if("dataModel"==t)e.data!==h.data&&h.dataUF&&(h.dataUF.length=0),a();else{if("groupModel"==t)throw"use groupOption() to set groupModel options.";if("treeModel"==t)throw"use treeOption() to set treeModel options.";"colModel"===t||"columnTemplate"==t?(a(),i.iCols.init()):"disabled"===t?(i._super(t,e),!0===e?i._disable():i._enable()):"strLoading"===t?(a(),i._refreshLoadingString()):"showTop"===t?(a(),i.$top.css("display",e?"":"none")):"showTitle"===t?(a(),i.$title.css("display",e?"":"none")):"showToolbar"===t?(a(),i._toolbar.widget().css("display",e?"":"none")):"collapsible"===t?(a(),i._createCollapse()):"showBottom"===t?(a(),i.$bottom.css("display",e?"":"none")):"wrap"==t||"hwrap"==t?(a(),("wrap"==t?s.$tbl.add(c.$tbl):l.$tbl)[u(!e)]("pq-no-wrap")):"rowBorders"===t?(a(),d=u(e),s.$tbl[d](n="pq-td-border-top"),c.$tbl[d](n)):"columnBorders"===t?(a(),d=u(e),s.$tbl[d](n="pq-td-border-right"),c.$tbl[d](n)):a()}return i}};o.options={cancel:"input,textarea,button,select,option,.pq-no-capture,.ui-resizable-handle",trigger:!1,bootstrap:{on:!1,thead:"table table-striped table-condensed table-bordered",tbody:"table table-condensed",grid:"panel panel-default",top:"",btn:"btn btn-default",groupModel:{icon:["glyphicon-triangle-bottom","glyphicon-triangle-right"]},header_active:"active"},ui:{on:!0,grid:"ui-widget ui-widget-content",top:"ui-widget-header",bottom:"ui-widget-header",header_o:"ui-widget-header",header:"ui-state-default",header_active:""},collapsible:{on:!0,toggle:!0,collapsed:!1,_collapsed:!1,refreshAfterExpand:!0,css:{zIndex:1e3}},colModel:null,columnBorders:!0,dataModel:{data:[],dataUF:[],cache:!1,dataType:"JSON",location:"local",sorting:"local",sortDir:"up",method:"GET"},direction:"",draggable:!1,editable:!0,editModel:{pressToEdit:!0,charsAllow:["0123456789.-=eE+","0123456789-=eE+"],clicksToEdit:2,filterKeys:!0,reInt:/^([-]?[1-9][0-9]*|[-]?[0-9]?)(e[-+]?)?[0-9]*$/i,reFloat:/^[-]?[0-9]*\.?[0-9]*(e[-+]?)?[0-9]*$/i,onBlur:"validate",saveKey:t.ui.keyCode.ENTER,onSave:"nextFocus",onTab:"nextFocus",allowInvalid:!1,invalidClass:"pq-cell-red-tr pq-has-tooltip",warnClass:"pq-cell-blue-tr pq-has-tooltip",validate:!0},editor:{select:!1,type:"textarea"},summaryOptions:{number:"avg,max,min,stdev,stdevp,sum",date:"count,max,min",string:"count"},summaryTitle:{avg:"Avg: {0}",count:"Count: {0}",max:"Max: {0}",min:"Min: {0}",stdev:"Stdev: {0}",stdevp:"Stdevp: {0}",sum:"Sum: {0}"},validation:{icon:"ui-icon-alert",cls:"ui-state-error",style:"padding:3px 10px;"},warning:{icon:"ui-icon-info",cls:"",style:"padding:3px 10px;"},freezeCols:0,freezeRows:0,freezeBorders:!0,calcDataIndxFromColIndx:!0,height:400,hoverMode:"null",locale:"en",maxColWidth:2e3,minColWidth:50,minWidth:100,menuUI:{tabs:["hideCols","filter"],buttons:["clear","ok"],gridOptions:{autoRow:!1,copyModel:{render:!0},editable:function(t){return!t.rowData.pq_disabled},fillHandle:"",filterModel:{header:!0,on:!0},hoverMode:"row",hwrap:!1,rowBorders:!1,rowHt:24,rowHtHead:23,scrollModel:{autoFit:!0},showTop:!1,height:300,wrap:!1}},mergeCells:[],numberCell:{width:30,title:"",resizable:!0,minWidth:30,maxWidth:100,show:!0},pageModel:{curPage:1,totalPages:0,rPP:10,rPPOptions:[10,20,50,100]},resizable:!1,roundCorners:!0,rowBorders:!0,rowResize:!0,autoRow:!0,scrollModel:{autoFit:!1},selectionModel:{column:!0,type:"cell",onTab:"nextFocus",row:!0,mode:"block"},showBottom:!0,showHeader:!0,showTitle:!0,showToolbar:!0,showTop:!0,sortable:!0,sql:!1,stringify:!0,stripeRows:!0,title:"&nbsp;",treeModel:null,width:"auto",wrap:!0,hwrap:!0},t.widget("paramquery._pqGrid",o);var a=r._pqGrid.prototype;a.refreshCM=function(t,e){t&&(this.options.colModel=t),this.iCols.init(e)},a.evtBelongs=function(e){return t(e.target).closest(".pq-grid")[0]==this.element[0]},a.readCell=function(t,e,n,i,r){return n&&!1===n.isRootCell(i,r,"o")?void 0:t[e.dataIndx]},a.saveCell=function(t,e,n){t[e.dataIndx]=n},a._destroyResizable=function(){var t=this.element,e=t.data();(e.resizable||e.uiResizable||e["ui-resizable"])&&t.resizable("destroy")},a._disable=function(){null==this.$disable&&(this.$disable=t("<div class='pq-grid-disable'></div>").css("opacity",.2).appendTo(this.element))},a._enable=function(){this.$disable&&(this.element[0].removeChild(this.$disable[0]),this.$disable=null)},a._destroy=function(){this.loading&&this.xhr.abort(),this._destroyResizable(),this._destroyDraggable(),this.element.off(this.eventNamespace),t(window).unbind(this.eventNamespace),t(document).unbind(this.eventNamespace),this.element.empty().css("height","").css("width","").removeClass("pq-grid ui-widget ui-widget-content ui-corner-all").removeData()},a._onKeyUp=function(t){return function(e){t.evtBelongs(e)&&t._trigger("keyUp",e,null)}},a.onKeyPressDown=function(e){var n=this;return t(e.target).closest(".pq-header-outer").length?n._trigger("headerKeyDown",e,null):void(!1!==n.iKeyNav.bodyKeyPressDown(e)&&n._trigger("keyDown",e,null))},a._onKeyPressDown=function(t){return function(e){t.evtBelongs(e)&&t.onKeyPressDown(e,t)}},a.collapse=function(t){t=t||{};var e=this,n=e.element,i=e.options.collapsible,r=i.$collapse.children("span"),o=function(){n.css("overflow","hidden"),r.addClass("ui-icon-circle-triangle-s").removeClass("ui-icon-circle-triangle-n"),n.hasClass("ui-resizable")&&n.resizable("destroy"),e._toolbar&&e._toolbar.disable(),i.collapsed=i._collapsed=!0,i.animating=!1,e._trigger("collapse")};return!i._collapsed&&(i.htCapture=n.height(),void(!1===t.animate?(n.height(23),o()):(i.animating=!0,e.disable(),n.animate({height:"23px"},function(){o()}))))},a.expand=function(t){var e=this,n=e.element,i=e.options.collapsible,r=i.htCapture,o=i.$collapse.children("span"),a=function(){n.css("overflow",""),i._collapsed=i.collapsed=!1,e._refreshResizable(),i.refreshAfterExpand&&e.refresh(),o.addClass("ui-icon-circle-triangle-n").removeClass("ui-icon-circle-triangle-s"),e._toolbar&&e._toolbar.enable(),e.enable(),i.animating=!1,e._trigger("expand")};return t=t||{},!1!==i._collapsed&&void(!1===t.animate?(n.height(r),a()):(i.animating=!0,n.animate({height:r},function(){a()})))},a._createCollapse=function(){var i=this,r=this.$top,o=this.BS_on,a=this.options.collapsible;if(!a.$stripe){var s=t(["<div class='pq-slider-icon pq-no-capture'  >","</div>"].join("")).appendTo(r);a.$stripe=s}a.on?a.$collapse||(a.$collapse=t(o?e("collapse-down"):n("circle-triangle-n")).appendTo(a.$stripe).click(function(){a.collapsed?i.expand():i.collapse()})):a.$collapse&&(a.$collapse.remove(),delete a.$collapse),a.collapsed&&!a._collapsed?i.collapse({animate:!1}):!a.collapsed&&a._collapsed&&i.expand({animate:!1}),a.toggle?a.$toggle||(a.$toggle=t(o?e("fullscreen"):n("arrow-4-diag")).prependTo(a.$stripe).click(function(){i.toggle()})):a.$toggle&&(a.$toggle.remove(),delete a.$toggle),a.toggled&&!a.state&&this.toggle()},a.toggle=function(e){e=e||{};var n=this.options,i=n.collapsible,r=this.element,o=i.state,a=o?"min":"max",s=t("html"),c=t(window),l=t(document.body);if(!1===this._trigger("beforeToggle",null,{state:a}))return!1;if("min"==a){var u=o.grid,h=o.doc;this.option({height:u.height,width:u.width,maxHeight:u.maxHeight,maxWidth:u.maxWidth}),r[0].style.cssText=u.cssText,l[0].style.cssText=h.cssText,s.css({overflow:"visible"}),window.scrollTo(h.scrollLeft,h.scrollTop),i.state=null}else u={height:n.height,width:n.width,cssText:r[0].style.cssText,maxHeight:n.maxHeight,maxWidth:n.maxWidth},this.option({height:"100%",width:"100%",maxHeight:null,maxWidth:null}),r.css(t.extend({position:"fixed",left:0,top:0,margin:0},i.css)),h={scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),cssText:l[0].style.cssText},l.css({height:0,width:0,overflow:"hidden",position:"static"}),s.css({overflow:"hidden"}),window.scrollTo(0,0),i.state={grid:u,doc:h};i.toggled=!!i.state,e.refresh||(this._trigger("toggle",null,{state:a}),this._refreshResizable(),this.refresh(),c.trigger("resize",{$grid:r,state:a}))},a._onDblClickCell=function(e){var n=this,i=t(e.currentTarget),r=n.getCellIndices({$td:i});r.$td=i,0!=n._trigger("cellDblClick",e,r)&&(n.options.editModel.clicksToEdit>1&&n.isEditable(r)&&n.editCell(r),r.$tr=i.closest(".pq-grid-row"),n._trigger("rowDblClick",e,r))},a.getValueFromDataType=function(e,n,i){if("="==(e+"")[0])return e;var r;if("date"==n)return r=Date.parse(e),isNaN(r)?void 0:i?r:e;if("integer"==n)r=parseInt(e);else{if("float"!=n)return"bool"==n?null==e?e:0==(r=t.trim(e).toLowerCase()).length?null:"true"==r||"yes"==r||"1"==r||"false"!=r&&"no"!=r&&"0"!=r&&Boolean(r):"object"==n||null==e?e:t.trim(e);r=parseFloat(e)}return isNaN(r)||null==r?null==e?e:null:r},a.isValid=function(t){return this.iValid.isValid(t)},a.isValidChange=function(t){t=t||{};var e=this.getChanges(),n=e.updateList.concat(e.addList);return t.data=n,this.isValid(t)},a.isEditableCell=function(t){var e,n,i,r=t,o=t.rowData;return t.column&&o||(o=(r=this.normalize(t)).rowData),o&&(i=o.pq_cellprop)&&(n=(i[r.dataIndx]||{}).edit),null==n&&null!=(e=r.column.editable)&&("function"==typeof e?(r=r||this.normalize(t),n=this.callFn(e,r)):n=e),n},a.isEditableRow=function(t){var e=this.options.editable,n=t.rowData,i=n&&(n.pq_rowprop||{}).edit;return null==i&&(i="function"==typeof e?e.call(this,this.normalize(t)):e),i},a.isEditable=function(t){var e=this.isEditableCell(t);return null==e?this.isEditableRow(t):e},a._onMouseDownCont=function(){var t,e;(t=this.pdata)&&t.length||((e=this.$cont[0]).setAttribute("tabindex",0),e.focus())},a._onGCMouseDown=function(){var e=this;e._mousePQUpDelegate=function(n){t(document).unbind("mouseup"+e.eventNamespace,e._mousePQUpDelegate),e._trigger("mousePQUp",n,null)},t(document).bind("mouseup"+e.eventNamespace,e._mousePQUpDelegate)},a._onMouseDown=function(e){var n=this;if((!e.which||1==e.which)&&n.evtBelongs(e)){var i,r=t(e.target),o=r.closest(".pq-grid-cell,.pq-grid-number-cell");if(o.length&&(e.currentTarget=o[0],n._onMouseDownCell(e)),e.isPropagationStopped())return;if((i=r.closest(".pq-grid-row")).length&&(e.currentTarget=i[0],n._onMouseDownRow(e)),e.isPropagationStopped())return;n._onMouseDownCont(e)}},a._onMouseDownCell=function(e){var n,i=t(e.currentTarget),r=this.getCellIndices({$td:i});null!=r.rowIndx&&((n=this.iMerge.getRootCellO(r.rowIndx,r.colIndx,!0)).$td=i,this._trigger("cellMouseDown",e,n))},a._onMouseDownRow=function(e){var n=t(e.currentTarget),i=this.getRowIndx({$tr:n});i.$tr=n,this._trigger("rowMouseDown",e,i)},a._onCellMouseEnter=function(e){return function(n){if(e.evtBelongs(n)){var i=t(this),r=e.options,o=e.getCellIndices({$td:i});if(null==o.rowIndx||null==o.colIndx)return;if(!1===e._trigger("cellMouseEnter",n,o))return;return"cell"==r.hoverMode&&e.highlightCell(i),!0}}},a._onChange=function(e){function n(){if(i&&r&&r.target==i.target){var t;for(t in{ctrlKey:0,metaKey:0,shiftKey:0,altKey:0})r[t]=i[t];e._trigger("valChange",r,o),r=i=void 0}}var i,r,o;return e.on("cellClickDone",function(t){i=t.originalEvent,n()}),function(i){if(e.evtBelongs(i)){var a=t(i.target),s=a.closest(".pq-grid-cell");s.length&&(o=e.getCellIndices({$td:s}),(o=e.normalize(o)).input=a[0],r=i,n())}}},a._onRowMouseEnter=function(e){return function(n){if(e.evtBelongs(n)){var i=t(this),r=e.options,o=e.getRowIndx({$tr:i}),a=o.rowIndxPage;if(!1===e._trigger("rowMouseEnter",n,o))return;return"row"==r.hoverMode&&e.highlightRow(a),!0}}},a._onCellMouseLeave=function(e){return function(n){if(e.evtBelongs(n)){var i=t(this);"cell"==e.options.hoverMode&&e.unHighlightCell(i)}}},a._onRowMouseLeave=function(e){return function(n){if(e.evtBelongs(n)){var i=t(this),r=e.getRowIndx({$tr:i}),o=r.rowIndxPage;if(!1===e._trigger("rowMouseLeave",n,{$tr:i,rowIndx:r.rowIndx,rowIndxPage:o}))return;"row"==e.options.hoverMode&&e.unHighlightRow(o)}}},a.enableSelection=function(){this.element.removeClass("pq-disable-select").off("selectstart"+this.eventNamespace)},a.disableSelection=function(){this.element.addClass("pq-disable-select").on("selectstart"+this.eventNamespace,function(e){if(e.target){var n=t(e.target);return!!n.is("input,textarea,select")||!!n.closest(".pq-native-select").length||void e.preventDefault()}})},a._onClickCell=function(e){var n=this,i=n.options.editModel,r=t(e.currentTarget),o=n.getCellIndices({$td:r}),a=n.normalize(o),s=a.colIndx;a.$td=r,a.evt=e,0!=n._trigger("beforeCellClick",e,a)&&(n._trigger("cellClick",e,a),null==s||0>s||(1==i.clicksToEdit&&n.isEditable(a)&&n.editCell(a),a.$tr=r.closest(".pq-grid-row"),n._trigger("rowClick",e,a)))},a.getHeadIndices=function(t){var e=this.iRenderB.getCellIndx(t),n=e[0],i=e[1],r=this.headerCells;return{ri:n,colIndx:i,column:(r[n]||r[n-1])[i],filterRow:!r[n]}},a.onContext=function(e){var n,i,r,o,a=this,s=e.target,c=function(t){a._trigger(t,e,o)};if(a.evtBelongs(e)){i=s;do{if(r=t(i),o={ele:i},r.is(".pq-grid")){o={},c("context");break}if(r.is("img")?(o.type="img",n=1):r.is(".pq-grid-cell,.pq-grid-number-cell")?(o=a.getCellIndices({$td:r})).rowData&&(o.type=o.column?"cell":"num",o.$td=r,n=1,c("cellRightClick")):r.is(".pq-tab-item")?(o.id=a.iTab.getId(r),o.type="tab",n=1):r.is(".pq-grid-col")&&((o=a.getHeadIndices(i)).type="head",o.$th=r,n=1,c("headRightClick")),n){c("context");break}}while(i=i.parentNode)}},a.highlightCell=function(t){t.addClass("pq-grid-cell-hover ui-state-hover")},a.unHighlightCell=function(t){t.removeClass("pq-grid-cell-hover ui-state-hover")},a.highlightRow=function(t){if(isNaN(t));else{var e=this.getRow({rowIndxPage:t});e&&e.addClass("pq-grid-row-hover ui-state-hover")}},a.unHighlightRow=function(t){if(isNaN(t));else{var e=this.getRow({rowIndxPage:t});e&&e.removeClass("pq-grid-row-hover ui-state-hover")}},a._getCreateEventData=function(){return{dataModel:this.options.dataModel,data:this.pdata,colModel:this.options.colModel}},a._initPager=function(){var e=this,n=e.options,i=n.pageModel;if(i.type){var r={bootstrap:n.bootstrap,change:function(t,n){e.blurEditor({force:!0});var i=e.options.pageModel;null!=n.curPage&&(i.prevPage=i.curPage,i.curPage=n.curPage),null!=n.rPP&&(i.rPP=n.rPP),"remote"==i.type?e.remoteRequest({callback:function(){e._onDataAvailable({apply:!0,header:!1})}}):e.refreshView({header:!1,source:"pager"})},refresh:function(){e.refreshDataAndView()}};(r=t.extend(r,i)).rtl=n.rtl,e.pageI=pq.pager(i.appendTo?i.appendTo:this.$footer,r).on("destroy",function(){delete e.pageI})}},a.generateLoading=function(){this.$loading&&this.$loading.remove(),this.$loading=t("<div class='pq-loading'></div>").appendTo(this.element),t(["<div class='pq-loading-bg'></div><div class='pq-loading-mask ui-state-highlight'><div>",this.options.strLoading,"...</div></div>"].join("")).appendTo(this.$loading),this.$loading.find("div.pq-loading-bg").css("opacity",.2)},a._refreshLoadingString=function(){this.$loading.find("div.pq-loading-mask").children("div").html(this.options.strLoading)},a.showLoading=function(){null==this.showLoadingCounter&&(this.showLoadingCounter=0),this.showLoadingCounter++,this.$loading.show()},a.hideLoading=function(){this.showLoadingCounter>0&&this.showLoadingCounter--,this.showLoadingCounter||this.$loading.hide()},a.getTotalRows=function(){var t=this.options,e=t.dataModel,n=t.pageModel;return"remote"==n.location?n.totalRecords:(e.data||[]).length+(e.dataUF||[]).length},a.refreshDataFromDataModel=function(t){t=t||{};var e,n,i,r,o,a=this,s=a.options,c=s.pageModel,l=s.dataModel.data,u=c.type,h=a._queueATriggers;for(var d in h){var p=h[d];delete h[d],a._trigger(d,p.evt,p.ui)}a._trigger("beforeRefreshData",null,{}),"local"==u?(r=c.totalRecords=l.length,c.totalPages=i=Math.ceil(r/c.rPP),c.curPage>i&&(c.curPage=i),i&&!c.curPage&&(c.curPage=1),(n=c.curPage*c.rPP)>l.length&&(n=l.length),a.pdata=l.slice(e=(e=(c.curPage-1)*c.rPP)>=0?e:0,n),o=e):"remote"==u?(c.totalPages=i=Math.ceil(c.totalRecords/c.rPP),c.curPage>i&&(c.curPage=i),i&&!c.curPage&&(c.curPage=1),(n=c.rPP)>l.length&&(n=l.length),a.pdata=l.slice(0,n),o=c.rPP*(c.curPage-1)):a.pdata=s.backwardCompat?l.slice(0):l,a.riOffset=o>=0?o:0,a._trigger("dataReady",null,{source:t.source}),a._trigger("dataReadyAfter",null,{source:t.source})},a.getQueryStringCRUD=function(){return""},a.remoteRequest=function(e){this.loading&&this.xhr.abort(),e=e||{};var n=this,i="",r="",o=this.options,a=!1,s=this.colModel,c=o.dataModel,l=o.sortModel,u=o.filterModel,h=o.pageModel;if("function"==typeof c.getUrl){var d=c.getUrl.call(this,{colModel:s,dataModel:c,sortModel:l,groupModel:o.groupModel,pageModel:h,filterModel:u});d&&d.url&&(i=d.url),d&&d.data&&(r=d.data)}else if("string"==typeof c.url){i=c.url;var p,f={},g={},m={};if("remote"==l.type){e.initBySort||this.sort({initByRemote:!0});var v=this.iSort.getQueryStringSort();v&&(f={pq_sort:v})}"remote"==h.type&&(m={pq_curpage:h.curPage,pq_rpp:h.rPP}),"local"!=u.type&&(p=this.iFilterData.getQueryStringFilter())&&(a=!0,g={pq_filter:p});var b=c.postData,_=c.postDataOnce;b&&"function"==typeof b&&(b=b.call(this,{colModel:s,dataModel:c})),r=t.extend({pq_datatype:c.dataType},g,m,f,b,_)}i&&(this.loading=!0,this.showLoading(),this.xhr=t.ajax({url:i,dataType:c.dataType,async:null==c.async||c.async,cache:c.cache,contentType:c.contentType,type:c.method,data:r,beforeSend:function(t,e){return"function"==typeof c.beforeSend?c.beforeSend.call(n,t,e):void 0},success:function(t,i,r){n.onRemoteSuccess(t,i,r,a,e)},error:function(t,e,i){if(n.hideLoading(),n.loading=!1,"function"==typeof c.error)c.error.call(n,t,e,i);else if("abort"!=i)throw"Error : "+i}}))},a.onRemoteSuccess=function(t,e,n,i,r){var o,a=this,s=a.options,c=a.colModel,l=s.pageModel,u=s.dataModel;o="function"==typeof u.getData?u.getData.call(a,t,e,n):t,u.data=o.data,"remote"==l.type&&(null!=o.curPage&&(l.curPage=o.curPage),null!=o.totalRecords&&(l.totalRecords=o.totalRecords)),a.hideLoading(),a.loading=!1,a._trigger("load",null,{dataModel:u,colModel:c}),i&&(a._queueATriggers.filter={ui:{}}),r.callback&&r.callback()},a._refreshTitle=function(){this.$title.html(this.options.title)},a._destroyDraggable=function(){var t=this.element,e=t.parent(".pq-wrapper");e.length&&e.data("draggable")&&(e.draggable("destroy"),this.$title.removeClass("pq-draggable pq-no-capture"),t.unwrap(".pq-wrapper"))},a._refreshDraggable=function(){var t=this.element,e=this.$title;this.options.draggable?(e.addClass("pq-draggable pq-no-capture"),t.parent(".pq-wrapper").length||t.wrap("<div class='pq-wrapper' />"),t.parent(".pq-wrapper").draggable({handle:e})):this._destroyDraggable()},a._refreshResizable=function(){var e=this,n=this.element,i=this.options,r=(i.width+"").indexOf("%")>-1,o=(i.height+"").indexOf("%")>-1,a="auto"==i.width,s="flex"==i.width,c="flex"==i.height;if(!i.resizable||(c||o)&&(s||r||a))this._destroyResizable();else{var l="e,s,se";c||o?l="e":(s||r||a)&&(l="s");var u=!0;n.hasClass("ui-resizable")&&(l==n.resizable("option","handles")?u=!1:this._destroyResizable()),u&&n.resizable({helper:"ui-state-default",handles:l,minWidth:i.minWidth,minHeight:i.minHeight?i.minHeight:100,delay:0,start:function(e,n){t(n.helper).css({opacity:.5,background:"#ccc",border:"1px solid steelblue"})},stop:function(){var n=e.element,r=n[0],o=i.width,a=i.height,s=(o+"").indexOf("%")>-1,c=(a+"").indexOf("%")>-1,l="auto"==o,u="flex"==o,h="flex"==a,d=!1;r.style.width=r.offsetWidth+3+"px",r.style.height=r.offsetHeight+3+"px",c||h||(d=!0,i.height=r.offsetHeight),s||l||u||(d=!0,i.width=r.offsetWidth),e.refresh({soft:!0}),n.css("position","relative"),d&&t(window).trigger("resize")}})}},a.refresh=function(t){this.iRefresh.refresh(t)},a.refreshView=function(t){null!=this.options.editModel.indices&&this.blurEditor({force:!0}),this.refreshDataFromDataModel(t),this.refresh(t)},a._refreshPager=function(){var t=this,e=t.options,n=e.pageModel,i=n.rPP,r=n.totalRecords;n.type?(t.pageI||t._initPager(),t.pageI.option(n),r>i?t.$bottom.css("display",""):e.showBottom||t.$bottom.css("display","none")):(t.pageI&&t.pageI.destroy(),t.$bottom.css("display",e.showBottom?"":"none"))},a.getInstance=function(){return{grid:this}},a.refreshDataAndView=function(t){var e=this.options.dataModel;if(this.pdata=[],"remote"==e.location){var n=this;this.remoteRequest({callback:function(){n._onDataAvailable(t)}})}else this._onDataAvailable(t)},a.getColIndx=function(t){var e,n=t.dataIndx,i=t.column,r=this.colModel,o=r.length,a=0;if(i){for(;o>a;a++)if(r[a]==i)return a}else{if(null==n)throw"dataIndx / column NA";if(null!=(e=this.colIndxs[n]))return e}return-1},a.getColumn=function(t){var e=t.dataIndx;if(null==e)throw"dataIndx N/A";return this.columns[e]||this.iGroup.getColsPrimary()[e]},a._generateCellRowOutline=function(){var e,n=this.options.editModel;this.$div_focus||(n.inline?(e=this.getCell(n.indices)).css("padding",0).empty():e=this.$cont,this.$div_focus=t(["<div class='pq-editor-outer'>","<div class='pq-editor-inner'>","</div>","</div>"].join("")).appendTo(e))},a._removeEditOutline=function(){if(this.$div_focus){var e=this.$div_focus.find(".pq-editor-focus");if(function(t){t.hasClass("hasDatepicker")&&t.datepicker("hide").datepicker("destroy")}(e),e[0]==document.activeElement){var n=this._blurEditMode;this._blurEditMode=!0,e.blur(),this._blurEditMode=n}this.$div_focus.remove(),delete this.$div_focus;var i=this.options.editModel,r=t.extend({},i.indices);i.indices=null,r.rowData=void 0,this.refreshCell(r)}},a.scrollX=function(t,e){var n=this;return n.iRenderB.scrollX(t,function(){e&&e.call(n)})},a.scrollY=function(t,e){var n=this;return n.iRenderB.scrollY(t,function(){e&&e.call(n)})},a.scrollXY=function(t,e,n){var i=this;return i.iRenderB.scrollXY(t,e,function(){n&&n.call(i)})},a.scrollRow=function(t,e){var n=this;n.iRenderB.scrollRow(n.normalize(t).rowIndxPage,function(){e&&e.call(n)})},a.scrollColumn=function(t,e){var n=this;n.iRenderB.scrollColumn(n.normalize(t).colIndx,function(){e&&e.call(n)})},a.scrollCell=function(t,e){var n=this,i=n.normalize(t);n.iRenderB.scrollCell(i.rowIndxPage,i.colIndx,function(){e&&e.call(n),n._trigger("scrollCell")})},a.blurEditor=function(t){if(this.$div_focus){var e=this.$div_focus.find(".pq-editor-focus");if(!t||!t.blurIfFocus)return e.triggerHandler("blur",t);document.activeElement==e[0]&&e.blur()}},a.Selection=function(){return this.iSelection},a.goToPage=function(t){var e=this.options.pageModel;if("local"==e.type||"remote"==e.type){var n=null==t.page?Math.ceil((t.rowIndx+1)/e.rPP):t.page;n!=e.curPage&&(e.curPage=n,"local"==e.type?this.refreshView():this.refreshDataAndView())}},a.setSelection=function(t,e){if(null==t)return this.iSelection.removeAll(),this.iRows.removeAll({all:!0}),!0;var n=this,i=n.pdata,r=function(){null!=a&&!1!==t.focus&&n.focus({rowIndxPage:a,colIndx:null==s?n.getFirstVisibleCI():s}),e&&e.call(n)};i&&i.length||r();var o=(t=this.normalize(t)).rowIndx,a=t.rowIndxPage,s=t.colIndx;(null==o||0>o||0>s||s>=this.colModel.length)&&r(),this.goToPage(t),n.scrollRow({rowIndxPage:a=o-this.riOffset},function(){null==s?(n.iRows.add({rowIndx:o}),r()):n.scrollColumn({colIndx:s},function(){n.Range({r1:o,c1:s}).select(),r()})})},a.getColModel=function(){return this.colModel},a.getCMPrimary=function(){return this.iGroup.getCMPrimary()},a.getOCMPrimary=function(){return this.iGroup.getOCMPrimary()},a.saveEditCell=function(e){var n=this.options,i=n.editModel;if(!i.indices)return null;var r,o=t.extend({},i.indices),a=e?e.evt:null,s=o.rowIndxPage,c=s+this.riOffset,l=this.colModel[o.colIndx],u=l.dataIndx,h=this.pdata[s],d=n.dataModel;if(null==h)return null;if(null!=s){var p=this.getEditCellData();if(t.isPlainObject(p))for(var f in r={},p)r[f]=h[f];else r=this.readCell(h,l);"<br>"==p&&(p=""),null==r&&""===p&&(p=null);var g={rowIndx:c,rowIndxPage:s,dataIndx:u,column:l,newVal:p,value:p,oldVal:r,rowData:h,dataModel:d};if(!1===this._trigger("cellBeforeSave",a,g))return!1;var m={};return t.isPlainObject(p)?m=p:m[u]=p,!1!==this.updateRow({row:m,rowIndx:c,silent:!0,source:"edit",checkEditable:!1})&&(this._trigger("cellSave",a,g),!0)}},a._digestNewRow=function(t,e,n,i,r,o,a,s,c){var l,u,h=this,d=h.getValueFromDataType,p=h.columns,f=h.colIndxs;for(l in t)if(u=p[l]){if(o&&!1===h.isEditable({rowIndx:n,rowData:i,colIndx:f[l],column:u})){delete t[l],e&&delete e[l];continue}var g=u.dataType,m=d(t[l],g),v=e?e[l]:void 0;if(v=void 0!==v?d(v,g):void 0,t[l]=m,a&&u.validations)if("edit"==c&&!1===s){var b=this.isValid({focusInvalid:!0,dataIndx:l,rowIndx:n,value:m});if(0==b.valid&&!b.warn)return!1}else!1===(b=this.iValid.isValidCell({column:u,rowData:"add"==r?t:i,allowInvalid:s,value:m})).valid&&(!1!==s||b.warn||delete t[l]);if("update"==r&&m===v){delete t[l],delete e[l];continue}}return"update"!=r||!pq.isEmpty(t)||void 0},a._digestData=function(t){if(t.rowList)throw"not supported";if(P=t.addList=t.addList||[],t.updateList=t.updateList||[],t.deleteList=t.deleteList||[],P.length&&P[0].rowData)throw"rd in addList";if(!1===this._trigger("beforeValidate",null,t))return!1;var e,n,i,r,o=this,a=o.options,s=a.editModel,c=a.dataModel,l=c.data||[],u=c.dataUF||[],h=a.pageModel,d=a.historyModel,p=a.colModel.map(function(t){return t.dataIndx}),f=null==t.validate?s.validate:t.validate,g="remote"==h.type,m=null==t.allowInvalid?s.allowInvalid:t.allowInvalid,v=t.track,b=null==t.history?d.on:t.history,_=this.iHistory,y=this.iUCData,C=null==t.checkEditable||t.checkEditable,x=null==t.checkEditableAdd?C:t.checkEditableAdd,w=t.source,M=o.iRefresh,O=this.riOffset,P=t.addList,k=t.updateList,A=t.deleteList,T=[],S=[];for(v=null==v?null==a.track?a.trackModel.on:a.track:v,i=0,r=k.length;r>i;i++){var E,I=k[i],R=I.newRow,D=I.rowData,N=I.checkEditable,L=I.rowIndx,z=I.oldRow;if(null==N&&(N=C),!z)throw"oldRow required while update";if(!1===(E=this._digestNewRow(R,z,L,D,"update",N,f,m,w)))return!1;E&&S.push(I)}for(i=0,r=P.length;r>i;i++){if(R=(I=P[i]).newRow,L=I.rowIndx,null==(N=I.checkEditable)&&(N=x),p.forEach(function(t){R[t]=R[t]}),!1===(E=this._digestNewRow(R,z,L,D,"add",N,f,m,w)))return!1;E&&T.push(I)}return P=t.addList=T,k=t.updateList=S,n=A.length,(e=P.length)||k.length||n?(b&&(_.increment(),_.push(t)),o._digestUpdate(k,y,v),n&&(o._digestDelete(A,y,v,l,u,h,g,O),M.addRowIndx()),e&&(o._digestAdd(P,y,v,l,h,g,O),M.addRowIndx()),o._trigger("change",null,t),!0):"edit"==w&&null},a._digestUpdate=function(t,e,n){for(var i,r=0,o=t.length,a=this.columns,s=this.saveCell;o>r;r++){var c=t[r],l=c.newRow,u=c.rowData;for(i in n&&e.update({rowData:u,row:l,refresh:!1}),l)s(u,a[i],l[i])}},a._digestAdd=function(t,e,n,i,r,o,a){var s=0,c=t.length;for(t.sort(function(t,e){return t.rowIndx-e.rowIndx});c>s;s++){var l=t[s],u=l.newRow,h=l.rowIndx;n&&e.add({rowData:u}),null==h?i.push(u):i.splice(o?h-a:h,0,u),l.rowData=u,o&&r.totalRecords++}},a._digestDelete=function(t,e,n,i,r,o,a,s){for(var c=0,l=t.length;l>c;c++){var u=t[c],h=u.rowData,d=!1,p=i.indexOf(h);-1==p&&(p=r.indexOf(h))>=0&&(d=!0),u.uf=d,u.rowIndx=p}for(t.sort(function(t,e){return e.rowIndx-t.rowIndx}),c=0;l>c;c++){h=(u=t[c]).rowData,d=u.uf,p=u.rowIndx,n&&e.delete({rowIndx:p,rowData:h});var f=a?p-s:p;if(d)r.splice(p,1);else{var g=i.splice(f,1);g&&g.length&&a&&o.totalRecords--}}},a.refreshColumn=function(t){var e=this,n=e.normalize(t),i=e.iRenderB;n.skip=!0,i.eachV(function(t,i){n.rowIndxPage=i,e.refreshCell(n)}),e._trigger("refreshColumn",null,n)},a.refreshCell=function(t){var e=this,n=e.normalize(t),i=e._focusEle,r=n.rowIndxPage;e.iRenderB.refreshCell(r,n.colIndx,n.rowData,n.column)&&(i&&i.rowIndxPage==r&&e.focus(),n.skip||(e.refresh({soft:!0}),e._trigger("refreshCell",null,n)))},a.refreshHeaderCell=function(t){var e=this.normalize(t),n=this.headerCells,i=n.length-1;this.iRenderHead.refreshCell(i,e.colIndx,n[i],e.column)},a.refreshRow=function(t){if(this.pdata){var e,n=this,i=n.normalize(t),r=i.rowIndx,o=i.rowIndxPage,a=i.rowData;return a?(n.iRenderB.refreshRow(o),n.refresh({soft:!0}),(e=n._focusEle)&&e.rowIndxPage==o&&n.focus(),n._trigger("refreshRow",null,{rowData:a,rowIndx:r,rowIndxPage:o}),!0):null}},a.quitEditMode=function(t){if(!this._quitEditMode){var e=!1,n=!1,i=!1,r=this.options.editModel,o=r.indices,a=void 0;this._quitEditMode=!0,t&&(e=t.old,n=t.silent,i=t.fireOnly,a=t.evt),o&&(n||e||this._trigger("editorEnd",a,o),i||(this._removeEditOutline(t),r.indices=null)),this._quitEditMode=null}},a.getViewPortRowsIndx=function(){return{beginIndx:this.initV,endIndx:this.finalV}},a.getViewPortIndx=function(){var t=this.iRenderB;return{initV:t.initV,finalV:t.finalV,initH:t.initH,finalH:t.finalH}},a.getRIOffset=function(){return this.riOffset},a.getEditCell=function(){var t=this.options.editModel;if(t.indices){var e=this.getCell(t.indices),n=this.$div_focus.children(".pq-editor-inner"),i=n.find(".pq-editor-focus");return{$td:e,$cell:n,$editor:i}}return{}},a.editCell=function(t){var e,n,i=this,r=i.normalize(t),o=i.iMerge,a=r.rowIndx,s=r.colIndx;return(!o.ismergedCell(a,s)||(e=o.getRootCellO(a,s)).rowIndx==r.rowIndx&&e.colIndx==r.colIndx)&&void i.scrollCell(r,function(){return(n=i.getCell(r))&&n.length?i._editCell(r):void 0})},a.getFirstEditableColIndx=function(t){if(null==t.rowIndx)throw"rowIndx NA";for(var e=this.colModel,n=0;n<e.length;n++)if(!e[n].hidden&&(t.colIndx=n,this.isEditable(t)))return n;return-1},a.editFirstCellInRow=function(t){var e=this.normalize(t).rowIndx,n=this.getFirstEditableColIndx({rowIndx:e});-1!=n&&this.editCell({rowIndx:e,colIndx:n})},a._editCell=function(e){var n=this,i=n.normalize(e),o=i.evt,s=i.rowIndxPage,c=i.colIndx,l=n.pdata;if(!l||s>=l.length)return!1;var u=n.options,h=u.editModel,d=l[s],p=i.rowIndx,f=n.colModel[c],g=f.dataIndx,m=n.readCell(d,f),v={rowIndx:p,rowIndxPage:s,cellData:m,rowData:d,dataIndx:g,colIndx:c,column:f},b=f.editor,_=n,y=typeof b;if(void 0===(b="function"==y||"string"==y?_.callFn(b,v):b)&&"function"==typeof u.geditor&&(b=u.geditor.call(_,v)),!1!==b){b&&b.getData&&(h._getData=b.getData);var C=u.editor,x=b?t.extend({},C,b):C,w=!1;if(h.indices){var M=h.indices;if(M.rowIndxPage==s&&M.colIndx==c){var O=n.$div_focus.find(".pq-editor-focus");return O[0].focus(),document.activeElement!=O[0]&&window.setTimeout(function(){O.focus()},0),!1}if(!1===n.blurEditor({evt:o}))return!1;n.quitEditMode({evt:o})}h.indices={rowIndxPage:s,rowIndx:p,colIndx:c,column:f,dataIndx:g},n._generateCellRowOutline();var P=n.$div_focus.children(".pq-editor-inner");P.addClass("pq-align-"+(f.align||"left")),v.$cell=P;var k,A,T,S=x.type,E=null==i.select?x.select:i.select,I=x.init,R=x.valueIndx,D=x.dataMap,N=x.mapIndices||{},L="pq-editor-focus "+(A="function"==typeof(A=x.cls||"")?A.call(_,v):A),z=L+" pq-cell-editor ",j="function"==typeof(j=x.attr||"")?j.call(_,v):j,F=(T="function"==typeof(T=x.style||"")?T.call(_,v):T)?"style='"+T+"'":"",q=F,B=F;if(v.cls=L,v.attr=j,"function"==typeof S&&(k=S.call(_,v))&&(S=k),C._type=S,"checkbox"==S){var U=x.subtype;P.html(k="<input "+(m?"checked='checked'":"")+" class='"+z+"' "+j+" "+B+" type=checkbox name='"+g+"' />");var H=P.children("input");"triple"==U&&(H.pqval({val:m}),P.click(function(){t(this).children("input").pqval({incr:!0})}))}else if("textarea"==S||"select"==S||"textbox"==S){if("textarea"==S)k="<textarea class='"+z+"' "+j+" "+q+" name='"+g+"' ></textarea>";else if("select"==S){var V=x.options||[];V.constructor!==Array&&(V=n.callFn(V,v));var W=[j," class='",z,"' ",q," name='",g,"'"].join("");k=r.select({options:V,attr:W,prepend:x.prepend,labelIndx:x.labelIndx,valueIndx:R,groupIndx:x.groupIndx,dataMap:D})}else k="<input class='"+z+"' "+j+" "+q+" type=text name='"+g+"' />";t(k).appendTo(P).val("select"==S&&null!=R&&(N[R]||this.columns[R])?N[R]?d[N[R]]:d[R]:m)}else S&&"contenteditable"!=S||(P.html(k="<div contenteditable='true' tabindx='0' "+F+" "+j+" class='"+z+"'></div>"),P.children().html(m),w=!0);I&&(v.$editor=P.children(".pq-editor-focus"),this.callFn(I,v)),O=P.children(".pq-editor-focus");var G=h.filterKeys,Q=n.getCell(h.indices),Y=f.editModel;Y&&void 0!==Y.filterKeys&&(G=Y.filterKeys),"textarea"!=S&&Q.empty();var K={$cell:P,$editor:O,$td:Q,dataIndx:g,column:f,colIndx:c,rowIndx:p,rowIndxPage:s,rowData:d};if(h.indices=K,O.data({FK:G}).on("click",function(){t(this).focus(),n._trigger("editorClick",null,K)}).on("keydown",function(t){n.iKeyNav.keyDownInEdit(t)}).on("keypress",function(t){return n.iKeyNav.keyPressInEdit(t,{FK:G})}).on("keyup",function(t){return n.iKeyNav.keyUpInEdit(t,{FK:G})}).on("blur",a._onBlur=function(e,i){var r=u.editModel,o=r.onBlur,a="save"==o,s=t(e.target),c="validate"==o,l=r.cancelBlurCls,h=!!i&&i.force;if(!n._quitEditMode&&!n._blurEditMode&&r.indices){if(!h){if(!1===n._trigger("editorBlur",e,K))return;if(!o)return;if(s[0]==document.activeElement)return;if(l&&s.hasClass(l))return;if(s.hasClass("hasDatepicker")){if(s.datepicker("widget").is(":visible"))return!1}else if(s.hasClass("ui-autocomplete-input")){if(s.autocomplete("widget").is(":visible"))return}else if(s.hasClass("ui-multiselect")){if(t(".ui-multiselect-menu").is(":visible")||t(document.activeElement).closest(".ui-multiselect-menu").length)return}else if(s.hasClass("pq-select-button")&&(t(".pq-select-menu").is(":visible")||t(document.activeElement).closest(".pq-select-menu").length))return}if(n._blurEditMode=!0,!n.saveEditCell({evt:e,silent:h||a||!c})&&!h&&c)return n._deleteBlurEditMode(),!1;n.quitEditMode({evt:e}),n._deleteBlurEditMode()}}).on("focus",function(t){n._trigger("editorFocus",t,K)}),n._trigger("editorBegin",o,K),O.focus(),window.setTimeout(function(){!1===t(document.activeElement).hasClass("pq-editor-focus")&&(n.element?n.element.find(".pq-editor-focus"):t()).focus()}),E)if(w)try{var X=O[0],$=document.createRange();$.selectNodeContents(X);var J=window.getSelection();J.removeAllRanges(),J.addRange($)}catch(Z){}else O.select()}},a._deleteBlurEditMode=function(t){var e=this;t=t||{},e._blurEditMode&&(t.timer?window.setTimeout(function(){delete e._blurEditMode},0):delete e._blurEditMode)},a.getRow=function(t){var e=this.normalize(t);return this.iRenderB.get$Row(e.rowIndxPage)},a.getCell=function(e){e.vci>=0&&(e.colIndx=this.iCols.getci(e.vci));var n=this.normalize(e),i=this.iRenderB.getCell(n.rowIndxPage,n.colIndx);return t(i)},a.getCellHeader=function(e){e.vci>=0&&(e.colIndx=this.iCols.getci(e.vci));var n=this.normalize(e),i=n.ri,r=this.iRenderHead.getCell(i>=0?i:this.headerCells.length-1,n.colIndx);return t(r)},a.getCellFilter=function(t){return t.ri=this.headerCells.length,this.getCellHeader(t)},a.getEditorIndices=function(){var e=this.options.editModel.indices;return e?t.extend({},e):null},a.getEditCellData=function(){var e=this.options,n=e.editModel,i=n.indices;if(!i)return null;var r,o=i.colIndx,a=i.rowIndxPage,s=i.rowIndx,c=this.colModel[o],l=c.editor,u=e.editor,h=l?t.extend({},u,l):u,d=h.valueIndx,p=h.labelIndx,f=h.mapIndices||{},g=c.dataIndx,m=this.$div_focus.children(".pq-editor-inner"),v=n._getData||h.getData;if(n._getData=void 0,v)r=this.callFn(v,{$cell:m,rowData:i.rowData,dataIndx:g,rowIndx:s,rowIndxPage:a,column:c,colIndx:o});else{var b=u._type;if("checkbox"==b){var _=m.children();r="triple"==h.subtype?_.pqval():!!_.is(":checked")}else if("contenteditable"==b)r=m.children().html();else{var y;if((y=m.find('*[name="'+g+'"]'))&&y.length)if("select"==b&&null!=d)if(f[d]||this.columns[d]){(r={})[f[d]?f[d]:d]=y.val(),r[f[p]?f[p]:p]=y.find("option:selected").text();var C=h.dataMap;if(C){var x=y.find("option:selected").data("map");if(x)for(var w=0;w<C.length;w++){var M=C[w];r[f[M]?f[M]:M]=x[M]}}}else r=y.val();else r=y.val();else(y=m.find(".pq-editor-focus"))&&y.length&&(r=y.val())}}return r},a.getCellIndices=function(t){var e,n=t.$td,i={};return n&&n.length&&n.closest(".pq-body-outer")[0]==this.$cont[0]&&(e=this.iRenderB.getCellIndx(n[0]))&&(i=this.iMerge.getRootCellO(e[0]+this.riOffset,e[1],!0)),i},a.getRowsByClass=function(t){var e=this.options,n="remote"==e.pageModel.type,i=this.riOffset,r=e.dataModel.data,o=[];if(null==r)return o;for(var a=0,s=r.length;s>a;a++){var c=r[a];if(c.pq_rowcls&&(t.rowData=c,this.hasClass(t))){var l={rowData:c},u=n?a+i:a,h=u-i;l.rowIndx=u,l.rowIndxPage=h,o.push(l)}}return o},a.getCellsByClass=function(t){var e=this.options,n="remote"==e.pageModel.type,i=this.riOffset,r=e.dataModel.data,o=[];if(null==r)return o;for(var a=0,s=r.length;s>a;a++){var c=r[a],l=n?a+i:a,u=c.pq_cellcls;if(u)for(var h in u){var d={rowData:c,rowIndx:l,dataIndx:h,cls:t.cls};if(this.hasClass(d)){var p=this.normalize(d);o.push(p)}}}return o},a.data=function(e){var n=e.colIndx,i=null!=n?this.colModel[n].dataIndx:e.dataIndx,r=e.data,o=null==r||"string"==typeof r,a=e.rowData||this.getRowData(e);if(!a)return{data:null};if(null==i){var s,c=a.pq_rowdata;if(o)return null!=c&&(s=null==r?c:c[r]),{data:s};var l=t.extend(!0,a.pq_rowdata,r);a.pq_rowdata=l}else{var u=a.pq_celldata;if(o){if(null!=u){var h=u[i];s=null==r||null==h?h:h[r]}return{data:s}}u||(a.pq_celldata={}),l=t.extend(!0,a.pq_celldata[i],r),a.pq_celldata[i]=l}},a.attr=function(e){var n,i,r=e.rowIndx,o=e.colIndx,a=null!=o?this.colModel[o].dataIndx:e.dataIndx,s=e.attr,c=null==s||"string"==typeof s,l=e.refresh,u=e.rowData||this.getRowData(e);if(!u)return{attr:null};if(c||!1===l||null!=r||(r=this.getRowIndx({rowData:u}).rowIndx),null==a){var h=u.pq_rowattr;if(c)return null!=h&&(i=null==s?h:h[s]),{attr:i};n=t.extend(!0,u.pq_rowattr,s),u.pq_rowattr=n,!1!==l&&null!=r&&this.refreshRow({rowIndx:r})}else{var d=u.pq_cellattr;if(c){if(null!=d){var p=d[a];i=null==s||null==p?p:p[s]}return{attr:i}}d||(u.pq_cellattr={}),n=t.extend(!0,u.pq_cellattr[a],s),u.pq_cellattr[a]=n,!1!==l&&null!=r&&this.refreshCell({rowIndx:r,dataIndx:a})}},a.processAttr=function(t,e){var n,i,r="";if("string"==typeof t)r=t;else if(t)for(n in t)if(i=t[n]){if("title"==n)i=i.replace(/"/g,"&quot;");else{if("style"==n){e&&e.push(i);continue}"object"==typeof i&&(i=JSON.stringify(i))}r+=n+'="'+i+'"'}return r},a.removeData=function(e){var n,i=e.colIndx,r=null!=i?this.colModel[i].dataIndx:e.dataIndx,o="string"==typeof(n=null==(n=e.data)?[]:n)?n.split(" "):n,a=o.length,s=e.rowData||this.getRowData(e);if(s)if(null==r){var c=s.pq_rowdata;if(c){if(a)for(var l=0;a>l;l++)delete c[o[l]];a&&!t.isEmptyObject(c)||delete s.pq_rowdata}}else{var u=s.pq_celldata;if(u&&u[r]){var h=u[r];if(a)for(l=0;a>l;l++)delete h[o[l]];a&&!t.isEmptyObject(h)||delete u[r]}}},a.removeAttr=function(e){var n,i=e.rowIndx,r=e.dataIndx,o=e.colIndx,a=(r=null!=o?this.colModel[o].dataIndx:r,"string"==typeof(n=null==(n=e.attr)?[]:n)?n.split(" "):n),s=a.length,c=i-this.riOffset,l=e.refresh,u=e.rowData||this.getRowData(e);if(u)if(!1!==l&&null==i&&(i=this.getRowIndx({rowData:u}).rowIndx),null==r){var h=u.pq_rowattr;if(h){if(s)for(var d=0;s>d;d++){var p=a[d];delete h[p]}else for(p in h)a.push(p);s&&!t.isEmptyObject(h)||delete u.pq_rowattr}if(!1!==l&&null!=i&&a.length){n=a.join(" ");var f=this.getRow({rowIndxPage:c});f&&f.removeAttr(n)}}else{var g=u.pq_cellattr;if(g&&g[r]){var m=g[r];if(s)for(d=0;s>d;d++)delete m[p=a[d]];else for(p in m)a.push(p);s&&!t.isEmptyObject(m)||delete g[r]}if(!1!==l&&null!=i&&a.length){n=a.join(" ");var v=this.getCell({rowIndxPage:c,dataIndx:r});v&&v.removeAttr(n)}}},a.normalize=function(t,e){var n,i,r,o={};for(r in t)o[r]=t[r];var a=o.rowIndx,s=o.rowIndxPage,c=o.dataIndx,l=o.colIndx;return null==s&&null==a||(n=this.riOffset,a=null==a?1*s+n:a,s=null==s?1*a-n:s,o.rowIndx=a,o.rowIndxPage=s,o.rowData=o.rowData||e&&e[a]||this.getRowData(o)),null==l&&null==c||(i=this.colModel,c=null==c?i[l]?i[l].dataIndx:void 0:c,o.column=i[l=null==l?this.colIndxs[c]:l],o.colIndx=l,o.dataIndx=c),o},a.normalizeList=function(t){var e=this,n=e.get_p_data();return t.map(function(t){return e.normalize(t,n)})},a.addClass=function(t){var e,n=this.normalize(t),i=n.rowIndxPage,r=n.dataIndx,o=pq.arrayUnique,a=n.cls,s=n.refresh,c=n.rowData;if(c)if(!1!==s&&null==i&&(i=this.getRowIndx({rowData:c}).rowIndxPage),null==r){var l=c.pq_rowcls;if(e=o((e=l?l+" "+a:a).split(/\s+/)).join(" "),c.pq_rowcls=e,!1!==s&&null!=i&&this.SelectRow().inViewRow(i)){var u=this.getRow({rowIndxPage:i});u&&u.addClass(a)}}else{var h=[];"function"!=typeof r.push?h.push(r):h=r;var d=c.pq_cellcls;d||(d=c.pq_cellcls={});for(var p=0,f=h.length;f>p;p++){var g=d[r=h[p]];if(e=o((e=g?g+" "+a:a).split(/\s+/)).join(" "),d[r]=e,!1!==s&&null!=i&&this.SelectRow().inViewRow(i)){var m=this.getCell({rowIndxPage:i,dataIndx:r});m&&m.addClass(a)}}}},a.removeClass=function(t){var e=this.normalize(t),n=e.rowIndx,i=e.rowData,r=e.dataIndx,o=e.cls,a=e.refresh;if(i){var s=i.pq_cellcls,c=i.pq_rowcls;if(!1!==a&&null==n&&(n=this.getRowIndx({rowData:i}).rowIndx),null==r){if(c&&(i.pq_rowcls=this._removeClass(c,o),null!=n&&!1!==a)){var l=this.getRow({rowIndx:n});l&&l.removeClass(o)}}else if(s){var u=[];"function"!=typeof r.push?u.push(r):u=r;for(var h=0,d=u.length;d>h;h++){var p=s[r=u[h]];if(p&&(i.pq_cellcls[r]=this._removeClass(p,o),null!=n&&!1!==a)){var f=this.getCell({rowIndx:n,dataIndx:r});f&&f.removeClass(o)}}}}},a.hasClass=function(t){var e,n=t.dataIndx,i=t.cls,r=this.getRowData(t),o=new RegExp("\\b"+i+"\\b");if(r){if(null==n)return!(!(e=r.pq_rowcls)||!o.test(e));var a=r.pq_cellcls;return!!(a&&a[n]&&o.test(a[n]))}return null},a._removeClass=function(t,e){if(t&&e){for(var n=t.split(/\s+/),i=e.split(/\s+/),r=[],o=0,a=n.length;a>o;o++){for(var s=n[o],c=!1,l=0,u=i.length;u>l;l++)if(s===i[l]){c=!0;break}c||r.push(s)}return r.length>1?r.join(" "):1===r.length?r[0]:null}},a.getRowIndx=function(t){var e,n,i=t.$tr,r=t.rowData,o=this.riOffset;if(r){if(null!=(n=r.pq_ri))return{rowData:r,rowIndx:n,rowIndxPage:n-o};var a=this.get_p_data(),s=!1,c=t.dataUF?this.options.dataModel.dataUF:null,l=!1;if(a)for(var u=0,h=a.length;h>u;u++)if(a[u]==r){l=!0;break}if(!l&&c)for(s=!0,u=0,h=c.length;h>u;u++)if(c[u]==r){l=!0;break}return l?(e=u-o,{rowIndxPage:s?void 0:e,uf:s,rowIndx:u,rowData:r}):{}}return null==i||0==i.length||null==(e=this.iRenderB.getRowIndx(i[0])[0])?{}:{rowIndxPage:e,rowIndx:e+o}},a.search=function(t){for(var e=this.options,n=t.row,i=t.first,r=[],o=this.riOffset,a="remote"==e.pageModel.type,s=e.dataModel.data,c=0,l=s.length;l>c;c++){var u=s[c],h=!0;for(var d in n)n[d]!==u[d]&&(h=!1);if(h){var p=this.normalize({rowIndx:a?c+o:c});if(r.push(p),i)break}}return r},a._getFirstRC=function(t,e,n,i,r){for(var o=0,a=this.options[n],s=t?this.iRenderB[i]:a,c=(e=this[e]).length;c>o;o++)if(o==a&&(o=s),!e[o][r])return o},a.getFirstVisibleRIP=function(t){return this._getFirstRC(t,"pdata","freezeRows","initV","pq_hidden")},a.getFirstVisibleCI=function(t){return this._getFirstRC(t,"colModel","freezeCols","initH","hidden")},a.getLastVisibleRIP=function(){for(var t=this.pdata,e=t.length-1;e>=0;e--)if(!t[e].pq_hidden)return e;return null},a.getLastVisibleCI=function(){return this.iCols.getLastVisibleCI()},a.getNextVisibleCI=function(t){return this.iCols.getNextVisibleCI(t)},a.getPrevVisibleCI=function(t){return this.iCols.getPrevVisibleCI(t)},a.calcWidthCols=function(t,e){var n,i=0,r=this.options.numberCell,o=this.colModel;-1==t&&(r.show&&(i+=1*r.width),t=0);for(var a=t;e>a;a++)if((n=o[a])&&!n.hidden){if(!n._width)throw"assert failed";i+=n._width}return i}}(jQuery),function(t){(t.paramquery.cKeyNav=function(t){this.that=t}).prototype={bodyKeyPressDown:function(e){var n,i=this,r=i.that,o=r.riOffset,a=r.options,s=a.rtl,c=a.formulasModel,l=r.iMerge,u=r._focusEle,h=r.colModel,d=a.selectionModel,p=a.editModel,f=document.activeElement,g=pq.isCtrl(e),m=t.ui.keyCode,v=m.LEFT,b=m.RIGHT,_=m.TAB,y=e.keyCode;if(p.indices)r.$div_focus.find(".pq-cell-focus").focus();else{if((n=t(e.target)).hasClass("pq-grid-cell"))u=r.getCellIndices({$td:n});else if("pq-grid-excel"!=f.id&&"pq-body-outer"!=f.className)return;if(y==m.SPACE&&n[0]==r.$cont[0])return!1;var C,x,w,M=r.normalize(u),O=M.rowIndxPage,P=M.colIndx,k=r.pdata,A=M,T=!0;if(null!=(w=M.rowIndx)&&null!=P&&null!=M.rowData){if(l.ismergedCell(w,P)&&(O=(M=A=l.getRootCellO(w,P)).rowIndxPage,w=M.rowIndx,P=M.colIndx,y!=m.PAGE_UP&&y!=m.PAGE_DOWN&&y!=m.HOME&&y!=m.END||(C=l.getData(w,P,"proxy_cell"))&&(k[x=C.rowIndx-o].pq_hidden||(w=(O=x)+o)),h[P].hidden&&(P=r.getNextVisibleCI(P))),0==r._trigger("beforeCellKeyDown",e,A))return!1;if(r._trigger("cellKeyDown",e,A),y==v||y==b||y==m.UP||y==m.DOWN||d.onTab&&y==_){var S=null;y==v&&!s||y==b&&s||y==_&&e.shiftKey?S=this.incrIndx(O,P,!1):y==b&&!s||y==v&&s||y==_&&!e.shiftKey?S=this.incrIndx(O,P,!0):y==m.UP?S=this.incrRowIndx(O,P,!1):y==m.DOWN&&(S=this.incrRowIndx(O,P,!0)),S&&this.select({rowIndx:w=S.rowIndxPage+o,colIndx:S.colIndx,evt:e})}else if(y==m.PAGE_DOWN||y==m.PAGE_UP)r.iRenderB[y==m.PAGE_UP?"pageUp":"pageDown"](O,function(t){i.select({rowIndx:w=t+o,colIndx:P,evt:e})});else if(y==m.HOME)g?w=r.getFirstVisibleRIP()+o:P=r.getFirstVisibleCI(),this.select({rowIndx:w,colIndx:P,evt:e});else if(y==m.END)g?w=r.getLastVisibleRIP()+o:P=r.getLastVisibleCI(),this.select({rowIndx:w,colIndx:P,evt:e});else if(y==m.ENTER){var E=r.getCell(A);if(E&&E.length>0)if(r.isEditable(A))r.editCell(A);else{var I=E.find("button");I.length&&t(I[0]).click()}}else if(g&&"65"==y){var R=r.iSelection;"row"==d.type&&"single"!=d.mode?r.iRows.toggleAll({all:d.all}):"cell"==d.type&&"single"!=d.mode&&R.selectAll({type:"cell",all:d.all})}else p.pressToEdit&&(this.isEditKey(y)||c.on&&187==y)&&!g?46==y?r.clear():(O=A.rowIndxPage,P=A.colIndx,(E=r.getCell(A))&&E.length&&r.isEditable(A)&&r.editCell({rowIndxPage:O,colIndx:P,select:!0}),T=!1):T=!1;T&&e.preventDefault()}}},getPrevVisibleRIP:function(t){for(var e=this.that.pdata,n=t-1;n>=0;n--)if(!e[n].pq_hidden)return n;return t},setDataMergeCell:function(t,e){var n,i=this.that.iMerge;i.ismergedCell(t,e)&&(n=i.getRootCellO(t,e),i.setData(n.rowIndx,n.colIndx,{proxy_cell:{rowIndx:t,colIndx:e}}))},getValText:function(e){var n=e[0].nodeName.toLowerCase(),i="text";return-1!=t.inArray(n,["input","textarea","select"])&&(i="val"),i},getNextVisibleRIP:function(t){for(var e=this.that.pdata,n=t+1,i=e.length;i>n;n++)if(!e[n].pq_hidden)return n;return t},incrEditIndx:function(t,e,n){var i,r=this.that,o=r.colModel,a=o.length,s=r.iMerge,c=r.riOffset,l=r[n?"getLastVisibleRIP":"getFirstVisibleRIP"]();do{var u,h=t+c;if(s.ismergedCell(h,e)){u=s.getRootCell(h,e);var d=s.getData(h,e,"proxy_edit_cell");d&&(t=(h=d.rowIndx)-c),e=n?e+u.o_cc:e-1}else e=n?e+1:e-1;if(n&&e>=a||!n&&0>e){if(t==l)return null;t=this[n?"getNextVisibleRIP":"getPrevVisibleRIP"](t),e=n?0:a-1}s.ismergedCell(h=t+c,e)&&(u=s.getRootCellO(h,e),s.setData(u.rowIndx,u.colIndx,{proxy_edit_cell:{rowIndx:h,colIndx:e}}),h=u.rowIndx,e=u.colIndx),i=o[e];var p=r.isEditable({rowIndx:h,colIndx:e}),f="function"==typeof(f=i.editor)?f.call(r,r.normalize({rowIndx:h,colIndx:e})):f;t=h-c}while(i&&(i.hidden||0==p||!1===f));return{rowIndxPage:t,colIndx:e}},incrIndx:function(t,e,n){var i,r,o,a,s,c=this.that,l=c.iMerge,u=c.pdata,h=c.riOffset,d=c[n?"getLastVisibleRIP":"getFirstVisibleRIP"](),p=c[n?"getLastVisibleCI":"getFirstVisibleCI"](),f=c.colModel,g=f.length;if(null==e)return t==d?null:{rowIndxPage:t=this[n?"getNextVisibleRIP":"getPrevVisibleRIP"](t)};if(e==p)return{rowIndxPage:t,colIndx:e};do{l.ismergedCell(o=t+h,e)&&(i=l.getRootCell(o,e),!s&&(r=l.getData(i.o_ri,i.o_ci,"proxy_cell"))&&(u[a=r.rowIndx-h].pq_hidden||(t=a)),u[t].pq_hidden&&(t=l.getRootCellV(o,e).rowIndxPage),!s&&n&&(e=i.o_ci+(i.o_cc?i.o_cc-1:0))),n?g-1>e&&e++:e>0&&e--,s=f[e]}while(s&&s.hidden);return{rowIndxPage:t,colIndx:e}},incrRowIndx:function(t,e,n){var i,r,o=this.that,a=o.riOffset,s=t+a,c=o.iMerge;return c.ismergedCell(s,e)&&(i=c.getRootCell(s,e),r=c.getData(i.o_ri,i.o_ci,"proxy_cell"),n&&(t=i.o_ri-a+i.o_rc-1),e=r?r.colIndx:i.v_ci),{rowIndxPage:t=this[n?"getNextVisibleRIP":"getPrevVisibleRIP"](t),colIndx:e}},isEditKey:function(t){return t>=32&&127>=t||189==t||190==t},keyDownInEdit:function(e){var n=this.that,i=n.options,r=i.editModel.indices;if(r){var o=t(e.target),a=t.ui.keyCode,s=i.editModel,c=t.extend({},r),l=c.rowIndxPage,u=c.colIndx,h=c.column.editModel,d=h?t.extend({},s,h):s,p=this.getValText(o);if(o.data("oldVal",o[p]()),0==n._trigger("editorKeyDown",e,c))return!1;if(e.keyCode==a.TAB||e.keyCode==d.saveKey&&!e.altKey){var f=e.keyCode==a.TAB?d.onTab:d.onSave;return c="downFocus"==f?this.incrRowIndx(l,u,!e.shiftKey):{rowIndxPage:l,colIndx:u,incr:!!f,edit:"nextEdit"==f},this.saveAndMove(c,e)}return e.keyCode==a.ESCAPE?(n.quitEditMode({evt:e}),n.focus({rowIndxPage:l,colIndx:u}),e.preventDefault(),!1):e.keyCode==a.PAGE_UP||e.keyCode==a.PAGE_DOWN?(e.preventDefault(),!1):!d.keyUpDown||e.altKey||e.keyCode!=a.DOWN&&e.keyCode!=a.UP?void 0:(c=this.incrRowIndx(l,u,e.keyCode==a.DOWN),this.saveAndMove(c,e))}},keyPressInEdit:function(e,n){var i=this.that,r=i.options.editModel,o=r.indices,a=(n||{}).FK,s=o.column,c=t.ui.keyCode,l=["BACKSPACE","LEFT","RIGHT","UP","DOWN","DELETE","HOME","END"].map(function(t){return c[t]}),u=s.dataType;if(t.inArray(e.keyCode,l)>=0)return!0;if(!1===i._trigger("editorKeyPress",e,t.extend({},o)))return!1;if(a&&("float"==u||"integer"==u)){var h=o.$editor.val(),d=r.charsAllow["float"==u?0:1],p=String.fromCharCode(e.charCode||e.keyCode);if("="!==h[0]&&p&&-1==d.indexOf(p))return!1}return!0},keyUpInEdit:function(e,n){var i=this.that,r=(n||{}).FK,o=i.options.editModel,a=o.indices;i._trigger("editorKeyUp",e,t.extend({},a));var s=a.column.dataType;if(r&&("float"==s||"integer"==s)){var c=t(e.target),l="integer"==s?o.reInt:o.reFloat,u=this.getValText(c),h=c.data("oldVal"),d=c[u]();if(0==l.test(d)&&"="!==d[0])if(l.test(h))c[u](h);else{var p="float"==s?parseFloat(h):parseInt(h);isNaN(p)?c[u](0):c[u](p)}}},saveAndMove:function(t,e){if(null==t)return e.preventDefault(),!1;var n,i=this,r=i.that,o=t.rowIndxPage,a=t.colIndx;return r._blurEditMode=!0,!1!==r.saveEditCell({evt:e})&&r.pdata?(r.quitEditMode(e),t.incr&&(n=i[t.edit?"incrEditIndx":"incrIndx"](o,a,!e.shiftKey),o=n?n.rowIndxPage:o,a=n?n.colIndx:a),r.scrollCell({rowIndxPage:o,colIndx:a},function(){i.select({rowIndx:o+r.riOffset,colIndx:a,evt:e}),t.edit&&r._editCell({rowIndxPage:o,colIndx:a})}),r._deleteBlurEditMode({timer:!0,msg:"saveAndMove"}),e.preventDefault(),!1):(r.pdata||r.quitEditMode(e),r._deleteBlurEditMode({timer:!0,msg:"saveAndMove saveEditCell"}),e.preventDefault(),!1)},select:function(e){var n=this.that,i=e.rowIndx,r=e.colIndx,o=i-n.riOffset,a=e.evt,s=(this.setDataMergeCell(i,r),n.options),c=n.iSelection,l=s.selectionModel,u=l.type,h="row"==u,d="cell"==u;n.scrollCell({rowIndx:i,colIndx:r},function(){var e=c.address();if(a.shiftKey&&a.keyCode!==t.ui.keyCode.TAB&&l.type&&"single"!=l.mode&&(e.length||h))if(h)n.iRows.extend({rowIndx:i,evt:a});else{var s=e[e.length-1],u=s.firstR,p=s.firstC,f=s.type,g=!1;"column"==f?(s.c1=p,s.c2=r,s.r1=s.r2=s.type=void 0):"row"==f?e={r1:u,r2:i,firstR:u,firstC:p}:(e={_type:"block",r1:u,r2:i,c1:p,c2:r,firstR:u,firstC:p},g=!0),n.Range(e,g).select()}else h||d&&n.Range({r1:i,c1:r,firstR:i,firstC:r}).select();n.focus({rowIndxPage:o,colIndx:r})})}}}(jQuery),function(t){(t.paramquery.cGenerateView=function(){}).prototype={autoFitCols:function(){var t=this.that,e=t.colModel,n=e.length,i=this.dims,r=t.calcWidthCols(-1,n,!0),o=this.getSBWd(),a=i.wdCenter-o;if(r!==a){for(var s,c=r-a,l=[],u=0;n>u;u++){var h=(p=e[u])._resized;p.hidden||p._percent||h||(0>c?(g=p._maxWidth-p._width)&&l.push({availWd:-1*g,colIndx:u}):(g=p._width-p._minWidth)&&l.push({availWd:g,colIndx:u})),h&&(s=p,delete p._resized)}l.sort(function(t,e){return t.availWd>e.availWd?1:t.availWd<e.availWd?-1:0}),u=0;for(var d=l.length;d>u;u++){var p,f=l[u],g=f.availWd,m=f.colIndx,v=Math.round(c/(d-u)),b=(p=e[m])._width;Math.abs(g)>Math.abs(v)?(_=b-v,c-=v):(_=b-g,c-=g),p.width=p._width=_}var _;0!=c&&s&&((_=s._width-c)>s._maxWidth?_=s._maxWidth:_<s._minWidth&&(_=s._minWidth),s.width=s._width=_)}},numericVal:function(t,e){var n;return n=(t+"").indexOf("%")>-1?parseInt(t)*e/100:parseInt(t),Math.round(n)},refreshColumnWidths:function(t){t=t||{};var e=this.that,n=e.options,i=n.numberCell,r="flex"===n.width,o=e.colModel,a=this.autoFit,s=this.dims.wdCenter,c=o.length,l=n.minColWidth,u=n.maxColWidth,h=0;i.show&&(i.width<i.minWidth&&(i.width=i.minWidth),h=i.outerWidth=i.width);var d=r?null:s-0-h,p=(l=Math.floor(this.numericVal(l,d)),u=Math.ceil(this.numericVal(u,d)),0);if(!r&&5>d||isNaN(d)){if(n.debug)throw"availWidth N/A"}else{delete e.percentColumn;for(var f=0;c>f;f++){var g=o[f];if(!g.hidden){var m,v=g.width,b=(v+"").indexOf("%")>-1||null,_=g.maxWidth;if((m=(m=g.minWidth)?this.numericVal(m,d):l)>(_=_?this.numericVal(_,d):u)&&(_=m),null!=v){var y,C=0;!r&&b?(e.percentColumn=!0,g.resizable=!1,g._percent=!0,(p+=(y=this.numericVal(v,d)-0)-(C=Math.floor(y)))>=1&&(C+=1,p-=1)):v&&(C=1*v),m>C?C=m:C>_&&(C=_),g._width=C}else g._width=m;b||(g.width=g._width),g._minWidth=m,g._maxWidth=r?1e3:_}}!1===r&&!1!==t.refreshWidth&&a&&this.autoFitCols()}},format:function(){var e=t.datepicker,n=pq.formatNumber;return function(t,i){if("function"==typeof i)return i(t);if(pq.isDateFormat(i)){if(t==parseInt(t))return pq.formulas.TEXT(t,pq.juiToExcel(i));if(isNaN(Date.parse(t)))return;return e.formatDate(i,new Date(t))}return t==parseFloat(t)?n(t,i):void 0}}(),renderCell:function(t){var e,n,i,r,o,a,s,c,l,u,h=this.that,d=t.attr||[],p=t.style||[],f=t.Export,g=h.options,m=t.cls||[],v=t.rowData,b=t.column,_=b.dataType,y=t.colIndx,C=pq.styleStr,x=h.processAttr,w=b.dataIndx,M=b.style||{},O=v.pq_rowstyle,P=(v.pq_cellprop||{})[w]||{},k=g.freezeCols,A=g.columnBorders;if(v){f||(M&&p.push(C(M)),O&&p.push(C(O)),(a=(v.pq_cellstyle||{})[w])&&p.push(C(a)),y==k-1&&A&&m.push("pq-last-frozen-col"),b.cls&&m.push(b.cls),g.editModel.addDisableCls&&!1===h.isEditable(t)&&m.push("pq-cell-disable"));var T,S,E="string"==typeof(E=v[w])&&"html"!=_?pq.escapeHtml(E):E,I=b.format||(S=v.pq_format)&&(S=S[w]),R=I?this.format(E,I,_):E;return t.dataIndx=w,t.cellData=E,t.formatVal=R,(u=b.render)&&(T=h.callFn(u,t))&&"string"!=typeof T&&((e=T.attr)&&d.push(x(e)),r=T.prop,(i=T.cls)&&m.push(i),n=T.style,T=T.text),null==T&&(u=b._renderG||b._render)&&(T=u.call(h,t)),T&&"string"!=typeof T&&((e=T.attr)&&d.push(e),(i=T.cls)&&m.push(i),n=T.style,T=T.text),null==T&&(T=R||E),f?[T,n,r,(e||{}).title]:(n&&p.push(C(n)),l=v.pq_rowprop||{},(o=(r=r||{}).align||P.align||l.align||b.align)&&m.push("pq-align-"+o),(o=r.valign||P.valign||l.valign||b.valign)&&m.push("pq-valign-"+o),(c=(v.pq_cellcls||{})[w])&&m.push(c),(s=(v.pq_cellattr||{})[w])&&d.push(x(s,p)),p=p.length?" style='"+p.join("")+"' ":"",T=pq.newLine(T),["<div class='",m.join(" "),"' ",d.join(" "),p," ><div>",T,"</div></div>"].join(""))}}}}(jQuery),function(t){var e=t.paramquery,n=e._pqGrid.prototype;n.getHeadCell=function(t){var e,n,i,r=this.iRenderHead.getCellIndx(t[0]),o=r[0],a=r[1];return null!=a&&null!=o&&((n=this.headerCells[o])&&(n=n[a]),n&&(i=n.colModel)),i&&i.length&&(e=!0),{col:n||this.colModel[a],ci:a,ri:o,isParent:e}},n.flex=function(t){var e=this.colIndxs;t&&t.dataIndx&&(t.colIndx=t.dataIndx.map(function(t){return e[t]})),this.iResizeColumns.flex(t)},e.cHeader=function(t,e){},e.cHeader.prototype={colCollapse:function(t,e){var n=this.that,i={column:t},r=t.collapsible;!1!==n._trigger("beforeColumnCollapse",e,i)&&(r.on=!r.on,!1!==n._trigger("columnCollapse",e,i)&&n.refresh({colModel:!0}))},onHeaderClick:function(e){var n,i,r,o,a=this,s=a.that,c=s.iDragColumns;if(s._trigger("headerClick",e),!c||"stop"==c.status){if((o=t(e.target)).is("input,label"))return!0;if((n=o.closest(".pq-grid-col")).length)if(i=(r=s.getHeadCell(n)).col,o.hasClass("pq-col-collapse"))a.colCollapse(i,e);else if(!r.isParent)return a.onHeaderCellClick(i,r.ci,e)}},getTitle:function(t,e){var n=t.title;return"function"==typeof n?n.call(this.that,{column:t,colIndx:e,dataIndx:t.dataIndx}):n},createHeaderCell:function(t){var e,n,i=this,r=i.that,o=r.options,a=t.cls,s=t.style,c=t.attr,l=t.column,u=t.colIndx,h=i.getSortSpaceSpans(o.sortModel),d=l.collapsible,p=pq.styleStr,f=l.halign||l.align,g=l.hvalign,m=l.cls,v=l.colModel,b=i.hasMenuH(o,l),_=null!=(_=i.getTitle(l,u))?_:l.dataIndx;return f&&a.push("pq-align-"+f),g&&a.push("pq-valign-"+g),(n=l.styleHead)&&s.push(p(n)),(n=l.attrHead)&&c.push(r.processAttr(n)),m&&a.push(m),a.push(l.clsHead),b&&a.push("pq-has-menu"),v&&v.length?d&&(a.push("pq-collapsible-th"),e=["<span class='pq-col-collapse pq-icon-hover ui-icon ui-icon-",d.on?"plus":"minus","'></span>"].join("")):a.push("pq-grid-col-leaf"),c.push("pq-row-indx="+t.rowIndx+" pq-col-indx="+t.colIndx),l.pq_title=_,["<div ",c.join(" ")," "," class='",a.join(" "),"' style='",s.join(""),"' >","<div class='pq-td-div'>",e,"<span class='pq-title-span'>",_,"</span>",h,"</div>",b?"<span class='pq-menu-icon'></span>":"","</div>"].join("")},getSortSpaceSpans:function(t){var e=t.space?" pq-space":"";return["<span class='pq-col-sort-icon",e,"'></span>",t.number?"<span class='pq-col-sort-count"+e+"'></span>":""].join("")},hasMenuH:function(t,e){var n=e.colModel;if(n&&n.length)return!1;var i=t.menuIcon,r=e.menuIcon;return i&&!1!==r||!1!==i&&r},onHeaderCellClick:function(e,n,i){var r=this.that,o=r.options,a=o.sortModel,s=e.dataIndx;if(!1!==r._trigger("headerCellClick",i,{column:e,colIndx:n,dataIndx:s}))if(o.selectionModel.column&&-1==i.target.className.indexOf("pq-title-span")){var c={c1:n,firstC:n},l=r.iSelection,u=l.address(),h=u.length;if(pq.isCtrl(i))l.add(c,!1);else{if(i.shiftKey){if(h&&"column"==u[h-1].type){var d=u[h-1];d.c1=d.firstC,d.c2=n,d.r1=d.r2=d.type=d.cc=void 0}c=u}r.Range(c,!1).select()}r.focus({rowIndxPage:r.getFirstVisibleRIP(!0),colIndx:n}),r._trigger("mousePQUp")}else if(a.on&&(a.wholeCell||t(i.target).hasClass("pq-title-span"))){if(0==e.sortable)return;r.sort({sorter:[{dataIndx:s,sortIndx:e.sortIndx}],addon:!0,skipCustomSort:pq.isCtrl(i),tempMultiple:a.multiKey&&i[a.multiKey],evt:i})}},refreshHeaderSortIcons:function(){var e=this.that,n=e.options,i=n.bootstrap,r=n.ui,o=e.headerCells.length-1;if(e.$header){var a=e.iSort.getSorter(),s=a.length,c=!1;e.options.sortModel.number&&s>1&&(c=!0);for(var l=0;s>l;l++){var u=a[l],h=e.getColIndx({dataIndx:u.dataIndx}),d=u.dir;if(h>=0){var p=i.on?i.header_active:r.header_active+" pq-col-sort-"+("up"==d?"asc":"desc"),f=i.on?" glyphicon glyphicon-arrow-"+d:"ui-icon ui-icon-triangle-1-"+("up"==d?"n":"s"),g=t(e.iRenderHead.getCell(o,h));g.addClass(p),g.find(".pq-col-sort-icon").addClass(f),c&&g.find(".pq-col-sort-count").html(l+1)}}}}},e.cResizeColumns=function(e){var n=this;n.that=e,e.$header.mouse(),e.$header.on({mousedown:function(e){if(!e.pq_composed){var i=t(e.target);n.setDraggables(e),e.pq_composed=!0;var r=t.Event("mousedown",e);i.trigger(r)}},dblclick:function(t){n.doubleClick(t)}},".pq-grid-col-resize-handle");var i=e.options,r=i.flex;n.rtl=i.rtl?"right":"left",r.on&&r.one&&e.one("ready",function(){n.flex()})},e.cResizeColumns.prototype={doubleClick:function(e){var n=this.that.options,i=n.flex,r=t(e.target),o=parseInt(r.attr("pq-col-indx"));isNaN(o)||i.on&&this.flex(i.all&&!n.scrollModel.autoFit?{}:{colIndx:[o]})},flex:function(t){this.that.iRenderB.flex(t)},setDraggables:function(e){var n,i,r=t(e.target),o=this,a=o.rtl;r.draggable({axis:"x",helper:function(e,n){var i=t(e.target),r=parseInt(i.attr("pq-col-indx"));return o._setDragLimits(r),o._getDragHelper(e,n),i},start:function(t,e){n=t.clientX,i=parseInt(o.$cl[0].style[a])},drag:function(t,e){var r=t.clientX-n;"right"==o.rtl&&(r*=-1),o.$cl[0].style[a]=i+r+"px"},stop:function(t,e){return o.resizeStop(t,e,n)}})},_getDragHelper:function(e){var n=this.that,i=1*n.options.freezeCols,r=t(e.target),o=n.$grid_center,a=n.iRenderHead,s=1*r.attr("pq-col-indx"),c=i>s?0:a.scrollX(),l=o.outerHeight(),u=a.getLeft(s)-c,h=a.getLeft(s+1)-c,d="style='height:"+l+"px;"+this.rtl+":";this.$clleft=t("<div class='pq-grid-drag-bar' "+d+u+"px;'></div>").appendTo(o),this.$cl=t("<div class='pq-grid-drag-bar' "+d+h+"px;'></div>").appendTo(o)},_setDragLimits:function(e){if(!(0>e)){var n=this.that,i=n.iRenderHead,r=n.colModel[e],o=i.getLeft(e)+r._minWidth,a=o+r._maxWidth-r._minWidth,s=t(i._resizeDiv(e));s.draggable("instance")&&s.draggable("option","containment",[o,0,a,0])}},resizeStop:function(e,n,i){var r=this,o=r.that,a=o.colModel,s=o.options,c=s.numberCell;r.$clleft.remove(),r.$cl.remove();var l,u=e.clientX-i,h=1*t(n.helper).attr("pq-col-indx");if(s.rtl&&(u*=-1),-1==h){l=null;var d=parseInt(c.width);c.width=d+u}else l=a[h],d=parseInt(l.width),l.width=d+u,l._resized=!0;o._trigger("columnResize",e,{colIndx:h,column:l,dataIndx:l?l.dataIndx:null,oldWidth:d,newWidth:l?l.width:c.width}),o.refresh({soft:!0})}}}(jQuery),function(t){var e=t.paramquery;e.cDragColumns=function(e){var n=this,i=e.options,r=i.dragColumns,o=function(n,i){return t("<div class='pq-arrow-"+n+" ui-icon "+i+"'></div>").appendTo(e.element)};n.that=e,n.$drag_helper=null,n.rtl=i.rtl,n.status="stop",n.$arrowTop=o("down",r.topIcon),n.$arrowBottom=o("up",r.bottomIcon),n.hideArrows(),r&&r.enabled&&e.$header.on("mousedown",".pq-grid-col",n.onColMouseDown(n,e))},e.cDragColumns.prototype={dragHelper:function(e,n,i){var r=n.options.dragColumns.rejectIcon;return function(){e.status="helper",n.$header.find(".pq-grid-col-resize-handle").hide();var o=t("<div class='pq-col-drag-helper ui-widget-content ui-corner-all panel panel-default' ><span class='pq-drag-icon ui-icon "+r+" glyphicon glyphicon-remove'></span>"+i.pq_title+"</div>");return e.$drag_helper=o,o[0]}},getRowIndx:function(t,e,n){for(;n&&t[n][e]==t[n-1][e];)n--;return n},hideArrows:function(){this.$arrowTop.hide(),this.$arrowBottom.hide()},_columnIndexOf:function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]==e)return n;return-1},moveColumn:function(t,e,n,i,r){var o=this,a=o.that,s="colModel",c=a.options[s],l=a.headerCells,u=a.depth-1,h=(i=null==i?o.getRowIndx(l,t,u):i,r=null==r?o.getRowIndx(l,e,u):r,l[i][t]),d=l[r][e],p=h.parent,f=d.parent,g=f?f[s]:c,m=(p?p[s]:c).indexOf(h),v=n?0:1,b=g.indexOf(d);return a.iCols.move(1,m,b+v,p,f,"dnd")[0]},onColMouseDown:function(e,n){return function(i){var r,o,a,s,c=t(this);if(!i.pq_composed){if(t(i.target).is("input,select,textarea"))return;if(a=(o=(r=n.getHeadCell(c)).col)?o.parent:null,!o||o.nodrag||o._nodrag||a&&1==a.colSpan)return;e.setDraggable(i,o,r)&&(i.pq_composed=!0,s=t.Event("mousedown",i),t(i.target).trigger(s))}}},onDrop:function(){var e=this,n=e.that;return function(i,r){var o,a=1*r.draggable.attr("pq-col-indx"),s=1*r.draggable.attr("pq-row-indx"),c=t(this),l=1*c.attr("pq-col-indx"),u=1*c.attr("pq-row-indx"),h=e.leftDrop;e.rtl&&(h=!h),!1!==n._trigger("beforeColumnOrder",null,{colIndxDrag:a,colIndxDrop:l,left:h})&&(o=e.moveColumn(a,l,h,s,u))&&n._trigger("columnOrder",null,{dataIndx:o.dataIndx,column:o,oldcolIndx:a,colIndx:n.getColIndx({column:o})})}},onStart:function(t,e,n,i){return function(r){return!1!==e._trigger("columnDrag",r.originalEvent,{column:n})&&void t.setDroppables(i)}},onDrag:function(e,n){return function(i,r){e.status="drag";var o,a,s,c,l=t(".pq-drop-hover",n.$header);l.length>0?(e.updateDragHelper(!0),o=l.width(),a=i.clientX-l.offset().left+t(document).scrollLeft(),e.leftDrop=c=o/2>a,e.showFeedback(l,c)):(e.hideArrows(),s=t(".pq-drop-hover",n.$top),e.updateDragHelper(!!s.length))}},setDraggable:function(e,n,i){var r=t(e.currentTarget),o=this,a=o.that;return r.hasClass("ui-draggable")?void 0:(r.draggable({distance:10,cursorAt:{top:-18,left:-10},zIndex:"1000",appendTo:a.element,revert:"invalid",helper:o.dragHelper(o,a,n),start:o.onStart(o,a,n,i),drag:o.onDrag(o,a),stop:function(){a.element&&(o.status="stop",a.$header.find(".pq-grid-col-resize-handle").show(),o.hideArrows())}}),!0)},setDroppables:function(e){for(var n,i,r,o,a,s=this.that,c=e.col,l=e.ri,u=e.o_ci,h=u+c.o_colspan,d="pq-drop-hover ui-state-highlight",p={hoverClass:d,classes:{"ui-droppable-hover":d},accept:".pq-grid-col",tolerance:"pointer",drop:this.onDrop()},f=s.$header.find(":not(.pq-grid-header-search-row)>.pq-grid-col"),g=f.length;g--;)a=(o=t(f[g])).hasClass("ui-droppable"),i=(n=s.getHeadCell(o)).ci,(r=n.col)==c||r.nodrop||r._nodrop||n.ri>l&&i>=u&&h>i?a&&o.droppable("destroy"):a||o.droppable(p)},showFeedback:function(e,n){var i=this.that,r=e[0],o=i.$grid_center[0].offsetTop,a=e.offset().left-t(i.element).offset().left+(n?0:r.offsetWidth)-8,s=o+i.$header[0].offsetHeight;this.$arrowTop.css({left:a,top:o+r.offsetTop-16,display:""}),this.$arrowBottom.css({left:a,top:s,display:""})},updateDragHelper:function(t){var e=this.that.options.dragColumns,n="removeClass",i="addClass",r=e.acceptIcon,o=e.rejectIcon,a=this.$drag_helper;a&&a[t?n:i]("ui-state-error").children("span.pq-drag-icon")[t?i:n](r)[t?n:i](o)}}}(jQuery),function(t){var e=t.paramquery;e.cHeaderSearch=function(t){},e.cHeaderSearch.prototype={_bindFocus:function(){function e(e){var r=t(e.target).closest(".pq-grid-hd-search-field").attr("name");if(i.scrollColumn({dataIndx:r})){var o=i.getColIndx({dataIndx:r});n.get$Ele(o,r).focus()}}for(var n=this,i=n.that,r=i.$header.find(".pq-grid-header-search-row"),o=0;o<r.length;o++)t(r[o]).on("focusin",e)},_input:function(t,e,n,i,r,o){return["<input ",' value="',e=pq.formatEx(t,e,o),"\" name='",t.dataIndx,"' type=text style='",i,"' class='",n,"' ",r," />"].join("")},_onKeyDown:function(e,n,i){var r,o=this,a=this.that;if(e.keyCode!==t.ui.keyCode.TAB)return!0;var s,c=o.getCellIndx(i.closest(".pq-grid-col")[0])[1],l=a.colModel,u=e.shiftKey;if("textbox2"==((h=l[c]).filterUI||{}).type&&(a.scrollColumn({colIndx:c}),(r=o.getCellEd(c)[1])[0]==i[0]?u||(s=r[1]):u&&(s=r[0]),s))return s.focus(),e.preventDefault(),!1;for(;u?c--:c++,!(0>c||c>=l.length);){var h;if(!(h=l[c]).hidden&&h.filter){a.scrollColumn({colIndx:c},function(){var n=o.getCellEd(c)[1];return"textbox2"==(h.filterUI||{}).type&&(n=t(u?n[1]:n[0])),n?(n.focus(),e.preventDefault(),!1):void 0});break}}},_textarea:function(t,e,n,i,r){return["<textarea name='",t,"' style='"+i+"' class='"+n+"' "+r+" >",e,"</textarea>"].join("")},bindListener:function(e,n,i,r){var o=this.that,a=pq.filter.getVal(r.filter),s=a[0],c=a[1];pq.fakeEvent(e,n,o.options.filterModel.timeout),e.off(n).on(n,function(n){var a,l,u=r.filterUI,h=u.type,d=u.condition;return"checkbox"==h?a=e.pqval({incr:!0}):"textbox2"==h?(a=t(e[0]).val(),l=t(e[1]).val()):a=e.val(),a=""===a?void 0:pq.deFormat(r,a,d),l=""===l?void 0:pq.deFormat(r,l,d),s!==a||c!==l?(s=a,c=l,(i=pq.getFn(i)).call(o,n,{column:r,dataIndx:r.dataIndx,value:a,value2:l})):void 0})},betweenTmpl:function(t,e){return["<div class='pq-from-div'>",t,"</div>","<span class='pq-from-to-center'>-</span>","<div class='pq-to-div'>",e,"</div>"].join("")},createListener:function(t){var e={},n=this.that;return e[t]=function(t,e){var i=e.column;n.filter({rules:[{dataIndx:i.filterIndx||e.dataIndx,condition:i.filter.condition,value:e.value,value2:e.value2}]})},e},getCellEd:function(e){var n=t(this.getCell(this.data.length-1,e)),i=n.find(".pq-grid-hd-search-field");return[n,i]},onCreateHeader:function(){var t=this;t.that.options.filterModel.header&&t.eachH(function(e){e.filter&&t.postRenderCell(e)})},onHeaderKeyDown:function(e,n){var i=t(e.originalEvent.target);return!i.hasClass("pq-grid-hd-search-field")||this._onKeyDown(e,n,i)},postRenderCell:function(e){var n=e.dataIndx,i=e.filterUI||{},r=e.filter,o=this,a=o.that,s=this.getCellEd(a.colIndxs[n]),c=s[0],l=s[1];if(0!=l.length){var u=i.type,h={button:"click",select:"change",checkbox:"change",textbox:"timeout",textbox2:"timeout"},d=pq.filter.getVal(r)[0];"checkbox"==u?l.pqval({val:d}):"select"==u&&(t.isArray(d=d||[])||(d=[d]),e.format&&(d=d.slice(0,25).map(function(t){return pq.format(e,t)})),l.val(d.join(", ")));var p=i.init,f=r.listeners||[r.listener||h[u]];p&&p.find(function(t){return a.callFn(t,{dataIndx:n,column:e,filter:r,filterUI:i,$cell:c,$editor:l})});for(var g=0;g<f.length;g++){var m=f[g],v=typeof m,b={};for(var _ in"string"==v?m=o.createListener(m):"function"==v&&(b[h[u]]=m,m=b),m)o.bindListener(l,_,m[_],e)}}},getControlStr:function(t){var e=this.that,n=t.dataIndx,i=" ui-corner-all",r=pq.filter.getVal(t.filter),o=r[0],a=r[1],s=r[2],c=t.filterUI=pq.filter.getFilterUI({column:t,dataIndx:n,condition:s,indx:0},e),l=c.type,u="";"textbox2"==l&&(a=null!=a?a:"");var h="pq-grid-hd-search-field "+(c.cls||""),d=c.style||"",p=c.attr||"";return l&&l.indexOf("textbox")>=0?(o=o||"",h=h+" pq-search-txt"+i,u="textbox2"==l?this.betweenTmpl(this._input(t,o,h+" pq-from",d,p,s),this._input(t,a,h+" pq-to",d,p,s)):this._input(t,o,h,d,p,s)):"select"===l?u="<input type='text' "+["name='",n,"' class='",h+=i,"' style='",d,"' ",p].join("")+" ><span style='position:absolute;"+(e.options.rtl?"left":"right")+":0;top:3px;' class='ui-icon ui-icon-arrowthick-1-s'></span>":"checkbox"==l?u=["<input ",null==o||0==o?"":"checked=checked"," name='",n,"' type=checkbox class='"+h+"' style='"+d+"' "+p+"/>"].join(""):"string"==typeof l&&(u=l),u},renderFilterCell:function(t,e,n){var i,r,o=this,a=o.that.options.filterModel,s=t.cls,c=t.halign||t.align;return c&&n.push("pq-align-"+c),s&&n.push(s),n.push(t.clsHead),t.filter&&(r=o.getControlStr(t))&&n.push("pq-col-"+e),(i=o.hasMenu(a,t))&&n.push("pq-has-menu"),["<div class='pq-td-div' style='overflow:hidden;'>","",r,"</div>",i?"<span class='pq-filter-icon'></span>":""].join("")},hasMenu:function(t,e){var n=t.menuIcon,i=(e.filter||{}).menuIcon;return n&&!1!==i||!1!==n&&i}}}(jQuery),function(t){var e=t.paramquery.cRefresh=function(e){var n=this;n.vrows=[],n.that=e,e.on("dataReadyDone",function(){n.addRowIndx(!0)}),t(window).on("resize"+e.eventNamespace+" orientationchange"+e.eventNamespace,n.onWindowResize.bind(n))};t.extend(e,{Z:function(){return(window.outerWidth-8)/window.innerWidth},cssZ:function(){return document.body.style.zoom},isFullScreen:function(){return document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||window.innerHeight==screen.height},isSB:function(){return t(document).height()>t(window).height()}}),t(function(){var n=e.Z,i=e.cssZ,r=n(),o=i();e.isZoom=function(){var t=n(),e=i();return r!=t||o!=e?(r=t,o=e,!0):void 0};var a=e.isSB,s=a();t.paramquery.onResize(document.body,function(){var e=a();e!=s&&(s=e,t(window).trigger("resize",{SB:!0}))})}),t(window).on("resize",function(){e.isZoom&&(e.ISZOOM=e.isZoom())}),e.prototype={addRowIndx:function(t){for(var e,n=this.that,i=n.options.dataModel.dataUF,r=n.get_p_data(),o=r.length;o--;)(e=r[o])&&(e.pq_ri=o);if(t&&i)for(o=i.length;o--;)delete i[o].pq_ri},move:function(){},setGridAndCenterHeightForFlex:function(){var t=this.that;t.element.height(""),t.$grid_center.height(""),t.dims.htGrid=t.element.height()},setGridWidthForFlex:function(){var t=this.that,e=t.options,n=this.maxWidthPixel,i=t.element,r=t.$toolPanel[0].offsetWidth+t.iRenderB.getFlexWidth();e.maxWidth&&r>=this.maxWidthPixel&&(r=n),t._trigger("contWd"),i.width(r+"px"),t.dims.wdGrid=r},_calcOffset:function(t){var e=/(-|\+)([0-9]+)/.exec(t);return e&&3===e.length?parseInt(e[1]+e[2]):0},setMax:function(t){var e=this.that,n=e.element,i=e.options[t];i?(i==parseInt(i)&&(i+="px"),n.css(t,i)):n.css(t,"")},refreshGridWidthAndHeight:function(){var e,n,i=this.that,r=i.options,o=i.dims,a=(r.width+"").indexOf("%")>-1,s=(r.height+"").indexOf("%")>-1,c=(r.maxHeight+"").indexOf("%")>-1,l="flex"==r.height,u=c&&l,h=(r.maxWidth+"").indexOf("%")>-1,d="flex"==r.width,p=h&&d,f=i.element;if(a||s||u||p){var g,m,v=f.parent();if(!v.length)return;v[0]==document.body||"fixed"==f.css("position")?(g=t(window).width(),m=window.innerHeight||t(window).height()):(g=v.width(),m=v.height());var b=this._calcOffset,_=a?b(r.width):0,y=s?b(r.height):0;p?e=parseInt(r.maxWidth)*g/100:a&&(e=parseInt(r.width)*g/100+_),u?n=parseInt(r.maxHeight)*m/100:s&&(n=parseInt(r.height)*m/100+y)}e||(d&&r.maxWidth?h||(e=r.maxWidth):a||(e=r.width)),r.maxWidth&&(this.maxWidthPixel=e),n||(l&&r.maxHeight?c||(n=r.maxHeight):s||(n=r.height)),parseFloat(e)==e?f.css("width",e=e<r.minWidth?r.minWidth:e):"auto"===e&&f.width(e),parseFloat(n)==n&&f.css("height",n=n<r.minHeight?r.minHeight:n),o.wdGrid=Math.round(f.width()),o.htGrid=Math.round(f.height())},isReactiveDims:function(){var t=this.that.options,e=t.width,n=t.height,i=t.maxWidth,r=t.maxHeight,o=function(t){return-1!=(t+"").indexOf("%")},a=o(e),s="auto"===e,c=o(n),l=o(i),u=o(r);return a||s||c||l||u},getParentDims:function(){var e,n,i=this.that.element,r=i.parent();return r.length?(r[0]==document.body||"fixed"==i.css("position")?(n=window.innerHeight||t(window).height(),e=t(window).width()):(n=r.height(),e=r.width()),[e,n]):[]},onWindowResize:function(n,i){var r,o,a,s,c,l=this,u=l.that,h=u.dims||{},d=h.htParent,p=h.wdParent,f=u.options,g=u.element;if(!e.isFullScreen()&&!f.disabled&&!(t.support.touch&&f.editModel.indices&&t(document.activeElement).is(".pq-editor-focus")||i&&(c=i.$grid,c&&(c==g||0==g.closest(c).length))))return s=l.isReactiveDims(),e.ISZOOM?l.setResizeTimer(function(){l.refresh({soft:!0})}):void(s&&l.setResizeTimer(function(){if(a=l.getParentDims(),o=a[0],(r=a[1])==d&&o==p){if(parseInt(g.width())==parseInt(h.wdGrid))return}else h.htParent=r,h.wdParent=o;l.refresh({soft:!0})}))},setResizeTimer:function(t){var e=this,n=e.that;clearTimeout(e._autoResizeTimeout),e._autoResizeTimeout=window.setTimeout(function(){n.element&&(t?t():e.refreshAfterResize())},n.options.autoSizeInterval||100)},refresh:function(t){var e,n=this,i=n.that,r=null==(t=t||{}).header||t.header,o=t.pager,a=!t.soft,s=i.element,c=i.$toolPanel,l=i.dims=i.dims||{htCenter:0,htHead:0,htSum:0,htBody:0,wdCenter:0,htTblSum:0};if(t.colModel&&i.refreshCM(),s[0].offsetWidth){c.css("height","1px"),t.toolbar&&i.refreshToolbar(),(e=i.options).collapsible._collapsed=!1,n.setMax("maxHeight"),n.setMax("maxWidth"),n.refreshGridWidthAndHeight(),a&&!1!==o&&i._refreshPager(),l.htCenter=n.setCenterHeight(),l.wdCenter=l.wdGrid-c[0].offsetWidth,i.iRenderB.init({header:r,soft:t.soft,source:t.source}),"flex"==e.height&&n.setGridAndCenterHeightForFlex(),"flex"==e.width&&n.setGridWidthForFlex();var u=this.getParentDims();l.wdParent=u[0],l.htParent=u[1],a&&i._createCollapse(),e.dataModel.postDataOnce=void 0,i._trigger("refreshFull")}else s.addClass("pq-pending-refresh")},setCenterHeight:function(){var t,e=this.that,n=e.$top,i=e.options;return("flex"!==i.height||i.maxHeight)&&(t=e.dims.htGrid-(i.showTop?n[0].offsetHeight+parseInt(n.css("marginTop")):0)-e.$bottom[0].offsetHeight+1,e.$grid_center.height(t=t>=0?t:"")),t}},t(function(){})}(jQuery),function(t){(t.paramquery.cCheckBoxColumn=function(e,n){var i,r,o=this;o.that=e,o.fns={},o.options=e.options,n.cbId?(r=o.colUI=n,i=o.colCB=e.columns[n.cbId]):i=r=o.colCB=o.colUI=n;var a=i.cb=t.extend({},{all:!1,header:!1,select:!1,check:!0,uncheck:!1},i.cb),s=i.dataIndx;r._render=o.cellRender(i,r),o.on("dataAvailable",function(){e.one("dataReady",o.oneDataReady.bind(o))}).on("dataReady",o.onDataReady.bind(o)).on("valChange",o.onCheckBoxChange(o)).on("cellKeyDown",o.onCellKeyDown.bind(o)).on("refreshHeader",o.onRefreshHeader.bind(o)).on("change",o.onChange(o,e,s,a.check,a.uncheck)),a.select&&o.on("rowSelect",o.onRowSelect(o,e)).on("beforeRowSelectDone",o.onBeforeRowSelect(o,e,s,a.check,a.uncheck)),o.on("beforeCheck",o.onBeforeCheck.bind(o))}).prototype=t.extend({cellRender:function(t,e){var n=this;return function(i){var r,o,a,s=i.rowData,c=t.dataIndx,l=e.renderLabel,u=e.useLabel;if(!(s.pq_gtitle||s.pq_gsummary||i.Export))return r=t.cb.check===s[c]?"checked":"",o=n.isEditable(s,t,i.rowIndx,i.colIndx,c)?"":"disabled",l&&(a=l.call(this,i)),null==a&&(a=t==e?"":i.formatVal||i.cellData),[u?" <label>":"","<input type='checkbox' ",r," ",o," />",a,u?"</label>":""].join("")}},checkAll:function(t,e){var n=this.that;return this.checkNodes(this.colCB.cb.all?n.options.dataModel.data:n.pdata,t=null==t||t,e)},checkNodes:function(t,e,n){if(t.length){null==e&&(e=!0);var i=this,r=i.that,o=i.colUI.dataIndx,a=i.colCB,s=a.cb,c=e?s.check:s.uncheck,l=a.dataIndx,u=t[0],h=u.pq_ri,d=function(){return r.refreshCell({rowIndx:h,dataIndx:o}),!1},p=t.map(function(t){var e={},n={};return e[l]=t[l],n[l]=c,{rowIndx:t.pq_ri,rowData:t,oldRow:e,newRow:n}}),f={rowIndx:h,rowData:u,dataIndx:o,check:e,rows:p},g={source:"checkbox"};return!1===r._trigger("beforeCheck",n,f)?d():(g.updateList=f.rows,g.history=g.track=!s.select&&null,!1===r._digestData(g)?d():void(s.maxCheck||1!=g.updateList.length?r.refresh({header:!1}):r.refreshRow({rowIndx:h})))}},isEditable:function(t,e,n,i,r){return this.that.isEditable({rowIndx:n,rowData:t,column:e,colIndx:i,dataIndx:r})},onBeforeRowSelect:function(t,e,n,i,r){return function(o,a){if("checkbox"!=a.source){var s=function(o){for(var a,s,c=o.length,l=e.columns[n],u=e.colIndxs[n];c--;)t.isEditable(a=(s=o[c]).rowData,l,s.rowIndx,u,n)?a[n]=a.pq_rowselect?r:i:o.splice(c,1)};s(a.addList),s(a.deleteList)}}},onCellKeyDown:function(e,n){if(n.dataIndx==this.colUI.dataIndx&&(13==e.keyCode||32==e.keyCode))return t(e.originalEvent.target).find("input").click(),!1},onChange:function(t,e,n,i,r){return function(r,o){var a=[],s=[],c=t.colUI.dataIndx,l=function(t,n){t.length&&e._trigger("check",r,{rows:t,dataIndx:c,rowIndx:t[0].rowIndx,rowData:t[0].rowData,check:n})},u=function(t){t.forEach(function(t){var e=t.newRow,r=t.oldRow;e.hasOwnProperty(n)&&(e[n]===i?a.push(t):r&&r[n]===i&&s.push(t))})};t.setValCBox(),u(o.addList),u(o.updateList),t.colCB.cb.select&&e.SelectRow().update({addList:a,deleteList:s,source:"checkbox"}),l(a,!0),l(s,!1)}},onCheckBoxChange:function(t){return function(e,n){return n.dataIndx==t.colUI.dataIndx?t.checkNodes([n.rowData],n.input.checked,e):void 0}},onDataReady:function(){this.setValCBox()},off:function(){var t,e=this.fns,n=this.that;for(t in e)n.off(t,e[t]);this.fns={}},on:function(t,e){var n=this;return n.fns[t]=e,n.that.on(t,e),n},destroy:function(){for(var t in this.off(),this)delete this[t]},oneDataReady:function(){var t,e=this.that.get_p_data(),n=0,i=e.length,r=this.colCB,o=r.cb,a=r.dataIndx;if(null!=a&&e&&o.select)for(;i>n;n++)(t=e[n])&&(t[a]===o.check?t.pq_rowselect=!0:t.pq_rowselect&&(t[a]=o.check))},onRowSelect:function(t,e){return function(n,i){"checkbox"!=i.source&&(i.addList.length||i.deleteList.length)&&(t.setValCBox(),e.refresh({header:!1}))}}},pq.mixin.ChkGrpTree)}(jQuery),function(t){function e(t,e,n){for(var i=0,r=t.length;r>i;i++){for(var o,a=t[i],s={},c=0,l=e.length;l>c;c++)s[o=e[c]]=a[o];n.push(s)}}var n,i=t.paramquery,r={options:{stateColKeys:{width:1,filter:["crules","mode"],hidden:1},stateKeys:{height:1,width:1,freezeRows:1,freezeCols:1,groupModel:["dataIndx","collapsed","grandSummary"],pageModel:["curPage","rPP"],sortModel:["sorter"]},detailModel:{cache:!0,offset:100,expandIcon:"ui-icon-triangle-1-se glyphicon glyphicon-minus",collapseIcon:"ui-icon-triangle-1-e glyphicon glyphicon-plus",height:180},dragColumns:{enabled:!0,acceptIcon:"ui-icon-check glyphicon-ok",rejectIcon:"ui-icon-closethick glyphicon-remove",topIcon:"ui-icon-circle-arrow-s glyphicon glyphicon-circle-arrow-down",bottomIcon:"ui-icon-circle-arrow-n glyphicon glyphicon-circle-arrow-up"},flex:{on:!0,one:!1,all:!0},track:null,mergeModel:{flex:!1},realFocus:!0,sortModel:{on:!0,type:"local",multiKey:"shiftKey",number:!0,single:!0,cancel:!0,sorter:[],useCache:!0,ignoreCase:!1},filterModel:{on:!0,newDI:[],type:"local",mode:"AND",header:!1,timeout:400}},_create:function(){var t=this,e=t.options;null==e.rtl&&(e.rtl="rtl"==t.element.css("direction")),t.listeners={},t._queueATriggers={},t.iHistory=new i.cHistory(t),t.iGroup=new i.cGroup(t),t.iMerge=new i.cMerge(t),t.iFilterData=new i.cFilterData(t),t.iSelection=new pq.Selection(t),t.iHeaderSearch=new i.cHeaderSearch(t),t.iUCData=new i.cUCData(t),t.iMouseSelection=new i.cMouseSelection(t),t._super(),new i.cFormula(t),t.iDragColumns=new i.cDragColumns(t),t.refreshToolbar(),"remote"===e.dataModel.location&&t.refresh(),t.on("dataAvailable",function(){t.one("refreshDone",function(){t._trigger("ready"),setTimeout(function(){t.element&&t._trigger("complete")},0)})}),t.__init(),t.refreshDataAndView({header:!0})},__init:function(){n||(n=t(["<div style='position:fixed;bottom:0;right:25px;padding:0 2px;margin:0;opacity:0.5;z-index:10000;border:1px solid lightgray;border-radius:5px;pointer-events:none;'>","<a style='font-size:10px;' href='http://paramquery.com/pro'>ParamQuery Pro Eval</a>","</div>"].join("")).appendTo(document.body))}};t.widget("paramquery.pqGrid",i._pqGrid,r),t.widget.extend=function(){var e,n,i=Array.prototype.shift,r=t.isPlainObject,o=t.isArray,a=t.widget.extend,s=i.apply(arguments);"boolean"==typeof s&&(e=s,s=i.apply(arguments));var c,l,u,h=arguments,d=0,p=h.length;for(null==e&&(e=p>1);p>d;d++)for(l in c=h[d])void 0!==(u=c[l])&&(n=!(d>0),r(u)?u.byRef?s[l]=u:(s[l]=s[l]||{},a(n,s[l],u)):s[l]=o(u)&&e&&n?u.slice():u);return s},pq.grid=function(e,n){var i=t(e).pqGrid(n);return i.data("paramqueryPqGrid")||i.data("paramquery-pqGrid")},i.pqGrid.regional={};var o=i.pqGrid.prototype;i.pqGrid.defaults=o.options,o.focusT=function(t){var e=this;setTimeout(function(){e.focus(t)})},o.focus=function(e){var n,i,r,o,a,s,c,l=e||{},u=this,h=u.options,d=l.$td,p=document.activeElement,f=u.$cont,g=f[0],m=l.rowIndxPage,v=l.colIndx;if(null==m||null==v){if(p&&p!=document.body&&"pq-grid-excel"!=p.id&&"pq-body-outer"!=p.className)return void(r=!0);(i=this._focusEle)?(m=i.rowIndxPage,v=i.colIndx):r=!0}null!=m&&((s=u.iMerge).ismergedCell(a=m+u.riOffset,v)&&(m=(c=s.getRootCellO(a,v)).rowIndxPage,v=c.colIndx),v=-1==v?u.getFirstVisibleCI(!0):v,d=u.getCell({rowIndxPage:m,colIndx:v})),null!=m&&null!=v&&(d[0]?(p!=document.body&&t(p).blur(),f.find(".pq-focus").removeAttr("tabindex").removeClass("pq-focus"),f.removeAttr("tabindex"),i=this._focusEle=this._focusEle||{},d&&(n=d[0])&&d.hasClass("pq-grid-cell")&&!n.edited?(i.$ele&&i.$ele.length&&i.$ele[0].removeAttribute("tabindex"),i.$ele=d,i.rowIndxPage=m,i.colIndx=v,n.setAttribute("tabindex","-1"),r||(d.addClass("pq-focus"),n.focus())):(o=h.dataModel.data)&&o.length||g.setAttribute("tabindex",0)):((i=this._focusEle)&&f.find(".pq-focus").removeClass("pq-focus"),d&&(d.addClass("pq-focus"),this._focusEle={$ele:d,rowIndxPage:m,colIndx:v}),document.activeElement!=g&&(f.attr("tabindex",0),g.focus())))},o.onfocus=function(){var t=this._focusEle;t&&this.getCell(t).addClass("pq-focus")},o.onblur=function(){if(this._focusEle){var t=document.activeElement;this.$cont.find(".pq-focus").removeClass("pq-focus"),t&&t!=document.body&&"pq-grid-excel"!=t.id&&"pq-body-outer"!=t.className&&(this._focusEle={})}},o.callFn=function(t,e){return pq.getFn(t).call(this,e)},o.rowExpand=function(t){this.iHierarchy.rowExpand(t)},o.rowInvalidate=function(t){this.iHierarchy.rowInvalidate(t)},o.rowCollapse=function(t){this.iHierarchy.rowCollapse(t)},o._saveState=function(e,n,i){var r,o,a,s;for(r in i)(o=i[r])&&(a=e[r],t.isArray(o)?null!=a&&(s=n[r]=t.isPlainObject(n[r])?n[r]:{},o.forEach(function(t){s[t]=a[t]})):n[r]=a)},o.saveState=function(e){e=e||{};for(var n,i,r,o,a=this,s=a.options,c=s.stateColKeys,l=s.stateKeys,u=a.colModel,h=[],d=0,p=u.length,f=a.element[0].id;p>d;d++)a._saveState(i=u[d],r={dataIndx:i.dataIndx},c),h[d]=r;return o={colModel:h,datestamp:Date.now()},a._saveState(s,o,l),(n=e.extra)&&(o=t.extend(!0,o,n)),!1!==e.stringify&&(o=JSON.stringify(o),!1!==e.save&&"undefined"!=typeof Storage&&localStorage.setItem("pq-grid"+(f||""),o)),o},o.getState=function(){return"undefined"!=typeof Storage?localStorage.getItem("pq-grid"+(this.element[0].id||"")):void 0},o.loadState=function(e){var n,i=this,r=t.widget.extend,o=(e=e||{}).state||i.getState();if(!o)return!1;"string"==typeof o&&(o=JSON.parse(o));for(var a,s,c,l=o.colModel,u=[],h=[],d=i.options,p=d.stateColKeys,f=i.depth>1,g=f?i.colModel:d.colModel,m=0,v=l.length;v>m;m++)u[c=(a=l[m]).dataIndx]=a,h[c]=m;for(f||g.sort(function(t,e){return h[t.dataIndx]-h[e.dataIndx]}),m=0,v=g.length;v>m;m++)(a=u[c=(s=g[m]).dataIndx])&&i._saveState(a,s,p);return i.iCols.init(),r(d.sortModel,o.sortModel),r(d.pageModel,o.pageModel),i.Group().option(o.groupModel,!1),i.Tree().option(o.treeModel,!1),n={freezeRows:o.freezeRows,freezeCols:o.freezeCols},isNaN(1*d.height)||isNaN(1*o.height)||(n.height=o.height),isNaN(1*d.width)||isNaN(1*o.width)||(n.width=o.width),i.option(n),!1!==e.refresh&&i.refreshDataAndView(),!0},o.refreshToolbar=function(){var e,n=this,i=n.options,r=i.toolbar;if(n._toolbar&&(e=n._toolbar).destroy(),r){var o=r.items,a=t("<div class='"+(r.cls||"")+"' style='"+(r.style||"")+"' "+(r.attr||"")+" ></div>");e?e.widget().replaceWith(a):n.$top.append(a),e=pq.toolbar(a,{items:o,gridInstance:n,bootstrap:i.bootstrap}),i.showToolbar||a.css("display","none"),n._toolbar=e}},o.filter=function(t){return this.iFilterData.filter(t)},o.Checkbox=function(t){return this.iCheckBox[t]},o._initTypeColumns=function(){for(var t=this.colModel,e=0,n=t.length,r=this.iCheckBox={};n>e;e++){var o=t[e],a=o.type;"checkbox"==a||"checkBoxSelection"==a?(o.type="checkbox",r[o.dataIndx]=new i.cCheckBoxColumn(this,o)):"detail"==a&&(o.dataIndx="pq_detail",this.iHierarchy=new i.cHierarchy(this,o))}},o.refreshHeader=function(){this.iRenderHead.refreshHS()},o.refreshHeaderFilter=function(t){var e=this.normalize(t),n=e.colIndx,i=e.column,r=this.iRenderHead,o=r.rows-1;this.options.filterModel.header&&(r.refreshCell(o,n,{},i),r.postRenderCell(i,n,o))},o._refreshHeaderSortIcons=function(){this.iHeader.refreshHeaderSortIcons()},o.pageData=function(){return this.pdata},o.getData=function(t){var n=(t=t||{}).dataIndx,i=n?n.length:0,r=t.data,o=!i,a=this.columns,s=this.options.dataModel,c=s.dataPrimary||s.data||[],l=s.dataUF||[],u=[];if(!i)return l.length?c.concat(l):c;r?e(r,n,u):(e(c,n,u),e(l,n,u));for(var h=[],d=n.reduce(function(t,e){var n=a[e];return n&&t.push({dataIndx:e,dir:"up",dataType:n.dataType,sortType:n.sortType}),t},[]),p={},f=0,g=u.length;g>f;f++){var m=u[f],v=JSON.stringify(m);p[v]||(h.push(m),p[v]=1)}return this.iSort._sortLocalData(d,h,o)},o.getPlainOptions=function(e,n){var i=e[0];if(t.isPlainObject(i)){var r=Object.keys(i);r[0]!=n&&1==r.length&&(e=e.map(function(t){var e,i={};for(e in t)i[n]=e,i.pq_label=t[e];return i}))}else e=e.map(function(t){var e={};return e[n]=t,e});return e},o.getDataCascade=function(t,e,n){var i,r,o=this,a=o.options.filterModel,s=a.newDI.slice(),c=e?[e,t]:[t],l=s.indexOf(t);return"AND"==a.mode&&s.length&&"remote"!=a.type&&(l>=0&&s.splice(l,s.length),s.length&&(i=s.map(function(t){var e=o.getColumn({dataIndx:t}).filter;return{dataIndx:t,crules:e.crules||[e],mode:e.mode}}),r=o.filter({data:o.getData(),mode:"AND",rules:i}))),c=c.concat(n||[]),o.getData({data:r,dataIndx:c})},o.removeNullOptions=function(t,e,n){var i;return t.filter(null==n?function(t){var n=t[e];return null!=n&&""!==n||(i?void 0:(i=!0,t[e]="",!0))}:function(t){var n=t[e];return null!=n&&""!==n})},o.get_p_data=function(){var t,e,n,i,r=this.options,o=r.pageModel,a=o.type,s=r.dataModel.data,c=this.pdata,l=[];return a?(e=o.rPP,n=this.riOffset,!c.length&&s.length&&(c=s.slice(n,n+e)),l=(t="remote"==a)?new Array(n):s.slice(0,n),i=t?[]:s.slice(n+e),l.concat(c,i)):c.length?c:s},o._onDataAvailable=function(t){var e=this,n=e.options,i=!(t=t||{}).data,r=t.source,o=t.sort,a=[],s=n.filterModel,c=n.dataModel,l=n.sortModel;return!1!==i&&(e.pdata=[],!1!==t.trigger&&e._trigger("dataAvailable",t.evt,{source:r})),a=s&&s.on&&"local"==s.type?e.iFilterData.filterLocalData(t).data:c.data,"local"==l.type&&!1!==o&&(i?e.sort({refresh:!1}):a=e.iSort.sortLocalData(a,!0)),!1===i?a:void e.refreshView(t)},o.reset=function(e){var n=this,i=(e=e||{}).sort,r=!1!==e.refresh,o=e.filter,a=e.group;(i||o||a)&&(i&&(0,t.extend)(n.options.sortModel,!0===i?{sorter:[]}:i),o&&!r&&this.iFilterData.clearFilters(n.colModel),a&&n.groupOption(!0===a?{dataIndx:[]}:a,!1),r&&(o?(n.filter({oper:"replace",rules:[]}),n.refreshHeader()):i?n.sort():n.refreshView()))},o._trigger=i._trigger,o.on=i.on,o.one=i.one,o.off=i.off,o.pager=function(){var t;return this.pageI=this.pageI||((t=this.widget().find(".pq-pager")).length?t.pqPager("instance"):null),this.pageI},o.toolbar=function(){return this._toolbar.element},o.Columns=function(){return this.iCols}}(jQuery),function(t){var e=t.paramquery;e.cColModel=function(t){this.that=t,this.init()},e.cColModel.prototype={add:function(t,n,i,r){var o,a,s=this,c=s.that,l=(i=i||c.options.colModel,{args:arguments}),u=t.length,h=[n=null==n?i.length:n,0].concat(t);!1!==c._trigger("beforeColAdd",null,l)&&("undo"==r||"redo"==r||c.iHistory.push({callback:function(e){a=(o||{}).colModel,e?s.add(t,n,a,"redo"):s.remove(u,n,a,"undo")}}),t.forEach(function(t){"checkbox"==t.type&&(c.iCheckBox[t.dataIndx]=new e.cCheckBoxColumn(c,t))}),i.splice.apply(i,h),c.refreshCM(),o=i[0].parent,c._trigger("colAdd",null,l),c.refresh())},move:function(t,e,n,i,r,o){var a,s=this,c={args:arguments},l=s.that,u=l.options,h=[],d=u.colModel,p=(i||{}).colModel||d,f=(r||{}).colModel||d;return!1!==l._trigger("beforeColMove",null,c)&&("undo"==o||"redo"==o||l.iHistory.push({callback:function(o){o?s.move(t,e,n,i,r,"redo"):s.move(t,a,p==f&&e>a?e+t:e,r,i,"undo")}}),h=p.splice(e,t),f.splice.apply(f,[a=p==f&&n>e+t?n-t:n,0].concat(h)),l.refreshCM(),l._trigger("colMove",null,c),l.refresh()),h},remove:function(t,e,n,i){var r,o,a=this,s={args:arguments},c=a.that,l=c.iCheckBox,u=(n=n||c.options.colModel)[0].parent;!1!==c._trigger("beforeColRemove",null,s)&&("undo"==i||"redo"==i||c.iHistory.push({callback:function(n){o=(u||{}).colModel,n?a.remove(t,e,o,"redo"):a.add(r,e,o,"undo")}}),(r=n.splice(e,t)).forEach(function(t){if("checkbox"==t.type){var e=t.dataIndx;l[e].destroy(),delete l[e]}}),c.refreshCM(),c._trigger("colRemove",null,s),c.refresh())},alter:function(t){var e=this.that;t.call(e),e.refreshCM(),e.refresh()},assignRowSpan:function(){for(var t,e,n,i,r=this.that,o=r.colModel.length,a=r.headerCells,s=r.depth,c=0;o>c;c++)for(e=0;s>e;e++)if(t=a[e][c],!(c>0&&t==a[e][c-1]||e>0&&t==a[e-1][c])){for(i=1,n=e+1;s>n;n++)t==a[n][c]&&i++;t.rowSpan=i}return a},autoGenColumns:function(){var e=this.that.options,n=e.columnTemplate||{},i=n.dataType,r=n.title,o=n.width,a=e.dataModel.data,s=pq.valid,c=[];a&&a.length&&t.each(a[0],function(t,e){var n="string";s.isInt(e)?n=e+"".indexOf(".")>-1?"float":"integer":s.isDate(e)?n="date":s.isFloat(e)&&(n="float"),c.push({dataType:i||n,dataIndx:t,title:r||t,width:o||100})}),e.colModel=c},cacheIndices:function(){for(var t,e=this,n=e.that,i="JSON"==e.getDataType(),r={},o={},a={},s=n.colModel,c=0,l=s.length,u=0,h=e.vciArr=[],d=e.ciArr=[];l>c;c++){var p=s[c],f=p.dataIndx;null==f&&("pq_detail"==(f="detail"==p.type?"pq_detail":i?"dataIndx_"+c:c)&&(p.dataType="object"),p.dataIndx=f),r[f]=p,o[f]=c,p.validations&&(a[f]=a),p.hidden||(d[u]=c,h[c]=u,u++),p.align||!(t=p.dataType)||"integer"!=t&&"float"!=t||(p.align="right")}n.columns=r,n.colIndxs=o,n.validations=a},collapse:function(t){var e,n,i,r=t.collapsible,o=r.on||!1,a=t.colModel||[],s=a.length,c=s,l=0,u=r.last,h=u?s-1:0;if(s){for(;c--;)e=a[c],null===u?(i=e.showifOpen===o)&&l++:i=h!==c&&o,e.hidden=i,i||!(n=e.colModel)||e.collapsible||this.each(function(t){t.hidden=i},n);l==s&&this.each(function(t){t.hidden=!1},[a[0]])}},each:function(t,e){var n=this.that;(e||n.options.colModel).forEach(function(e){t.call(n,e),e.colModel&&this.each(t,e.colModel)},this)},extend:function(e,n){for(var i,r,o=t.extend,a=e.length;a--;){var s=e[a];for(i in n)void 0===s[i]&&(s[i]=(r=n[i])&&"object"==typeof r?o(!0,{},r):r)}},find:function(t,e){for(var n,i,r=this.that,o=e||r.options.colModel,a=0,s=o.length;s>a;a++){if(t.call(r,n=o[a]))return n;if(n.colModel&&(i=this.find(t,n.colModel)))return i}},getHeaderCells:function(){for(var t=this.that,e=t.options.colModel,n=t.colModel.length,i=t.depth,r=[],o=0;i>o;o++){r[o]=[];for(var a=0,s=0,c=0;n>c;c++){var l;if(0==o)l=e[a];else{var u=r[o-1][c],h=u.colModel;if(h&&0!=h.length){for(var d=c-u.leftPos,p=0,f=0,g=0;g<h.length;g++)if((p+=h[g].childCount>0?h[g].childCount:1)>d){f=g;break}l=h[f]}else l=u}var m=l.childCount?l.childCount:1;c==s?(l.leftPos=c,r[o][c]=l,s+=m,e[a+1]&&a++):r[o][c]=r[o][c-1]}}return t.headerCells=r,r},getDataType:function(){var t=this.colModel;if(t&&t[0])return"string"==typeof t[0].dataIndx?"JSON":"ARRAY"},getci:function(t){return this.ciArr[t]},getvci:function(t){return this.vciArr[t]},getNextVisibleCI:function(t){for(var e=this.vciArr,n=this.that.colModel.length;n>t;t++)if(null!=e[t])return t},getPrevVisibleCI:function(t){for(var e=this.vciArr;t>=0;t--)if(null!=e[t])return t},getLastVisibleCI:function(){var t=this.ciArr;return t[t.length-1]},getVisibleTotal:function(){return this.ciArr.length},hide:function(t){var e=this.that,n=e.columns;t.diShow=t.diShow||[],t.diHide=t.diHide||[],!1!==e._trigger("beforeHideCols",null,t)&&(t.diShow=t.diShow.filter(function(t){var e=n[t];return e.hidden?(delete e.hidden,!0):void 0}),t.diHide=t.diHide.filter(function(t){var e=n[t];return e.hidden?void 0:(e.hidden=!0,!0)}),e.refresh({colModel:!0}),e._trigger("hideCols",null,t))},init:function(t){var e,n,i=this,r=i.that,o=r.options,a=o.columnTemplate,s=o.colModel;s||(i.autoGenColumns(),s=o.colModel),e=i.nestedCols(s),r.depth=e.depth,n=r.colModel=e.colModel,a&&i.extend(n,a),i.getHeaderCells(),i.assignRowSpan(),i.cacheIndices(),r._trigger("CMInit",null,t)},nestedCols:function(t,e,n,i){for(var r=t.length,o=[],a=0,s=e=e||1,c=0,l=0,u=0;r>a;a++){var h,d=t[a],p=d.colModel;d.parent=i,!0===n&&(d.hidden=n),p&&p.length?(d.collapsible&&this.collapse(d),h=this.nestedCols(p,e+1,d.hidden,d),o=o.concat(h.colModel),h.colSpan>0?(h.depth>s&&(s=h.depth),d.colSpan=h.colSpan,c+=h.colSpan):d.colSpan=0,u+=h.o_colspan,d.o_colspan=h.o_colspan,d.childCount=h.childCount,l+=h.childCount):(d.hidden?d.colSpan=0:(d.colSpan=1,c++),u++,d.o_colspan=1,d.childCount=0,l++,o.push(d))}return{depth:s,colModel:o,colSpan:c,width:0,childCount:l,o_colspan:u}},reduce:function(t,e){var n=this.that,i=[];return(e||n.options.colModel).forEach(function(e,r){var o,a,s=t.call(n,e,r);s&&((a=s.colModel)&&a.length?(o=this.reduce(t,a)).length&&(s.colModel=o,i.push(s)):i.push(s))},this),i},reverse:function(t){var e,n=this,i=n.that;(t||i.options.colModel).reverse().forEach(function(t){(e=t.colModel)&&n.reverse(e)}),t||i.refreshCM()}}}(jQuery),function(t){function e(e,n){var i=this,r=e.options;i.that=e,i.type="detail",i.refreshComplete=!0,i.rowHtDetail=r.detailModel.height,e.on("cellClick",i.toggle.bind(i)).on("cellKeyDown",function(e,n){return e.keyCode==t.ui.keyCode.ENTER?i.toggle(e,n):void 0}).on("beforeViewEmpty",i.onBeforeViewEmpty.bind(i)).on("autoRowHeight",i.onAutoRowHeight.bind(i)).one("render",function(){e.iRenderB.removeView=i.removeView(i,e),e.iRenderB.renderView=i.renderView(i,e)}).one("destroy",i.onDestroy.bind(i)),n._render=i.renderCell.bind(i)}t.extend(t.paramquery.pqGrid.prototype,{parent:function(){return this._parent},child:function(t){return((this.normalize(t).rowData||{}).pq_detail||{}).child}}),t.paramquery.cHierarchy=e,e.prototype={detachCells:function(t){t.children().detach(),t.remove()},getCls:function(){return"pq-detail-cont-"+this.that.uuid},getId:function(t){return"pq-detail-"+t+"-"+this.that.uuid},getRip:function(t){return 1*t.id.split("-")[2]},onAutoRowHeight:function(){var e=this,n=this.that.iRenderB;n.$ele.find("."+e.getCls()).each(function(i,r){var o=e.getRip(r),a=n.getHeightCell(o);t(r).css("top",a)})},onBeforeViewEmpty:function(t,e){var n=e.rowIndxPage,i=this.that.iRenderB,r=e.region,o=n>=0?"#"+this.getId(n):"."+this.getCls(),a=n>=0?i.$ele.find(o):i["$c"+r].find(o);this.detachCells(a)},onDestroy:function(){(this.that.getData()||[]).forEach(function(t){t.child&&t.child.remove()})},onResize:function(t,e){var n,i=[];e.resize(function(){i.push(e[0]),clearTimeout(n),n=setTimeout(function(){var e=t.that.pdata,n=[];i.forEach(function(i){if(document.body.contains(i)){var r=t.getRip(i),o=i.offsetHeight,a=e[r],s=a.pq_detail.height||t.rowHtDetail;s!=o&&(a.pq_detail.height=o,n.push([r,o-s]))}}),i=[],n.length&&(t.that._trigger("onResizeHierarchy"),t.softRefresh(n))},150)})},removeView:function(e,n){var i=n.iRenderB.removeView;return function(n,r,o){var a,s,c,l=i.apply(this,arguments),u=e.getCls(),h=this.getCellRegion(n,o);for(a=n;r>=a;a++)(s=this.getRow(a,h))&&1==s.children.length&&1==(c=t(s).children("."+u)).length&&(e.detachCells(c),s.parentNode.removeChild(s));return l}},renderView:function(e,n){var i=n.iRenderB.renderView;return function(r,o,a,s){var c,l,u=i.apply(this,arguments),h=n.iRenderB,d=e.getCls()+" pq-detail",p=n.options,f=p.rtl,g=n.dims.wdContLeft+5,m="padding-"+(f?"right:":"left:")+g+"px;",v=p.freezeRows,b=p.detailModel.init,_=this.data;if(e.refreshComplete){for(e.refreshComplete=!1,c=r;o>=c;c++)if((l=_[c])&&!l.pq_hidden){var y=l.pq_detail=l.pq_detail||{},C=y.show,x=y.child;if(!C)continue;x||"function"==typeof b&&(x=b.call(n,{rowData:l}),y.child=x);var w=x.parent(),M=h.getHeightCell(c),O="position:absolute;left:0;top:"+M+"px;padding:5px;width:100%;overflow:hidden;"+m;if(w.length){if(!document.body.contains(w[0]))throw"incorrectly detached detail";w.css({top:M})}else w=t("<div role='gridcell' id='"+e.getId(c)+"' class='"+d+"' style='"+O+"'></div>").append(x),t(h.getRow(c,v>c?"tr":"right")).append(w),e.onResize(e,w);for(var P,k,A=w.find(".pq-grid"),T=0,S=A.length;S>T;T++)(k=(P=t(A[T])).pqGrid("instance"))._parent=n,P.hasClass("pq-pending-refresh")&&P.is(":visible")&&(P.removeClass("pq-pending-refresh"),k.refresh())}return e.refreshComplete=!0,u}}},renderCell:function(t){var e=this.that.options.detailModel,n=t.cellData,i=t.rowData;return i.pq_gsummary||i.pq_gtitle?"":"<div class='ui-icon "+(n&&n.show?e.expandIcon:e.collapseIcon)+"'></div>"},rowExpand:function(t){var e,n=this.that,i=n.normalize(t),r=i.rowData,o=i.rowIndxPage,a=n.options.detailModel,s="pq_detail";if(r){if(!1===n._trigger("beforeRowExpand",null,i))return;(e=r[s]=r[s]||{}).show=!0,a.cache||this.rowInvalidate(i),this.softRefresh([[o,e.height||this.rowHtDetail]],i)}},rowInvalidate:function(t){var e=this.that.getRowData(t),n="pq_detail",i=e[n],r=i?i.child:null;r&&(r.remove(),e[n].child=null)},rowCollapse:function(t){var e=this.that,n=e.options,i=e.normalize(t),r=i.rowData,o=i.rowIndxPage,a=n.detailModel,s=r?r.pq_detail:null;if(s&&s.show){if(i.close=!0,!1===e._trigger("beforeRowExpand",null,i))return;a.cache||this.rowInvalidate(i),s.show=!1,this.softRefresh([[o,-(s.height||this.rowHtDetail)]],i)}},softRefresh:function(t,e){var n=this.that,i=n.iRenderB;i.initRowHtArrDetailSuper(t),i.setPanes(),i.setCellDims(!0),e&&n.refreshRow(e),i.refresh()},toggle:function(t,e){var n=e.column,i=e.rowData,r=e.rowIndx;i.pq_gtitle||i.pq_gsummary||n&&n.type===this.type&&this.that[(i.pq_detail=i.pq_detail||{}).show?"rowCollapse":"rowExpand"]({rowIndx:r})}}}(jQuery),function(t){var e=function(t){var e=this;e.that=t,e.class="pq-grid-overlay",e.rtl=t.options.rtl?"right":"left",e.ranges=[],t.on("assignTblDims",e.onRefresh(e,t))};t.paramquery.cCells=e,e.prototype={addBlock:function(t,e){if(t&&this.addUnique(this.ranges,t)){var n=this.that,i=t.r1,r=t.c1,o=t.r2,a=t.c2,s=this.serialize(i,r,o,a),c=s,l=s+" pq-number-overlay",u=s+" pq-head-overlay",h=n.iRenderB,d=function(t,e){return h.getCellCont(t,e)},p=this.shiftRC(i,r,o,a);if(p){o=p[2],a=p[3];var f,g,m,v,b,_,y,C,x,w,M=d(i=p[0],r=p[1]),O=d(o,a);if(b=(p=h.getCellXY(i,r))[0]-1,_=p[1]-1,x=(C=(p=h.getCellCoords(o,a))[3])-_,w=(y=p[2])-b,M==O?this.addLayer(b,_,x,w,c,M):(f=d(i,a),g=d(o,r),m=M[0].offsetWidth,v=M[0].offsetHeight,g==M?(this.addLayer(b,_,x,m-b,c,M,"border-right:0;"),this.addLayer(0,_,x,y,c,O,"border-left:0;")):M==f?(this.addLayer(b,_,v-_,w,c,M,"border-bottom:0;"),this.addLayer(b,0,C,w,c,O,"border-top:0;")):(this.addLayer(b,_,v-_,m-b,c,M,"border-right:0;border-bottom:0"),this.addLayer(0,_,v-_,y,c,f,"border-left:0;border-bottom:0"),this.addLayer(b,0,C,m-b,c,g,"border-right:0;border-top:0"),this.addLayer(0,0,C,y,c,O,"border-left:0;border-top:0"))),this.addLayer(0,_,x,w=n.options.numberCell.outerWidth||0,l,h.$clt,""),this.addLayer(0,_,x,w,l,h.$cleft,""),0!=n.options.showHeader){b=(p=(h=n.iRenderHead).getCellXY(0,r))[0],_=p[1],p=h.getCellCoords(n.headerCells.length-1,a);var P=h.$cright;this.addLayer(b,_,x=(C=p[3])-_,w=(y=p[2])-b,u,P,""),this.addLayer(b,_,x,w,u,P=h.$cleft,"")}}}},addLayer:function(e,n,i,r,o,a,s){t("<svg class='"+this.class+" "+o+"' style='"+this.rtl+":"+e+"px;top:"+n+"px;height:"+i+"px;width:"+r+"px;"+(s||"")+"'></svg>").appendTo(a)},addUnique:function(t,e){return t.filter(function(t){return e.r1==t.r1&&e.c1==t.c1&&e.r2==t.r2&&e.c2==t.c2})[0]?void 0:(t.push(e),!0)},getLastVisibleFrozenCI:function(){for(var t=this.that,e=t.colModel,n=t.options.freezeCols-1;n>=0;n--)if(!e[n].hidden)return n},getLastVisibleFrozenRIP:function(){for(var t=this.that,e=t.get_p_data(),n=t.riOffset,i=t.options.freezeRows+n-1;i>=n;i--)if(!e[i].pq_hidden)return i-n},getSelection:function(){var t=this.that,e=t.get_p_data(),n=t.colModel,i=[];return this.ranges.forEach(function(t){var r,o,a,s=t.r2,c=t.c1,l=t.c2;for(o=t.r1;s>=o;o++)for(r=e[o],a=c;l>=a;a++)i.push({dataIndx:n[a].dataIndx,colIndx:a,rowIndx:o,rowData:r})}),i},isSelected:function(t){var e=this.that.normalize(t),n=e.rowIndx,i=e.colIndx;return null==i||null==n?null:!!this.ranges.find(function(t){return n>=t.r1&&t.r2>=n&&i>=t.c1&&t.c2>=i||void 0})},onRefresh:function(t,e){var n;return function(){clearTimeout(n),n=setTimeout(function(){e.element&&(t.removeAll(),e.Selection().address().forEach(function(e){t.addBlock(e)}))},50)}},removeAll:function(){var t=this.that,e=t.$cont,n=t.$header;e&&(e.children().children().children("svg").remove(),n.children().children().children("svg").remove()),this.ranges=[]},removeBlock:function(t){if(t){var e,n=t.r1,i=t.c1,r=t.r2,o=t.c2,a=this.that,s=this.ranges.findIndex(function(t){return n==t.r1&&i==t.c1&&r==t.r2&&o==t.c2});s>=0&&(this.ranges.splice(s,1),e="."+this.class+"."+this.serialize(n,i,r,o),a.$cont.find(e).remove(),a.$header.find(e).remove())}},serialize:function(t,e,n,i){return"r1"+t+"c1"+e+"r2"+n+"c2"+i},shiftRC:function(t,e,n,i){var r=this.that,o=r.pdata.length,a=r.riOffset;return n-=a,(t=r.options.freezeRows>(t-=a)?Math.max(t,Math.min(0,n)):t)>=o||0>n?void 0:(n=Math.min(n,o-1),t+=a,n+=a,t-=a,n-=a,[t=Math.max(t,0),e,n=Math.min(n,o-1),i=Math.min(i,r.colModel.length-1)])}}}(jQuery),function(t){function e(t){t.shiftKey&&"pqGrid:mousePQUp"!=t.type||(this._trigger("selectEnd",null,{selection:this.Selection()}),this.off("mousePQUp",e),this.off("keyUp",e))}t.paramquery.pqGrid.prototype.Range=function(t,e){return new pq.Range(this,t,"range",e)},pq.extend=function(t,e,n){var i=function(){};i.prototype=t.prototype;var r=e.prototype=new i,o=t.prototype;for(var a in n){var s=o[a],c=n[a];r[a]=s?function(t,e){return function(){var n,i=this._super;return this._super=function(){return t.apply(this,arguments)},n=e.apply(this,arguments),this._super=i,n}}(s,c):c}r.constructor=e,r._base=t,r._bp=function(t){var e=arguments;return Array.prototype.shift.call(e),o[t].apply(this,e)}};var n=pq.Range=function(t,e,i,r){if(null==t)throw"invalid param";return this.that=t,this._areas=[],this instanceof n==0?new n(t,e,i,r):(this._type=i||"range",void this.init(e,r))};n.prototype=t.extend({add:function(t){this.init(t)},address:function(){return this._areas},addressLast:function(){var t=this.address();return t[t.length-1]},history:function(e){var n={},i={},r={},o={},a={},s={},c={},l={},u={},h=this.that,d="pq_cell"+e,p="pq_row"+e,f=function(f){var g=function(e,n,i,r){for(var o in e){var a,s=e[o][r],c=f?n[o]:i[o];for(a in c=t.extend(!0,{},c),s)s[a]=c[a];for(a in c)s[a]=c[a]}};g(a,i,n,d),g(u,l,c,e),g(s,o,r,p),h.refresh()};return{add:function(i,o,l){function h(e,n,i,r,o){var a=e[n];i[a]||(r[a]=e,i[a]=t.extend(!0,{},e[o]))}l?h(i,"pq_ri",n,a,d):o?h(o,"dataIndx",c,u,e):h(i,"pq_ri",r,s,p)},push:function(){function n(t){return Object.keys(t).length}function r(e,n,i){for(var r in e)n[r]=t.extend(!0,{},e[r][i])}(n(a)||n(u)||n(s))&&(r(a,i,d),r(u,l,e),r(s,o,p),h.iHistory.push({callback:f}))}}},refreshStop:function(){this._stop=!0},refresh:function(){this.that.refresh(),this._stop=!1},setAPS:function(t,e,n){var i,r,o,a=this,s=a.that,c="pq_cell"+n,l="pq_row"+n,u="attr"==n,h=a.history(n),d=function(e,n,i){(null!=i||e[c])&&(o=(o=e[c]=e[c]||{})[n]=o[n]||{})[t]!=i&&(h.add(e,null,!0),o[t]=i)};a.each(function(c,p,f,g,m,v){i="row"==g,!(r="column"==g)&&!i||u?d(c,p,e):(r?(a.addProp(f),o=f[n]=f[n]||{}):o=c[l]=c[l]||{},o[t]!=e&&(r?h.add(null,f):h.add(c),o[t]=e),s.Range(r?{c1:v,c2:v}:{r1:m,r2:m},!1).each(function(n,i){var o;r&&null!=(n[l]||{})[t]&&(o=e),d(n,i,o)},!0))},u),h.push(),a._stop||a.refresh()},addProp:function(t){t.prop=t.prop||{get align(){return t.align},set align(e){t.align=e},get valign(){return t.valign},set valign(e){t.valign=e},get edit(){return t.editable},set edit(e){t.editable=e}}},setAttr:function(t,e){this.setAPS(t,e,"attr")},setStyle:function(t,e){this.setAPS(t,e,"style")},setProp:function(t,e){this.setAPS(t,e,"prop")},clear:function(){return this.copy({copy:!1,cut:!0,source:"clear"})},clearOther:function(t){var e,n=this._normal(t,!0),i=this.address();for(e=i.length-1;e>=0;e--){var r=i[e];r.r1==n.r1&&r.c1==n.c1&&r.r2==n.r2&&r.c2==n.c2||i.splice(e,1)}},clone:function(){return this.that.Range(this._areas)},_cellAttr:function(t,e){var n=t.pq_cellattr=t.pq_cellattr||{};return n[e]=n[e]||{}},comment:function(t){return this.attr("title",t)},pic:function(t,e,n){var i=this.that.Pic(),r=0,o=0;this.each(function(t,e,n,i,a,s){return r=a,o=s,!1}),pq.fileToBase(t,function(a){i.add(i.name(t.name),a,[o,e||0,r,n||0])})},_copyArea:function(t,e,n,i,r,o,a,s,c,l,u,h){var d,p,f,g,m,v,b,_,y=this.that,C=y.readCell,x=this.getRenderVal,w=y.iMerge,M=[],O=[],P=y.riOffset,k=y.iRenderB;for(m=n;i>=m;m++)M[m]=!(_=(b=r[m]).dataType)||"string"==_||"html"==_,h&&O.push(this.getTitle(b,m));for(h&&o.push(O.join("\t")||" "),g=t;e>=g;g++){var A=s[g],T={},S={},E={rowIndx:g,rowIndxPage:g-P,rowData:A,Export:!0,exportClip:!0};for(O=[],m=n;i>=m;m++)v=(b=r[m]).dataIndx,!1!==b.copy&&(d=A[v],l&&((p=C(A,b,w,g,m))===d&&(E.colIndx=m,E.column=b,E.dataIndx=v,p=x(E,u,k)[0],M[m]&&/(\r|\n)/.test(p)&&(p=this.newLine(p))),O.push(p)),c&&void 0!==d&&(T[v]=void 0,S[v]=d));c&&a.push({rowIndx:g,rowData:A,oldRow:S,newRow:T}),f=O.join("\t"),o.push(f||" ")}},copy:function(t){var e,n,i,r=this.that,o=(t=t||{}).dest,a=!!t.cut,s=null==t.copy||t.copy,c=t.source||(a?"cut":"copy"),l=t.history,u=t.allowInvalid,h=[],d=[],p=r.get_p_data(),f=r.colModel,g=t.render,m=t.header,v=r.options.copyModel,b=this.address();if(l=null==l||l,u=null==u||u,g=null==g?v.render:g,m=null==m?v.header:m,b.length){if(b.forEach(function(t){this._copyArea(n=t.r1,"cell"===(e=t.type)?n:t.r2,i=t.c1,"cell"===e?i:t.c2,f,d,h,p,a,s,g,m)},this),s){var _=d.join("\n");if(t.clip){var y=t.clip;y.val(_),y.select()}else r._setGlobalStr(_)}o?r.paste({dest:o,rowList:h,history:l,allowInvalid:u}):a&&!1!==r._digestData({updateList:h,source:c,history:l,allowInvalid:u})&&r.refresh({source:c,header:!1})}},_countArea:function(t){var e=t.type;return"cell"===e?1:"row"===e?0:(t.r2-t.r1+1)*(t.c2-t.c1+1)},count:function(){for(var t="range"===this._type,e=this.address(),n=0,i=e.length,r=0;i>r;r++)n+=t?this._countArea(e[r]):1;return n},cut:function(t){return(t=t||{}).cut=!0,this.copy(t)},each:function(t,e){for(var n=this.that,i=n.colModel,r=this._areas,o=0,a=n.pdata;o<r.length;o++)for(var s,c,l,u=r[o],h=u.r1,d=u.r2,p=u.c2,f=u.type,g="column"==f,m="row"==f;d>=h;h++){if(s=a[h])for(c=0>(c=u.c1)?0:c;p>=c;c++){if(!1===t(s,(l=i[c]).dataIndx,l,f,h,c))return;if(m&&!e)break}if(g&&!e)break}},enable:function(t){return null==(t=this.prop("edit",t))||t},getAPS:function(t,e){var n,i,r,o,a=this;return a.each(function(s,c,l){return a.addProp(l),o=(s["pq_row"+e]||{})[t],n=(l[e]||{})[t],i=null==(r=((r=(s["pq_cell"+e]||{})[c])||{})[t])?null==o?n:o:r,!1}),i},getAttr:function(t){return this.getAPS(t,"attr")},getProp:function(t){return this.getAPS(t,"prop")},getStyle:function(t){return this.getAPS(t,"style")},getIndx:function(t){return null==t?this._areas.length-1:t},getValue:function(){var t,e,n,i,r,o,a,s,c,l=this.address(),u=[],h=this.that;if(l.length){for(n=(t=l[0]).r1,i=t.c1,r=t.r2,o=t.c2,c=h.get_p_data(),a=n;r>=a;a++)for(e=c[a],s=i;o>=s;s++)u.push(e[h.colModel[s].dataIndx]);return u}},indexOf:function(t){for(var e,n=(t=this._normal(t)).r1,i=t.c1,r=t.r2,o=t.c2,a=this.address(),s=0,c=a.length;c>s;s++)if(n>=(e=a[s]).r1&&r<=e.r2&&i>=e.c1&&o<=e.c2)return s;return-1},index:function(t){for(var e,n=(t=this._normal(t)).type,i=t.r1,r=t.c1,o=t.r2,a=t.c2,s=this.address(),c=0,l=s.length;l>c;c++)if(n===(e=s[c]).type&&i===e.r1&&o===e.r2&&r===e.c1&&a===e.c2)return c;return-1},init:function(t,e){if(e=!1!==e,t)if("function"==typeof t.push)for(var n=0,i=t.length;i>n;n++)this.init(t[n],e);else{var r=this._normal(t,e),o=this._areas=this._areas||[];r&&o.push(r)}},merge:function(t){t=t||{};var e,n,i=this.that,r=i.options.mergeCells,o=this._areas[0];o&&(n=o.c2-o.c1+1,((e=o.r2-o.r1+1)>1||n>1)&&(o.rc=e,o.cc=n,r.push(o),!1!==t.refresh&&i.refreshView()))},newLine:function(t){return'"'+t.replace(/"/g,'""')+'"'},replace:function(t,e){var n=this._normal(t),i=this._areas,r=this.getIndx(e);i.splice(r,1,n)},remove:function(t){var e=this._areas,n=this.indexOf(t);n>=0&&e.splice(n,1)},resize:function(t,e){var n=this._normal(t),i=this._areas[this.getIndx(e)];return["r1","c1","r2","c2","rc","cc","type"].forEach(function(t){i[t]=n[t]}),this},rows:function(t){var e=this.that,n=[],i=this.addressLast();if(i)for(var r=i.r1,o=i.c1,a=i.c2,s=i.type,c=null==t?i.r2:r+t,l=null==t?r:r+t;c>=l;l++)n.push({r1:l,c1:o,r2:l,c2:a,type:s});return pq.Range(e,n,"row")},_normal:function(t,e){if(t.type)return t;var n;if("function"==typeof t.push){n=[];for(var i=0,r=t.length;r>i;i++){var o=this._normal(t[i],e);o&&n.push(o)}return n}var a,s,c=this.that,l=c.get_p_data().length-1,u=c.colModel.length-1,h=(h=t.r1)>l?l:h,d=(d=t.c1)>u?u:d,p=t.rc,f=t.cc,g=t.r2,m=t.c2;return null==g&&null==p&&null==m&&null==f&&(p=1,f=1),p=(g=(g=p?h+p-1:g)>l?l:g)-h+1,f=(m=(m=f?d+f-1:m)>u?u:m)-d+1,0>u||0>l?null:(h>g&&(a=h,h=g,g=a),d>m&&(a=d,d=m,m=a),null!=h||null!=d?(null==h?(h=0,g=l,m=null==m?d:m,s="column"):null==d?(d=0,g=null==g?h:g,m=u,s=t._type||"row"):null==g||h==g&&d==m?(s="cell",g=h,m=d):s="block",!e||"block"!=s&&"cell"!=s||(h=(n=c.iMerge.inflateRange(h,d,g,m))[0],d=n[1],g=n[2],m=n[3]),t.r1=h,t.c1=d,t.r2=g,t.c2=m,t.rc=p,t.cc=f,t.type=t.type||s,t):void 0)},select:function(){var t=this.that.iSelection,e=this._areas;return e.length&&(t.removeAll({trigger:!1}),e.forEach(function(e){t.add(e,!1)}),t.trigger()),this},style:function(t,e){return this._prop(t,e,"Style")},_prop:function(t,e,n){return this[(null!=e?"set":"get")+n](t,e)},attr:function(t,e){return this._prop(t,e,"Attr")},prop:function(t,e){return this._prop(t,e,"Prop")},toggleStyle:function(t,e){var n=this.getStyle(t);this.style(t,n&&n!=e[1]?e[1]:e[0])},unmerge:function(t){t=t||{};var e=this.that,n=e.options.mergeCells,i=this._areas[0];if(i){for(var r=0;r<n.length;r++){var o=n[r];if(o.r1===i.r1&&o.c1===i.c1){n.splice(r,1);break}}!1!==t.refresh&&e.refreshView()}},align:function(t){return this.prop("align",t)},valign:function(t){return this.prop("valign",t)},value:function(t){var e,n,i,r,o=0,a=this.that,s=a.colModel,c=[],l=this.address();if(void 0===t)return this.getValue();for(var u=0;u<l.length;u++){n=(e=l[u]).c1,i=e.r2,r=e.c2;for(var h=e.r1;i>=h;h++){for(var d=a.normalize({rowIndx:h}),p=d.rowData,f=d.rowIndx,g={},m={},v=n;r>=v;v++){var b=s[v].dataIndx;m[b]=t[o++],g[b]=p[b]}c.push({rowData:p,rowIndx:f,newRow:m,oldRow:g})}}return c.length&&(a._digestData({updateList:c,source:"range"}),a.refresh({header:!1})),this},val2D:function(){var t,e=[],n=this.that,i={};for(t in this._areas.forEach(function(t){for(var e,r=t.c1,o=t.c2,a=t.r1;a<=t.r2;a++)e=n.Range({r1:a,rc:1,c1:r,c2:o}).value(),i[a]=i[a]?i[a].concat(e):e}),i)e.push(i[t]);return e}},pq.mixin.render);var i=pq.Selection=function(e,n){if(null==e)throw"invalid param";return this instanceof i==0?new i(e,n):(this._areas=[],this.that=e,this.iCells=new t.paramquery.cCells(e),void this._base(e,n))};pq.extend(n,i,{add:function(t,e){var n=this._normal(t,!0),i=this.iCells;this.indexOf(n)>=0||(i.addBlock(n),this._super(n),!1!==e&&this.trigger())},clearOther:function(t){var e=this.iCells,n=this._normal(t,!0);this.address().forEach(function(t){t.r1==n.r1&&t.c1==n.c1&&t.r2==n.r2&&t.c2==n.c2||e.removeBlock(t)}),this._super(n),this.trigger()},getSelection:function(){return this.iCells.getSelection()},isSelected:function(t){return this.iCells.isSelected(t)},removeAll:function(t){t=t||{},this._areas.length&&(this.iCells.removeAll(),this._areas=[],!1!==t.trigger&&this.trigger())},resizeOrReplace:function(t,e){this.resize(t,e)||this.replace(t,e)},replace:function(t,e){var n=this.iCells,i=this._normal(t),r=this._areas,o=this.getIndx(e);n.removeBlock(r[o]),n.addBlock(i),this._super(i,o),this.trigger()},resize:function(t,e){var n=this._normal(t,!0),i=n.r1,r=n.c1,o=n.r2,a=n.c2,s=this._areas||[];if(!s.length)return!1;var c=s[this.getIndx(e)],l=c.r1,u=c.c1,h=c.r2,d=c.c2;return!(l!==i||u!==r||l!==i||d!==a||h!==o||u!==r||h!==o||d!==a)||void 0},selectAll:function(t){var e=(t=t||{}).type,n=this.that,i=n.colModel,r=t.all,o=r?0:n.riOffset,a=o+(r?n.get_p_data().length:n.pdata.length)-1;return n.Range("row"===e?{r1:o,r2:a}:{c1:0,c2:i.length-1,_type:"column",r1:0,r2:a}).select(),this},trigger:function(){var t=this.that;t._trigger("selectChange",null,{selection:this}),t.off("mousePQUp",e),t.off("keyUp",e),t.on("mousePQUp",e),t.on("keyUp",e)}})}(jQuery),function(t){var e=t.paramquery;t.widget("paramquery.pqToolbar",{options:{items:[],gridInstance:null,events:{button:"click",select:"change",checkbox:"change",textbox:"change",textarea:"change",file:"change"}},_create:function(){var n,i=this.options,r=i.gridInstance,o=i.events,a=i.bootstrap,s=a.on,c=r.colModel,l=r.options.filterModel.timeout,u=i.items,h=this.element,d=0,p=u.length;for(h.addClass("pq-toolbar");p>d;d++){var f,g,m,v,b=u[d],_=b.type,y=b.value,C=b.icon,x=b.options||{},w=b.label,M=b.init,O=(O=(v=b.listener)?[v]:b.listeners)||[function(){}],P=b.cls||"",k=(P=(P=s&&"button"==_?a.btn+" "+P:P)?"class='"+P+"'":"",b.style),A=k?"style='"+k+"'":"",T=b.attr||"",S=w?"<label "+A+">"+w:"",E=w?"</label>":"",I=(I=w&&"button"!=_&&"file"!=_?[P,T]:[P,T,A]).join(" ");if(b.options=x,"textbox"==_)g=t([S,"<input type='text' "+I+">",E].join(""));else if("textarea"==_)g=t([S,"<textarea "+I+"></textarea>",E].join(""));else if("select"==_)"function"==typeof x&&(x=x.call(r,{colModel:c})),f=e.select({options:x=x||[],attr:I,prepend:b.prepend,groupIndx:b.groupIndx,valueIndx:b.valueIndx,labelIndx:b.labelIndx}),g=t([S,f,E].join(""));else if("file"==_)g=t(["<label class='ui-button ui-widget ui-state-default ui-corner-all "+(P=C&&w?"ui-button-text-icon-primary":C?"ui-button-icon-only":"ui-button-text-only")+"' "+T+" "+A+">","<input type='file' style='display:none;' "+(b.attrFile||"")+">",C?"<span class='ui-button-icon-primary ui-icon "+C+"'></span>":"","<span class='ui-button-text'>"+(w||"")+"</span>","</label>"].join(""));else if("checkbox"==_)g=t([w?"<label "+A+">":"","<input type='checkbox' ",y?"checked='checked' ":"",I,">",w?w+"</label>":""].join(""));else if("separator"==_)g=t("<span class='pq-separator' "+[T,A].join(" ")+"></span>");else if("button"==_){var R="";s&&(R=C?"<span class='glyphicon "+C+"'></span>":""),g=t("<button type='button' "+I+">"+R+w+"</button>"),t.extend(x,{label:w||!1,icon:C,icons:{primary:s?"":C}}),g.button(x)}else"string"==typeof _?g=t(_):"function"==typeof _&&(f=_.call(r,{colModel:c,cls:P}),g=t(f));g.appendTo(h),M&&M.call(r,g[0]),m=this.getInner(g,w,_),"checkbox"!==_&&void 0!==y&&m.val(y);for(var D=0,N=O.length;N>D;D++){v=O[D];var L={};for(n in"function"==typeof v?L[o[_]]=v:L=v,L)pq.fakeEvent(m,n,l),m.on(n,this._onEvent(r,L[n],b))}}}}),t.extend(e.pqToolbar.prototype,{getInner:function(e,n,i){var r=e[0];return"LABEL"==r.nodeName.toUpperCase()?t(r.children[0]):e},refresh:function(){this.element.empty(),this._create()},_onEvent:function(e,n,i){return function(r){var o=i.type;i.value="checkbox"==o?t(r.target).prop("checked"):t(r.target).val(),n.call(e,r),"file"==o&&t(this).val("")}},_destroy:function(){this.element.empty().removeClass("pq-toolbar").enableSelection()},_disable:function(){null==this.$disable&&(this.$disable=t("<div class='pq-grid-disable'></div>").css("opacity",.2).appendTo(this.element))},_enable:function(){this.$disable&&(this.element[0].removeChild(this.$disable[0]),this.$disable=null)},_setOption:function(t,e){"disabled"==t&&(1==e?this._disable():this._enable())}}),pq.toolbar=function(e,n){var i=t(e).pqToolbar(n);return i.data("paramqueryPqToolbar")||i.data("paramquery-pqToolbar")}}(jQuery),function(t){var e=t.paramquery,n=e.pqGrid.prototype;n.options.trackModel={on:!1,dirtyClass:"pq-cell-dirty"},e.cUCData=function(t){this.that=t,this.udata=[],this.ddata=[],this.adata=[],this.options=t.options,t.on("dataAvailable",this.onDA(this))},e.cUCData.prototype={add:function(t){for(var e=this.that,n=this.adata,i=this.ddata,r=t.rowData,o=this.options.trackModel.dirtyClass,a=e.getRecId({rowData:r}),s=0,c=n.length;c>s;s++){var l=n[s];if(null!=a&&l.recId==a)throw"primary key violation";if(l.rowData==r)throw"same data can't be added twice."}for(s=0,c=i.length;c>s;s++)if(r==i[s].rowData)return void i.splice(s,1);var u=[];for(var h in r)u.push(h);e.removeClass({rowData:r,dataIndx:u,cls:o}),n.push(t={recId:a,rowData:r})},commit:function(t){var e=this.that;if(null==t)this.commitAddAll(),this.commitUpdateAll(),this.commitDeleteAll();else{var n=t.history,i=[],r=e.options.dataModel.recIndx,o=t.type,a=t.rows;n=null!=n&&n,"add"==o?a?i=this.commitAdd(a,r):this.commitAddAll():"update"==o?a?this.commitUpdate(a,r):this.commitUpdateAll():"delete"==o&&(a?this.commitDelete(a,r):this.commitDeleteAll()),i.length&&(e._digestData({source:"commit",checkEditable:!1,track:!1,history:n,updateList:i}),e.refreshView({header:!1}))}},commitAdd:function(e,n){var i,r,o,a,s,c,l=this.that,u=l.colModel,h=u.length,d=this.adata,p=t.inArray,f=d.length,g=l.getValueFromDataType,m=[],v=e.length,b=[];for(r=0;v>r;r++)for(s=e[r],i=0;f>i;i++)if(c=!0,-1==p(a=d[i].rowData,b)){for(o=0;h>o;o++){var _=u[o],y=_.dataType,C=_.dataIndx;if(!_.hidden&&C!=n&&g(a[C],y)!==g(s[C],y)){c=!1;break}}if(c){var x={},w={};x[n]=s[n],w[n]=a[n],m.push({rowData:a,oldRow:w,newRow:x}),b.push(a);break}}var M=[];for(i=0;f>i;i++)-1==p(a=d[i].rowData,b)&&M.push(d[i]);return this.adata=M,m},commitDelete:function(t,e){for(var n,i,r,o,a=this.ddata,s=a.length,c=this.udata;s--&&(i=(n=a[s].rowData)[e],r=t.length);)for(;r--;)if(i==t[r][e]){for(t.splice(r,1),a.splice(s,1),o=c.length;o--;)c[o].rowData==n&&c.splice(o,1);break}},commitUpdate:function(e,n){var i,r,o=this.that,a=this.options.trackModel.dirtyClass,s=this.udata,c=s.length,l=e.length,u=[];for(i=0;c>i;i++){var h=s[i],d=h.rowData,p=h.oldRow;if(-1==t.inArray(d,u))for(r=0;l>r;r++)if(d[n]==e[r][n])for(var f in u.push(d),p)o.removeClass({rowData:d,dataIndx:f,cls:a})}var g=[];for(i=0;c>i;i++)-1==t.inArray(d=s[i].rowData,u)&&g.push(s[i]);this.udata=g},commitAddAll:function(){this.adata=[]},commitDeleteAll:function(){for(var t,e=this.ddata,n=this.udata,i=n.length,r=e.length,o=0;i>0&&r>o;o++){for(t=e[o].rowData;i--;)n[i].rowData==t&&n.splice(i,1);i=n.length}e.length=0},commitUpdateAll:function(){for(var t=this.that,e=this.options.trackModel.dirtyClass,n=this.udata,i=0,r=n.length;r>i;i++){var o=n[i],a=o.oldRow,s=o.rowData;for(var c in a)t.removeClass({rowData:s,dataIndx:c,cls:e})}this.udata=[]},delete:function(t){for(var e=this.that,n=t.rowIndxPage,i=e.riOffset,r=null==(r=t.rowIndx)?n+i:r,o=(n=null==n?r-i:n,"remote"==e.options.pageModel.type?n:r),a=this.adata,s=this.ddata,c=e.getRowData(t),l=0,u=a.length;u>l;l++)if(a[l].rowData==c)return void a.splice(l,1);s.push({indx:o,rowData:c,rowIndx:r})},getChangesValue:function(e){for(var n=this.that,i=(e=e||{}).all,r=this.udata,o=this.adata,a=this.ddata,s=[],c=[],l=[],u=[],h=[],d=[],p=0,f=a.length;f>p;p++){var g=(_=a[p]).rowData,m={};for(var v in h.push(g),g)0!=v.indexOf("pq_")&&(m[v]=g[v]);d.push(m)}for(p=0,f=r.length;f>p;p++){var b=(_=r[p]).oldRow;if(-1==t.inArray(g=_.rowData,h)&&-1==t.inArray(g,s)){if(m={},!1!==i)for(var v in g)0!=v.indexOf("pq_")&&(m[v]=g[v]);else{for(var v in b)m[v]=g[v];m[n.options.dataModel.recIndx]=_.recId}s.push(g),c.push(m),l.push(b)}}for(p=0,f=o.length;f>p;p++){var _;for(var v in m={},g=(_=o[p]).rowData)0!=v.indexOf("pq_")&&(m[v]=g[v]);u.push(m)}return{updateList:c,addList:u,deleteList:d,oldList:l}},getChanges:function(){for(var e=this.udata,n=this.adata,i=this.ddata,r=t.inArray,o=[],a=[],s=[],c=[],l=0,u=i.length;u>l;l++)c.push(p=(d=i[l]).rowData);for(l=0,u=e.length;u>l;l++){var h=(d=e[l]).oldRow;-1==r(p=d.rowData,c)&&-1==r(p,o)&&(o.push(p),a.push(h))}for(l=0,u=n.length;u>l;l++){var d,p;s.push(p=(d=n[l]).rowData)}return{updateList:o,addList:s,deleteList:c,oldList:a}},getChangesRaw:function(){var t=this.adata,e=this.ddata,n={updateList:[],addList:[],deleteList:[]};return n.updateList=this.udata,n.addList=t,n.deleteList=e,n},isDirty:function(t){var e=this.udata,n=this.adata,i=this.ddata,r=!1,o=this.that.getRowData(t);if(o){for(var a=0;a<e.length;a++)if(o==e[a].rowData){r=!0;break}}else(e.length||n.length||i.length)&&(r=!0);return r},onDA:function(t){return function(e,n){"filter"!=n.source&&(t.udata=[],t.ddata=[],t.adata=[])}},rollbackAdd:function(t,e){for(var n=this.adata,i=[],r=0,o=n.length;o>r;r++)i.push({type:"delete",rowData:n[r].rowData});return this.adata=[],i},rollbackDelete:function(t,e){for(var n=this.ddata,i=[],r=n.length-1;r>=0;r--){var o=n[r];i.push({type:"add",rowIndx:o.rowIndx,newRow:o.rowData})}return this.ddata=[],i},rollbackUpdate:function(t,e){for(var n=this.that,i=this.options.trackModel.dirtyClass,r=this.udata,o=[],a=0,s=r.length;s>a;a++){var c=r[a],l=c.rowData,u={},h=c.oldRow;if(null!=c.recId){var d=[];for(var p in h)u[p]=l[p],d.push(p);n.removeClass({rowData:l,dataIndx:d,cls:i,refresh:!1}),o.push({type:"update",rowData:l,newRow:h,oldRow:u})}}return this.udata=[],o},rollback:function(t){var e=this.that,n=e.options.pageModel,i=!t||null==t.refresh||t.refresh,r=t&&null!=t.type?t.type:null,o=[],a=[],s=[],c=e.options.dataModel.data;null!=r&&"update"!=r||(a=this.rollbackUpdate(n,c)),null!=r&&"delete"!=r||(o=this.rollbackDelete(n,c)),null!=r&&"add"!=r||(s=this.rollbackAdd(n,c)),e._digestData({history:!1,allowInvalid:!0,checkEditable:!1,source:"rollback",track:!1,addList:o,updateList:a,deleteList:s}),i&&e.refreshView({header:!1})},update:function(e){var n=this.that,i=this.options.trackModel.dirtyClass,r=e.rowData||n.getRowData(e),o=n.getRecId({rowData:r}),a=e.dataIndx,s=e.refresh,c=n.columns,l=n.getValueFromDataType,u=e.row,h=this.udata,d=h.slice(0),p=!1;if(null!=o){for(var f=0,g=h.length;g>f;f++){var m=h[f],v=m.oldRow;if(m.rowData==r){for(var a in p=!0,u){var b=c[a].dataType,_=l(_=u[a],b),y=l(y=v[a],b);v.hasOwnProperty(a)&&y===_?(n.removeClass({rowData:r,dataIndx:a,refresh:s,cls:i}),delete v[a]):(n.addClass({rowData:r,dataIndx:a,refresh:s,cls:i}),v.hasOwnProperty(a)||(v[a]=r[a]))}t.isEmptyObject(v)&&d.splice(f,1);break}}if(!p){for(var a in v={},u)v[a]=r[a],n.addClass({rowData:r,dataIndx:a,refresh:s,cls:i});d.push({rowData:r,recId:o,oldRow:v})}this.udata=d}}},n.getChanges=function(t){if(this.blurEditor({force:!0}),t){var e=t.format;if(e){if("byVal"==e)return this.iUCData.getChangesValue(t);if("raw"==e)return this.iUCData.getChangesRaw()}}return this.iUCData.getChanges()},n.rollback=function(t){this.blurEditor({force:!0}),this.iUCData.rollback(t)},n.isDirty=function(t){return this.iUCData.isDirty(t)},n.commit=function(t){this.iUCData.commit(t)},n.updateRow=function(t){var e,n=this,i=[];if(n.normalizeList(t.rowList||[{rowIndx:t.rowIndx,newRow:t.newRow||t.row,rowData:t.rowData,rowIndxPage:t.rowIndxPage}]).forEach(function(t){var e,n=t.newRow,r=t.rowData,o=t.oldRow={};if(r){for(e in n)o[e]=r[e];i.push(t)}}),i.length){var r,o,a,s={source:t.source||"update",history:t.history,checkEditable:t.checkEditable,track:t.track,allowInvalid:t.allowInvalid,updateList:i};if(!1===n._digestData(s))return!1;!1!==t.refresh&&((e=(i=s.updateList).length)>1?n.refresh({header:!1}):1==e&&(r=i[0],o=Object.keys(r.newRow),a=r.rowIndx,o.length<=3?o.forEach(function(t){n.refreshCell({rowIndx:a,dataIndx:t})}):n.refreshRow({rowIndx:a})))}},n.getRecId=function(t){t.dataIndx=this.options.dataModel.recIndx;var e=this.getCellData(t);return null==e?null:e},n.getCellData=function(t){var e=t.rowData||this.getRowData(t);return e?e[t.dataIndx]:null},n.getRowData=function(t){if(!t)return null;var e,n=t.rowData;if(null!=n)return n;if(null==(e=t.recId)){var i=null!=(i=t.rowIndx)?i:t.rowIndxPage+this.riOffset;return this.get_p_data()[i]}for(var r=this.options.dataModel,o=r.recIndx,a=r.data,s=0,c=a.length;c>s;s++){var l;if((l=a[s])[o]==e)return l}return null},n.addNodes=function(t,e){e=null==e?this.options.dataModel.data.length:e,this._digestData({addList:t.map(function(t){return{rowIndx:e++,newRow:t}}),source:"addNodes"}),this.refreshView()},n.deleteNodes=function(t){this._digestData({deleteList:t.map(function(t){return{rowData:t}}),source:"deleteNodes"}),this.refreshView()},n.moveNodes=function(t,e){var n=this,i=n.options,r=n.riOffset,o=i.dataModel.data;e=null==e?o.length:e,n._trigger("beforeMoveNode"),t.forEach(function(t){e=pq.moveItem(t,o,o.indexOf(t),e)}),o!=n.pdata&&(n.pdata=o.slice(r,i.pageModel.rPP+r)),n.iRefresh.addRowIndx(),n.iMerge.init(),n._trigger("moveNode",null,{args:arguments}),n.refresh()},n.deleteRow=function(t){var e=this.normalizeList(t.rowList||[{rowIndx:t.rowIndx,rowIndxPage:t.rowIndxPage,rowData:t.rowData}]);return!!e.length&&(this._digestData({source:t.source||"delete",history:t.history,track:t.track,deleteList:e}),void(!1!==t.refresh&&this.refreshView({header:!1})))},n.addRow=function(t){var e,n,i=this.riOffset,r=this.options.dataModel,o=r.data=r.data||[];return t.rowData&&(t.newRow=t.rowData),null!=t.rowIndxPage&&(t.rowIndx=t.rowIndxPage+i),!(!(n=t.rowList||[{rowIndx:t.rowIndx,newRow:t.newRow}]).length||!1===this._digestData({source:t.source||"add",history:t.history,track:t.track,checkEditable:t.checkEditable,addList:n}))&&(!1!==t.refresh&&this.refreshView({header:!1}),null==(e=n[0].rowIndx)?o.length-1:e)}}(jQuery),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,10)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)},function(t){function e(t){var e=this;e.that=t,t.on("mousePQUp",e.onMousePQUp.bind(e)).on("cellClick",e.onCellClick.bind(e)).on("cellMouseDown",e.onCellMouseDown.bind(e)).on("cellMouseEnter",e.onCellMouseEnter.bind(e)).on("refresh refreshRow",e.onRefresh.bind(e))}var n=t.paramquery;n.cMouseSelection=e,e.prototype=t.extend({onCellMouseDown:function(t,e){if(!t.isDefaultPrevented()){var n=this.that,i=e.rowIndx,r=n.iSelection,o=e.colIndx,a=n.options.selectionModel,s=a.type,c=a.mode,l=r.addressLast();if("cell"==s){if(null==o)return;if(-1==o){if(!a.row)return;o=void 0}if(t.shiftKey&&"single"!==c&&l&&null!=l.firstR){var u=l.firstR,h=l.firstC;r.resizeOrReplace({r1:u,c1:h,r2:i,c2:o,firstR:u,firstC:h})}else pq.isCtrl(t)&&"single"!==c?(this.mousedown={r1:i,c1:o},r.add({r1:i,c1:o,firstR:i,firstC:o})):(this.mousedown={r1:i,c1:o},null==o?r.resizeOrReplace({r1:i,rc:1,firstR:i,firstC:n.getLastVisibleCI()}):(r.clearOther({r1:i,c1:o}),r.resizeOrReplace({r1:i,c1:o,firstR:i,firstC:o})))}n[-1==e.colIndx?"focusT":"focus"](e)}},onCellMouseEnter:function(t,e){var n=this.that,i=n.options.selectionModel,r=this.mousedown;if(r&&"single"!==i.mode){if("cell"===i.type){var o=r.r1,a=r.c1,s=e.rowIndx,c=e.colIndx,l=n.Selection();n.scrollCell({rowIndx:s,colIndx:c}),l.resizeOrReplace({r1:o,c1:a,r2:s,c2:c})}n.focusT(e)}},onCellClick:function(t,e){var n,i=this.that,r=i.options.selectionModel,o="single"==r.mode,a=r.toggle,s=i.iRows;if("row"==r.type){if(!r.row&&-1==e.colIndx)return;n=s.isSelected(e),o&&!n||a||!pq.isCtrl(t)?!o&&t.shiftKey?s.extend(e):!o||n&&a?(e.isFirst=!0,s[a?"toggle":"replace"](e)):n||s.replace(e):(e.isFirst=!0,s.toggle(e))}},onMousePQUp:function(){this.mousedown=null},onRefresh:function(){var t=this.that;this.setTimer(function(){t.element&&t.focus()},300)}},new n.cClass)}(jQuery),function(t){var e=null,n=!1,i="pq-grid-excel",r=t.paramquery,o=r.pqGrid.prototype;t.extend(o.options,{copyModel:{on:!0,render:!1,zIndex:1e4},cutModel:{on:!0},pasteModel:{on:!0,compare:"byVal",select:!0,validate:!0,allowInvalid:!0,type:"replace"}}),t.extend(o,{_setGlobalStr:function(t){a.clip=t},canPaste:function(){return!!r.cExcel.clip},clearPaste:function(){r.cExcel.clip=""},copy:function(t){return this.iSelection.copy(t)},cut:function(t){return this.iSelection.cut(t)},paste:function(t){(e=new a(this)).paste(t),e=null},clear:function(){var t=this.iSelection;t.address().length?t.clear():this.iRows.toRange().clear()}});var a=r.cExcel=function(t){this.that=t};a.clip="",a.prototype={createClipBoard:function(){var e=this.that,n=t("#pq-grid-excel-div"),r=e.options.copyModel,o=t("#"+i);0==o.length&&(n=t("<div id='pq-grid-excel-div'  style='position:fixed;top:20px;left:20px;height:1px;width:1px;overflow:hidden;z-index:"+r.zIndex+";'/>").appendTo(document.body),(o=t("<textarea id='"+i+"' autocomplete='off' spellcheck='false' style='overflow:hidden;height:10000px;width:10000px;opacity:0' />").appendTo(n)).css({opacity:0}).on("keyup",function(t){pq.isCtrl(t)&&e.element&&e._trigger("keyUp",t)})),o.on("focusin",function(t){t.stopPropagation()}),o.select()},destroyClipBoard:function(){this.clearClipBoard();var e=this.that,n=t(window).scrollTop(),i=t(window).scrollLeft();e.focus();var r=t(window).scrollTop(),o=t(window).scrollLeft();n==r&&i==o||window.scrollTo(i,n)},clearClipBoard:function(){t("#"+i).val("")},copy:function(t){var e=this.that,n=e.iSelection;return n.address().length?n.copy(t):void e.iRows.toRange().copy(t)},getRows:function(t){return(t=(t=t.replace(/\n$/,"")).replace(/(^|\t|\n)"(?=[^\t]*?[\r\n])([^"]|"")*"(?=$|\t|\n)/g,function(t){return t.replace(/(\r\n|\n)/g,"\r").replace(/^(\t|\n)?"/,"$1").replace(/"$/,"").replace(/""/g,'"')})).split("\n")},paste:function(e){var n=this.that,i=(e=e||{}).dest,r=e.clip,o=e.text||(r?r.length?r.val():"":a.clip),s=this.getRows(o),c=s.length,l=n.colModel,u=n.readCell,h=n.options.pasteModel,d="row",p=!1,f=l.length;if(h.on&&0!=o.length&&0!=c){for(var g=0;c>g;g++)s[g]=s[g].split("\t");var m,v,b,_,y,C,x=h.type,w=(i?n.Range(i):n.Selection()).address(),M=(w.length?w:n.iRows.toRange().address())[0],O={rows:s,areas:[M]};if(!1===n._trigger("beforePaste",null,O))return!1;M&&n.getRowData({rowIndx:M.r1})?(d="row"==M.type?"row":"cell",m=M.r1,b=M.r2,v=M.c1,_=M.c2):(d="cell",m=0,b=0,v=0,_=0),"replace"==x?(y=m,C=c>b-m+1?"extend":"repeat"):"append"==x?(y=b+1,C="extend"):"prepend"==x&&(y=m,C="extend");var P,k,A,T="extend"==C?c:b-m+1,S=0,E=[],I=[],R=0;for(g=0;T>g;g++){var D=s[S],N=g+y,L="replace"==x?n.getRowData({rowIndx:N}):null,z=L?{}:null,j={};void 0===D&&"repeat"===C&&(D=s[S=0]),S++;var F=D,q=F.length;if(!k)if("cell"==d){if(k="extend"==(P=q>_-v+1?"extend":"repeat")?q:_-v+1,isNaN(k))throw"lenH NaN. assert failed.";k+v>f&&(k=f-v)}else k=f,v=0;var B=0,U=0,H=0;for(A=k,U=0;A>U;U++){B>=q&&(B=0);var V=l[U+v],W=F[B],G=V.dataIndx;!1!==V.copy?(B++,j[G]=W,z&&(z[G]=u(L,V))):(H++,"extend"==P&&f>A+v&&A++)}0==t.isEmptyObject(j)&&(null==L?(p=!0,E.push({newRow:j,rowIndx:N})):I.push({newRow:j,rowIndx:N,rowData:L,oldRow:z}),R++)}n._digestData({addList:E,updateList:I,source:"paste",allowInvalid:h.allowInvalid,validate:h.validate}),n[p?"refreshView":"refresh"]({header:!1}),h.select&&n.Range({r1:y,c1:v,r2:y+R-1,c2:"extend"==P?v+k-1+H:_}).select(),n._trigger("paste",null,O)}}},t(document).unbind(".pqExcel").bind("keydown.pqExcel",function(r){if(pq.isCtrl(r)){var o=t(r.target);if(!o.hasClass("pq-grid-cell")&&!o.is("#"+i)&&!o.hasClass("pq-body-outer"))return;var c,l=o.closest(".pq-grid");if(e||o.length&&l.length){if(!e){try{if((c=l.pqGrid("instance")).options.selectionModel.native)return!0}catch(p){return!0}(e=new a(c,o)).createClipBoard()}if("67"==r.keyCode||"99"==r.keyCode)e.copy({clip:t("#"+i)});else if("88"==r.keyCode)e.copy({cut:!0,clip:t("#"+i)});else if("86"==r.keyCode||"118"==r.keyCode)n=!0,e.clearClipBoard(),window.setTimeout(function(){e&&(e.paste({clip:t("#"+i)}),e.destroyClipBoard(),e=null),n=!1},3);else{var u=t("#"+i);u.length&&document.activeElement==u[0]&&e.that.onKeyPressDown(r)}}}else{var h=r.keyCode,d=t.ui.keyCode;if(h==d.UP||h==d.DOWN||h==d.LEFT||h==d.RIGHT||h==d.PAGE_UP||h==d.PAGE_DOWN){if(s)return!1;((o=t(r.target)).hasClass("pq-grid-row")||o.hasClass("pq-grid-cell"))&&(s=!0)}}}).bind("keyup.pqExcel",function(i){var r=i.keyCode;if(n||!e||pq.isCtrl(i)||-1==t.inArray(r,[17,91,93,224])||(e.destroyClipBoard(),e=null),s){var o=t(i.target);o.hasClass("pq-grid-row")||o.hasClass("pq-grid-cell")||(s=!1)}});var s=!1}(jQuery),function(t){var e=t.paramquery,n=e.pqGrid.prototype.options;n.historyModel=n.historyModel||{on:!0,checkEditable:!0,checkEditableAdd:!1,allowInvalid:!0},(e.cHistory=function(t){var e=this;e.that=t,e.options=t.options,e.records=[],e.counter=0,e.id=0,t.on("keyDown",e.onKeyDown.bind(e)).on("dataAvailable",function(t,n){"filter"!=n.source&&e.reset()})}).prototype={onKeyDown:function(t,e){var n=pq.isCtrl(t);return n&&"90"==t.keyCode?(this.undo(),!1):n&&"89"==t.keyCode?(this.redo(),!1):void 0},resetUndo:function(){if(0==this.counter)return!1;this.counter=0,this.that._trigger("history",null,{type:"resetUndo",num_undo:0,num_redo:this.records.length-this.counter,canUndo:!1,canRedo:!0})},reset:function(){return(0!=this.counter||0!=this.records.length)&&(this.records=[],this.counter=0,this.id=0,void this.that._trigger("history",null,{num_undo:0,num_redo:0,type:"reset",canUndo:!1,canRedo:!1}))},increment:function(){var t=this.records,e=t.length;this.id=e?t[e-1].id+1:0},push:function(e){var n,i,r=this.canRedo(),o=this.records,a=this.counter;o.length>a&&o.splice(a,o.length-a),o[a]=t.extend({id:this.id},e),this.counter++,1==this.counter&&(n=!0),r&&this.counter==o.length&&(i=!1),this.that._trigger("history",null,{type:"add",canUndo:n,canRedo:i,num_undo:this.counter,num_redo:0})},canUndo:function(){return this.counter>0},canRedo:function(){return this.counter<this.records.length},undo:function(){var t=this.canRedo(),e=this.that,n=this.options.historyModel,i=this.records;if(!(this.counter>0))return!1;this.counter--;var r,o,a,s,c,l=i[this.counter],u=l.callback;return u?u():(a=l.updateList.map(function(t){return{rowIndx:e.getRowIndx({rowData:t.rowData}).rowIndx,rowData:t.rowData,oldRow:t.newRow,newRow:t.oldRow}}),c=l.addList.map(function(t){return{rowData:t.newRow}}),s=l.deleteList.map(function(t){return{newRow:t.rowData,rowIndx:t.rowIndx}}),e._digestData({history:!1,source:"undo",checkEditable:n.checkEditable,checkEditableAdd:n.checkEditableAdd,allowInvalid:n.allowInvalid,addList:s,updateList:a,deleteList:c}),e[s.length||c.length?"refreshView":"refresh"]({source:"undo",header:!1})),!1===t&&(r=!0),0==this.counter&&(o=!1),e._trigger("history",null,{canUndo:o,canRedo:r,type:"undo",num_undo:this.counter,num_redo:this.records.length-this.counter}),!0},redo:function(){var t=this.canUndo(),e=this.that,n=this.options.historyModel,i=this.counter,r=this.records;if(i==r.length)return!1;var o,a,s,c,l,u=r[i],h=u.callback;return h?h(!0):(o=u.updateList.map(function(t){return{rowIndx:e.getRowIndx({rowData:t.rowData}).rowIndx,rowData:t.rowData,newRow:t.newRow,oldRow:t.oldRow}}),s=u.deleteList.map(function(t){return{rowData:t.rowData}}),a=u.addList.map(function(t){return{newRow:t.newRow,rowIndx:t.rowIndx}}),e._digestData({history:!1,source:"redo",checkEditable:n.checkEditable,checkEditableAdd:n.checkEditableAdd,allowInvalid:n.allowInvalid,addList:a,updateList:o,deleteList:s}),e[a.length||s.length?"refreshView":"refresh"]({source:"redo",header:!1})),this.counter<r.length&&this.counter++,0==t&&(c=!0),this.counter==this.records.length&&(l=!1),e._trigger("history",null,{canUndo:c,canRedo:l,type:"redo",num_undo:this.counter,num_redo:this.records.length-this.counter}),!0}};var i=e.pqGrid.prototype;i.history=function(t){return this.iHistory[t.method](t)},i.History=function(){return this.iHistory}}(jQuery),function(t){var e=t.paramquery;pq.filter={dpBeforeShow:function(e,n,i){return function(){var r,o,a=e.getDataCascade(n);a.length&&(r=""==a[0][n]?a[1][n]:a[0][n],o=a[a.length-1][n]),t(this).datepicker("option","defaultDate",new Date(1==i?o:r))}},datepicker:function(e){var n=e.column,i=n.dataIndx,r=this,o=e.filterUI,a={dateFormat:o.format||n.format,changeYear:!0,changeMonth:!0};return"date"==n.dataType?(e.$editor.each(function(e,n){var s=t.extend({},a,1==e&&o.dpOptions2||o.dpOptions);s.defaultDate||(s.beforeShow=s.beforeShow||pq.filter.dpBeforeShow(r,i,e)),t(n).datepicker(s)}),!0):void 0},filterFnEq:function(e,n){var i=(e.column||{}).dataType;return"date"==i?this.filterFnTD(e,n):"bool"==i?{type:"checkbox"}:t.extend({maxCheck:1},this.filterFnSelect(e,n))},filterFnSelect:function(t,e){var n=t.column.dataIndx;return{type:"select",style:"padding-"+(e&&e.options.rtl?"left":"right")+":16px;cursor:default;",attr:"readonly",valueIndx:n,labelIndx:n,options:this.options,init:0==t.indx?this.rangeInit.bind(e):function(){}}},filterFnT:function(){return{type:"textbox",attr:"autocomplete='off'"}},filterFnTD:function(){return{type:"textbox",attr:"autocomplete='off'",init:pq.filter.datepicker}},getVal:function(t){var e=(t.crules||[])[0]||{};return[e.value,e.value2,e.condition]},setVal:function(t,e){var n=t.crules=t.crules||[];return n[0]=n[0]||{},n[0].value=e,e}},t.extend(pq.filter,{conditions:{begin:{string:1,numberList:1,dateList:1,filterFn:pq.filter.filterFnT},between:{stringList:1,date:1,number:1,filter:{attr:"autocomplete='off'",type:"textbox2",init:pq.filter.datepicker}},contain:{string:1,numberList:1,dateList:1,filterFn:pq.filter.filterFnT},equal:{string:1,bool:1,date:1,number:1,filterFn:pq.filter.filterFnEq},empty:{string:1,bool:1,date:1,number:1,nr:1},end:{string:1,numberList:1,dateList:1,filterFn:pq.filter.filterFnT},great:{stringList:1,number:1,date:1,filterFn:pq.filter.filterFnTD},gte:{stringList:1,number:1,date:1,filterFn:pq.filter.filterFnTD},less:{stringList:1,number:1,date:1,filterFn:pq.filter.filterFnTD},lte:{stringList:1,number:1,date:1,filterFn:pq.filter.filterFnTD},notbegin:{string:1,numberList:1,dateList:1,filterFn:pq.filter.filterFnT},notcontain:{string:1,numberList:1,dateList:1,filterFn:pq.filter.filterFnT},notequal:{string:1,date:1,number:1,bool:1,filterFn:pq.filter.filterFnEq},notempty:{string:1,bool:1,date:1,number:1,nr:1},notend:{string:1,numberList:1,dateList:1,filterFn:pq.filter.filterFnT},range:{cascade:1,string:1,number:1,date:1,bool:1,filterFn:pq.filter.filterFnSelect},regexp:{string:1,numberList:1,dateList:1,filterFn:pq.filter.filterFnT}},getConditionsCol:function(t,e){var n=e.conditionList||function(e){var n=e.getConditionsDT(pq.getDataType(t));return n.sort(),n}(this),i=e.conditionExclude,r={};return i&&(i.forEach(function(t){r[t]=1}),n=n.filter(function(t){return!r[t]})),n},getConditionsDT:function(t){var e,n,i,r=[],o=this.conditions;for(e in o)i=(n=o[e])[t+"List"],(n[t]&&0!==i||i)&&r.push(e);return r},getFilterUI:function(e,n){var i=e.column,r=i.filterFn,o=(0===e.indx?i.filter:{})||{},a=this.conditions[e.condition]||{},s=a.filterFn,c=a.filter||{};delete o.type,r=r&&r.call(n,e)||{},s=s&&s.call(this,e,n)||{};var l=t.extend({},c,s,o,r);return l.condition=e.condition,l.init=[],l.options=[],[r,o,s,c].forEach(function(t){t.init&&l.init.push(t.init),t.options&&l.options.push(t.options)}),l},options:function(t){var e=t.filterUI;return this.getDataCascade(t.column.dataIndx,e.groupIndx,e.diExtra)},getOptions:function(t,e,n){for(var i,r,o=e.options,a=t.dataIndx,s={column:t,dataIndx:a,filterUI:e,condition:e.condition},c=0,l=o.length;l>c;c++)if((i=o[c])&&(r="function"==typeof i?i.call(n,s):i))return r=n.getPlainOptions(r,a),n.removeNullOptions(r,e.dataIndx||a,e.groupIndx);return[]},rangeInit:function(e){var n=this,i=e.column,r=e.$editor,o=e.filterUI;e.headMenu||r.parent().off("click keydown").on("click keydown",function(a){if("keydown"!=a.type||a.keyCode==t.ui.keyCode.DOWN){var s=n.uuid+"_"+i.dataIndx;if(!t("#"+s).length){var c=new pq.cFilterMenu.select(n,i),l=t("<div id='"+s+"' style='width:270px;' class='pq-theme'><div></div></div>").appendTo(document.body),u=l.children();pq.makePopup(l[0],r),c.create(u,o),l.position({my:"left top",at:"left bottom",of:e.$editor})}}})},getType:function(t,e){var n=this.conditions[t]||{},i=n.filterFn;return(n.filter||{}).type||(i?i.call(this,{condition:t,column:e}):{}).type}});var n=function(t){var e=this;e.that=t,t.on("load",e.onLoad.bind(e)).on("filter clearFilter",e.onFilterChange.bind(e))};e.cFilterData=n;var i=n.conditions={equal:function(t,e){return t==e||void 0},notequal:function(t,e){return!i.equal(t,e)},contain:function(t,e){return-1!=(t+"").indexOf(e)||void 0},notcontain:function(t,e){return!i.contain(t,e)},empty:function(t){return 0==t.length||void 0},notempty:function(t){return!i.empty(t)},begin:function(t,e){return 0==(t+"").indexOf(e)||void 0},notbegin:function(t,e){return!i.begin(t,e)},end:function(t,e){var n=(t+="").lastIndexOf(e+="");return-1!=n&&n+e.length==t.length||void 0},notend:function(t,e){return!i.end(t,e)},regexp:function(t,e){return e.test(t)?(e.lastIndex=0,!0):void 0},great:function(t,e){return t>e||void 0},gte:function(t,e){return t>=e||void 0},between:function(t,e,n){return t>=e&&n>=t||void 0},range:function(e,n){return-1!=t.inArray(e,n)||void 0},less:function(t,e){return e>t||void 0},lte:function(t,e){return e>=t||void 0}};n.convert=function(t,e){return null==t||""===t?"":("string"==e?t=(t+"").trim().toUpperCase():"date"==e?t=Date.parse(t):"number"==e?1*t==t&&(t*=1):"bool"==e&&(t=String(t).toLowerCase()),t)},n.convertEx=function(t,e,n,i){var r=pq.getDataType({dataType:e}),o=pq.filter.conditions[n];return o[r]?this.convert(t,r):o.string?(i&&(t=pq.format(i,t)),"regexp"==n?t:this.convert(t,"string")):o.number?this.convert(t,"number"):void 0},n.prototype={addMissingConditions:function(t){var e=this.that;t.forEach(function(t){var n=e.getColumn({dataIndx:t.dataIndx}).filter||{};t.condition=void 0===t.condition?pq.filter.getVal(n)[2]:t.condition})},clearFilters:function(t){t.forEach(function(t){var e=t.filter,n=pq.filter.conditions;e&&(e.crules||[]).forEach(function(t){(n[t.condition]||{}).nr&&(t.condition=void 0),t.value=t.value2=void 0})})},compatibilityCheck:function(t){var e,n=t.data,i="Incorrect filter parameters. Please check upgrade guide";if(n)if(e=n[0]){if(e.hasOwnProperty("dataIndx")&&e.hasOwnProperty("value"))throw i}else if(!t.rules)throw i},copyRuleToColumn:function(t,e,n){var i=e.filter=e.filter||{},r=t.crules||[],o=r[0],a=o?o.condition:t.condition,s=o?o.value:t.value,c=o?o.value2:t.value2;"remove"==n?(i.on=!1,i.crules=a?[{condition:a,value:"range"==a?[]:void 0}]:void 0):(i.on=!0,i.mode=t.mode,i.crules=o?r:[{condition:a,value:s,value2:c}])},filter:function(t){this.compatibilityCheck(t=t||{});var e,n,i=this.that,r=i.options,o=!1,a=t.data,s=t.rules=t.rules||(t.rule?[t.rule]:[]),c=!a,l=r.dataModel,u=r.filterModel,h=t.mode||u.mode,d=t.oper,p="replace"==d,f=c?i.colModel:this.getCMFromRules(s),g=0,m=s.length;if("remove"!=d&&this.addMissingConditions(s),c){if(!1===i._trigger("beforeFilter",null,t))return;for(null!=t.header&&(o=t.header),p&&this.clearFilters(f);m>g;g++)n=i.getColumn({dataIndx:(e=s[g]).dataIndx}),this.copyRuleToColumn(e,n,d)}else for(;m>g;g++)this.copyRuleToColumn(e=s[g],n=f[g]);var v={header:o,CM:f,data:a,rules:s,mode:h};return"remote"!=l.location||"local"==u.type?(v.source="filter",v.trigger=!1,i._onDataAvailable(v)):void i.remoteRequest({apply:c,CM:f,callback:function(){return i._onDataAvailable(v)}})},hideRows:function(t,e,n){for(var i,r=0,o=e.length;o>r;r++)(i=e[r]).pq_hidden=!this.isMatchRow(i,t,n)},filterLocalData:function(t){var e,n,i=this.that,r=(t=t||{}).data,o=!r,a=this.getRulesFromCM({CM:o?i.colModel:t.CM,apply:o}),s=i.options,c=s.dataModel,l=i.iSort,u=r||c.data,h=c.dataUF=c.dataUF||[],d=[],p=[],f=s.filterModel,g=t.mode||f.mode;if(f.hideRows)this.hideRows(a,u,g);else{if(o)if(h.length){n=!0;for(var m=0,v=h.length;v>m;m++)u.push(h[m]);h=c.dataUF=[]}else{if(!a.length)return{data:u,dataUF:h};l.saveOrder()}if(f.on&&g&&a&&a.length){if(u.length)if(!1===i._trigger("customFilter",null,e={filters:a,mode:g,data:u}))d=e.dataTmp,p=e.dataUF;else for(m=0,v=u.length;v>m;m++){var b=u[m];this.isMatchRow(b,a,g)?d.push(b):p.push(b)}u=d,h=p,0==l.readSorter().length&&(u=l.sortLocalData(u)),o&&(c.data=u,c.dataUF=h)}else n&&o&&(!1===i._trigger("clearFilter",null,e={data:u})&&(u=e.data),0==l.readSorter().length&&(u=l.sortLocalData(u)),c.data=u,i._queueATriggers.filter={ui:{type:"local"}})}return o&&(i._queueATriggers.filter={ui:{type:"local",rules:a}}),{data:u,dataUF:h}},_getRulesFromCM:function(e,i,r,o,a,s,c){if("between"==r)""===o||null==o?o=c(a,s,r="lte"):""===a||null==a?o=c(o,s,r="gte"):(o=c(o,s,r),a=c(a,s,r));else if("regexp"==r){if("remote"==e)o=o.toString();else if("string"==typeof o)try{o=new RegExp(o,i.modifiers||"gi")}catch(h){o=/.*/}}else if("range"==r||t.isArray(o)){if(null==o)return;if("function"==typeof o.push){if(0===o.length)return;if("range"!=r)o=c(o[0],s,r);else for(var l=0,u=(o=o.slice()).length;u>l;l++)o[l]=c(o[l],s,r)}}else r&&(o=c(o,s,r),null!=a&&(a=c(a,s,r)));return[o,a,"remote"==e?"":((i.conditions||{})[r]||{}).compare||pq.filter.conditions[r].compare||n.conditions[r],r]},getRulesFromCM:function(t){var n=t.CM;if(!n)throw"CM N/A";for(var i=this,r=n.length,o=0,a=t.location,s="remote"===a,c=[],l=e.cFilterData,u=function(t,e,n){return s?(t=null==t?"":t).toString():l.convertEx(t,e,n)};r>o;o++){var h=n[o],d=h.filter;if(d){var p,f,g,m,v,b=h.dataIndx,_=h.dataType,y=[];_=_&&"stringi"!=_&&"function"!=typeof _?_:"string",(d.crules||[d]).forEach(function(t){f=t.value,g=t.value2,(m=t.condition)&&i.isCorrect(m,f,g)&&(v=i._getRulesFromCM(a,d,m,f,g,_,u))&&y.push({condition:v[3],value:f=v[0],value2:g=v[1],cbFn:v[2]})}),y.length&&(p={dataIndx:b,dataType:_},s&&1==y.length?(p.value=y[0].value,p.value2=y[0].value2,p.condition=y[0].condition):(p.crules=y,p.mode=d.mode,s||(p.column=h)),c.push(p))}}return(t.apply||s)&&this.sortRulesAndFMIndx(c),c},getCMFromRules:function(t){var e=this.that;return t.map(function(t){var n=e.getColumn({dataIndx:t.dataIndx});return pq.copyObj({},n,["parent"])})},getQueryStringFilter:function(){var t,e=this.that,n=e.options,i=n.stringify,r=n.filterModel,o=r.mode,a=r.newDI||[],s=this.getRulesFromCM({CM:e.colModel,location:"remote"}),c="";return r&&r.on&&s&&(s.length?(t={mode:o,data:s},c=i?JSON.stringify(t):t):(c="",a.length&&e._trigger("clearFilter"))),c},isCorrect:function(t,e,n){var i=pq.filter.conditions[t];if(i)return!!(null!=e&&""!==e||null!=n&&""!==n||i.nr);throw"filter condition NA"},isMatchCell:function(t,e){for(var i,r,o,a,s,c,l=t.column,u=t.dataType,h=t.mode,d=[],p=t.crules,f=p.length,g=e[t.dataIndx],m=0;f>m;m++)i=(s=p[m]).value,r=s.value2,a=s.cbFn,(o=s.condition)&&(c="regexp"===o?null==g?"":g:n.convertEx(g,u,o,l),d.push(!!a(c,i,r)));if(f=d.length,"AND"===h){for(m=0;f>m;m++)if(!d[m])return!1;return!0}for(m=0;f>m;m++)if(d[m])return!0;return!1},isMatchRow:function(t,e,n){var i,r,o=0,a=e.length,s="AND"==n,c=!s;if(0==a)return!0;for(;a>o;o++){if((r=this.isMatchCell(i=e[o],t))&&(i.found=!0),c&&r)return!0;if(s&&!r)return!1}return s},onFilterChange:function(){var t=this.that,e=t.options,n=t.columns,i=e.filterModel,r=i.oldDI||[],o="pq-col-filtered",a="remote"==i.type||!e.dataModel.data.length,s=(i.rules||[]).reduce(function(t,e){return(e.found||a)&&t.push(e.dataIndx),t},[]);r.forEach(function(e){var i=t.getCellHeader({dataIndx:e}),r=n[e];i.length&&(i.removeClass(o),t.getCellFilter({dataIndx:e}).removeClass(o)),r.clsHead=(r.clsHead||"").split(" ").filter(function(t){return t!==o}).join(" ")}),s.forEach(function(e){var i=t.getCellHeader({dataIndx:e}),r=n[e];i.length&&(i.addClass(o),t.getCellFilter({dataIndx:e}).addClass(o)),r.clsHead=(r.clsHead||"")+" "+o}),i.oldDI=i.newDI=s},onLoad:function(){var t=this.that.options.dataModel.dataUF;t&&(t.length=0)},sortRulesAndFMIndx:function(t){var e=this.that.options.filterModel,n=e.newDI;t.sort(function(t,e){var i=e.dataIndx,r=n.indexOf(t.dataIndx),o=n.indexOf(i);return r>=0&&o>=0?r-o:r>=0?-1:o>=0?1:0}),e.rules=t}}}(jQuery),function(t){var e=t.paramquery,n=e.cSort=function(t){var e=this;e.that=t,e.sorters=[],e.tmpPrefix="pq_tmp_",e.cancel=!1};e.pqGrid.prototype.sort=function(t){if((t=t||{}).data)return this.iSort._sortLocalData(t.sorter,t.data);var e=this,n=this.options,i=n.dataModel,r=i.data,o=n.sortModel.type;if(r&&r.length||"local"!=o){var a,s=n.editModel,c=this.iSort,l=c.getSorter(),u=t.evt,h=null==t.single?c.readSingle():t.single,d=c.readCancel();if(t.sorter?t.addon?(t.single=h,t.cancel=d,a=c.addon(t)):a=t.sorter:a=c.readSorter(),a.length||l.length){s.indices&&e.blurEditor({force:!0});var p={dataIndx:a.length?a[0].dataIndx:null,oldSorter:l,sorter:a,source:t.source,single:h};if(!1===e._trigger("beforeSort",u,p))return void c.cancelSort();c.resumeSort(),"local"==o&&c.saveOrder(),c.setSorter(a),c.setSingle(h),c.writeSorter(a),c.writeSingle(h),"local"==o?(i.data=c.sortLocalData(r,!t.skipCustomSort),this._queueATriggers.sort={evt:u,ui:p},!1!==t.refresh&&this.refreshView()):"remote"==o&&(this._queueATriggers.sort={evt:u,ui:p},t.initByRemote||this.remoteRequest({initBySort:!0,callback:function(){e._onDataAvailable()}}))}}},n.prototype={addon:function(e){var n=(e=e||{}).sorter[0],i=n.dataIndx,r=n.dir,o=e.single,a=e.cancel,s=this.readSorter(),c=s[0];if(null==o)throw"sort single N/A";if(null!=i)if(o&&!e.tempMultiple)if((c=(s=s.length?[s[0]]:[])[0])&&c.dataIndx==n.dataIndx){var l=c.dir,u="up"===l?"down":a&&"down"===l?"":"up";""===u?s.length--:c.dir=u}else s[0]=t.extend({},n,{dir:u=r||"up"});else{var h=this.inSorters(s,i);h>-1?"up"==(l=s[h].dir)?s[h].dir="down":a&&"down"==l?s.splice(h,1):1==s.length?s[h].dir="up":s.splice(h,1):s.push(t.extend({},n,{dir:"up"}))}return s},cancelSort:function(){this.cancel=!0},resumeSort:function(){this.cancel=!1},readSorter:function(){var t=this.that,e=t.columns,n=(t.options.sortModel.sorter||[]).filter(function(t){return!!e[t.dataIndx]});return pq.arrayUnique(n,"dataIndx")},setSingle:function(t){this.single=t},getSingle:function(){return this.single},readSingle:function(){return this.that.options.sortModel.single},setCancel:function(t){this.cancel=t},readCancel:function(){return this.that.options.sortModel.cancel},saveOrder:function(t){var e,n=this.that,i=n.pdata||[];if(!(n.options.dataModel.dataUF||[]).length&&(!this.getSorter().length||i[0]&&null==i[0].pq_order))for(var r=0,o=(t=n.get_p_data()).length;o>r;r++)(e=t[r])&&(e.pq_order=r)},getCancel:function(){return this.cancel},getQueryStringSort:function(){if(this.cancel)return"";var t=this.sorters;return t.length?this.that.options.stringify?JSON.stringify(t):t:""},getSorter:function(){return this.sorters},setSorter:function(t){this.sorters=t.slice(0)},inSorters:function(t,e){for(var n=0;n<t.length;n++)if(t[n].dataIndx==e)return n;return-1},sortLocalData:function(t,e){var n=this.sorters;return n.length||t.length&&null!=t[0].pq_order&&(n=[{dataIndx:"pq_order",dir:"up",dataType:"integer"}]),this._sortLocalData(n,t,e)},compileSorter:function(t,e){var n=this,r=n.that,o=r.columns,a=r.options,s=[],c=[],l=[],u=n.tmpPrefix,h=a.sortModel,d=h.useCache,p=h.ignoreCase,f=t.length;e=e||a.dataModel.data;for(var g=0;f>g;g++){var m=t[g],v=m.sortIndx||m.dataIndx,b=o[v]||{},_="up"==(m.dir=m.dir||"up")?1:-1,y=pq.getFn(b.sortType),C="string"==(C=b.dataType||m.dataType||"string")&&p?"stringi":C,x=d&&"date"==C,w=x?u+v:v;c[g]=w,l[g]=_,s[g]=y?function(t,e){return function(n,i,r,o){return e(n,i,r,o,t)}}(y,i.sort_sortType):"integer"==C||"float"==C?i.sort_number:"function"==typeof C?function(t,e){return function(n,i,r,o){return e(n,i,r,o,t)}}(C,i.sort_dataType):"date"==C?i["sort_date"+(x?"_fast":"")]:"bool"==C?i.sort_bool:"stringi"==C?i.sort_locale:i.sort_string,x&&n.addCache(e,C,v,w)}return n._composite(s,c,l,f)},_composite:function(t,e,n,i){return function(r,o){for(var a=0,s=0;i>s&&0==(a=t[s](r,o,e[s],n[s]));s++);return a}},_sortLocalData:function(t,e,n){if(!e)return[];if(!e.length||!t||!t.length)return e;var i=this,r=i.that,o=r.options.sortModel,a=i.compileSorter(t,e),s={sort_composite:a,data:e,sorter:t};return n&&!1===r._trigger("customSort",null,s)?e=s.data:e.sort(a),o.useCache&&i.removeCache(t,e)(),e},addCache:function(t,e,n,r){for(var o=i["get_"+e],a=t.length;a--;){var s=t[a];s[r]=o(s[n])}},removeCache:function(t,e){var n=this.tmpPrefix;return function(){for(var i=t.length;i--;){var r=n+t[i].dataIndx,o=e.length;if(o&&e[0].hasOwnProperty(r))for(;o--;)delete e[o][r]}}},writeCancel:function(t){this.that.options.sortModel.cancel=t},writeSingle:function(t){this.that.options.sortModel.single=t},writeSorter:function(t){this.that.options.sortModel.sorter=t}};var i={get_date:function(t){var e;return t?isNaN(e=Date.parse(t))?0:e:0},sort_number:function(t,e,n,i){var r=t[n],o=e[n];return((r=r?1*r:0)-(o=o?1*o:0))*i},sort_date:function(t,e,n,i){var r=t[n],o=e[n];return((r=r?Date.parse(r):0)-(o=o?Date.parse(o):0))*i},sort_date_fast:function(t,e,n,i){return(t[n]-e[n])*i},sort_dataType:function(t,e,n,i,r){return r(t[n],e[n])*i},sort_sortType:function(t,e,n,i,r){return r(t,e,n)*i},sort_string:function(t,e,n,i){var r=t[n]||"",o=e[n]||"",a=0;return r>o?a=1:o>r&&(a=-1),a*i},sort_locale:function(t,e,n,i){return(t[n]||"").localeCompare(e[n]||"")*i},sort_bool:function(t,e,n,i){var r=t[n],o=e[n],a=0;return r&&!o||!1===r&&null==o?a=1:(o&&!r||!1===o&&null==r)&&(a=-1),a*i}};pq.sortObj=i}(jQuery),function(t){function e(t,e,n){var i=0,r=e,o=t.length;for(n=n>o?o:n;n>r;r++)!0!==t[r].pq_hidden&&i++;return i}function n(t){var e=this;e.that=t,e.mc=null,t.on("dataReadyDone colMove groupShowHide",function(n,i){t.options.mergeCells&&"pager"!==i.source&&e.init()}),t.on("colAdd colRemove",e.alterColumn.bind(e)).on("change",e.onChange.bind(e)),t.Merge=function(){return e}}t.paramquery.pqGrid.prototype.calcVisibleRows=e,t.paramquery.cMerge=n,n.prototype={auto:function(t,e){var n=this.that,i=n.pdata;return e=e||[],t.forEach(function(t){for(var r=1,o=n.colIndxs[t],a=i.length;a--;){var s=i[a-1]?i[a-1][t]:void 0;void 0!==s&&i[a][t]==s?r++:r>1&&(e.push({r1:a,c1:o,rc:r,cc:1}),r=1)}}),e},calcVisibleColumns:function(t,e,n){var i=0,r=t.length;for(n=n>r?r:n;n>e;e++)!0!==t[e].hidden&&i++;return i},findNextVisibleColumn:function(t,e,n){for(var i,r=e;e+n>r;r++){if(!(i=t[r]))return-1;if(!i.hidden)return r}},findNextVisibleRow:function(t,e,n){for(var i,r=e;e+n>r;r++){if(!(i=t[r]))return-1;if(!i.pq_hidden)return r}},getData:function(t,e,n){var i,r=this.mc;if(r[t]&&(i=r[t][e])){var o=i.data;return o?o[n]:null}},inflateRange:function(t,e,n,i){var r=this.that,o=!1,a=r.riOffset+r.pdata.length-1,s=r.colModel.length-1,c=this.mc2;if(!c)return[t,e,n,i];t:for(var l=0,u=c.length;u>l;l++){var h=c[l],d=h.r1,p=h.c1,f=(f=d+h.rc-1)>a?a:f,g=(g=p+h.cc-1)>s?s:g;if((t>d&&f>=t||n>=d&&f>n)&&g>=e&&i>=p||(e>p&&g>=e||i>=p&&g>i)&&f>=t&&n>=d){o=!0,t=t>d?d:t,e=e>p?p:e,n=f>n?f:n,i=g>i?g:i;break t}}return o?this.inflateRange(t,e,n,i):[t,e,n,i]},init:function(){for(var t=this.that,n=this.findNextVisibleColumn,i=this.findNextVisibleRow,r=this.calcVisibleColumns,o=t.colModel,a=t.options.mergeCells||[],s=t.get_p_data(),c=[],l=[],u=0,h=a.length;h>u;u++){var d,p,f=a[u],g=f.r1,m=g,v=s[g],b=f.c1,_=b,y=o[b],C=f.rc,x=f.cc;if(y&&v&&(y.hidden&&(_=n(o,b,x)),d=r(o,b,b+x),v.pq_hidden&&(m=i(s,g,C)),!(1>(p=e(s,g,g+C))||1>d))){c.push({r1:g,c1:b,rc:C,cc:x}),l[m]=l[m]||[],l[m][_]={show:!0,rowspan:p,colspan:d,o_rowspan:C,o_colspan:x,style:f.style,cls:f.cls,attr:f.attr,r1:g,c1:b,v_r1:m,v_c1:_};for(var w={show:!1,r1:g,c1:b,v_r1:m,v_c1:_},M=g;g+C>M;M++){l[M]=l[M]||[];for(var O=b;b+x>O;O++)M==m&&O==_||(l[M][O]=w)}}}t._mergeCells=l.length>0,this.mc=l,this.mc2=c},ismergedCell:function(t,e){var n,i=this.mc;return!!(i&&i[t]&&(n=i[t][e]))&&(t!=n.v_r1||e!=n.v_c1||{o_ri:n.r1,o_ci:n.c1,v_rc:n.rowspan,v_cc:n.colspan,o_rc:n.o_rowspan,o_cc:n.o_colspan})},isRootCell:function(t,e,n){var i,r=this.mc;if(r&&r[t]&&(i=r[t][e])){if("o"==n)return t==i.r1&&e==i.c1;var o=i.v_r1,a=i.v_c1;if(o==t&&a==e){var s=r[o][a];return{rowspan:s.rowspan,colspan:s.colspan}}}},removeData:function(t,e,n){var i,r=this.mc;if(r&&r[t]&&(i=r[t][e])){var o=i.data;o&&(o[n]=null)}},getRootCell:function(t,e){var n,i,r,o=this.mc;return o&&o[t]&&(r=o[t][e])?{o_ri:(r=o[n=r.v_r1][i=r.v_c1]).r1,o_ci:r.c1,v_ri:n,v_ci:i,v_rc:r.rowspan,v_cc:r.colspan,o_rc:r.o_rowspan,o_cc:r.o_colspan}:void 0},getRootCellO:function(t,e,n,i){var r,o="o"==(i=i||"o"),a=this.getRootCell(t,e);return a?this.that.normalize(r={rowIndx:a[o?"o_ri":"v_ri"],colIndx:a[o?"o_ci":"v_ci"]}):(n&&(r={rowIndx:t,colIndx:e}),r?this.that.normalize(r):null)},getRootCellV:function(t,e,n){return this.getRootCellO(t,e,n,"v")},getClsStyle:function(t,e){return this.mc[t][e]},getMergeCells:function(t,e,n){for(var i,r,o,a=this.that,s=a.options.mergeCells,c=a.riOffset,l=c+n,u=[],h=s?s.length:0,d=0;h>d;d++)r=(i=s[d]).r1,o=i.c1,(!e||r>=c&&l>r)&&(e&&(r-=c),u.push({r1:r+=t,c1:o,r2:r+i.rc-1,c2:o+i.cc-1}));return u},alterColumn:function(t,e){for(var n=e.args,i=n[1],r="number"!=typeof(o=n[0]),o=r?o.length:o,a=this.that.options.mergeCells||[],s=0,c=a.length;c>s;s++){var l=a[s],u=l.c1,h=l.cc;r?u>=i?l.c1=u+o:u+h>i&&(l.cc=h+o):u>i?l.c1=u-o:u+h>i&&h-o>0&&(l.cc=h-o),l.c2=null}this.init(a)},onChange:function(t,e){for(var n,i=e.addList,r=e.deleteList,o=this.that.options.mergeCells||[],a=0,s=o.length;s>a;a++){for(var c=o[a],l=c.r1,u=c.rc,h=0,d=i.length;d>h;h++)l>=(n=i[h].rowIndx)?(l=c.r1=l+1,c.r2=null):l+u>n&&(u=c.rc=u+1,c.r2=null);for(h=0,d=r.length;d>h;h++)l>(n=r[h].rowIndx)?(l=c.r1=l-1,c.r2=null):l+u>n&&u>1&&(u=c.rc=u-1,c.r2=null)}this.init(o)},setData:function(t,e,n){var i,r=this.mc;r[t]&&(i=r[t][e])&&(i.data=n)}}}(jQuery),function(t){function e(t,e,n,i){t.push("<li data-option='",n,"' class='pq-menu-item'>","<label>","<input type='checkbox' ",e[n]?"checked":"","/>",i["strGroup_"+n],"</label></li>")}var n=t.paramquery;n.pqGrid.defaults.groupModel={agg:{},cascade:!0,cbId:"pq_group_cb",collapsed:[],dataIndx:[],fixCols:!0,groupCols:[],header:!0,headerMenu:!0,icon:["ui-icon-triangle-1-se","ui-icon-triangle-1-e"],id:"pq_gid",parentId:"parentId",childstr:"children",menuItems:["merge","fixCols","grandSummary"],on:!1,refreshOnChange:!0,pivotColsTotal:"after",separator:"_",source:"checkboxGroup",showSummary:[],summaryInTitleRow:"collapsed",summaryEdit:!0,title:[],titleDefault:"{0} ({1})"},pq.aggregate={sum:function(t){for(var e,n=0,i=t.length;i--;)null!=(e=t[i])&&(n+=e-0);return n},avg:function(t,e){try{var n=pq.formulas.AVERAGE(t)}catch(i){n=i}return isNaN(n)?null:n},flatten:function(t){return t.filter(function(t){return null!=t})},max:function(t,e){var n,i=e.dataType;return(t=this.flatten(t)).length?("float"==i||"integer"==i?n=Math.max.apply(Math,t):"date"==i?(t.sort(function(t,e){return t=Date.parse(t),(e=Date.parse(e))-t}),n=t[0]):(t.sort(),n=t[t.length-1]),n):void 0},min:function(t,e){var n,i,r,o,a=e.dataType;if((t=this.flatten(t)).length){if("integer"==a||"float"==a)n=Math.min.apply(Math,t);else if("date"==a){for(o=t.length,i=[];o--;)i.push({dateO:r=t[o],dateP:Date.parse(r)});i.sort(function(t,e){return t.dateP-e.dateP}),n=i.length?i[0].dateO:void 0}else t.sort(),n=t[0];return n}},count:function(t){return this.flatten(t).length},stdev:function(t){try{var e=pq.formulas.STDEV(t)}catch(n){e=n}return isNaN(e)?null:e},stdevp:function(t){try{var e=pq.formulas.STDEVP(t)}catch(n){e=n}return isNaN(e)?null:e}};var i=n.cGroup=function(t){var e=this,n=t.options.groupModel;e.model="groupModel",e.cbId=n.cbId,e.childstr=n.childstr,e.id=n.id,e.parentId=n.parentId,e.isGroup=!0,e.cache={},e.prop="pq_group_prop",e.that=t,Object.defineProperty(n,"nodeClose",{get:function(){return e.fillState({})},set:function(t){e.nodeClose=t}}),n.on&&e.init()};i.beforeTrigger=function(t,e){return function(n){return!1===e._trigger("beforeGroupExpand",t,n)}},i.onGroupItemClick=function(e){return function(n){var i=t(n.target),r=t(this).data("indx");i.hasClass("pq-group-remove")?e.removeGroup(r):e.toggleLevel(r,n)}},i.prototype=t.extend({},pq.mixin.ChkGrpTree,pq.mixin.GrpTree,{addGroup:function(t,e){var n=this,i=n.that.options.groupModel.dataIndx||[],r=pq.objectify(i),o=i.slice();null==t||r[t]||(null==e?o.push(t):o.splice(e,0,t),n.option({dataIndx:o},"","",function(){n.triggerChange()}))},createHeader:function(){for(var e=this,n=e.that,r=e.$header,o=n.options,a=o.bootstrap,s=n.columns,c=a.on,l=o.groupModel,u=l.dataIndx,h=u.length;h--;)null==s[u[h]]&&u.splice(h,1);if(h=u.length,l.header&&l.on){if(r?r.empty():(r=e.$header=t("<div class='pq-group-header ui-helper-clearfix' ></div>").appendTo(n.$top)).on("click",".pq-group-item",i.onGroupItemClick(e)),h){for(var d=[],p=0;h>p;p++){var f=u[p],g=s[f],m=c?a.groupModel.icon:l.icon;d.push("<div tabindex='0' class='pq-group-item' data-indx='",f,"' >","<span class='",e.toggleIcon,l.collapsed[p]?m[1]:m[0],"' ></span>",g.pq_title||("string"==typeof g.title?g.title:f),"<span class='",e.groupRemoveIcon,"' ></span></div>")}r[0].innerHTML=d.join("")}e.initHeader(o,l)}else r&&(r.remove(),e.$header=null)},collapse:function(t){this.expand(t,!0)},collapseAll:function(t){this.expandAll(t,!0)},collapseTo:function(t){this.expandTo(t,!0)},concat:function(){var t=this.parentId,e=this.id,n=this.childstr;return function(i,r,o){var a=o[e];return r.forEach(function(e){e[t]=a,i.push(e)}),o[n]=r,i}},editorSummary:function(e,n){var i=this;return function(e){var r=e.rowData;if(r.pq_gsummary||r.pq_gtitle){var o,a=pq.aggregate,s=e.column,c=s.summary,l=c?c.edit:null,u=t.inArray,h=s.dataType,d=[""];if(u(e.dataIndx,n.dataIndx)>-1)return!1;if(!n.summaryEdit&&!l||!1===l)return!1;for(var p in o=i.getAggOptions(h),a)u(p,o)>-1&&d.push(p);return 1!=d.length&&{type:"select",prepend:n.prepend,options:n.options||d,valueIndx:n.valueIndx,labelIndx:n.labelIndx,init:n.init||i.editorInit,getData:n.getData||i.editorGetData}}}},editorInit:function(t){var e,n=t.column.summary,i=this.options.groupModel.dataIndx;n||(n=t.column.summary={}),e=n[i[t.rowData.pq_level]]||n.type,t.$cell.find("select").val(e)},editorGetData:function(t){var e=t.column,n=this.options.groupModel.dataIndx[t.rowData.pq_level],i=e.dataType,r=e.summary,o=t.$cell.find("select").val();return r[r[n]?n:"type"]=o,this.one("beforeValidate",function(t,n){n.allowInvalid=!0,n.track=!1,n.history=!1,e.dataType="string",this.one(!0,"change",function(t,n){e.dataType=i})}),o},expandTo:function(t,e){for(var n,i=this.that,r=!!e,o=t.split(","),a=o.length,s=this.childstr,c=this.getRoots(i.pdata),l=0;a>l&&(n=c[o[l]]);)r||(n.pq_close=r),c=n[s],l++;n&&(n.pq_close=r,!1!==i._trigger("group",null,{node:n,close:r})&&this.softRefresh())},expandAll:function(t,e){!1!==this.trigger({all:!0,close:e=!!e,level:t=t||0})&&(this.that.pdata.forEach(function(n){n.pq_level>=t&&(n.pq_close=e)}),this.createHeader(),this.softRefresh())},expand:function(t,e){!1!==this.trigger({close:!!e,level:t=t||0})&&(this.that.pdata.forEach(function(n){n.pq_level==t&&(n.pq_close=e)}),this.createHeader(),this.softRefresh())},flattenG:function(t,e,n,i){var r=this,o=n.dataIndx,a=r.id,s=r.parentId,c=r.childstr,l=n.separator,u=n.titleIndx,h=r.concat(),d=o.length,p=[];return function i(r,f,g,m){if(!d)return r;var v=f||0,b=(g=g||{})[c],_=o[v],y=n.collapsed[v];return e(r,_,t[_]).forEach(function(t){var e,n=t[1],r=t[0],o=(m?m+l:"")+r;(e={pq_gtitle:!0,pq_level:v,pq_close:y,pq_items:n.length})[a]=o,e[s]=g[a],e[c]=[],e[_]=r,u&&(e[u]=r),p.push(e),b&&b.push(e),d>v+1?i(n,v+1,e,o):p=h(p,n,e)}),p}},getAggOptions:function(t){return"integer"==t||"float"==t?t="number":"date"!==t&&(t="string"),this.that.options.summaryOptions[t].split(",")},getVal:function(e){var n=t.trim;return function(t,i,r){var o=t[i],a=r.groupChange;return a?(a=pq.getFn(a))(o):(o=n(o),e?o.toUpperCase():o)}},getSumCols:function(){return this._sumCols},getSumDIs:function(){return this._sumDIs},group:function(t){return function(e,n,i){var r={},o=[];return e.forEach(function(e){e.pq_hidden=void 0;var a=t(e,n,i),s=r[a];null==s&&(r[a]=s=o.length,o[s]=[a,[]]),o[s][1].push(e)}),o}},groupData:function(){var t=this,e=t.that,n=e.options.groupModel,i=t.getVal(n.ignoreCase),r=e.pdata,o=e.columns,a=(t.setSumCols(n.dataIndx),function(){});e.pdata=t.flattenG(o,t.group(i),n,a)(r),t.summaryT()},hideRows:function(t,e,n,i){for(var r,o=!0,a=this.that.pdata,s=t,c=a.length;c>s;s++)if((r=a[s]).pq_gsummary)n||i?r.pq_level>=e&&(r.pq_hidden=o):r.pq_level>e&&(r.pq_hidden=o);else if(r.pq_gtitle){if(r.pq_level<=e)break;r.pq_hidden=o}else r.pq_hidden=o},init:function(){var t,e,n,i,r,o=this;o.onCMInit(),o._init||(o.mc=[],o.summaryData=[],e=(t=(r=o.that).options).groupModel,o.groupRemoveIcon="pq-group-remove "+(i=(n=t.bootstrap.on)?"glyphicon ":"ui-icon ")+(n?"glyphicon-remove":"ui-icon-close"),o.toggleIcon="pq-group-toggle "+i,r.on("cellClick",o.onCellClick(o)).on("cellKeyDown",o.onCellKeyDown(o,e)).on(!0,"cellMouseDown",o.onCellMouseDown()).on("change",o.onChange(o,e)).on("dataReady",o.onDataReady(o,r)).on("beforeFilterDone",function(){o.saveState()}).on("columnDragDone",o.onColumnDrag(o)).on("colMove",o.onColMove.bind(o)).on("customSort",o.onCustomSort.bind(o)).on("valChange",o.onCheckbox(o,e)).on("refresh refreshRow",o.onRefresh(o,e)).on("refreshHeader",o.onRefreshHeader.bind(o)),(e.titleIndx||e.titleInFirstCol)&&r.on("CMInit",o.onCMInit.bind(o)),r.on("beforeCheck",o.onBeforeCheck.bind(o)),o.setCascadeInit(!0),o._init=!0)},initHeadSortable:function(){var t=this;t.$header.sortable({axis:"x",distance:3,tolerance:"pointer",cancel:".pq-group-menu",stop:t.onSortable(t,t.that.options)})},initHeadDroppable:function(){var t=this,e=t.that,n=t.$header;n&&(n.droppable({accept:function(n){var i=1*n.attr("pq-col-indx");if(!isNaN(i)&&e.colModel[i])return t.acceptDrop},tolerance:"pointer",hoverClass:"pq-drop-hover",drop:t.onDrop(e,t)}),t.acceptDrop=!0)},initHeader:function(t,e){var n=this;if(n.$header){var i=n.$header,r=i.find(".pq-group-item");i.data("uiSortable")||n.initHeadSortable(),r.length||i.append("<span class='pq-group-placeholder'>"+t.strGroup_header+"</span>"),e.headerMenu&&n.initHeaderMenu()}},initHeaderMenu:function(){for(var n,i=this,r=i.that,o=r.options,a=i.$header,s=["<ul class='pq-group-menu'><li>",r.BS_on?"<span class='glyphicon glyphicon-chevron-left'></span>":"<div><span>&nbsp;</span></div>","<ul>"],c=o.groupModel,l=c.menuItems,u=0,h=l.length;h>u;u++)e(s,c,l[u],o);s.push("</ul></li></ul>"),(n=t(s.join("")).appendTo(a)).menu({icons:{submenu:"ui-icon-carat-1-w"},position:{my:"right top",at:"left top"}}),n.change(function(e){if("INPUT"==e.target.nodeName){var n=t(e.target).closest("li").data("option"),r={};r[n]=!o.groupModel[n],i.option(r)}})},isOn:function(){var t=this.that.options.groupModel;return t.on&&(t.dataIndx||[]).length},getRC:function(t){var e=1,n=this;return(t[n.childstr]||[]).forEach(function(t){e+=n.getRC(t)}),e+(t.pq_child_sum?1:0)},initmerge:function(){var t,e=this,n=e.that,i=n.options,r=i.groupModel,o=r.summaryInTitleRow,a=r.titleIndx,s=n.colModel.length,c=[],l=r.dataIndx,u=n.pdata||[];r.on&&(r.merge?l.forEach(function(n,i){u.forEach(function(n){n.pq_gtitle&&i==n.pq_level&&(t=e.getRC(n),c.push({r1:n.pq_ri,rc:t,c1:i,cc:1}))})}):l.length&&u.forEach(function(t){t.pq_gtitle&&(o&&(t.pq_close||"collapsed"!==o)||c.push({r1:t.pq_ri,rc:1,c1:a?n.colIndxs[a]:t.pq_level,cc:s}))})),c.length?(e.mc=i.mergeCells=c,n.iMerge.init()):e.mc.length&&(e.mc.length=0,n.iMerge.init())},initcollapsed:function(){var t,e,n,i,r,o=this,a=o.that,s=a.options.groupModel,c=s.merge,l=s.summaryInTitleRow,u=o.nodeClose,h=a.pdata,d=o.id;if(h){for(var p=0,f=h.length;f>p;p++)(n=h[p]).pq_gtitle&&(i=n.pq_level,r=null,u&&null!=(e=u[t=n[d]])&&(delete u[t],r=n.pq_close=e),null==r&&(r=n.pq_close),r?o.hideRows(p+1,i,c,l):c&&(n.pq_hidden=!0));a._trigger("groupHideRows")}},updateItems:function(t){var e,n,i=this,r=0,o=i.childstr;return(t||i.that.pdata).forEach(function(t){t.pq_gtitle&&(t.pq_items=(n=(e=t[o]).length)&&e[0][o]?i.updateItems(e):n,r+=t.pq_items)}),r},removeEmptyParent:function(t){var e=this,n=e.that.pdata,i=e.childstr;if(!t[i].length){var r=e.getParent(t),o=r?r[i]:n,a=o.indexOf(t);o.splice(a,1),r&&e.removeEmptyParent(r)}},addNodes:function(t,e,n){this.moveNodes(t,e,n,!0)},deleteNodes:function(t){this.moveNodes(t,null,null,null,!0)},moveNodes:function(t,e,n,i,r){var o,a,s,c=this,l=c.that,u=c.childstr,h="pq_hidden",d=l.options,p=d.groupModel,f=p.dataIndx,g=d.dataModel.data,m=c.parentId,v=0,b=t.length;if(e){var _=e[u],y=_.length,C=_[0],x=(n=null==n||n>=y?y:n,g.indexOf(C)+n);if(C.pq_gtitle)throw"incorrect nodes"}if(t=t.slice(0),b){for(l._trigger("beforeMoveNode");b>v;v++)s=t[v],i?e[u].splice(n++,0,s):(a=(o=c.getParent(s))[u].indexOf(s),r?o[u].splice(a,1):o==e?n=pq.moveItem(s,e[u],a,n):(e[u].splice(n++,0,s),o[u].splice(a,1))),C&&(f.forEach(function(t){s[t]=C[t]}),s[m]=C[m],s[h]=C[h]),i?g.splice(x++,0,s):(a=g.indexOf(s),r?g.splice(a,1):x=pq.moveItem(s,g,a,x),c.removeEmptyParent(o));c.updateItems(),c.summaryT(),c.isCascade(p)&&(c.cascadeInit(),c.setValCBox()),l.iRefresh.addRowIndx(),c.initmerge(),l._trigger((i?"add":r?"delete":"move")+"Node",null,{args:arguments}),l.refresh({header:!1})}},onCellClick:function(e){return function(n,i){if(i.rowData.pq_gtitle&&t(n.originalEvent.target).hasClass("pq-group-icon"))if(pq.isCtrl(n)){var r=i.rowData;e[r.pq_close?"expand":"collapse"](r.pq_level)}else e.toggleRow(i.rowIndxPage,n)}},onCellMouseDown:function(){return function(e,n){n.rowData.pq_gtitle&&t(e.originalEvent.target).hasClass("pq-group-icon")&&e.preventDefault()}},onCellKeyDown:function(e,n){return function(i,r){return r.rowData.pq_gtitle&&t.inArray(r.dataIndx,n.dataIndx)>=0&&i.keyCode==t.ui.keyCode.ENTER?(e.toggleRow(r.rowIndxPage,i),!1):void 0}},onChange:function(t,e){return function(n,i){e.source==i.source||"checkbox"==i.source||(t.summaryT(),t.that.refresh())}},onColumnDrag:function(t){return function(e,n){var i=n.column,r=i.colModel;r&&r.length||!1===i.groupable||i.denyGroup?t.acceptDrop=!1:t.initHeadDroppable()}},onCustomSort:function(t,e){var n=this,i=n.that,r=i.options.groupModel,o=r.dataIndx,a=e.sorter,s=(a[0]||{}).dataIndx,c=i.columns[s],l=o.indexOf(s);if(o.length&&1==a.length){if(l>=0&&c.groupChange)return;if("pq_order"==s||(c.summary||{}).type)return n._delaySort(e);var u=o.map(function(t){return{dataIndx:t,dir:a[0].dir}}).concat(a);return u=pq.arrayUnique(u,"dataIndx"),n._delaySort(e,function(t){e.sort_composite=u.map(r.titleIndx==s?function(e){return i.iSort.compileSorter([e],t)}:function(e){return e.dataIndx==s?i.iSort.compileSorter([e],t):void 0})})}},_delaySort:function(t,e){var n=this,i=n.that,r=i.pdata;return r&&r.length?(i.one("skipGroup",function(){return e&&e(r),t.data=r,n.onCustomSortTree({},t),i.pdata=t.data,n.summaryRestore(),!1}),!1):void 0},summaryRestore:function(){var t=this,e=t.childstr;t.that.pdata=function t(n,i){var r=[];return n.forEach(function(n){r.push(n),t(n[e]||[],n).forEach(function(t){r.push(t)})}),i&&i.pq_child_sum&&r.push(i.pq_child_sum),r}(t.getRoots())},onDrop:function(t,e){return function(n,i){var r=1*i.draggable.attr("pq-col-indx");e.addGroup(t.colModel[r].dataIndx),e.acceptDrop=!1}},onSortable:function(e,n){return function(){var i,r,o,a=[],s=n.groupModel.dataIndx;t(this).find(".pq-group-item").each(function(e,n){r=t(n),o=r.data("indx"),s[e]!==o&&(i=!0),a.push(o)}),i&&e.option({dataIndx:a},"","",function(){e.triggerChange()})}},onDataReady:function(t,e){return function(){var n=e.options.groupModel,i=n.dataIndx.length;n.on&&(i||n.grandSummary?(!1!==e._trigger("skipGroup")&&(t.groupData(),t.buildCache()),e.iRefresh.addRowIndx(),t.refreshColumns(),i&&(t.initcollapsed(),t.initmerge(),t.isCascade(n)&&t.cascadeInit())):t.refreshColumns(),t.setValCBox()),t.createHeader()}},onColMove:function(){var t=this,e=t.that.options.groupModel;return e.titleInFirstCol?(t.that.refreshView(),!1):void(e.titleIndx||t.initmerge())},option:function(e,n,i,r){var o=e.dataIndx,a=this,s=a.that,c=o?o.length:0,l=s.options.groupModel,u={source:i,oldGM:t.extend({},l),ui:e},h=l.dataIndx;0!=s._trigger("beforeGroupOption",null,u)&&(e.agg&&a.updateAgg(e.agg,l.agg),l.on&&h.length&&(!1===e.on||0===c)&&a.showRows(),t.extend(l,e),r&&r(),a.init(),a.setOption(),s._trigger("groupOption",null,u),!1!==n&&s.refreshView())},showRows:function(){this.that.options.dataModel.data.forEach(function(t){t.pq_hidden&&(t.pq_hidden=void 0)})},renderBodyCell:function(t,e){var n,i=this,r=e.checkbox,o=e.dataIndx.length-(i.isPivot()?1:0),a=e.titleIndx,s=a?e.indent:0,c=s*o,l="";return o&&(c+=s),function(t){var o,s,u=t.rowData,h=t.column,d=h.renderLabel;return t.Export?void 0:(o=(o=d&&d.call(i.that,t))||t.formatVal||t.cellData,r&&a&&(n=i.renderCB(r,u,e.cbId))&&(l=n[0]),{text:((s=l&&(h.useLabel||e.useLabel))?"<label>":"")+l+(null==o?"":o)+(s?"</label>":""),style:"text-indent:"+c+"px;"})}},renderCell:function(t,e){var n=this.renderTitle(t,e),i=this.renderBodyCell(t,e),r=this.renderSummary(t);return function(t,o){t._renderG=function(t){var a=t.rowData,s=a.pq_gtitle;return o&&s?n(t):s||a.pq_gsummary?r(t):e.titleIndx==t.dataIndx?i(t):void 0}}},renderSummary:function(t){var e=this.that,n=t.groupModel.dataIndx;return function(i){var r,o,a,s=i.column,c=s.summary;return c&&(o=c[n[i.rowData.pq_level]]||c.type)?"function"==typeof(a=t.summaryTitle[o])?a.call(e,i):(null==(r=i.formatVal)&&(r=null==(r=i.cellData)?"":r),"number"!=typeof r||s.format||parseInt(r)===r||(r=r.toFixed(2)),a?a.replace("{0}",r):r):void 0}},updateformatVal:function(t,e,n){var i=this.that.columns[t.dataIndx[n]];i.format&&i!=e.column&&(e.formatVal=pq.format(i,e.cellData))},renderTitle:function(t,e){var n,i,r=this,o=r.that,a=t.rtl,s=e.checkbox,c=t.bootstrap,l=["pq-group-title-cell"],u=e.titleIndx,h=e.indent,d=c.on,p=d?c.groupModel.icon:e.icon,f=d?["glyphicon "+p[0],"glyphicon "+p[1]]:["ui-icon "+p[0],"ui-icon "+p[1]];return function(t){var c,d,p,g,m=t.rowData,v=t.column,b=v.useLabel;return null!=t.cellData?(c=m.pq_close,p=e.title,r.updateformatVal(e,t,d=m.pq_level),p=null==(p="function"==typeof(p=v.renderLabel||p[d]||e.titleDefault)?p.call(o,t):p.replace("{0}",t.formatVal||t.cellData).replace("{1}",m.pq_items))?t.formatVal||t.cellData:p,g="pq-group-icon "+f[c?1:0],t.Export?p:(s&&u&&r.isCascade(e)&&(n=r.renderCB(s,m,e.cbId))&&(i=n[0],n[1]&&l.push(n[1])),{text:[(b=i&&(null!=b?b:e.useLabel))?"<label>":"","<span class='",g,"'></span>",i,p,b?"</label>":""].join(""),cls:l.join(" "),style:"text-align:"+(a?"right":"left")+";text-indent:"+h*d+"px;"})):void 0}},triggerChange:function(){this.that._trigger("groupChange")},removeGroup:function(t){var e=this;e.option({dataIndx:e.that.options.groupModel.dataIndx.filter(function(e){return e!=t})},"","",function(){e.triggerChange()})},refreshColumns:function(){for(var t,e,n,i=this.that,r=i.options,o=r.groupModel,a=o.on,s=o.fixCols,c=this.renderCell(r,o),l=i.columns,u=o.dataIndx,h=u.length,d=i.colModel,p=d.length;p--;)(t=d[p])._renderG&&delete t._renderG,t._nodrag&&(delete t._nodrag,delete t._nodrop),a&&(e=t.summary)&&e.type&&c(t);if(r.geditor=a?this.editorSummary(r,o):void 0,a)if(o.titleIndx)c(t=l[o.titleIndx],!0);else{for(p=h-1;p>=0;p--)c(t=l[u[p]],!0);if(s&&!o.titleInFirstCol)for(p=0;h>p;p++)(t=d[n=i.getColIndx({dataIndx:u[p]})])._nodrag=t._nodrop=!0,n!=p&&(i.iDragColumns.moveColumn(n,p,!0),i.refreshCM(null,{group:!0}))}},saveState:function(){var t=this,e=t.nodeClose=t.nodeClose||{};t.fillState(e)},setSumCols:function(t){var e=[],n=[];return t=pq.objectify(t),this.that.colModel.forEach(function(i){var r,o=i.summary;o&&o.type&&(t[r=i.dataIndx]||(e.push(i),n.push(r)))}),this._sumCols=e,this._sumDIs=n,[e,n]},setOption:function(){var t=this;t._init&&(t.refreshColumns(),t.summaryData.length=0,t.initmerge())},softRefresh:function(){var t=this,e=t.that;t.pdata=null,e.pdata.forEach(function(t){delete t.pq_hidden}),t.initcollapsed(),t.initmerge(),e.refresh({header:!1})},toggleLevel:function(e,n){var i=this.that.options.groupModel,r=i.collapsed,o=t.inArray(e,i.dataIndx),a=pq.isCtrl(n)?"All":"";this[(r[o]?"expand":"collapse")+a](o)},trigger:function(t){var e,n,r=t.rd,o=t.level,a=t.all,s=t.close,c=this.that,l=c.options.groupModel,u=l.dataIndx,h=l.collapsed,d=i.beforeTrigger(t.evt,c),p={};if(r){if(d(p={level:e=r.pq_level,close:s=!r.pq_close,group:r[u[e]]}))return!1;r.pq_close=s}else if(a){if(d(p={all:!0,close:s,level:o}))return!1;for(n=o;n<u.length;n++)h[n]=s}else if(null!=o){if(d(p={level:o,close:s}))return!1;h[o]=s}return c._trigger("group",null,p)},toggleRow:function(t,e){!1!==this.trigger({evt:e,rd:this.that.pdata[t]})&&this.softRefresh()}}),n.pqGrid.prototype.Group=function(t){var e=this.iGroup;return null==t?e:void e.expandTo(t.indx)}}(jQuery),function(t){var e=t.paramquery,n=e.pqGrid.prototype,i=n.options;t(document).on("pqGrid:bootup",function(t,e){var n=e.instance;n.iDrag=new r(n)});var r=e.cDrag=function(t){var e=this,n=t.options,i=e.rtl=n.rtl,r=n.dragModel;r.on&&(e.that=t,n.postRenderInterval=n.postRenderInterval||-1,e.model=r,e.ns=".pq-drag",r.tmplDragN=e.rtlfy(i,r.tmplDragN),r.tmplDrag=e.rtlfy(i,r.tmplDrag),t.on("CMInit",e.onCMInit.bind(e)).on("create",e.onCreate.bind(e)))};n.Drag=function(){return this.iDrag},i.dragModel={afterDrop:function(){},beforeDrop:function(t,e){var n=this.Drag(),i=n.getUI().nodes,r=this,o=this.Tree(),a=this.Group();o.isOn()?r=o:a.isOn()&&(r=a),n.clean(),r.deleteNodes(i)},diDrag:-1,dragNodes:function(t){return[t]},contentHelper:function(t,e){var n=e[0],i=e.length;return t.map(function(t){return n[t]}).join(", ")+(i>1?" ( "+i+" )":"")},clsHandle:"pq-drag-handle",clsDnD:"pq-dnd",clsNode:"pq-dnd-drag",iconAccept:"ui-icon ui-icon-check",iconReject:"ui-icon ui-icon-cancel",tmplDragN:"<span class='ui-icon ui-icon-grip-dotted-vertical pq-drag-handle' style='cursor:move;position:absolute;left:2px;top:4px;'>&nbsp;</span>",tmplDrag:"<span class='ui-icon ui-icon-grip-dotted-vertical pq-drag-handle' style='cursor:move;vertical-align:text-bottom;touch-action:none;float:left;'>&nbsp;</span>",cssHelper:{opacity:.7,position:"absolute",height:25,width:200,overflow:"hidden",background:"#fff",border:"1px solid",boxShadow:"4px 4px 2px #aaaaaa",zIndex:1001},tmplHelper:"<div class='pq-border-0 pq-grid-cell' style='pointer-events: none;'><span class='pq-icon' style='vertical-align:text-bottom;margin:0 5px;'></span><span></span></div>"},r.prototype={addIcon:function(t){var e="pq-icon";this.$helper.find("."+e).attr("class","").addClass(e+" "+t)},addAcceptIcon:function(){this.addIcon(this.model.iconAccept)},addRejectIcon:function(){this.addIcon(this.model.iconReject)},getHelper:function(e){var n=this,i=n.that,r=n.model,o=r.clsNode,a=t(e.target).closest(".pq-grid-cell,.pq-grid-number-cell"),s=n.cellObj=i.getCellIndices({$td:a}),c=r.diHelper||[r.diDrag],l=s.nodes=r.dragNodes.call(i,s.rowData,e),u=r.contentHelper.call(i,c,l),h=n.$helper=t(r.tmplHelper);return h.find("span:eq(1)").html(u),l.forEach(function(t){i.addClass({rowData:t,cls:o})}),n.addRejectIcon(),h.addClass("pq-theme pq-drag-helper").css(r.cssHelper).data("Drag",n),h[0]},getUI:function(){return this.cellObj},grid:function(){return this.that},isSingle:function(){return 1==this.getData().length},onCMInit:function(){var e=this.that,n=this.model,i=n.isDraggable,r=e.columns[n.diDrag],o=r?n.tmplDrag:n.tmplDragN;(r||e.options.numberCell).postRender=function(n){i&&!i.call(e,n)||t(n.cell).prepend(o)}},onCreate:function(){var e=this,n=e.model,i={top:20},r=-1==n.diDrag;e.that.on(!0,"cellMouseDown",e.onCellMouseDown.bind(e)),i[e.rtl?"right":"left"]=2,e.ele=e.that.$cont.children(":first").addClass(n.clsDnD+(r?" pq-drag-number":"")).draggable(t.extend({cursorAt:i,containment:"document",appendTo:"body"},n.options,{handle:"."+n.clsHandle,helper:e.getHelper.bind(e),revert:e.revert.bind(e)}))},onDrop:function(t,e,n){this.model[t].call(this.that,e,n)},clean:function(){var t=this;t.getUI().nodes.forEach(function(e){t.that.removeClass({rowData:e,cls:t.model.clsNode})})},revert:function(e){this.clean(),e||this.$helper.hide("explode",function(){t(this).remove()})},rtlfy:function(t,e){var n={left:"right",right:"left"};return t?e.replace(/left|right/g,function(t){return n[t]}):e},onCellMouseDown:function(e){var n=this.model;t(e.originalEvent.target).closest("."+n.clsHandle).length&&e.preventDefault()},over:function(t,e){this.addAcceptIcon()},out:function(t,e){this.addRejectIcon()}}}(jQuery),function(t){var e=t.paramquery,n=e.pqGrid.prototype,i=n.options;t(document).on("pqGrid:bootup",function(t,e){var n=e.instance;n.iDrop=new r(n)}),n.Drop=function(){return this.iDrop},i.dropModel={accept:".pq-dnd",clsParent:"pq-dnd-parent",drop:function(t,e){var n=e.helper.data("Drag"),i=this,r=i.Group(),o=i.Tree(),a=e.rowData,s=e.ratioY()<=.5,c=null==(c=e.rowIndx)?c:c+(s?0:1),l=function(t,e){if(a||e){var n,r=i.iDrop.parent,o=t.getChildren(r),c=o.length;(r||e)&&(c&&(n=a?a==r?s?null:0:o.indexOf(a)+(s?0:1):c),h?t.moveNodes(d,r,n):t.addNodes(d,r,n))}};if(n){var u=n.getUI(),h=n.grid()==i,d=u.nodes;r.isOn()?l(r):o.isOn()?l(o,!0):h?i.moveNodes(d,c):i.addNodes(d,c)}},getParent:function(t,e){var n,i,r,o,a,s=this,c=e.rowData,l=s.options,u=l.dropModel.divider,h=s.Group(),d=h.isOn(),p=s.Tree(),f=p.isOn();return c?(f?u?(o=(i=s.widget()).offset().left,a=(r=e.helper).offset().left,n=(l.rtl?o+i.width()-a-r.width()>u:a-o>u)?c:p.getParent(c)):n=p.getParent(c):d&&(n=h.isFolder(c)?c:h.getParent(c)),n):void 0}};var r=e.cDrop=function(t){var e=this,n=t.options,i=n.dropModel;e.model=i,i.on&&(e.that=t,e.rtl=n.rtl,e.ns=".pq-drop",t.on("create",e.onCreate.bind(e)))};r.prototype={addUI:function(e,n,i){var r=this;e.$cell=i,e.ratioY=function(){return r.ratioY(n,i)},t.extend(e,r.that.getCellIndices({$td:i}))},callFn:function(t,e,n){var i=this.model[t];return i?i.call(this.that,e,n):void 0},feedback:function(t,e){if(e.length){var n=this,i=n.getCellY(e),r=i[0],o=n.that.$cont,a=n.ratioY(t,e),s=o.offset().left,c=i[1];n.$feedback=n.$feedback||n.newF(),n.$feedback.css({top:.5>=a?r-1:c-1,left:s,width:o[0].clientWidth,zIndex:1e4}),o.css("cursor","copy")}},getCell:function(t){return t.closest(".pq-grid-cell,.pq-grid-number-cell")},getCellY:function(t){var e=t.offset().top;return[e,e+t[0].offsetHeight]},getDrag:function(t){return t.helper.data("Drag")},isOn:function(){return this.model.on},isOver:function(){},newF:function(){return t("<svg class='pq-border-0' style='box-sizing:border-box;position:absolute;border-width:1.5px;border-style:dashed;pointer-events:none;height:0;'></svg>").appendTo(document.body)},onCreate:function(){var e=this;e.that.$cont.droppable(t.extend({tolerance:"pointer"},e.model.options,{accept:e.model.accept,over:e.onOver.bind(e),out:e.onOut.bind(e),drop:e.onDrop.bind(e)}))},onOver:function(e,n){var i=this,r=i.model.divider,o=i.Drag=i.getDrag(n);n.draggable.on("drag.pq",i.onDrag.bind(i)),r&&(i.$left=t("<svg class='pq-border-0' style='position:absolute;width:0;height:100%;"+(i.rtl?"right:":"left:")+r+"px;top:0;border-style:dashed;border-width:1.5px;pointer-events:none;'></svg>").appendTo(i.that.$cont)),o&&o.over(e,n),i.isOver=function(){return!0},i.callFn("over",e,n)},onOut:function(t,e){e.draggable.off("drag.pq"),this.removeFeedback();var n=this.getDrag(e),i=this.$left;i&&i.remove(),n&&n.out(t,e),this.isOver=function(){},this.callFn("out",t,e)},setParent:function(t){var e=this.that,n=this.model.clsParent,i=this.parent;i!=t&&(i&&e.removeClass({rowData:i,cls:n}),t&&e.addClass({rowData:t,cls:n})),this.parent=t},setDeny:function(t,e,n){var i=this,r=i.Drag;i.denyDrop=!1===i.callFn("isDroppable",t,e),i.denyDrop?(r&&r.out(),i.removeFeedback()):(r&&r.over(),i.feedback(t,n),i.setParent(i.callFn("getParent",t,e)))},onDrag:function(t,e){var n=this,i=pq.elementFromXY(t),r=n.getCell(i);(r.length||n.that.$cont[0].contains(i[0]))&&(n.addUI(e,t,r),n.setDeny(t,e,r))},onDropX:function(t,e){var n=this,i=n.that,r=e.draggable,o=e.helper.data("Drag"),a=function(n){if(o&&o.grid()!=i)o.onDrop(n,t,e);else try{r.draggable("instance").options[n].call(r[0],t,e)}catch(a){}};a("beforeDrop"),n.callFn("drop",t,e),n.setParent(),a("afterDrop")},onDrop:function(t,e){var n,i=this,r=pq.elementFromXY(t);i.onOut(t,e),i.denyDrop||((n=i.getCell(r)).length||i.that.$cont[0].contains(r[0]))&&(i.addUI(e,t,n),i.onDropX(t,e))},onMouseout:function(){this.removeFeedback()},onMouseup:function(){var e=this;e.removeFeedback(),t(document).off(e.ns),e.that.$cont.off(e.ns)},ratioY:function(t,e){if(e.length){var n=t.pageY,i=this.getCellY(e),r=i[0];return(n-r)/(i[1]-r)}},removeFeedback:function(){var t=this;t.$feedback&&(t.$feedback.remove(),t.$feedback=null),t.that.$cont.css("cursor",""),requestAnimationFrame(function(){t.setParent()})}}}(jQuery),function(t){var e=t.paramquery;e.pqGrid.defaults.contextMenu={preInit:function(t){return!pq.isCtrl(t)&&void 0},init:function(t,e){if(e.$td){var n={r1:e.rowIndx,c1:e.colIndx,rc:1,cc:1},i=this.Selection();-1==i.indexOf(n)&&(i.removeAll(),this.Range(n).select()),this.focus(e)}}},t(document).on("pqGrid:bootup",function(t,e){var i=e.instance;i.iContext=new n(i)});var n=e.cContext=function(t){var e=this,n=t.options;e.model=n.contextMenu,e.that=t,e.ns=".pq-cmenu",e.rtl=n.rtl,t.on("context",e.onContext.bind(e)).on("destroy",e.removeMenu.bind(e))};n.prototype={createMenu:function(e){e=e.filter(function(t){return null!=t});var n,i=this,r="";return e.forEach(function(t,e){r+=i.getItemHtml(t,e)}),(n=t("<div dir='"+(i.rtl?"rtl":"ltr")+"' class='pq-cmenu pq-theme pq-popup'><table>"+r+"</table></div>").appendTo(document.body)).find(".pq-cmenu-item").each(function(n,i){t(i).data("item",e[n])}),n.on("mouseover",i.onMouseOver.bind(i)).on("remove",i.onRemove(i)),n},get$Item:function(e){return t(e.target).closest(".pq-cmenu-item")},getItem:function(t){return this.get$Item(t).data("item")},getItemHtml:function(t,e){if("separator"==t)return"<tr class='pq-cmenu-item'><td colspan=4 class='pq-bg-3' style='height:0px;'></td></td>";var n=t.style,i=t.tooltip;return"<tr class='pq-cmenu-item "+(t.disabled?"pq_disabled":"")+" "+(t.cls||"")+"' indx="+e+"><td><span class='"+(t.icon||"")+"' /></td><td "+(n?'style="'+n+'"':"")+" "+(i?'title="'+i+'"':"")+">"+t.name+"</td><td>"+(t.shortcut||"")+"</td><td><span class='"+(t.subItems?"pq-submenu ui-icon ui-icon-triangle-1-"+(this.rtl?"w":"e"):"")+"' /></td></tr>"},onContext:function(t,e){return this.model.on?this.showMenu(t,e):void 0},onRemove:function(e){return function(){t(this).find(".pq-cmenu-item").each(e.removeSubMenu)}},onMouseDown:function(t){this.getItem(t)||this.removeMenu()},onclickDoc:function(t){var e,n=this.getItem(t);n&&(n.disabled||(e=n.action)&&!1!==e.call(this.that,t,this.ui,n)&&this.removeMenu())},onMouseOver:function(t){var e,n=this,i=n.rtl,r=n.getItem(t),o="subMenu",a=n.get$Item(t),s=(r||{}).subItems;a.siblings().each(n.removeSubMenu),s&&s.length&&!a[0][o]&&((e=n.createMenu(s)).position({my:i?"right top":"left top",at:i?"left top":"right top",of:a,collision:"flipfit"}),a[0][o]=e)},removeMenu:function(){this.$menu&&(this.$menu.remove(),delete this.$menu,t(document.body).off(this.ns))},removeSubMenu:function(t,e){var n="subMenu";e[n]&&(e[n].remove(),delete e[n])},showMenu:function(e,n){var i,r=this,o=r.rtl,a=r.model,s=t(e.currentTarget),c=r.ns,l=r.that,u=r.$menu,h=n.type,d="function"==typeof(d=a[h+"Items"]||(h?a.items:a.miscItems))?d.call(l,e,n):d;return u&&r.removeMenu(),d&&d.length&&!1!==a.preInit.call(l,e,n)?(a.init.call(l,e,n),r.ui=n,u=r.$menu=r.createMenu(d),i=s.offset(),u.position({my:(o?"right":"left")+" top",at:"left+"+(e.pageX-i.left)+" top+"+(e.pageY-i.top),of:s,collision:"flipfit"}),t(document.body).on("click"+c,r.onclickDoc.bind(r)).on("mousedown"+c+" touchstart"+c,r.onMouseDown.bind(r)),!1):void 0}}}(jQuery),function(t){t(document).on("pqGrid:bootup",function(t,e){var i=e.instance;i.iAnim=new n(i)});var e=t.paramquery,n=e.cAnim=function(t){var e=this,n=e.model=t.options.animModel;e.grid=t,e.nodes=[],n.on&&t.on(n.events,e.onBefore.bind(e))},i=e.pqGrid.prototype,r=i.options;i.Anim=function(){return this.iAnim},r.animModel={duration:290,events:"beforeSortDone beforeFilterDone beforeRowExpandDone beforeGroupExpandDone beforeMoveNode beforeAutoRowHeight beforeValidateDone beforeTreeExpandDone onResizeHierarchy",eventsH:"beforeColAddDone beforeColRemoveDone beforeHideColsDone beforeColumnCollapseDone beforeColMoveDone beforeFlex columnResize"},e.mixAnim={cleanUp:function(){(this.data||[]).forEach(function(t){t.pq_top=t.pq_hideOld=void 0}),this.data=this.render=null},stop:function(){this.nodes.forEach(function(t){t.stop()}),this.nodes=[]}},n.prototype=t.extend({isActive:function(){return this._active},onBefore:function(t,e){if(!t.isDefaultPrevented()&&!this.data){var n,i=this,r=i.grid,o=r.iRenderB,a=i.data=o.data,s=i.render=[];try{i.htTbl=o.dims.htTbl,o.eachV(function(t,e){n=o.get$Row(e),t.pq_render=1,s.push([t,n.clone(),n.map(function(t,e){return e.parentNode})])}),a.forEach(function(t,e){t.pq_top=o.getTop(e),t.pq_hideOld=t.pq_hidden}),r.one("refresh",i.oneRefresh.bind(i)),setTimeout(function(){i.cleanUp()})}catch(c){i.data=null}}},oneRefresh:function(){if(this.data){var e,n=this,i=n.grid.iRenderB,r=n.model.duration,o=t([i.$tbl_left[0],i.$tbl_right[0]]),a=n.htTbl,s=i.dims.htTbl;n.stop(),n._active=!0,a>s&&o.css("height",a),setTimeout(function(){o.css("height",i.dims.htTbl),n._active=!1},r),i.eachV(function(t,o){delete t.pq_render;var a,s,c=i.getTop(o),l=t.pq_top;(l!=c||t.pq_hideOld)&&(e=i.get$Row(o),null==l||t.pq_hideOld?(a={opacity:0},s={opacity:1}):(a={top:l},s={top:c}),e.css(a).animate(s,r),n.nodes.push(e))}),n.render.forEach(n.removeRows.bind(n)),n.cleanUp()}},removeRows:function(e){var n,i=this,r=e[0],o=r.pq_ri,a=i.model.duration,s={opacity:1,top:r.pq_top};if(r.pq_render){if(delete r.pq_render,(n=e[1].each(function(n,i){t(i).removeAttr("id").appendTo(e[2][n]).children().removeAttr("id")})).css(s),null==o||r.pq_hidden)s={opacity:0};else try{s={top:i.grid.iRenderB.getTop(o)}}catch(c){s={opacity:0}}n.animate(s,a,function(){this.parentNode&&this.parentNode.removeChild(this)}),i.nodes.push(n)}}},e.mixAnim)}(jQuery),function(t){t(document).on("pqGrid:bootup",function(t,e){var i=e.instance;i.iAnimH=new n(i)});var e=t.paramquery,n=e.cAnimH=function(t){var e=this,n=t.options,i=e.model=n.animModel;e.grid=t,e.rtl=n.rtl?"right":"left",e.nodes=[],i.on&&t.on(i.eventsH,e.onBeforeCol.bind(e))};e.pqGrid.prototype.AnimH=function(){return this.iAnimH},n.prototype=t.extend({get$Col:function(){var t=this.grid,e=t.iRenderB,n=t.iRenderHead,i=t.iRenderSum,r=e.getAllCells(),o=n.getAllCells(),a=i.getAllCells();return function(t){return e.get$Col(t,r).add(n.get$Col(t,o)).add(i.get$Col(t,a))}},onBeforeCol:function(t){if(!t.isDefaultPrevented()&&!this.data){var e,n=this,i=n.grid,r=n.data=i.getColModel(),o=n.get$Col(),a=i.iRenderB,s=n.render=[];try{r.forEach(function(t,e){t.pq_hideOld=t.hidden,t.pq_top=a.getLeft(e)})}catch(c){return void n.cleanUp()}a.eachH(function(t,n){e=o(n),t.pq_render=1,s.push([t,e.clone(),e.map(function(t,e){return e.parentNode.id})])}),i.one("softRefresh refresh",n.oneRefreshCol.bind(n))}},oneRefreshCol:function(){if(this.data){var t,e=this,n=e.grid.iRenderB,i=e.model.duration,r=e.get$Col();e.stop(),n.eachH(function(o,a){delete o.pq_render;var s=n.getLeft(a),c=o.pq_top,l=e.rtl,u={opacity:0},h={opacity:1},d={};(c!=s||o.pq_hideOld)&&(t=r(a),null==c?t.css(u).animate(h,i):o.pq_hideOld?(u[l]=c,h[l]=s,t.css(u).animate(h,i)):(d[l]=s,t.css(l,c).animate(d,i)),e.nodes.push(t))}),e.render.forEach(e.removeCols.bind(e)),e.cleanUp()}},removeCols:function(e){var n,i,r=this,o=e[0],a=r.model.duration,s=r.grid,c=s.iRenderB,l=s.colIndxs[o.dataIndx];o.pq_render&&(delete o.pq_render,n=e[1].each(function(n,i){t(i).removeAttr("id").appendTo(document.getElementById(e[2][n]))}),null==l||o.hidden?(n.css("opacity",1),i={opacity:0}):i={left:c.getLeft(l)},n.animate(i,a,function(){this.parentNode&&this.parentNode.removeChild(this)}),r.nodes.push(n))}},e.mixAnim)}(jQuery),function(t){var e=t.paramquery,n=e.pqGrid.defaults;t(document).on("pqGrid:bootup",function(t,e){var n=e.instance;n.iFillHandle=new i(n)}),n.fillHandle="all",n.autofill=!0;var i=e.cFillHandle=function(t){var e=this;e.that=t,e.rtl=t.options.rtl,t.on("selectChange",e.onSelectChange(e)).on("selectEnd",e.onSelectEnd(e)).on("assignTblDims",e.onRefresh(e)).on("keyDown",e.onKeyDown.bind(e))};i.prototype={getLT:function(t,e,n,i){return Math.min(t-e/2+e,n["offset"+i])-e},create:function(){var e=this,n=e.that;if(!e.locked&&(e.remove(),1===(i=n.Selection().address()).length)){var i,r="parentNode",o=n.iMerge.getRootCellO((i=i[0]).r2,i.c2,!0),a=n.getCell(o);if(a.length&&!1!==n._trigger("beforeFillHandle",null,o)){var s=a[0][r][r],c=s[r],l=n.iRenderB.getCellCoords(o.rowIndxPage,o.colIndx),u=e.getLT(l[2],10,s,"Width"),h={position:"absolute",top:e.getLT(l[3],10,s,"Height"),height:10,width:10,background:"#333",cursor:"crosshair",border:"2px solid #fff",zIndex:1},d=t("<div class='pq-fill-handle'></div>").appendTo(c);h[e.rtl?"right":"left"]=u,d.css(h),e.$wrap=d,e.setDraggable(),e.setDoubleClickable()}}},onSelectChange:function(t){return function(){t.remove()}},onSelectEnd:function(t){return function(){this.options.fillHandle&&t.create()}},onRefresh:function(t){var e;return function(){this.options.fillHandle?(clearTimeout(e),e=setTimeout(function(){t.that.element&&t.create()},50)):t.remove()}},remove:function(){var t=this.$wrap;t&&t.remove()},setDoubleClickable:function(){var t=this,e=t.$wrap;e&&e.on("dblclick",t.onDblClick(t.that,t))},setDraggable:function(){var t=this,e=t.$wrap;e&&e.draggable({helper:function(){return"<div style='height:10px;width:10px;cursor:crosshair;'></div>"},appendTo:t.that.$cont,start:t.onStart.bind(t),drag:t.onDrag.bind(t),stop:t.onStop.bind(t)})},patternDate:function(t){var e=this;return function(n){var i=new Date(t);return i.setDate(i.getDate()+(n-1)),e.formatDate(i)}},formatDate:function(t){return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()},patternDate2:function(t,e){var n,i=new Date(t),r=new Date(e),o=this,a=r.getDate()-i.getDate(),s=r.getMonth()-i.getMonth(),c=r.getFullYear()-i.getFullYear();return!s&&!c||!a&&!s||!c&&!a?function(e){var n=new Date(t);return a?n.setDate(n.getDate()+a*(e-1)):s?n.setMonth(n.getMonth()+s*(e-1)):n.setFullYear(n.getFullYear()+c*(e-1)),o.formatDate(n)}:(i=Date.parse(i),n=Date.parse(r)-i,function(t){var e=new Date(i+n*(t-1));return o.formatDate(e)})},getDT:function(t){for(var e,n,i,r=t.length,o=0,a=pq.valid;r>o;o++){if(a.isFloat(e=t[o])?i="number":a.isDate(e)&&(i="date"),n&&n!=i)return"string";n=i}return i},pattern:function(t){var e=this.getDT(t);if("string"==e||!e)return!1;var n,i,r,o=t.length,a="date"===e;return a||(t=t.map(function(t){return 1*t})),2===o?a?this.patternDate2(t[0],t[1]):(i=t[0]-(n=t[1]-t[0]),function(t){return n*t+i}):3===o&&(r=t[0]-(n=(t[2]-2*t[1]+t[0])/2)-(i=t[1]-t[0]-3*n),function(t){return n*t*t+i*t+r})},autofillVal:function(t,e,n,i){var r,o,a,s,c,l=this.that,u=t.r1,h=t.c1,d=t.r2,p=t.c2,f=e.r1,g=e.c1,m=e.r2,v=e.c2,b=[];if(i){for((s={r1:u,r2:d}).c1=h>g?g:p+1,s.c2=h>g?h-1:v,c=g-h,o=g;v>=o;o++)if(c++,h>o||o>p)for(r=0,a=u;d>=a;a++)b.push(n[r](c,o)),r++}else for((s={c1:h,c2:p}).r1=u>f?f:d+1,s.r2=u>f?u-1:m,c=f-u,o=f;m>=o;o++)if(c++,u>o||o>d)for(r=0,a=h;p>=a;a++)b.push(n[r](c,o)),r++;return l.Range(s).value(b),!0},autofill:function(t,e){var n,i,r,o,a,s,c,l,u=this.that,h=u.colModel,d=u.get_p_data(),p=[],f=t.r1,g=t.c1,m=t.r2,v=t.c2,b=e.c1!=g||e.c2!=v;if(b){for(a=f;m>=a;a++){if(u._trigger("autofillSeries",null,c={sel:{r:a,c:g},x:!0}),!(l=c.series))return;p.push(l)}return this.autofillVal(t,e,p,b)}for(s=g;v>=s;s++){for(i=(n=h[s]).dataType,o=n.dataIndx,r=[],a=f;m>=a;a++)r.push(d[a][o]);if(u._trigger("autofillSeries",null,c={cells:r,sel:{r1:f,c:s,r2:m,r:f}}),!(l=c.series||this.pattern(r,i)))return;p.push(l)}return this.autofillVal(t,e,p)},onKeyDown:function(e){if(!this.oldAF&&pq.isCtrl(e)){var n=this,i=n.that.options;n.oldAF=i.autofill,i.autofill=!1,t(document.body).one("keyup",function(){i.autofill=n.oldAF,delete n.oldAF})}},onStop:function(){var t=this,e=t.that,n=e.options.autofill,i=t.sel,r=e.Selection().address()[0];i.r1==r.r1&&i.c1==r.c1&&i.r2==r.r2&&i.c2==r.c2||n&&t.autofill(i,r)||e.Range(i).copy({dest:r}),t.locked=!1},onStart:function(){this.locked=!0,this.sel=this.that.Selection().address()[0]},onDrag:function(e){var n=this.that,i=n.options.fillHandle,r="all"==i,o=r||"horizontal"==i,a=r||"vertical"==i,s=document.elementFromPoint(e.clientX-10,e.clientY),c=t(s).closest(".pq-grid-cell");if(c.length){var l=n.getCellIndices({$td:c}),u=this.sel,h=u.r1,d=u.c1,p=u.r2,f=u.c2,g={r1:h,c1:d,r2:p,c2:f},m=function(t,e){g[t]=e,n.Range(g).select()},v=l.rowIndx,b=l.colIndx;r&&p>=v&&v>=h||o&&!a?b>f?m("c2",b):d>b&&m("c1",b):a&&(v>p?m("r2",v):h>v&&m("r1",v))}},onDblClick:function(t,e){return function(){var n=t.options,i=n.fillHandle;if("all"==i||"vertical"==i){for(var r,o=t.Selection().address()[0],a=o.c2,s=o.r2+1,c=n.dataModel.data,l=t.getColModel()[a].dataIndx;r=c[s];){if(null!=r[l]&&""!==r[l]){s--;break}s++}e.onStart(),t.Range({r1:o.r1,c1:o.c1,r2:s,c2:a}).select(),e.onStop()}}}}}(jQuery),function(t){t(document).on("pqGrid:bootup",function(t,n){new e(n.instance)});var e=t.paramquery.cScroll=function(t){var e=this;e.that=t,e.ns=".pqgrid-csroll",e.rtl=t.options.rtl,t.on("create",e.onCreate.bind(e))};e.prototype={onCreate:function(){var e=this,n=e.that,i=n.iDrop&&n.iDrop.isOn();t(i?document:n.$cont).on("mousedown",e.onMouseDown.bind(e))},onMouseDown:function(e){var n,i=this,r=i.that,o=t(e.target),a=(i.$draggable=o.closest(".ui-draggable")).length,s=i.ns;(a||o.closest(r.$cont).length)&&(n=o.closest(".pq-fill-handle").length,t(document).on("mousemove"+s,i[a&&!n?"onMouseMove":"process"].bind(i)).on("mouseup"+s,i.onMouseUp.bind(i)))},onMouseMove:function(t){var e=this,n=e.that;(e.capture||pq.elementFromXY(t).closest(n.$cont).length&&n.iDrop.isOver())&&(e.capture=!0,e.process(t))},onMouseUp:function(){t(document).off(this.ns),this.capture=!1},process:function(t){var e=this,n=e.that.$cont,i=n[0].offsetHeight,r=n[0].offsetWidth,o=n.offset(),a=o.top,s=o.left,c=a+i,l=s+r,u=t.pageY,h=t.pageX,d=u-c,p=h-l,f=a-u,g=s-h;h>s&&l>h&&(d>0||f>0)?d>0?e.scrollV(d,!0):f>0&&e.scrollV(f):u>a&&c>u&&(p>0?e.scrollH(p,!0):g>0&&e.scrollH(g))},scrollH:function(t,e){this.scroll(t,this.rtl?!e:e,!0)},scrollV:function(t,e){this.scroll(t,e)},scroll:function(t,e,n){var i=this.that.iRenderB,r=i.getContRight()[0],o=r[n?"scrollWidth":"scrollHeight"],a=pq[n?"scrollLeft":"scrollTop"](r);t=Math.pow(t,1e3>o?1:1+(o-1e3)/o),i[n?"scrollX":"scrollY"](a+(e?t:-t))}}}(jQuery),function(t){var e=t.paramquery;e.cFormula=function(t){var e=this;e.that=t,e.oldF=[],t.one("ready",function(){t.on("CMInit",e.onCMInit.bind(e))}).on("dataAvailable",e.onDA.bind(e)).on(!0,"change",e.onChange.bind(e))},e.cFormula.prototype={onCMInit:function(){var t=this;t.isFormulaChange(t.oldF,t.formulas())&&t.calcMainData()},callRow:function(t,e,n){var i=this.that,r=0;if(t)for(;n>r;r++){var o=e[r],a=o[0];t[a.dataIndx]=o[1].call(i,t,a,o[2])}},onDA:function(){this.calcMainData()},isFormulaChange:function(t,e){var n=!1,i=0,r=t.length;if(r==e.length){for(;r>i;i++)if(t[i][1]!=e[i][1]){n=!0;break}}else n=!0;return n},calcMainData:function(){var t=this.formulaSave(),e=this.that,n=t.length;if(n){for(var i=e.options.dataModel.data,r=i.length;r--;)this.callRow(i[r],t,n);e._trigger("formulaComputed")}},onChange:function(t,e){var n,i=this,r=i.that,o=i.formulas(),a=o.length,s=e.addList,c=e.updateList,l=function(t){i.callRow(t.rowData,o,a)};a&&(s.forEach(l),c.forEach(l),1!=c.length||s.length||(n=c[0],o.forEach(function(t){r.refreshCell({rowIndx:n.rowIndx,dataIndx:t[0].dataIndx})})))},formulas:function(){var t,e,n,i=this.that,r=[],o=i.colIndxs;return(i.options.formulas||[]).forEach(function(a){(t=i.getColumn({dataIndx:n=a[0]}))&&(e=a[1])&&r.push([t,e,o[n]])}),r},formulaSave:function(){var t=this.formulas();return this.oldF=t,t}}}(jQuery),function(t){var e=t.paramquery;e.pqGrid.defaults.treeModel={cbId:"pq_tree_cb",source:"checkboxTree",childstr:"children",iconCollapse:["ui-icon-triangle-1-se","ui-icon-triangle-1-e"],iconFolder:["ui-icon-folder-open","ui-icon-folder-collapsed"],iconFile:"ui-icon-document",id:"id",indent:18,parentId:"parentId",refreshOnChange:!0},e.pqGrid.prototype.Tree=function(){return this.iTree},t(document).on("pqGrid:bootup",function(t,e){var i=e.instance;i.iTree=new n(i)});var n=e.cTree=function(t){var e=this;e.model="treeModel",e.that=t,e.fns={},e.init(),e.isTree=!0,e.cache={},e.chkRows=[],Object.defineProperty(t.options.treeModel,"nodeClose",{get:function(){return e.fillState({})},set:function(t){e.nodeClose=t}})};n.prototype=t.extend({},pq.mixin.ChkGrpTree,pq.mixin.GrpTree,{addNodes:function(t,e,n){var i,r,o,a,s,c=this,l=c.that,u=l.options,h=u.treeModel,d=u.dataModel.data,p=c.parentId,f=c.childstr,g=c.id,m={},v=[],b=0,_=c.cache,y=[];if(t.forEach(function(t){a=t[p],s=s||_[a],c.eachChild(t,function(t,e){var n=t[g];_[n]||m[n]||(m[n]=t,e&&(t[p]=e[g]),v.push(t))},e||_[a])}),v.forEach(function(t){m[a=t[p]]||_[a]||delete t[p]}),i=((e=e||s)||{})[f]||c.getRoots()||[],r=d.indexOf((o=i.length)?0==n?e:null==n||n>o?i[o-1]:i[n-1]:e)+1,o=v.length){for(;o>b;b++)y.push({newRow:v[b],rowIndx:r++});l._digestData({addList:y,checkEditable:!1,source:"addNodes",history:h.historyAdd}),c.refreshView()}},updateId:function(t,e){var n=this.id,i=this.parentId,r=t[n],o=this.cache;o[e]||(t[n]=e,o[e]=t,delete o[r],(this.getChildren(t)||[]).forEach(function(t){t[i]=e}))},collapseAll:function(t){this[t?"expandNodes":"collapseNodes"](this.that.options.dataModel.data)},collapseNodes:function(t,e,n){for(var i,r,o=0,a=this.that,s=t.length,c=[],l=!n;s>o;o++)this.isFolder(i=t[o])&&this.isCollapsed(i)!==l&&c.push(i);if(c.length&&!1!==a._trigger("beforeTreeExpand",e,r={close:l,nodes:c})){for(s=c.length,o=0;s>o;o++)(i=c[o]).pq_close=l;a._trigger("treeExpand",e,r),this.setCascadeInit(!1),this.refreshView()}},deleteNodes:function(t){var e,n=this,i=n.that,r=i.options.treeModel,o=0,a={},s=n.id,c=[];if(t){for(e=t.length;e>o;o++)n.eachChild(t[o],function(t){var e=t[s];a[e]||(a[e]=1,c.push({rowData:t}))});i._digestData({deleteList:c,source:"deleteNodes",history:r.historyDelete}),n.refreshView()}},makeLeaf:function(t){t[this.childstr]=t.pq_close=t.pq_child_sum=void 0},expandAll:function(){this.collapseAll(!0)},expandNodes:function(t,e){this.collapseNodes(t,e,!0)},expandTo:function(t){var e=[];do{t.pq_close&&e.push(t)}while(t=this.getParent(t));this.expandNodes(e)},exportCell:function(t,e){for(var n="",i=0;e>i;i++)n+="- ";return n+(null==t?"":t)},filter:function(t,e,n,i,r,o){for(var a,s,c,l,u=this.childstr,h=0,d=t.length;d>h;h++)s=!1,(l=(a=t[h])[u])&&(s=this.filter(l,e,n,i,r,o))&&(c=!0,r.push(a)),s||(n.isMatchRow(a,e,i)?(c=!0,r.push(a)):o.push(a));return c},getFormat:function(){for(var t,e,n=this,i=n.that.options.dataModel.data,r=0,o=i.length,a=n.parentId,s=n.childstr;o>r&&null==(t=i[r])[a];r++)if((e=t[s])&&e.length)return n.getParent(e[0])==t?"flat":"nested";return"flat"},getChildrenAll:function(t,e){for(var n,i=this.childstr,r=t[i]||[],o=r.length,a=0,s=e||[];o>a;a++)s.push(n=r[a]),n[i]&&this.getChildrenAll(n,s);return s},getLevel:function(t){return t.pq_level},_groupById:function(t,e,n,i,r){for(var o,a=this.childstr,s=0,c=n.length;c>s;s++){var l=n[s],u=l[e];l.pq_level=r,t.push(l),(o=i[u])?(l[a]=o,this._groupById(t,e,o,i,r+1)):(null!=l.pq_close||l[a])&&(l[a]=[])}},groupById:function(t){for(var e,n,i,r=this,o=r.id,a=r.parentId,s={},c=[],l=0,u=t.length;u>l;l++)null==(e=(i=t[l])[a])&&(e=""),(n=s[e])||(n=s[e]=[]),n.push(i);return r._groupById(c,o,s[""]||[],s,0),c},init:function(){var t=this,e=t.that,n=e.options,i=n.treeModel,r=i.cbId,o=t.dataIndx=i.dataIndx;t.cbId=r,t.prop="pq_tree_prop",t.id=i.id,t.parentId=i.parentId,t.childstr=i.childstr,t.onCMInit(),o?t._init||(t.on("CMInit",t.onCMInit.bind(t)).on("dataAvailable",t.onDataAvailable.bind(t)).on("dataReadyAfter",t.onDataReadyAfter.bind(t)).on("beforeCellKeyDown",t.onBeforeCellKeyDown.bind(t)).on("customSort",t.onCustomSortTree.bind(t)).on("customFilter",t.onCustomFilter.bind(t)).on("clearFilter",t.onClearFilter.bind(t)).on("change",t.onChange(t,e,i)).on("cellClick",t.onCellClick.bind(t)).on("refresh refreshRow",t.onRefresh(t,i)).on("valChange",t.onCheckbox(t,i)).on("refreshHeader",t.onRefreshHeader.bind(t)).on("beforeCheck",t.onBeforeCheck.bind(t)),t.setCascadeInit(!0),t._init=!0):t._init&&(t.off(),t._init=!1),t._init&&(n.groupModel.on=i.summary)},initData:function(){var t=this,e=t.that.options.dataModel;e.data=t["flat"==t.getFormat()?"groupById":"flatten"](e.data),t.buildCache()},isCollapsed:function(t){return!!t.pq_close},isOn:function(){return null!=this.that.options.treeModel.dataIndx},moveNodes:function(t,e,n,i){var r,o,a,s,c,l,u,h=this,d=arguments,p=h.that,f=n,g=h.parentId,m=h.id,v=h.childstr,b=p.options,_=b.treeModel,y=b.dataModel,C=h.getRoots(),x=!i,w=e?e[v]=e[v]||[]:C,M=w.length,O={},P=[],k=(n=null==n||n>=M?M:n,w);if(e&&(o=e[m]),t.forEach(function(t){O[t[m]]=1}),t.forEach(function(t){O[t[g]]||P.push(t)}),l=P.length){if(p._trigger("beforeMoveNode",null,{args:d}),x&&l>1)for(a=h.getParent(u=P[0]),s=(r=a?a[v]:C).indexOf(u),c=1;l>c;c++)if(r[c+s]!=P[c]){x=!1;break}for(c=0;l>c;c++)a=h.getParent(u=P[c]),s=(r=a?a[v]:C).indexOf(u),a==e?n=pq.moveItem(u,k,s,n):(k.splice(n++,0,u),r.splice(s,1)),_.leafIfEmpty&&a&&h.isEmpty(a)&&h.makeLeaf(a),u[g]=o;_.historyMove&&x&&p.iHistory.push({callback:function(n){var i=s;e==a&&i>f&&(i+=1),h.moveNodes(t,n?e:a,n?f:i,!0)}}),y.data=h.flatten(C),p._trigger("moveNode",null,{args:d}),p.refreshView()}},off:function(){var t,e=this.fns,n=this.that;for(t in e)n.off(t,e[t]);this.fns={}},on:function(t,e){return this.fns[t]=e,this.that.on(t,e),this},onCellClick:function(e,n){var i=this;n.dataIndx==i.dataIndx&&t(e.originalEvent.target).hasClass("pq-group-icon")&&(pq.isCtrl(e)?i[n.rowData.pq_close?"expandAll":"collapseAll"]():i.toggleNode(n.rowData,e))},onBeforeCellKeyDown:function(e,n){var i,r,o=this,a=o.that,s=n.rowData,c=n.dataIndx,l=e.keyCode,u=t.ui.keyCode;if(c==o.dataIndx){if(o.isFolder(s)&&(r=s.pq_close,l==u.ENTER&&!a.isEditable({rowIndx:s.pq_ri,dataIndx:c})||!r&&l==u.LEFT||r&&l==u.RIGHT))return o.toggleNode(s),!1;if(l==u.SPACE&&(i=a.getCell(n).find("input[type='checkbox']")).length)return i.click(),!1}},onChange:function(t,e,n){return function(i,r){var o=r.source||"",a=r.addList.length,s=r.deleteList,c=s.length;-1==o.indexOf("checkbox")&&("undo"!=o&&"redo"!=o||!a&&!c?n.summary&&n.refreshOnChange&&!a&&!c?(t.refreshSummary(!0),e.refresh()):"addNodes"!=o&&"deleteNodes"!=o||t.refreshViewFull():t.refreshViewFull(),n.leafIfEmpty&&s.forEach(function(e){var n=t.getParent(e.rowData);n&&t.isEmpty(n)&&t.makeLeaf(n)}))}},onClearFilter:function(t,e){return e.data=this.groupById(e.data),!1},onCustomFilter:function(t,e){var n=this,i=n.that,r=n.groupById(e.data),o=i.iFilterData,a=e.filters,s=[],c=[],l=e.mode;return n.filter(n.getRoots(r),a,o,l,s,c),e.dataTmp=n.groupById(s),e.dataUF=c,!1},onDataAvailable:function(){this.initData()},refreshSummary:function(t){var e=this;e.summaryT(),e.that.iRefresh.addRowIndx(),t&&e.showHideRows()},onDataReadyAfter:function(){var t=this,e=t.that.options.treeModel;e.summary&&t.refreshSummary(),t.showHideRows(),t.isCascade(e)&&t.cascadeInit()},option:function(e,n){var i,r=this,o=r.that,a=o.options.treeModel,s=a.dataIndx;t.extend(a,e),i=a.dataIndx,r.setCellRender(),r.init(),!s&&i&&r.initData(),!1!==n&&o.refreshView()},renderCell:function(t,e){return function(n){var i,r,o,a,s,c,l=n.rowData,u=t.that,h=e.indent,d=n.column,p=d.renderLabel||e.render,f=e.iconCollapse,g=e.checkbox,m=t.isFolder(l),v=t._iconCls(l,m,e),b=l.pq_level||0,_=b*h,y=["pq-group-title-cell"],C=["text-indent:",m?_:_+1*h,"px;"],x=n.formatVal||n.cellData;if(p){var w=u.callFn(p,n);null!=w&&("string"!=typeof w?(w.iconCls&&(v=w.iconCls),null!=w.text&&(x=w.text),a=w.attr,y.push(w.cls),C.push(w.style)):x=w)}return n.Export?t.exportCell(x,b):(g&&(s=t.renderCB(g,l,e.cbId))&&(c=s[0],s[1]&&y.push(s[1])),m&&(r="<span class='pq-group-icon ui-icon "+(l.pq_close?f[1]:f[0])+"'></span>"),v&&(o="<span class='pq-tree-icon ui-icon "+v+"'></span>"),i=c&&(d.useLabel||e.useLabel),{cls:y.join(" "),attr:a,style:C.join(""),text:[r,o,i?"<label>":"",c,x,i?"</label>":""].join("")})}},refreshViewFull:function(t){var e=this,n=e.that.options.dataModel;n.data=e.groupById(n.data),e.buildCache(),t&&e.refreshView()},_iconCls:function(t,e,n){if(n.icons){var i;if(e&&(i=n.iconFolder))return t.pq_close?i[1]:i[0];if(!t.pq_gsummary)return n.iconFile}},setCellRender:function(){var t,e,n=this,i=n.that,r=i.options.treeModel,o=i.columns;r.summary&&i.iGroup.refreshColumns(),(t=n.di_prev)&&((e=o[t])&&(e._render=null),n.di_prev=null),(t=r.dataIndx)&&((e=o[t])._render=n.renderCell(n,r),n.di_prev=t)},_showHideRows:function(t,e,n){for(var i,r,o,a,s=this,c=s.id,l=s.nodeClose,u=e||s.getRoots(),h=s.childstr,d=n||!1,p=u.length,f=0;p>f;f++)(o=u[f]).pq_hidden=d,(a=o[h])&&(l&&null!=(r=l[i=o[c]])&&(delete l[i],o.pq_close=r),s._showHideRows(t,a,d||o.pq_close))},showHideRows:function(){var t,e,n=this,i=n.that,r=0,o=i.get_p_data(),a=i.options.treeModel.summary;if(n._showHideRows(o),a)for(t=(o=i.pdata).length;t>r;r++)(e=o[r]).pq_gsummary&&(e.pq_hidden=n.getParent(e).pq_hidden)},toggleNode:function(t,e){this[t.pq_close?"expandNodes":"collapseNodes"]([t],e)}})}(jQuery),function(t){var e=t.paramquery,n=e.pqGrid.prototype,i=function(t){this.that=t;var e=t.options;this.options=e,this.selection=[],this.hclass=" pq-state-select "+(e.bootstrap.on?"":"ui-state-highlight")};e.cRows=i,n.SelectRow=function(){return this.iRows},i.prototype={_add:function(t,e){var n,i=this.that,r=!e,o=t.rowData,a=this.inViewRow(t.rowIndxPage);return!o.pq_hidden&&a&&(n=i.getRow(t)).length&&(n[r?"addClass":"removeClass"](this.hclass),!r&&n.removeAttr("tabindex")),o.pq_rowselect=r,t},_data:function(t){var e=this.that,n=(t=t||{}).all,i=n?0:e.riOffset,r=e.get_p_data();return[r,i,i+(n?r.length:e.pdata.length)]},add:function(t){var e=t.addList=t.rows||[{rowIndx:t.rowIndx}];t.isFirst&&this.setFirst(e[0].rowIndx),this.update(t)},extend:function(t){var e,n,i,r,o=t.rowIndx,a=[],s=this.getFirst();if(null!=s){if(null==(r=this.isSelected({rowIndx:s})))return;for(s>o?(n=s=[o,o=s][0],i=o-1):(n=s+1,i=o),e=n;i>=e;e++)a.push({rowIndx:e});this.update(r?{addList:a}:{deleteList:a})}},getFirst:function(){return this._firstR},getSelection:function(){for(var t,e=this.that.get_p_data(),n=0,i=e.length,r=[];i>n;n++)(t=e[n])&&t.pq_rowselect&&r.push({rowIndx:n,rowData:t});return r},inViewCol:function(t){var e=this.that,n=e.iRenderB;return e.options.freezeCols>t||t>=n.initH&&t<=n.finalH},inViewRow:function(t){var e=this.that,n=e.iRenderB;return e.options.freezeRows>t||t>=n.initV&&t<=n.finalV},isSelected:function(t){var e=t.rowData||this.that.getRowData(t);return e?!0===e.pq_rowselect:null},isSelectedAll:function(t){for(var e,n=this._data(t),i=n[0],r=n[1],o=n[2];o>r;r++)if((e=i[r])&&!e.pq_rowselect)return!1;return!0},removeAll:function(t){this.selectAll(t,!0)},remove:function(t){var e=t.deleteList=t.rows||[{rowIndx:t.rowIndx}];t.isFirst&&this.setFirst(e[0].rowIndx),this.update(t)},replace:function(t){t.deleteList=this.getSelection(),this.add(t)},selectAll:function(t,e){for(var n,i=[],r=this.that.riOffset,o=this._data(t),a=o[0],s=o[1],c=o[2];c>s;s++)(n=a[s])&&i.push({rowIndx:s,rowIndxPage:s-r,rowData:n});this.update(e?{deleteList:i}:{addList:i},!0)},setFirst:function(t){this._firstR=t},toRange:function(){for(var t,e,n=[],i=this.that,r=i.get_p_data(),o=0,a=r.length;a>o;o++)r[o].pq_rowselect?null!=t?e=o:t=e=o:null!=t&&(n.push({r1:t,r2:e}),t=e=null);return null!=t&&n.push({r1:t,r2:e}),i.Range(n)},toggle:function(t){this[this.isSelected(t)?"remove":"add"](t)},toggleAll:function(t){this[this.isSelectedAll(t)?"removeAll":"selectAll"](t)},update:function(t,e){var n=this,i=n.that,r={source:t.source},o=function(t){return e?t:i.normalizeList(t)},a=o(t.addList||[]),s=o(t.deleteList||[]);if(a=a.filter(function(t){return!1===n.isSelected(t)}),s=s.filter(n.isSelected.bind(n)),a.length||s.length){if(r.addList=a,r.deleteList=s,!1===i._trigger("beforeRowSelect",null,r))return;r.addList.forEach(function(t){n._add(t)}),r.deleteList.forEach(function(t){n._add(t,!0)}),i._trigger("rowSelect",null,r)}}}}(jQuery),function(t){var e=t.paramquery;t(document).on("pqGrid:bootup",function(t,e){var i=e.instance;i.iImport=new n(i)}),e.pqGrid.prototype.importWb=function(t){return this.iImport.importWb(t)};var n=e.cImport=function(t){this.that=t};n.prototype={fillRows:function(t,e,n){for(var i=t.length;e>i;i++)t.push(n?{}:[])},generateCols:function(t,e,n){var i,r,o=[],a=0,s=0,c=pq.excel.colWidth,l=[];for((n?n.cells:[]).forEach(function(t,e){l[t.indx||e]=t.value}),(e=e||[]).forEach(function(t,e){o[s=t.indx||e]=t}),t=Math.max(t,e.length,s+1);t>a;a++)this.copyStyle(i=o[a]||{},r={_title:l[a]||"",title:this._render,width:i.width||c,style:{},halign:"center"},r.style),i.hidden&&(r.hidden=!0),o[a]=r;return o},_render:function(t){return t.column._title||pq.toLetter(t.colIndx)},importS:function(t,n,i,r,o){var a,s,c,l,u,h,d,p,f,g,m,v,b,_,y,C,x=t.mergeCells,w=this,M=[],O={},P=0,k=t.rows,A=t.frozenRows||0,T=0,S=w.that.colModel,E=0,I=S&&S.length,R=e.cFormulas.shiftRC();for(null!=o&&(h=k[o],k=k.slice(E=o+1),A=(A-=E)>0?A:0),T=0,C=k.length;C>T;T++)s=(a=k[T]).indx||T,d=(c={}).pq_cellprop={},p=c.pq_cellstyle={},f=c.pq_cellattr={},g=c.pq_rowstyle={},m=c.pq_rowprop={},w.copyStyle(a,m,g),s!=T&&w.fillRows(M,s,!0),a.cells.forEach(function(t,e){l=t.indx||e,c[u=r&&I&&S[l]?S[l].dataIndx:l]=t.value,b=d[u]={},_=p[u]={},w.copyStyle(t,b,_),(v=t.comment)&&(f[u]={title:v}),t.format&&w.copyFormat(c,u,t.format),(y=t.formula)&&w.copyFormula(c,u,E?R(y,0,-E):y),l>=P&&(P=l+1)}),a.htFix&&(c.pq_htfix=c.pq_ht=a.htFix),a.hidden&&(c.pq_hidden=!0),M[s]=c;return O.title=t.name,n&&w.fillRows(M,M.length+n,!0),O.dataModel={data:M},P+=i||0,!r&&P&&(O.colModel=w.generateCols(P,t.columns,h)),O.mergeCells=(x||[]).map(function(t){var e=pq.getAddress(t);return e.r1-=E,e.r2-=E,e}).filter(function(t){return t.r1>=0}),O.freezeRows=A,O.freezeCols=t.frozenCols,O.pics=t.pics,O},copyFormula:function(t,e,n){(t.pq_fn=t.pq_fn||{})[e]=n},copyFormat:function(t,e,n){var i=t.pq_format=t.pq_format||{};n=pq.isDateFormat(n)?pq.excelToJui(n):pq.excelToNum(n),i[e]=n},copyStyle:function(t,e,n){var i,r;if((i=t.font)&&(n["font-family"]=i),(i=t.fontSize)&&(n["font-size"]=i+"px"),(i=t.color)&&(n.color=i),(i=t.bgColor)&&(n["background-color"]=i),null!=(i=t.bold)&&(n["font-weight"]=i?"bold":"normal"),t.italic&&(n["font-style"]="italic"),t.underline&&(n["text-decoration"]="underline"),t.wrap&&(n["white-space"]="normal"),(i=t.align)&&(e.align=i),(i=t.valign)&&(e.valign=i),i=t.border)for(r in i)n["border-"+r]=i[r]},importWb:function(t){var e,n=this,i=n.that,r=t.sheet;r=r||0,(e=t.workbook.sheets.filter(function(t,e){return r==e||r&&r==t.name})[0])&&function(t){i.options.dataModel.data=t.dataModel.data,delete t.dataModel,i.option(t)}(function(e){var i=n.importS(e,t.extraRows,t.extraCols,t.keepCM,t.headerRowIndx);return i.sheet=e,i.hidden=e.hidden,i}(e)),i._trigger("importWb"),i.refreshDataAndView()}}}(jQuery),function(t){pq.excelImport={attr:function(){var t=new RegExp('([a-z]+)\\s*=\\s*"([^"]*)"',"gi");return function(e){e=(e=e||"").slice(0,e.indexOf(">"));var n={};return e.replace(t,function(t,e,i){n[e]=i}),n}}(),getComment:function(e){var n=this,i={},r=n.pxml("xl/worksheets/_rels/sheet"+e+".xml.rels");if(r.length){var o=t(r.find('Relationship[Type*="/comments"]')[0]).attr("Target");o&&(o=o.split("/").pop(),(n.getFileText("xl/"+o).match(/<comment\s+[^>]*>([\s\S]*?)<\/comment>/g)||[]).forEach(function(e){var r=n.attr(e).ref,o=e.match(/<t(\s+[^>]*)?>([\s\S]*?)(?=<\/t>)/g),a=n.match(o[o.length-1],/[^>]*>([\s\S]*)/,1);i[r]=t.trim(a)}))}return i},getBase64:function(t){return"data:image/png;base64,"+JSZip.base64.encode(t.asBinary())},pxml:function(e){return t(t.parseXML(this.getFileText(e)))},getPic:function(e,n){var i,r=this,o=[],a=r.files,s=r.match(e,/<drawing\s+r:id=\"([^\"]*)\"(\s*)\/>/i,1);if(s){var c,l,u,h=r.pxml("xl/worksheets/_rels/sheet"+n+".xml.rels"),d=(d=t(h.find('Relationship[Id="'+s+'"]')[0]).attr("Target")).split("/").pop(),p={},f={},g=9500,m=r.pxml("xl/drawings/"+d),v=r.pxml("xl/drawings/_rels/"+d+".rels"),b=["col","colOff","row","rowOff"];for(i in v.find("Relationship[Type*='/image']").each(function(e,n){l=t(n),p[l.attr("Id")]=l.attr("Target").match(/media\/(.*)/)[1]}),a)/media\/.*/.test(i)&&(c=i.match(/media\/(.*)/)[1],f[c]=r.getBase64(a[i]));m.find("xdr\\:twoCellAnchor,xdr\\:oneCellAnchor").each(function(e,n){var i=t(n),r=i.find("xdr\\:cNvPr"),a=r.attr("descr"),s=r.attr("id"),c=i.find("a\\:blip").attr("r:embed"),l=p[c],h=i.find("xdr\\:from"),d=i.find("xdr\\:to"),m=i.find("xdr\\:ext"),v=d.length,_=[],y=v?[]:null;b.forEach(function(t,e){u=e%2?g:1,_.push(h.find("xdr\\:"+t).text()/u),v&&y.push(d.find("xdr\\:"+t).text()/u)}),o.push({id:s,name:a,src:f[l],from:_,to:y,cx:v?0:m.attr("cx")/g,cy:v?0:m.attr("cy")/g})})}return o},cacheTheme:function(){var e=t(t.parseXML(this.getFileTextFromKey("th"))).find("a\\:clrScheme").children(),n=this.themeColor=[];e.each(function(e,i){var r=t(i).children().attr("val");n[e]=r})},cacheStyles:function(){var e,n,i,r=this,o=t(t.parseXML(r.getStyleText())),a=t.extend(!0,{},r.preDefFormats),s=[],c=[""],l=["",""],u=[];o.find("numFmts>numFmt").each(function(e,n){var i=t(n),r=i.attr("formatCode");a[i.attr("numFmtId")]=r}),o.find("fills>fill>patternFill>fgColor[rgb]").each(function(e,n){var i=r.getColor(t(n).attr("rgb"));l.push(i)}),o.find("borders>border").each(function(e,n){var i=t(n).children(),o={},a="double";i.each(function(e,n){var i,s=t(n),c=s.children(),l=c.attr("theme"),u=l?"00"+r.themeColor[l]:0;c.length&&(i=s.attr("style"),o[n.tagName]=(i==a?"3px":"1px")+" "+(i==a?a:"solid")+" "+r.getColor(c.attr("rgb")||u||"00000000"))}),u.push(o)}),o.find("fonts>font").each(function(i,o){var a=t(o),s=1*a.find("sz").attr("val"),l=a.find("name").attr("val"),u=a.find("color").attr("rgb"),h={};return 0===i?(e=s,void(n=l.toUpperCase())):(a.find("b").length&&(h.bold=!0),u&&(h.color=r.getColor(u)),l&&l.toUpperCase()!=n&&(h.font=l),s&&s!=e&&(h.fontSize=s),a.find("u").length&&(h.underline=!0),a.find("i").length&&(h.italic=!0),void c.push(h))}),o.find("cellXfs>xf").each(function(e,n){var r,o,h,d=t(n),p=1*d.attr("numFmtId"),f=1*d.attr("fillId"),g=1*d.attr("borderId"),m=d.children("alignment"),v=1*d.attr("fontId"),b=v?c[v]:{},_={};for(h in m.length&&((r=m.attr("horizontal"))&&(_.align=r),(o=m.attr("vertical"))&&(_.valign=o),"1"==m.attr("wrapText")&&(_.wrap=!0)),p&&(/(?=.*m.*)(?=.*d.*)(?=.*y.*)/i.test(i=a[p])&&(i=i.replace(/(\[.*\]|[^mdy\/\-\s])/gi,"")),_.format=i),g&&(_.border=u[g]),f&&l[f]&&(_.bgColor=l[f]),b)_[h]=b[h];s.push(_)}),r.getStyle=function(t){return s[t]},o=0},getMergeCells:function(t){var e=this;return(t.match(/<mergeCell\s+.*?(\/>|<\/mergeCell>)/g)||[]).map(function(t){return e.attr(t).ref})},getFrozen:function(t){var e=this.match(t,/<pane.*?(\/>|<\/pane>)/,0),n=this.attr(e);return{r:1*n.ySplit||0,c:1*n.xSplit||0}},getFormula:function(e){var n={},i=t.paramquery.cFormulas.shiftRC();return function(t,r,o){if("<f"===t.substr(0,2)){var a,s=e.match(t,/^<f.*?>(.*?)<\/f>/,1),c=e.attr(t);return"shared"==c.t&&(s?n[c.si]={r:r,c:o,f:s}:s=i((a=n[c.si]).f,o-a.c,r-a.r)),s}}},getCols:function(t){for(var e=this,n=(t.match(/<dimension\s.*?\/>/)||[])[0],i=e.attr(n||"").ref,r=[],o=t.match(/<col\s.*?\/>/g)||[],a=i?pq.getAddress(i).c2+1:o.length,s=pq.excel.colRatio,c=0;a>c;c++)for(var l,u,h=e.attr(o[c]),d=1*h.min,p=1*h.max,f=1*h.hidden,g=1*h.width,m=h.style,v=m?e.getStyle(m):{},b=d;p>=b;b++){for(u in l={},f?l.hidden=!0:l.width=1*(g*s).toFixed(2),b!==r.length+1&&(l.indx=b-1),v)l[u]=v[u];r.push(l)}return r},getColor:function(t){return"#"+t.slice(2)},getPath:function(t){return this.paths[t]},getPathSheets:function(){return this.pathSheets},getFileTextFromKey:function(t){return this.getFileText(this.getPath(t))},getFileText:function(t){var e;return t&&(e=this.files[t.replace(/^\//,"")])?e.asText():""},getSheetText:function(t){t=t||0;var e=this.pathSheets.filter(function(e,n){return e.name===t||n===t})[0].path;return this.getFileText(e)},getStyleText:function(){return this.getFileTextFromKey("st")},getSI:function(t){var e,n=[],i=pq.unescapeXml,r=1*this.attr(this.match(t,/<sst.*?>[\s\S]*?<\/sst>/,0)).uniqueCount;if(t.replace(/<si>([\s\S]*?)<\/si>/g,function(t,r){e=[],r.replace(/<t.*?>([\s\S]*?)<\/t>/g,function(t,n){e.push(n)}),n.push(i(e.join("")))}),r&&r!==n.length)throw"si misatch";return n},getCsv:function(t){var e,n=[],i=Math.random()+"";return t=t.replace("\ufeff","").replace(/(?:^|[^"]+)"(([^"]|"{2})+)"(?=([^"]+|$))/g,function(t,e){var r=t.indexOf(e);return n.push(e.replace(/""/g,'"')),t.slice(0,r-1)+i+(n.length-1)+i}),e=new RegExp(-1==t.indexOf("\t")?",":"\t","g"),{sheets:[{rows:t.split(/\r\n|\r|\n/g).map(function(t){return{cells:t.split(e).map(function(t){if(0==t.indexOf(i)){var e=t.slice(i.length,t.indexOf(i,1));t=n[e]}else'""'===t&&(t="");return{value:t}})}})}]}},getWorkBook:function(t,e,n){var i=this,r={};e?r[e]=!0:"string"==typeof t&&(r.base64=!0),i.files=new JSZip(t,r).files,i.readPaths(),i.cacheTheme(),i.cacheStyles();var o=this.getPath("ss"),a=[],s=o?this.getSI(this.getFileText(o)):[];return i.getPathSheets().forEach(function(t,e){if(!n||n.indexOf(e)>-1||n.indexOf(t.name)>-1){var r=i.getFileText(t.path),o=i.match(r,/<sheetData.*?>([\s\S]*?)<\/sheetData>/,1),c=i.getWorkSheet(r,o,s,t.name,e+1);t.hidden&&(c.hidden=!0),a.push(c)}}),delete i.files,{sheets:a,activeId:i.activeId}},getWorkSheet:function(t,e,n,i,r){var o,a,s,c,l,u,h,d,p,f,g,m,v,b,_,y,C,x,w,M,O,P=this,k=P.getComment(r),A=[],T=0,S=pq.toNumber,E=P.getFormula(P),I=pq.formulas,R=pq.isDateFormat,D=P.getMergeCells(t),N=e.match(/<row[^<]*?\/>|<row.*?<\/row>/g)||[],L=P.getCols(t),z={},j=0,F=N.length;for(L.forEach(function(t,e){z[t.indx||e]=t});F>j;j++){for(o in u={cells:[]},M=(b=P.attr(x=N[j])).r,b.customHeight&&(u.htFix=1.5*b.ht),O=(p=b.s)?P.getStyle(p):{})u[o]=O[o];(w=M?M-1:j)!==j&&(u.indx=w),b.hidden&&(u.hidden=!0);for(var q=0,B=(h=x.match(/(<c[^<]*?\/>|<c.*?<\/c>)/g)||[]).length;B>q;q++){if(d=(_=P.attr(a=h[q])).t,v=P.match(a,/<c.*?>(.*?)(<\/c>)?$/,1),l={},"inlineStr"==d?f=v.match(/<t><!\[CDATA\[(.*?)\]\]><\/t>/)[1]:null!=(f=P.match(v,/<v>(.*?)<\/v>/,1)||void 0)&&(f="s"==d?n[f]:"str"==d?pq.unescapeXml(f):"b"==d?"1"==f:I.VALUE(f)),(g=_.r)?m=S(m=g.replace(/\d+/,"")):g=pq.toLetter(m=q)+(w+1),k[g]&&(l.comment=k[g]),T=T>m?T:m,void 0!==f&&(l.value=f),m!==q&&(l.indx=m),(s=E(v,w,m))&&(l.formula=pq.unescapeXml(s)),C=z[m],(p=_.s)&&(p=this.getStyle(p))){for(o in p)y=p[o],C&&C[o]==y||u[o]!=y&&(l[o]=y);c=l.format,null!=f&&!s&&c&&R(c)&&(l.value=I.TEXT(f,"m/d/yyyy"))}["bold","underline","italic"].forEach(function(t){null!=p&&null!=p[t]||((C||{})[t]||u[t])&&(l[t]=!1)}),u.cells.push(l)}A.push(u)}var U={rows:A,name:i,pics:P.getPic(t,r)},H=P.getFrozen(t);return D.length&&(U.mergeCells=D),L.length&&(U.columns=L),H.r&&(U.frozenRows=H.r),H.c&&(U.frozenCols=H.c),U},Import:function(t,e){var n=this,i=t.file,r=t.content,o=t.url,a="csv"==(o||(i||{}).name||"").slice(-3).toLowerCase()||t.csv,s=function(i,r){e(n[a?"getCsv":"getWorkBook"](i,t.type||r,t.sheets))};o?(o+="?"+Math.random(),window.Uint8Array?pq.xmlhttp(o,a?"text":"arraybuffer",s):JSZipUtils.getBinaryContent(o,function(t,e){s(e,"binary")})):i?pq.fileRead(i,a?"readAsText":"readAsArrayBuffer",s):r&&s(r)},match:function(t,e,n){var i=t.match(e);return i?i[n]:""},preDefFormats:{1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",5:"$#,##0_);($#,##0)",6:"$#,##0_);[Red]($#,##0)",7:"$#,##0.00_);($#,##0.00)",8:"$#,##0.00_);[Red]($#,##0.00)",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yyyy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yyyy h:mm",37:"#,##0_);(#,##0)",38:"#,##0_);[Red](#,##0)",39:"#,##0.00_);(#,##0.00)",40:"#,##0.00_);[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mm:ss.0",48:"##0.0E+0",49:"@"},readPaths:function(){var e,n=this,i=n.files,r=t(t.parseXML(i["[Content_Types].xml"].asText())),o=n.paths={wb:"sheet.main",ws:"worksheet",st:"styles",ss:"sharedStrings",th:"theme"};for(e in o)o[e]=r.find('[ContentType$="'+o[e]+'+xml"]').attr("PartName");for(e in i)if(/workbook.xml.rels$/.test(e)){o.wbrels=e;break}var a=t(n.getFileTextFromKey("wbrels")),s=t(n.getFileTextFromKey("wb")),c=n.pathSheets=[];n.activeId=1*s.find("workbookView").attr("activeTab")||null,s.find("sheet").each(function(e,n){var i=t(n),o=i.attr("r:id"),s=i.attr("name"),l=a.find('[Id="'+o+'"]').attr("Target"),u=r.find('Override[PartName$="'+l+'"]').attr("PartName");c.push({name:s,rId:o,path:u,hidden:"hidden"==i.attr("state")})})}}}(jQuery),function(t){var e=t.paramquery,n=e._pqGrid.prototype;n.exportExcel=function(t){return(t=t||{}).format="xlsx",this.exportData(t)},n.exportCsv=function(t){return(t=t||{}).format="csv",this.exportData(t)},n.exportData=function(t){return new i(this,t).Export(t)};var i=e.cExport=function(t){this.that=t};i.prototype=t.extend({copyStyle:function(t,e,n,i,r){i=i||{},r=r||{};var o,a=function(t){var n=e[t];return n&&i[t]!=n?n:void 0},s=function(t){var e=n[t];return e&&r[t]!=e?e:void 0};if(e){e=pq.styleObj(e),(o=a("background-color"))&&(t.bgColor=o),(o=a("font-size"))&&(t.fontSize=parseFloat(o)),(o=a("color"))&&(t.color=o),(o=a("font-family"))&&(t.font=o),(o=a("font-weight"))&&(t.bold="bold"==o),(o=a("white-space"))&&(t.wrap="normal"==o),(o=a("font-style"))&&(t.italic="italic"==o),(o=a("text-decoration"))&&(t.underline="underline"==o);var c=a("border");["left","right","top","bottom"].forEach(function(e){var n;((n=a("border-"+e))||(n=c))&&((t.border=t.border||{})[e]=n)})}n&&((o=s("align"))&&(t.align=o),(o=s("valign"))&&(t.valign=o))},getCsvHeader:function(t,e,n,i){for(var r,o,a,s=[],c=[],l=0;e>l;l++){for(var u=t[l],h=null,d=0,p=u.length;p>d;d++)(r=n[d]).hidden||!1===r.copy||(o=u[d],l>0&&o==t[l-1][d]||h&&d>0&&o==h?s.push(""):(a=(a=this.getTitle(o,d))?a.replace(/\"/g,'""'):"",h=o,s.push('"'+a+'"')));c.push(s.join(i)),s=[]}return c},getCSVContent:function(t,e,n,i,r,o,a,s,c,l,u,h,d){var p,f,g,m,v,b,_,y,C=this,x=t.separator||",",w=[];for(y=d?C.getCsvHeader(i,r,e,x):[],g=0;a>g;g++)if(!(v=o[g]).pq_hidden){m={rowIndx:b=s?g+c:g,rowIndxPage:b-c,rowData:v,Export:!0};for(var M=0;n>M;M++)if(!(_=e[M]).hidden&&!1!==_.copy){p=null,l.ismergedCell(b,M)?l.isRootCell(b,M)?((p=l.getRootCellO(b,M)).Export=!0,f=C.getRenderVal(p,u,h)[0]):f="":(m.colIndx=M,m.column=_,m.dataIndx=_.dataIndx,f=C.getRenderVal(m,u,h)[0]);var O=(null==f?"":f)+"";O=O.replace(/\"/g,'""'),w.push('"'+O+'"')}y.push(w.join(x)),w=[]}return"\ufeff"+y.join("\n")},getExportCM:function(t,e){return e>1?t:t.filter(function(t){return 0!=t.copy})},Export:function(t){var e,n,r,o,a=this,s=a.that,c=s.options.tabModel||{},l=c.tabs,u={sheets:[]};return!1!==s._trigger("beforeExport",null,t)&&("xlsx"==t.format?(l?(l.forEach(function(e,a){(r=e.instance||!(n=e.sheet)&&(r=s.iTab.create(a)))&&(o=new i(r),n=o._Export(t).sheets[0],e.hidden&&(n.hidden=!0)),u.sheets.push(n)}),u.activeId=c.activeId):u=a._Export(t),!1===s._trigger("workbookReady",null,{workbook:u})||t.workbook?u:(t.workbook=u,e=(e=pq.excel.exportWb(t))||a.postRequest(t),s._trigger("exportData",null,t),e)):a._Export(t))},_Export:function(t){var e,n=this,i=n.that,r=i.options,o=r.groupModel,a="remote"==r.pageModel.type,s=i.riOffset,c=i.iRenderB,l=i.iMerge,u=i.headerCells,h=u.length,d=i.colModel,p=d.length,f=n.getExportCM(d,h),g=f.length,m=r.treeModel,v=o.on&&o.dataIndx.length||a||m.dataIndx&&m.summary?i.pdata:r.dataModel.data,b=(v=r.summaryData?v.concat(r.summaryData):v).length,_=t.render,y=!t.noheader,C=t.format;return"xlsx"==C?n.getWorkbook(f,g,u,h,v,b,a,s,l,_,c,y,t.sheetName):(t.data="json"==C?n.getJsonContent(t,v):"csv"==C?n.getCSVContent(t,d,p,u,h,v,b,a,s,l,_,c,y):n.getHtmlContent(t,d,p,u,h,v,b,a,s,l,_,c,y),e=e||n.postRequest(t),i._trigger("exportData",null,t),e)},getHtmlHeader:function(t,e){for(var n,i,r,o,a,s=["<thead>"],c=0;e>c;c++){var l=t[c],u=null;s.push("<tr>");for(var h=0,d=l.length;d>h;h++)i=(n=l[h]).colSpan,!n.hidden&&i&&!1!==n.copy&&(r=n.rowSpan,c>0&&n==t[c-1][h]||u&&h>0&&n==u||(o=this.getTitle(n,h),u=n,s.push("<th colspan=",i," rowspan=",r," ",a=(a=n.halign||n.align)?"align="+a:"",">",o,"</th>")));s.push("</tr>")}return s.push("</thead>"),s.join("")},getHtmlBody:function(t,e,n,i,r,o,a,s,c){var l,u,h,d,p,f,g,m,v,b,_,y,C,x=[];for(l=0;i>l;l++)if(!(v=n[l]).pq_hidden){for(m={rowIndx:b=r?l+o:l,rowIndxPage:b-o,rowData:v,Export:!0},x.push("<tr>"),u=0;e>u;u++)if(!(h=t[u]).hidden&&!1!==h.copy){if(d=null,p=null,y="",a.ismergedCell(b,u)){if(!(p=a.isRootCell(b,u)))continue;(d=a.getRootCellO(b,u)).Export=!0,_=(f=this.getRenderVal(d,s,c))[0],g=f[1],y="rowspan="+p.rowspan+" colspan="+p.colspan+" "}else m.colIndx=u,m.column=h,m.dataIndx=h.dataIndx,_=(f=this.getRenderVal(m,s,c))[0],g=f[1];y+=(C=h.align)?"align="+C:"",_=pq.newLine(_=null==_?"":_),x.push("<td ",y,g?' style="'+g+'"':"",">",_,"</td>")}x.push("</tr>")}return x.join("")},getHtmlContent:function(t,e,n,i,r,o,a,s,c,l,u,h,d){var p=this,f=p.that,g=f.options.rtl,m=t.cssRules||"",v=f.element.find(".pq-grid-table"),b=v.css("font-family"),_=v.css("font-size"),y=[];return y.push("<!DOCTYPE html><html><head>",'<meta charset="utf-8" />',"<title>",t.title||"ParamQuery Pro","</title>","</head><body ",g?'dir="rtl"':""," >","<style>","table{empty-cells:show;font-family:"+b+";font-size:"+_+";border-collapse:collapse;}","td,th{padding: 5px;border:1px solid #ccc;}",m,"</style>","<table>"),y.push(d?p.getHtmlHeader(i,r,e):""),y.push(p.getHtmlBody(e,n,o,a,s,c,l,u,h)),y.push("</table></body></html>"),y.join("")},getJsonContent:function(t,e){return t.nostringify?e:JSON.stringify(e,t.nopqdata?function(t,e){return 0!==(t+"").indexOf("pq_")?e:void 0}:null,t.nopretty?null:2)},getXlsMergeCells:function(t,e,n,i){t=t.concat(n.getMergeCells(e,this.curPage,i));for(var r=[],o=pq.toLetter,a=t.length,s=0;a>s;s++){var c=t[s];c=o(c.c1)+(c.r1+1)+":"+o(c.c2)+(c.r2+1),r.push(c)}return r},getXlsCols:function(t,e){for(var n,i,r,o=[],a=0,s=pq.excel.colWidth;e>a;a++)r=1*((i=t[a])._width||s).toFixed(2),this.copyStyle(n={},i.style,i),r!==s&&(n.width=r),i.hidden&&(n.hidden=!0),pq.isEmpty(n)||(o.length!==a&&(n.indx=a),o.push(n));return o},getXlsHeader:function(t,e,n){for(var i=[],r=0;e>r;r++){for(var o=t[r],a=[],s=0,c=o.length;c>s;s++){var l=o[s];if(!1!==l.copy){var u=l.o_colspan,h=l.rowSpan,d=this.getTitle(l,s);r>0&&l==t[r-1][s]||s>0&&l==t[r][s-1]?d="":(u>1||h>1)&&n.push({r1:r,c1:s,r2:r+h-1,c2:s+u-1}),a.push({value:d,bgColor:"#eeeeee"})}}i.push({cells:a})}return i},getXlsBody:function(n,i,r,o,a,s,c,l,u,h,d){var p,f,g,m,v,b,_,y,C,x,w,M,O,P,k,A,T,S,E,I,R,D,N,L,z,j,F,q,B=this,U=B.that,H=[],V=e.cFormulas.shiftRC(U);for(f=0;o>f;f++){for(R=(P=r[f]).pq_cellattr,L=P.pq_cellprop||{},j=P.pq_cellstyle||{},O=[],y={rowIndx:k=a?f+s:f,rowIndxPage:k-s,rowData:P,Export:!0},g=0;i>g;g++)T=(_=n[g]).style,S=_,F=j[A=_.dataIndx],z=L[A],m=b=P[A],v=U.getFormula(P,A),p=!1,c.ismergedCell(k,g)&&(c.isRootCell(k,g,"o")||(p=!0)),p||v||(y.colIndx=g,y.column=_,y.dataIndx=A,m=(C=B.getRenderVal(y,l,u))[0],x=C[1],M=C[2],w=C[3]),I={},"string"==typeof(q=B.getCellFormat(P,A)||_.format)&&(pq.isDateFormat(q)?(m!==b&&t.datepicker.formatDate(q,new Date(b))===m&&(m=b),q=pq.juiToExcel(q)):(m!==b&&pq.formatNumber(b,q)===m&&(m=b),q=pq.numToExcel(q)),I.format=q),void 0!==m&&(I.value=m),R&&(D=R[A])&&((N=D.title)&&(I.comment=N),(N=D.style)&&B.copyStyle(I,N)),B.copyStyle(I,F,z,T,S),B.copyStyle(I,x,M,T,S),w&&(I.comment=w),v&&(h&&(v=V(v,0,h)),I.formula=v),pq.isEmpty(I)||(I.dataIndx=A,O.length!==g&&(I.indx=g),O.push(I));E={},O.length&&(E.cells=O),P.pq_hidden&&(E.hidden=!0),P.pq_htfix&&(E.htFix=P.pq_htfix),B.copyStyle(E,P.pq_rowstyle,P.pq_rowprop),d&&(N=(d.call(U,y)||{}).style)&&B.copyStyle(E,N),pq.isEmpty(E)||(H.length!==f&&(E.indx=f),H.push(E))}return H},getCellFormat:function(t,e){var n=t.pq_format;return n&&n[e]},getWorkbook:function(t,e,n,i,r,o,a,s,c,l,u,h,d){var p,f=this,g=f.getXlsCols(t,e),m=[],v=f.that,b=v.options,_=b.freezeCols,y=h?i:0,C=y+(b.freezeRows||0),x=h?f.getXlsHeader(n,i,m):[],w=f.getXlsMergeCells(m,h?i:0,c,o),M=f.getXlsBody(t,e,r,o,a,s,c,l,u,y,b.rowInit),O={columns:g,rows:x.concat(M)};return b.rtl&&(O.rtl=!0),w.length&&(O.mergeCells=w),(p=x.length)&&(O.headerRows=p),C&&(O.frozenRows=C),_&&(O.frozenCols=_),(d||(d=b.title))&&(O.name=d),O.pics=v.iPic.pics,{sheets:[O]}},postRequest:function(e){var n,i,r=e.format,o=e.url,a=e.filename||"pqGrid";if(e.zip&&"xlsx"!=r){var s=new JSZip;s.file(a+"."+e.format,e.data),n=s.generate({type:"base64",compression:"DEFLATE"}),i=!0,r="zip"}else i=!!e.decodeBase,n=e.data;return o&&t.ajax({url:o,type:"POST",cache:!1,data:{pq_ext:r,pq_data:n,pq_decode:i,pq_filename:a},success:function(e){o+=(o.indexOf("?")>0?"&":"?")+"pq_filename="+e,t(document.body).append("<iframe height='0' width='0' frameborder='0' src=\""+o+'"></iframe>')}}),n}},pq.mixin.render)}(jQuery),function(t){var e=pq.excel={_tmpl:{rels:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>'},eachRow:function(t,e){for(var n=t.rows,i=0,r=n.length;r>i;i++)e(n[i],i)},exportWb:function(t){var e=t.workbook,n=t.replace,i=this,r=i._tmpl,o=e.sheets,a=o.length,s=[],c=[],l=new JSZip,u={},h=l.folder("xl");return l.file("_rels/.rels",r.rels),l.file("xl/_rels/workbook.xml.rels",i.getWBookRels(a)),o.forEach(function(t,e){var r,o=i.getCols(t.columns),a=t.pics||[],l=a.length,d=e+1,p=i.getFrozen(t.frozenRows,t.frozenCols,t.rtl),f=i.getBody(t.rows,t.columns),g=i.getMergeCells(t.mergeCells);n&&(f=f.replace.apply(f,n)),r=!pq.isEmpty(i.comments),h.file("worksheets/sheet"+d+".xml",i.getSheet(p,o,f,g,r,l,d)),r&&(s.push(d),h.file("comments"+d+".xml",i.getComment()),h.file("drawings/vmlDrawing"+d+".vml",i.getVml())),l&&(i.addPics(h,a,d),a.forEach(function(t){u[t.name.split(["."])[1]]=1}),c.push(d)),(r||l)&&h.file("worksheets/_rels/sheet"+d+".xml.rels",i.getSheetRel(d,r,l))}),l.file("[Content_Types].xml",i.getContentTypes(a,s,c,u)),h.file("workbook.xml",i.getWBook(o,e.activeId)),h.file("styles.xml",i.getStyle()),t.url?(t.data=l.generate({type:"base64",compression:"DEFLATE"}),t.decodeBase=!0,pq.postRequest(t)):l.generate({type:t.type||"blob",compression:"DEFLATE"})},addPics:function(t,e,n){if(e.length){var i=['<xdr:wsDr xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart" xmlns:cx="http://schemas.microsoft.com/office/drawing/2014/chartex" xmlns:cx1="http://schemas.microsoft.com/office/drawing/2015/9/8/chartex" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:dgm="http://schemas.openxmlformats.org/drawingml/2006/diagram" xmlns:x3Unk="http://schemas.microsoft.com/office/drawing/2010/slicer" xmlns:sle15="http://schemas.microsoft.com/office/drawing/2012/slicer">'],r=['<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">'],o=1,a=parseInt,s=9500,c=function(t){return["<xdr:col>",t[0],"</xdr:col><xdr:colOff>",a(t[1]*s),"</xdr:colOff><xdr:row>",t[2],"</xdr:row><xdr:rowOff>",a(t[3]*s),"</xdr:rowOff>"].join("")};e.forEach(function(e,n){var l=e.from,u=e.name,h="rId"+o++,d=e.to,p=d&&!!d.length,f=p?"two":"one",g=a(e.cx*s),m=a(e.cy*s);i.push("<xdr:",f,"CellAnchor>","<xdr:from>",c(l),"</xdr:from>",p?"<xdr:to>"+c(d)+"</xdr:to>":'<xdr:ext cx="'+g+'" cy="'+m+'"/>','<xdr:pic><xdr:nvPicPr><xdr:cNvPr id="',e.id,'" name="Picture ',n+1,'" descr="',u,'"/>','<xdr:cNvPicPr preferRelativeResize="0"/></xdr:nvPicPr>','<xdr:blipFill><a:blip cstate="print" r:embed="',h,'"/><a:stretch><a:fillRect/></a:stretch></xdr:blipFill>','<xdr:spPr><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/></xdr:spPr>','</xdr:pic><xdr:clientData fLocksWithSheet="0"/></xdr:',f,"CellAnchor>"),r.push('<Relationship Id="',h,'" Target="../media/',u,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" />'),t.file("media/"+u,e.src.split(",")[1],{base64:!0})}),i.push("</xdr:wsDr>"),r.push("</Relationships>"),t.file("drawings/drawing"+n+".xml",i.join("")),t.file("drawings/_rels/drawing"+n+".xml.rels",r.join(""))}},eachCell:function(t,e,n){t.forEach(function(t,i){var r,o;if(r=t.cells){i=t.indx||i;for(var a=0,s=r.length;s>a;a++)e(o=r[a],o.indx||a,i,n)}else(r=t.rows)&&this.eachCell(r,e,i)},this)},findIndex:function(t,e){var n=t.findIndex(e);return t[n].indx||n},getArray:function(t){var e=[],n=this;return this.eachRow(t,function(t){var i=[];t.cells.forEach(function(t){i.push(n.getCell(t))}),e.push(i)}),e},getBody:function(e,n){var i,r,o,a,s,c,l,u,h,d,p,f,g,m,v,b,_,y,C,x,w=this,M={},O=pq.formulas,P=[],k=w.comments={},A=e.length;for((n||[]).forEach(function(t,e){M[t.indx||e]=t}),r=0;A>r;r++){for(v=(f=(m=e[r]).cells||[]).length,b=m.hidden?'hidden="1" ':"",_=m.htFix?'customHeight="1" ht="'+m.htFix/1.5+'" ':"",c='r="'+(a=(m.indx||r)+1)+'"',u=w.getStyleIndx(m),P.push("<row "+b+_+c+(u=u?' s="'+u+'" customFormat="1"':"")+">"),o=0;v>o;o++)g=(p=f[o]).value,l="",u="",y=M[s=p.indx||o]||{},c=s===o?"":'r="'+pq.toLetter(s)+a+'"',C=t.extend({},y,m,p),x=p.format,d=(d=p.formula)?"<f>"+pq.escapeXml(d)+"</f>":"",null==g?h="<v></v>":g==1*g&&(g+"").match(/^[^0][0-9,e,\-,\.]*$/gi)?h="<v>"+g+"</v>":x&&O.isDate(g)?h="<v>"+O.VALUE(g)+"</v>":"boolean"==typeof g?(h="<v>"+(g?"1":"0")+"</v>",l='t="b"'):(l='t="inlineStr"',h="<is><t><![CDATA["+g+"]]></t></is>"),u=(u=w.getStyleIndx(C))?'s="'+u+'"':"",(i=p.comment)&&(k[pq.toLetter(s)+a]=i),P.push("<c "+l+" "+c+" "+u+">"+d+h+"</c>");P.push("</row>")}return P.join("")},getCell:function(t){var e=t.format,n=t.value;return e?pq.formulas.TEXT(n,e):n},getCSV:function(t){var e=[],n=this;return this.eachRow(t,function(t){var i=[];t.cells.forEach(function(t){i.push(n.getCell(t))}),e.push(i.join(","))}),e.join("\r\n")},getColor:function(){var t={},e=function(t){return 1===t.length?"0"+t:t};return function(n){var i,r,o=t[n];if(o||(/^#[0-9,a,b,c,d,e,f]{6}$/i.test(n)?r=n.replace("#",""):(i=n.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i))&&(r=e((1*i[1]).toString(16))+e((1*i[2]).toString(16))+e((1*i[3]).toString(16))),r&&6===r.length&&(o=t[n]="ff"+r)),o)return o;throw"invalid color: "+n}}(),_getCol:function(t,e,n,i,r,o){o=o?' style="'+o+'"':"",i&&!r||(r=' customWidth="1" width="'+(r=1*((r=r||this.colWidth)/this.colRatio).toFixed(2))+'"'),t.push('<col min="',e,'" max="',n,'" hidden="',i,'"',r,o,"/>")},getCols:function(t){if(!t||!t.length)return"";var e,n,i,r,o,a,s=[],c=0,l=0,u=0,h=t.length;for(s.push("<cols>");h>u;u++){var d=t[u],p=d.hidden?1:0,f=d.width,g=this.getStyleIndx(d);c=(d.indx||c)+1,i===f&&r===p&&g==o&&c==l+1?n=c:(a&&(this._getCol(s,e,n,r,i,o),e=null),n=c,null==e&&(e=c)),i=f,r=p,o=g,l=c,a=!0}return this._getCol(s,e,n,r,i,o),s.push("</cols>"),s.join("")},getComment:function(){var t,e=[],n=this.comments;for(t in n)e.push('<comment authorId="0" ref="',t,'"><text><t xml:space="preserve">',n[t].replace(/</g,"&lt;").replace(/>/g,"&gt;"),"</t></text></comment>");return['<?xml version="1.0" encoding="UTF-8" standalone="yes"?>','<comments xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">',"<authors><author></author></authors>","<commentList>",e.join(""),"</commentList></comments>"].join("")},getContentTypes:function(t,e,n,i){for(var r,o=[],a=1,s=[],c=[];t>=a;a++)o.push('<Override PartName="/xl/worksheets/sheet'+a+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>');for(r in e.forEach(function(t){s.push('<Override PartName="/xl/comments',t,'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml" />')}),i)c.push('<Default Extension="'+r+'" ContentType="image/'+r+'" />');return n.forEach(function(t){c.push('<Override PartName="/xl/drawings/drawing',t,'.xml" ContentType="application/vnd.openxmlformats-officedocument.drawing+xml"/>')}),['<?xml version="1.0" encoding="UTF-8" standalone="yes"?>','<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">','<Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>','<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>','<Default Extension="xml" ContentType="application/xml" />','<Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>',o.join(""),'<Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing" />',s.join(""),c.join(""),"</Types>"].join("")},getFillIndx:function(t){var e=this,n=e.fills=e.fills||{length:2};return e.getIndx(n,t)},getBorderIndx:function(t){var e=this,n=e.borders=e.borders||{length:1};return e.getIndx(n,JSON.stringify(t))},getFontIndx:function(t,e,n,i,r,o){var a=this,s=a.fonts=a.fonts||{length:1};return a.getIndx(s,(t||"")+"_"+(e||"")+"_"+(n||"")+"_"+(i||"")+"_"+(r||"")+"_"+(o||""))},getFormatIndx:function(t){var e=this,n=e.formats=e.formats||{length:164};return e.numFmtIds[t]||e.getIndx(n,t)},getFrozen:function(t,e,n){return["<sheetViews><sheetView ",n?'rightToLeft="1"':"",' workbookViewId="0">','<pane xSplit="',e=e||0,'" ySplit="',t=t||0,'" topLeftCell="',pq.toLetter(e)+(t+1),'" activePane="bottomLeft" state="frozen"/>',"</sheetView></sheetViews>"].join("")},getIndx:function(t,e){var n=t[e];return null==n&&(n=t[e]=t.length,t.length++),n},getItem:function(t,e){var n,i,r=t[e],o=0,a=0,s=r?r.indx:-1;if(null==s||e==s)return r;if((n=-1==s?t.length-1:e)>=0)for(;;){if(++a>20)throw"not found";if((s=(r=t[i=Math.floor((n+o)/2)]).indx)==e)return r;if(s>e?n=i:o=i==o?i+1:i,o==n&&i==o)break}},getMergeCells:function(t){var e=[],n=0,i=(t=t||[]).length;for(e.push('<mergeCells count="'+i+'">');i>n;n++)e.push('<mergeCell ref="',t[n],'"/>');return e.push("</mergeCells>"),i?e.join(""):""},getSheetRel:function(t,e,n){var i=['<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">'];return e&&i.push('<Relationship Id="com'+t+'" Target="../comments'+t+'.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments" />','<Relationship Id="vml'+t+'" Target="../drawings/vmlDrawing'+t+'.vml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing" />'),n&&i.push('<Relationship Id="rId'+t+'" Target="../drawings/drawing'+t+'.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing"/>'),i.push("</Relationships>"),i.join("")},getSheet:function(t,e,n,i,r,o,a){return['<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">',t,e,"<sheetData>",n,"</sheetData>",i,o?'<drawing r:id="rId'+a+'" />':"",r?'<legacyDrawing r:id="vml'+a+'" />':"","</worksheet>"].join("")},getStyleIndx:function(t){var e=t.format,n=t.bgColor,i=t.color,r=t.font,o=t.fontSize,a=t.align,s=t.valign,c=t.wrap,l=t.bold,u=t.italic,h=t.underline,d=t.border;if(e||n||i||r||o||a||s||c||l||u||h||d){var p=this,f=e?p.getFormatIndx(e):"",g=n?p.getFillIndx(n):"",m=d?p.getBorderIndx(d):"",v=f+"_"+g+"_"+(i||r||o||l||u||h?p.getFontIndx(i,r,o,l,u,h):"")+"_"+(a||"")+"_"+(s||"")+"_"+(c||"")+"_"+m,b=p.styles=p.styles||{length:1};return p.getIndx(b,v)}},getStyle:function(){var t,e,n,i,r,o,a,s,c,l,u=this,h=u.formats,d=u.fills,p=u.fonts,f=u.borders,g=["left","right","top","bottom"],m=u.styles,v=[],b=[],_=[],y=[],C=['<xf numFmtId="0" applyNumberFormat="1"/>'];if(h){for(l in delete h.length,h)v.push('<numFmt numFmtId="'+h[l]+'" formatCode="'+l+'"/>');delete u.formats}if(d){for(l in delete d.length,d)b.push('<fill><patternFill patternType="solid"><fgColor rgb="'+this.getColor(l)+'"/></patternFill></fill>');delete u.fills}if(p){for(l in delete p.length,p)t="<color "+((e=l.split("_"))[0]?'rgb="'+this.getColor(e[0])+'"':'theme="1"')+" />",_.push("<font>",e[3]?"<b/>":"",e[4]?"<i/>":"",e[5]?"<u/>":"",'<sz val="'+(e[2]||11)+'"/>',t,'<name val="'+(e[1]||"Calibri")+'"/>','<family val="2"/></font>');delete u.fonts}if(f){for(l in delete f.length,f){var x=JSON.parse(l);y.push("<border>"),g.forEach(function(t){x[t]&&(e=x[t].split(" "),y.push("<"+t+' style="'+("1px"==e[0]?"thin":"double")+'"><color rgb="'+u.getColor(e[2])+'"/></'+t+">"))}),y.push("</border>")}delete u.borders}if(m){for(l in delete m.length,m)a=(a=(e=l.split("_"))[4])?' vertical="'+a+'" ':"",s=(s=e[5])?' wrapText="1" ':"",C.push("<xf "+((n=e[0])?' applyNumberFormat="1" numFmtId="'+n+'"':"")+((i=e[1])?' applyFill="1" fillId="'+i+'" ':"")+((r=e[2])?' applyFont="1" fontId="'+r+'" ':"")+((c=e[6])?' applyBorder="1" borderId="'+c+'"':"")+((o=(o=e[3])?' horizontal="'+o+'" ':"")||a||s?' applyAlignment="1"><alignment '+o+a+s+"/></xf>":"/>"));delete this.styles}return v=v.join("\n"),C=C.join("\n"),b=b.join("\n"),['<?xml version="1.0" encoding="UTF-8" standalone="yes"?>','<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">',"<numFmts>",v,"</numFmts>","<fonts>",'<font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font>',_=_.join(""),"</fonts>",'<fills><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill>',b,"</fills>","<borders><border><left/><right/><top/><bottom/><diagonal/></border>",y=y.join("\n"),"</borders>",'<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/>',"</cellStyleXfs>","<cellXfs>",C,"</cellXfs>",'<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>','<dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleLight16"/>',"</styleSheet>"].join("")},getVml:function(){var t,e=[],n=this.comments;for(t in n){var i=t.match(/([A-Z]+)(\d+)/),r=pq.toNumber(i[1]);e.push('<v:shape id="1" type="#0" style="position:absolute;margin-left:259.25pt;margin-top:1.5pt;width:108pt;height:59.25pt;z-index:1;visibility:hidden" fillcolor="#ffffe1" o:insetmode="auto"><v:fill color2="#ffffe1"/><v:shadow on="t" color="black" obscured="t"/><v:path o:connecttype="none"/><v:textbox style="mso-direction-alt:auto"><div style="text-align:right"></div></v:textbox><x:ClientData ObjectType="Note"><x:MoveWithCells/><x:SizeWithCells/><x:Anchor>1, 15, 0, 2, 3, 31, 4, 1</x:Anchor><x:AutoFill>False</x:AutoFill>',"<x:Row>",i[2]-1,"</x:Row>","<x:Column>",r,"</x:Column></x:ClientData></v:shape>")}return['<xml xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel"><o:shapelayout v:ext="edit"><o:idmap v:ext="edit" data="1"/></o:shapelayout>','<v:shapetype id="0" coordsize="21600,21600" o:spt="202" path="m,l,21600r21600,l21600,xe"><v:stroke joinstyle="miter"/><v:path gradientshapeok="t" o:connecttype="rect"/></v:shapetype>',e.join(""),"</xml>"].join("")},getWBook:function(t,e){return['<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">',"<bookViews><workbookView "+(e>=0?"activeTab='"+e+"'":"")+" /></bookViews><sheets>",t.map(function(t,e){return e++,["=tiffu obnf>#".replace(/[^\s]/g,function(t){return String.fromCharCode(t.charCodeAt(0)-1)}),"RctcoSwgt{ Gxcn ".replace(/[^\s]/g,function(t){return String.fromCharCode(t.charCodeAt(0)-2)})+e,'" sheetId="',e,'" r:id="rId',e,'"/>'].join("")}).join(""),"</sheets></workbook>"].join("")},getWBookRels:function(t){for(var e=[],n=1;t>=n;n++)e.push('<Relationship Id="rId'+n+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+n+'.xml"/>');return['<?xml version="1.0" encoding="UTF-8" standalone="yes"?>','<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',e.join(""),'<Relationship Id="rId',n,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/>',"</Relationships>"].join("")},importXl:function(){var t=pq.excelImport;return t.Import.apply(t,arguments)},SpreadSheet:function(t){var n,i=e.SpreadSheet;if(this instanceof i==0)return new i(t);for(n in t)this[n]=t[n]}};e.colRatio=8,e.colWidth=8.43*e.colRatio,e.numFmtIds=function(){var t=pq.excelImport.preDefFormats,e={};for(var n in t)e[t[n]]=n;return e}(),pq.postRequest=function(e){var n,i,r=e.format,o=e.url,a=e.filename||"pqGrid";if(e.zip&&"xlsx"!=r){var s=new JSZip;s.file(a+"."+e.format,e.data),n=s.generate({type:"base64",compression:"DEFLATE"}),i=!0,r="zip"}else i=!!e.decodeBase,n=e.data;return o&&t.ajax({url:o,type:"POST",cache:!1,data:{pq_ext:r,pq_data:n,pq_decode:i,pq_filename:a},success:function(e){o+=(o.indexOf("?")>0?"&":"?")+"pq_filename="+e,t(document.body).append("<iframe height='0' width='0' frameborder='0' src=\""+o+'"></iframe>')}}),n},e.SpreadSheet.prototype={getCell:function(t,n){var i=e.getItem(this.rows||[],t)||{cells:[]};return e.getItem(i.cells,n)}}}(jQuery),function(t){var e=t.paramquery;e.pqGrid.defaults.formulasModel={on:!0},e.pqGrid.prototype.getFormula=function(t,e){var n=this.iFormulas.getFnW(t,e);return n?n.fn:void 0},t(document).on("pqGrid:bootup",function(t,e){var i,r=e.instance;r.options.formulasModel.on&&(i=r.iFormulas=new n(r)),r.Formulas=function(){return i}});var n=e.cFormulas=function(t){var e=this;e.that=t,e.fn={},t.on("dataReadyDone",e.onDataReadyDone.bind(e)).on("colMove colAdd colRemove",e.onColumnOrder.bind(e)).on("beforeValidateDone",e.onBeforeValidateDone.bind(e)).on("autofillSeries",e.onAutofill.bind(e)).on("editorBegin",e.onEditorBegin.bind(e)).on("editorEnd",e.onEditorEnd.bind(e)).on("editorKeyUp editorClick",e.onEditorKeyUp.bind(e)).on(!0,"change",e.onChange.bind(e))};t.extend(n,{deString:function(t,e,n){var i=[];return t=e(t=t.replace(/(?:^|[^"]+)"(([^"]|"{2})+)"(?=([^"]+|$))/g,function(t,e){var n=t.indexOf(e);return i.push(e),t.slice(0,n-1)+"#"+(i.length-1)+"#"})),i.forEach(function(e,i){n&&(e=e.replace(/""/g,'\\"')),t=t.replace("#"+i+"#",'"'+e+'"')}),t},selectExp:function(t,e){var n,i,r,o=t.slice(0,e).replace(/"[^"]*"/g,"");return!/"[^"]+$/.test(o)&&(r=t.slice(e),(n=o.match(/.*?([a-z0-9:$]+)$/i))&&(""===r&&(i=[])||(i=r.match(/^([a-z0-9:$]+)?.*/i))))?(n[1]+(null==i[1]?"":i[1])).replace(/\$/g,"").toUpperCase():void 0},shiftRC:function(t){var e=n,i=t?t.get_p_data().length-1:0,r=t?t.colModel.length-1:0;return function(t,n,o){return n&&(t=e.shiftC(t,n,r)),o&&(t=e.shiftR(t,o,i)),t}},shiftR:function(t,e,i){return n.deString(t,function(t){return(t=t.replace(/(\$?)([A-Z]+)(\$?)([\d]+)/g,function(t,n,r,o,a){if(o)return t;var s=1*a+e-1;return n+r+((s=0>s?0:i&&s>i?i:s)+1)})).replace(/(\$?)([0-9]+):(\$?)([0-9]+)/g,function(t,n,r,o,a){var s;return n||(r=(s=0>(s=1*r+e-1)?0:i&&s>i?i:s)+1),o||(a=(s=0>(s=1*a+e-1)?0:i&&s>i?i:s)+1),n+r+":"+o+a})})},shiftC:function(t,e,i){return n.deString(t,function(t){return(t=t.replace(/(\$?)([A-Z]+)(\$?)([\d]+)/g,function(t,n,r,o,a){if(n)return t;var s=pq.toNumber(r)+e;return pq.toLetter(s=0>s?0:i&&s>i?i:s)+o+a})).replace(/(\$?)([A-Z]+):(\$?)([A-Z]+)/g,function(t,n,r,o,a){var s;return n||(s=pq.toNumber(r)+e,r=pq.toLetter(s=0>s?0:i&&s>i?i:s)),o||(s=pq.toNumber(a)+e,a=pq.toLetter(s=0>s?0:i&&s>i?i:s)),n+r+":"+o+a})})}}),n.prototype={addRowIndx:function(t){t.forEach(function(t){var e,n,i=t.newRow,r=i.pq_fn;if(r)for(n in r)(e=r[n]).ri=e.riO=i.pq_ri})},cell:function(t){var e=this.toCell(t);return this.valueArr(e.r,e.c)[0]},check:function(t){return n.deString(t,function(t){return(t=t.split(" ").join("")).toUpperCase().replace(/([A-Z]+)([0-9]+)\:([A-Z]+)([0-9]+)/g,function(t,e,n,i,r){return(e=pq.toNumber(e))>(i=pq.toNumber(i))&&(e=[i,i=e][0]),1*n>1*r&&(n=[r,r=n][0]),pq.toLetter(e)+n+":"+pq.toLetter(i)+r})})},computeAll:function(){var t,e=this,n=e.that;return e.initObj(),e.eachFormula(function(e){e.clean=0,t=!0}),t?(e.eachFormula(function(t,i,r,o,a){i[r]=e.execIfDirty(t),a&&n.isValid({rowIndx:o,rowData:i,dataIndx:r,allowInvalid:!0})}),!0):void 0},eachFormula:function(t){var e=!0,n=this.that,i=function(n,i,r){var o,a;for(o in r)"string"!=typeof(a=r[o])&&t(a,n,o,i,e)},r=function(t){for(var e,n,r=(t=t||[]).length;r--;)(e=t[r])&&(n=e.pq_fn)&&i(e,r,n)};r(n.get_p_data()),e=!1,r(n.options.summaryData)},execIfDirty:function(t){if(t.clean){if(.5==t.clean)return}else t.clean=.5,t.val=this.exec(t.fn,t.ri,t.ci),t.clean=1;return t.val},exec:function(t,e,i){var r=this,o=r.obj,a=n.deString(t,function(t){return(t=(t=t.replace(/(\$?([A-Z]+)?\$?([0-9]+)?\:\$?([A-Z]+)?\$?([0-9]+)?)/g,function(t,e){return o[e]=o[e]||r.range(e),"this['"+e+"']"})).replace(/(?:[^:A-Z]|^)(\$?[A-Z]+\$?[0-9]+)(?!:)/g,function(t,e){o[e]=o[e]||r.cell(e);var n=t.charAt(0);return(t===e||"$"==n?"":n)+e})).replace(/{/g,"[").replace(/}/g,"]").replace(/(?:[^><])(=+)/g,function(t,e){return t+(1===e.length?"==":"")}).replace(/<>/g,"!==").replace(/&/g,"+")},!0);o.getRange=function(){return{r1:e,c1:i}};try{var s=new Function("with(this){return "+a+"}").call(o);"function"==typeof s?s="#NAME?":"string"==typeof s&&n.deString(s,function(t){t.indexOf("function")>=0&&(s="#NAME?")}),s!=s&&(s=null)}catch(c){s="string"==typeof c?c:c.message}return s},initObj:function(){this.obj=t.extend({iFormula:this},pq.formulas)},onAutofill:function(t,e){var i=e.sel,r=this.that,o=i.c,a=e.x,s=r.getRowData({rowIndx:i.r}),c=r.colModel,l=c.length-1,u=r.get_p_data().length-1,h=this.getFnW(s,c[o].dataIndx);h&&(e.series=function(t){return"="+(a?n.shiftC(h.fn,t-1,l):n.shiftR(h.fn,t-1,u))})},onBeforeValidateDone:function(t,e){var n=this,i=this.that.colIndxs,r=function(t){t.forEach(function(t){var r,o,a,s=t.newRow,c=t.rowData;for(o in s)if("string"==typeof(r=s[o])&&"="===r[0]){e.allowInvalid=!0;var l=n.check(r),u=c?n.getFnW(c,o):null;u?l!==u.fn&&(t.oldRow[o]="="+u.fn,n.save(c,o,l,t.rowIndx,i[o])):n.save(c||s,o,l,t.rowIndx,i[o])}else c&&(a=n.remove(c,o))&&(t.oldRow[o]="="+a.fn)})};r(e.addList),r(e.updateList)},onChange:function(t,e){this.addRowIndx(e.addList),e.addList.length||e.deleteList.length||this.computeAll()&&"edit"===e.source&&this.that.refresh({header:!1})},onColumnOrder:function(){var t,e,i=this,r=i.that,o=n.shiftRC(r),a=r.colIndxs;i.eachFormula(function(n,i,r){n.ci!=(t=a[r])&&(e=t-n.ciO,n.ci=t,n.fn=o(n.fnOrig,e,n.ri-n.riO))}),null!=t&&i.computeAll()},onEditorBegin:function(t,e){var n=this.getFnW(e.rowData,e.dataIndx);n&&e.$editor.val("="+n.fn)},onEditorEnd:function(){pq.intel.hide()},onEditorKeyUp:function(t,e){var n=e.$editor,i=n[0],r=i.value,o=pq.intel,a=i.selectionEnd;r&&0===r.indexOf("=")&&(o.popup(r,a,n),this.select(r,a))},onDataReadyDone:function(){var t,e=this,i=e.that,r=n.shiftRC(i),o=i.colIndxs,a=function(n,i,a){var s,c,l;for(c in a)t=!0,"string"==typeof(s=a[c])?e.save(n,c,e.check(s),i,o[c]):s.ri!=i&&(l=i-s.riO,s.ri=i,s.fn=r(s.fnOrig,s.ci-s.ciO,l))},s=function(t){for(var e,n,i=(t=t||[]).length;i--;)(e=t[i])&&(n=e.pq_fn)&&a(e,i,n)};s(i.get_p_data()),s(i.options.summaryData),e.initObj(),t&&e.computeAll()},getFnW:function(t,e){var n;return(n=t.pq_fn)?n[e]:void 0},remove:function(t,e){var n,i=t.pq_fn;return i&&(n=i[e])?(delete i[e],pq.isEmpty(i)&&delete t.pq_fn,n):void 0},range:function(t){var e=t.split(":"),n=this.that,i=this.toCell(e[0]),r=i.r,o=i.c,a=this.toCell(e[1]),s=a.r,c=a.c;return this.valueArr(null==r?0:r,null==o?0:o,null==s?n.get_p_data().length-1:s,null==c?n.colModel.length-1:c)},save:function(t,e,n,i,r){var o=n.replace(/^=/,""),a={clean:0,fn:o,fnOrig:o,riO:i,ciO:r,ri:i,ci:r};return(t.pq_fn=t.pq_fn||{})[e]=a,a},selectRange:function(t,e){var i,r,o,a,s=n.selectExp(t,e);return s?(/^([a-z0-9]+):([a-z0-9]+)$/i.test(s)?(i=s.split(":"),r=this.toCell(i[0]),o=this.toCell(i[1]),a={r1:r.r,c1:r.c,r2:o.r,c2:o.c}):/^[a-z]+[0-9]+$/i.test(s)&&(a={r1:(r=this.toCell(s)).r,c1:r.c}),a):void 0},select:function(t,e){var n=this.selectRange(t,e),i=this.that;n?i.Range(n).select():i.Selection().removeAll()},toCell:function(t){var e=t.match(/\$?([A-Z]+)?\$?(\d+)?/);return{c:e[1]?pq.toNumber(e[1]):null,r:e[2]?e[2]-1:null}},valueArr:function(t,e,n,i){var r,o,a,s,c,l,u,h=this.that,d=h.colModel,p=d.length,f=[],g=[],m=[],v=h.get_p_data(),b=v.length;for(i=null==i?e:i,e=0>e?0:e,n=(n=null==n?t:n)>=b?b-1:n,i=i>=p?p-1:i,r=t=0>t?0:t;n>=r;r++){for(a=v[r],o=e;i>=o;o++)l=(c=this.getFnW(a,s=d[o].dataIndx))?this.execIfDirty(c):null==(l=a[s])?"":l==(u=1*l)&&"0"!==(l+"")[0]?u:l,f.push(l),m.push(l);g.push(m),m=[]}return f.get2Arr=function(){return g},f.getRange=function(){return{r1:t,c1:e,r2:n,c2:i}},f}}}(jQuery),function(t){pq.intel={removeFn:function(t){return t.length===(t=t.replace(/[a-z]*\([^()]*\)/gi,"")).length?t:this.removeFn(t)},removeStrings:function(t){return(t=t.replace(/"[^"]*"/g,"")).replace(/"[^"]*$/,"")},getMatch:function(t,e){var n,i=pq.formulas,r=[];for(n in t=t.toUpperCase(),i)if(e){if(n===t)return[n]}else 0===n.indexOf(t)&&r.push(n);return r},intel:function(t){var e,n,i;return t=this.removeStrings(t),(e=(t=this.removeFn(t)).match(/^=(.*[,+\-&*\s(><=])?([a-z]+)((\()[^)]*)?$/i))&&(n=e[2],e[4]&&(i=!0)),[n,i]},movepos:function(t){var e;return(e=t.match(/([^a-z].*)/i))?t.indexOf(e[1])+1:t.length},intel3:function(t,e){e<t.length&&/=(.*[,+\-&*\s(><=])?[a-z]+$/i.test(t.slice(0,e))&&(e+=this.movepos(t.slice(e)));var n=t.substr(0,e);return this.intel(n)},item:function(t){var e=this.that.options.strFormulas;return"<div>"+((e=e?e[t]:null)?e[0]:t)+"</div>"+(e?"<div style='font-size:0.9em;color:#888;margin-bottom:5px;'>"+e[1]+"</div>":"")},popup:function(e,n,i){var r,o,a=i.closest(".pq-grid"),s=t(".pq-intel"),c=a,l=this.intel3(e,n);this.that=a.pqGrid("instance"),s.remove(),(r=l[0])&&(o=this.getMatch(r,l[1]).map(this.item,this).join(""))&&t("<div class='pq-intel' style='width:350px;max-height:300px;overflow:auto;background:#fff;border:1px solid gray;box-shadow: 4px 4px 2px #aaaaaa;padding:5px;'></div>").appendTo(c).html(o).position({my:"center top",at:"center bottom",collision:"flipfit",of:i,within:c})},hide:function(){t(".pq-intel").remove()}}}(jQuery),function($){var f=pq.formulas={evalify:function(t,e){var n,i,r=e.match(/([><=]{1,2})?(.*)/),o=r[1]||"=",a=r[2],s=this;return/(\*|\?)/.test(a)?n=a.replace(/\*/g,".*").replace(/\?/g,"\\S").replace(/\(/g,"\\(").replace(/\)/g,"\\)"):(o="="===o?"==":"<>"===o?"!=":o,i=this.isNumber(a)),t.map(function(t){return n?("<>"===o?"!":"")+"/^"+n+'$/i.test("'+(t=null==t?"":t)+'")':i?s.isNumber(t)?t+o+a:"false":'"'+((t=null==t?"":t)+"").toUpperCase()+'"'+o+'"'+(a+"").toUpperCase()+'"'})},get2Arr:function(t){return t.get2Arr?t.get2Arr():t},isNumber:function(t){return parseFloat(t)==t},_reduce:function(t,e){var n=[],i=e.map(function(){return[]});return t.forEach(function(t,r){null!=t&&(t*=1,isNaN(t)||(n.push(t),i.forEach(function(t,n){t.push(e[n][r])})))}),[n,i]},reduce:function(t){var e=(t=this.toArray(t)).shift(),n=t.filter(function(t,e){return e%2==0}),i=this._reduce(e,n);return n=i[1],[e=i[0]].concat(t.map(function(e,i){return i%2==0?n[i/2]:t[i]}))},strDate1:"(\\d{1,2})/(\\d{1,2})/(\\d{2,4})",strDate2:"(\\d{4})-(\\d{1,2})-(\\d{1,2})",strTime:"(\\d{1,2})(:(\\d{1,2}))?(:(\\d{1,2}))?(\\s(AM|PM))?",isDate:function(t){return this.reDate.test(t)&&Date.parse(t)||t&&t.constructor==Date},toArray:function(t){for(var e=[],n=0,i=t.length;i>n;n++)e.push(t[n]);return e},valueToDate:function(t){var e=new Date(Date.UTC(1900,0,1));return e.setUTCDate(e.getUTCDate()+t-2),e},varToDate:function(t){var e,n,i,r,o;if(this.isNumber(t))e=this.valueToDate(t);else if(t.getTime)e=t;else if("string"==typeof t){if((n=t.match(this.reDateTime))?n[12]?(o=1*n[13],r=1*n[15],i=1*n[14]):(i=1*n[2],r=1*n[3],o=1*n[4]):(n=t.match(this.reDate2))?(o=1*n[1],r=1*n[3],i=1*n[2]):(n=t.match(this.reDate1))&&(i=1*n[1],r=1*n[2],o=1*n[3]),!n)throw"#N/A date";t=Date.UTC(o,i-1,r),e=new Date(t)}return e},_IFS:function _IFS(arg,fn){for(var len=arg.length,i=0,arr=[],a=0;len>i;i+=2)arr.push(this.evalify(arg[i],arg[i+1]));for(var condsIndx=arr[0].length,lenArr=len/2,j;condsIndx--;){for(j=0;lenArr>j&&eval(arr[j][condsIndx]);j++);a+=j===lenArr?fn(condsIndx):0}return a},ABS:function(t){return Math.abs(t.map?t[0]:t)},ACOS:function(t){return Math.acos(t)},AND:function AND(){var arr=this.toArray(arguments);return eval(arr.join(" && "))},ASIN:function(t){return Math.asin(t)},ATAN:function(t){return Math.atan(t)},_AVERAGE:function(t){var e=0,n=0;if(t.forEach(function(t){parseFloat(t)==t&&(n+=1*t,e++)}),e)return n/e;throw"#DIV/0!"},AVERAGE:function(){return this._AVERAGE(pq.flatten(arguments))},AVERAGEIF:function(t,e,n){return this.AVERAGEIFS(n||t,t,e)},AVERAGEIFS:function(){var t=this.reduce(arguments),e=0,n=t.shift(),i=this._IFS(t,function(t){return e++,n[t]});if(!e)throw"#DIV/0!";return i/e},TRUE:!0,FALSE:!1,CEILING:function(t){return Math.ceil(t)},CHAR:function(t){return String.fromCharCode(t)},CHOOSE:function(){var t=pq.flatten(arguments),e=t[0];if(e>0&&e<t.length)return t[e];throw"#VALUE!"},CODE:function(t){return(t+"").charCodeAt(0)},COLUMN:function(t){return(t||this).getRange().c1+1},COLUMNS:function(t){var e=t.getRange();return e.c2-e.c1+1},CONCATENATE:function(){var t=pq.flatten(arguments),e="";return t.forEach(function(t){e+=t}),e},COS:function(t){return Math.cos(t)},_COUNT:function(t){var e=pq.flatten(t),n=this,i=0,r=0,o=0;return e.forEach(function(t){null==t||""===t?i++:(r++,n.isNumber(t)&&o++)}),[i,r,o]},COUNT:function(){return this._COUNT(arguments)[2]},COUNTA:function(){return this._COUNT(arguments)[1]},COUNTBLANK:function(){return this._COUNT(arguments)[0]},COUNTIF:function(t,e){return this.COUNTIFS(t,e)},COUNTIFS:function(){return this._IFS(arguments,function(){return 1})},DATE:function(t,e,n){if(0>t||t>9999)throw"#NUM!";return 1899>=t&&(t+=1900),this.VALUE(new Date(Date.UTC(t,e-1,n)))},DATEVALUE:function(t){return this.DATEDIF("1/1/1900",t,"D")+2},DATEDIF:function(t,e,n){var i,r=this.varToDate(e),o=this.varToDate(t),a=(r.getTime()-o.getTime())/864e5;if("Y"===n)return parseInt(a/365);if("M"===n)return i=r.getUTCMonth()-o.getUTCMonth()+12*(r.getUTCFullYear()-o.getUTCFullYear()),o.getUTCDate()>r.getUTCDate()&&i--,i;if("D"===n)return a;throw"unit N/A"},DAY:function(t){return this.varToDate(t).getUTCDate()},DAYS:function(t,e){return this.DATEDIF(e,t,"D")},DEGREES:function(t){return 180/Math.PI*t},EOMONTH:function(t,e){e=e||0;var n=this.varToDate(t);return n.setUTCMonth(n.getUTCMonth()+e+1),n.setUTCDate(0),this.VALUE(n)},EXP:function(t){return Math.exp(t)},FIND:function(t,e,n){return e.indexOf(t,n?n-1:0)+1},FLOOR:function(t,e){return 0>t*e?"#NUM!":parseInt(t/e)*e},HLOOKUP:function(t,e,n,i){null==i&&(i=!0),e=this.get2Arr(e);var r=this.MATCH(t,e[0],i?1:0);return this.INDEX(e,n,r)},HOUR:function(t){return Date.parse(t)?new Date(t).getHours():24*t},IF:function(t,e,n){return t?e:n},INDEX:function(t,e,n){return e=e||1,n=n||1,"function"==typeof(t=this.get2Arr(t))[0].push?t[e-1][n-1]:t[e>1?e-1:n-1]},INDIRECT:function(t){return this.iFormula.range(t)},ISBLANK:function(t){return""===t},LARGE:function(t,e){return t.sort(),t[t.length-(e||1)]},LEFT:function(t,e){return t.substr(0,e||1)},LEN:function(t){return(t=(t.map?t:[t]).map(function(t){return t.length})).length>1?t:t[0]},LOOKUP:function(t,e,n){n=n||e;var i=this.MATCH(t,e,1);return this.INDEX(n,1,i)},LOWER:function(t){return(t+"").toLocaleLowerCase()},_MAXMIN:function(t,e){var n,i=this;return t.forEach(function(t){null!=t&&(t=i.VALUE(t),i.isNumber(t)&&(t*e>n*e||null==n)&&(n=t))}),null!=n?n:0},MATCH:function MATCH(val,arr,type){var isNumber=this.isNumber(val),_isNumber,indx,_val,i=0,len=arr.length;if(null==type&&(type=1),val=isNumber?val:val.toUpperCase(),0===type){for(arr=this.evalify(arr,val+""),i=0;len>i;i++)if(_val=arr[i],eval(_val)){indx=i+1;break}}else{for(i=0;len>i;i++)if(_val=arr[i],_isNumber=this.isNumber(_val),_val=arr[i]=_isNumber?_val:_val?_val.toUpperCase():"",val==_val){indx=i+1;break}if(!indx){for(i=0;len>i;i++)if(_val=arr[i],_isNumber=this.isNumber(_val),type*(val>_val?-1:1)==1&&isNumber==_isNumber){indx=i;break}indx=null==indx?i:indx}}if(indx)return indx;throw"#N/A"},MAX:function(){var t=pq.flatten(arguments);return this._MAXMIN(t,1)},MEDIAN:function(){var t=pq.flatten(arguments).filter(function(t){return 1*t==t}).sort(function(t,e){return e-t}),e=t.length,n=e/2;return n===parseInt(n)?(t[n-1]+t[n])/2:t[(e-1)/2]},MID:function(t,e,n){if(1>e||0>n)throw"#VALUE!";return t.substr(e-1,n)},MIN:function(){var t=pq.flatten(arguments);return this._MAXMIN(t,-1)},MODE:function(){var t,e,n=pq.flatten(arguments),i={},r=0;if(n.forEach(function(n){(t=i[n]=i[n]?i[n]+1:1)>r&&(r=t,e=n)}),2>r)throw"#N/A";return e},MONTH:function(t){return this.varToDate(t).getUTCMonth()+1},OR:function OR(){var arr=this.toArray(arguments);return eval(arr.join(" || "))},PI:function(){return Math.PI},POWER:function(t,e){return Math.pow(t,e)},PRODUCT:function(){var t=pq.flatten(arguments),e=1;return t.forEach(function(t){e*=t}),e},PROPER:function(t){return t.replace(/(\S+)/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},RADIANS:function(t){return Math.PI/180*t},RAND:function(){return Math.random()},RANK:function(t,e,n){for(var i=JSON.stringify(e.getRange())+"_range",r=0,o=(e=this[i]||(this[i]=e,e.sort(function(t,e){return t-e}))).length;o>r;r++)if(t===e[r])return n?r+1:o-r},RATE:function(){},REPLACE:function(t,e,n,i){return(t+="").substr(0,e-1)+i+t.substr(e+n-1)},REPT:function(t,e){for(var n="";e--;)n+=t;return n},RIGHT:function(t,e){return t.substr(-1*(e=e||1),e)},_ROUND:function(t,e,n){var i=Math.pow(10,e),r=t*i,o=parseInt(r);return n(o,r-o)/i},ROUND:function(t,e){return this._ROUND(t,e,function(t,e){var n=Math.abs(e);return t+(n>=.5?n/e:0)})},ROUNDDOWN:function(t,e){return this._ROUND(t,e,function(t){return t})},ROUNDUP:function(t,e){return this._ROUND(t,e,function(t,e){return t+(e?Math.abs(e)/e:0)})},ROW:function(t){return(t||this).getRange().r1+1},ROWS:function(t){var e=t.getRange();return e.r2-e.r1+1},SEARCH:function(t,e,n){return t=t.toUpperCase(),(e=e.toUpperCase()).indexOf(t,n?n-1:0)+1},SIN:function(t){return Math.sin(t)},SMALL:function(t,e){return t.sort(),t[(e||1)-1]},SQRT:function(t){return Math.sqrt(t)},_STDEV:function(t){var e=(t=pq.flatten(t)).length,n=this._AVERAGE(t),i=0;return t.forEach(function(t){i+=(t-n)*(t-n)}),[i,e]},STDEV:function(){var t=this._STDEV(arguments);if(1===t[1])throw"#DIV/0!";return Math.sqrt(t[0]/(t[1]-1))},STDEVP:function(){var t=this._STDEV(arguments);return Math.sqrt(t[0]/t[1])},SUBSTITUTE:function(t,e,n,i){var r=0;return t.replace(new RegExp(e,"g"),function(){return r++,i?r===i?n:e:n})},SUM:function(){var t=pq.flatten(arguments),e=0,n=this;return t.forEach(function(t){t=n.VALUE(t),n.isNumber(t)&&(e+=parseFloat(t))}),e},SUMIF:function(t,e,n){return this.SUMIFS(n||t,t,e)},SUMIFS:function(){var t=this.reduce(arguments),e=t.shift();return this._IFS(t,function(t){return e[t]})},SUMPRODUCT:function(){var t=this.toArray(arguments);return t=t[0].map(function(e,n){var i=1;return t.forEach(function(t){var e=t[n];i*=parseFloat(e)==e?e:0}),i}),pq.aggregate.sum(t)},TAN:function(t){return Math.tan(t)},TEXT:function(t,e){return this.isNumber(t)&&e.indexOf("#")>=0?pq.formatNumber(t,e):$.datepicker.formatDate(pq.excelToJui(e),this.varToDate(t))},TIME:function(t,e,n){return(t+e/60+n/3600)/24},TIMEVALUE:function(t){var e=t.match(this.reTime);if(e&&null!=e[1]&&(null!=e[3]||null!=e[7]))var n=1*e[1],i=1*(e[3]||0),r=1*(e[5]||0),o=(e[7]||"").toUpperCase(),a=n+i/60+r/3600;if(a>=0&&(o&&13>a||!o&&24>a))return"PM"==o&&12>n?a+=12:"AM"==o&&12==n&&(a-=12),a/24;throw"#VALUE!"},TODAY:function(){var t=new Date;return this.VALUE(new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())))},TRIM:function(t){return t.replace(/^\s+|\s+$/gm,"")},TRUNC:function(t,e){return~~(t*(e=Math.pow(10,e||0)))/e},UPPER:function(t){return(t+"").toLocaleUpperCase()},VALUE:function(t){var e,n;if(t)if(parseFloat(t)==t)n=parseFloat(t);else if(this.isDate(t))n=this.DATEVALUE(t);else if(e=t.match(this.reDateTime)){var i=e[1]||e[12],r=t.substr(i.length+1);n=this.DATEVALUE(i)+this.TIMEVALUE(r)}else n=(e=t.match(this.reTime))?this.TIMEVALUE(t):(n=t.replace(/[^0-9\-.]/g,"")).replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"");else n=0;return n},VAR:function(){var t=this._STDEV(arguments);return t[0]/(t[1]-1)},VARP:function(){var t=this._STDEV(arguments);return t[0]/t[1]},VLOOKUP:function(t,e,n,i){null==i&&(i=!0);var r=(e=this.get2Arr(e)).map(function(t){return t[0]}),o=this.MATCH(t,r,i?1:0);return this.INDEX(e,o,n)},YEAR:function(t){return this.varToDate(t).getUTCFullYear()}};f.reDate1=new RegExp("^"+f.strDate1+"$"),f.reDate2=new RegExp("^"+f.strDate2+"$"),f.reDate=new RegExp("^"+f.strDate1+"$|^"+f.strDate2+"$"),f.reTime=new RegExp("^"+f.strTime+"$","i"),f.reDateTime=new RegExp("^("+f.strDate1+")\\s"+f.strTime+"$|^("+f.strDate2+")\\s"+f.strTime+"$")}(jQuery),function(t){pq.Select=function(e,n){if(this instanceof pq.Select==0)return new pq.Select(e,n);var i=n.closest(".pq-grid"),r=t("<div/>").appendTo(i);pq.grid(r,t.extend({width:n[0].offsetWidth,scrollModel:{autoFit:!0},height:"flex",autoRow:!1,numberCell:{show:!1},hoverMode:"row",fillHandle:"",stripeRows:!1,showTop:!1,showHeader:!1},e)),pq.makePopup(r[0]),r.position({my:"left top",at:"left bottom",of:n,collision:"flipfit",within:i})}}(jQuery),function(t){var e=function(t){this.options=t.options};e.prototype={empty:function(){for(var t in this)0==t.indexOf("_")&&delete this[t];delete this.options.dataModel.dataPrimary},getCM:function(){return this._cm},setCM:function(t){this._cm=t},getCols:function(){return this._columns},setCols:function(t){this._columns=t},getDMData:function(){return this.options.dataModel.dataPrimary},setDMData:function(t){this.options.dataModel.dataPrimary=t},getOCM:function(){return this._ocm},setOCM:function(t){this._ocm=t}},t(document).on("pqGrid:bootup",function(t,n){var i=n.instance,r=i.Group();r.primary=new e(i),i.on("beforeFilterDone",r.onBeforeFilterDone.bind(r)).one("CMInit",r.oneCMInit.bind(r))});var n={},i={clearPivot:function(t){if(this.isPivot()){var e=this.that,n=e.options.dataModel,i=this.primary;if(i.getOCM()&&e.refreshCM(i.getOCM()),t){if(!i.getDMData())throw"!primary.getDMData";n.data=i.getDMData()}else i.getDMData()&&(n.data=i.getDMData());return this.primary.empty(),this.setPivot(!1),!0}},getColsPrimary:function(){return this.primary.getCols()||this.that.columns},getCMPrimary:function(){return this.primary.getCM()||this.that.colModel},getOCMPrimary:function(){return this.primary.getOCM()||this.that.options.colModel},getSumCols:function(){var t=")"+(this.that.options.rtl?"&lrm;":"");return(n.getSumCols.call(this)||[]).map(function(e){return[e.dataIndx,e.dataType,e.summary,e.summary.type+"("+e.title+t,e.width,e.format,e.showifOpen]})},getVal:function(){return this._pivot?function(t,e){return t[e]}:n.getVal.apply(this,arguments)},groupData:function(){var t,e,i,r,o=this,a=o.that,s=a.options.groupModel,c=s.dataIndx,l=s.groupCols,u=l.length;if(s.pivot&&(t=c.slice(),s.dataIndx=c=c.concat(l),e=s.titleInFirstCol,i=s.titleIndx,r=s.merge,s.titleInFirstCol=!1,s.titleIndx=null,s.merge=!1),n.groupData.call(o),s.pivot){if(a.pdata=a.pdata.reduce(function(t,e){return e.pq_gtitle&&t.push(e),t},[]),i?(s.titleInFirstCol=e,s.titleIndx=i):t.length>1&&(s.merge=r),o.pivotData(c,t),s.dataIndx=t.slice(0,t.length-1),s.summaryInTitleRow="all",u){var h=i,d=t[t.length-1];i&&h!=d&&a.pdata.forEach(function(t){t[h]=t[d]}),n.groupData.call(o)}else i&&a.pdata.forEach(function(t){t[i]=t[[c[t.pq_level]]]});s.dataIndx=t,o.setPivot(!0)}a._trigger("groupData")},isPivot:function(){return this._pivot},getSorter:function(t){var e=t.pivotSortFn;return e||(e="number"==pq.getDataType(t)?function(t,e){return 1*t.sortby>1*e.sortby?1:-1}:function(t,e){return t.sortby>e.sortby?1:-1}),e},nestedCM:function(e,n){var i=this,r=n.pivotColsTotal,o="hideifOpen"!=r&&null,a=[],s=[],c=i.that.columns;return c=n.groupCols.map(function(t){var e=c[t];return a.push(i.getSorter(e)),s.push(pq.getDataType(e)),e}),function n(i,l,u){l=l||0,u=u||[];var h,d,p,f,g,m,v,b,_=0,y=[];if(t.isEmptyObject(i))for(;_<e.length;_++)h=e[_],(d=u.slice()).push(h[0]),p={dataIndx:d.join("_"),dataType:h[1],summary:h[2],title:h[3],width:h[4],format:h[5],showifOpen:h[6]},y.push(p);else{for(g in h=c[l],f=s[l],i)v="aggr"===g,(d=u.slice()).push(g),m=n(i[g],l+1,d),v?(b=m).forEach(function(t){t.showifOpen=o,t.type="aggr"}):(p={showifOpen:!0,sortby:g,title:pq.format(h,g,f),colModel:m},m.length>1&&!m.find(function(t){return!t.type}).dataIndx&&(p.collapsible={on:!0,last:null}),y.push(p));y.sort(a[l]),b&&y["before"==r?"unshift":"push"].apply(y,b)}return y}},onBeforeFilterDone:function(t,e){if(this.isPivot()){for(var n=e.rules,i=this.primary.getCols(),r=0;r<n.length;r++)if(!i[n[r].dataIndx])return!1;this.clearPivot(!0),e.header=!0}},oneCMInit:function(){this.updateAgg(this.that.options.groupModel.agg)},option:function(t,e,i,r){var o=this;o.isPivot()&&o.clearPivot(),n.option.call(o,t,e,i,r)},pivotData:function(e,n){var i,r=this.that,o=this.getSumCols(),a=this.getSumDIs(),s=r.options,c=s.groupModel,l=this.primary,u=r.pdata,h=r.columns,d=c.titleIndx;i=d?[h[d]].concat(n.reduce(function(e,n){return n!=d&&e.push(t.extend({hidden:!0},h[n])),e},[])):n.map(function(t){return h[t]});var p=this.transformData(u,a,e,n),f=this.nestedCM(o,c)(p),g={};g.CM=i=i.concat(f),r._trigger("pivotCM",null,g),l.setOCM(s.colModel),l.setCM(r.colModel),l.setCols(r.columns),r.refreshCM(g.CM,{pivot:!0})},setPivot:function(t){this._pivot=t},transformData:function(t,e,n,i){var r,o,a,s,c=this,l=[],u=this.that,h=this.primary,d={},p=[],f=u.options,g=f.dataModel,m=f.groupModel,v=m.pivotColsTotal,b=i.length,_={},y=n.length;return b==y?(t.forEach(function(t){t.pq_level==b-1&&(delete t.children,delete t.pq_gtitle)}),c.updateItems(t),l=t):t.forEach(function(t){var u,h,f=t.pq_level,g=f-b,m=_,C=n[f],x=t[C];if(g>=0)for(p[g]=x,u=0;g+1>u;u++)m=m[h=p[u]]=m[h]||{};f===y-1?e.forEach(function(e){(s=p.slice()).push(e),a[s.join("_")]=t[e]}):((!a||o>f&&b>f)&&(a={pq_gid:c.idCount++},r=!0),b>f&&(d[C]=a[C]=x),v&&y-2>=f&&f>=b-1&&e.forEach(function(e){(s=p.slice(0,g+1)).push("aggr"),s.push(e),a[s.join("_")]=t[e]})),o=f,r&&(l.push(a),i.forEach(function(t){void 0===a[t]&&(a[t]=d[t])}),r=!1)}),h.setDMData(g.data),g.data=u.pdata=l,v&&this.addAggrInCM(_,m.pivotTotalForSingle),_},addAggrInCM:function(t,e){var n,i=0;for(n in t)i++,this.addAggrInCM(t[n],e);i>(e?0:1)&&(t.aggr={})},updateAgg:function(t,e){var n,i=this.that.columns;if(e)for(n in e)i[n].summary=null;if(t)for(n in t)i[n].summary={type:t[n]}}},r=t.paramquery.cGroup.prototype;for(var o in i)n[o]=r[o],r[o]=i[o]}(jQuery),function(t){var e=t.paramquery;e.pqGrid.defaults.toolPanel={},e.pqGrid.prototype.ToolPanel=function(){return this.iToolPanel},t(document).on("pqGrid:bootup",function(t,n){var i=n.instance;i.iToolPanel=new e.cToolPanel(i)}),e.cToolPanel=function(t){var e=this;e.that=t,e.clsSort="pq-sortable",t.one("render",e.init.bind(e))},e.cToolPanel.prototype={getArray:function(t){return t.find(".pq-pivot-col").get().map(function(t){return t.dataset.di})},getInit:function(){return this._inited},getObj:function(t){var e={};return t.find(".pq-pivot-col").each(function(t,n){e[n.dataset.di]=n.getAttribute("type")||"sum"}),e},getSortCancel:function(){return this._sortCancel},_hide:function(t){this.$ele[t?"hide":"show"](),this.init(),this.that.refresh({soft:!0})},hide:function(){this._hide(!0)},init:function(){var t=this,e=t.$ele=t.that.$toolPanel;if(t.isVisible()&&!t.getInit()){var n=t.that,i=n.options,r=i.toolPanel,o=i.groupModel.pivot,a=" pq-pivot-label pq-bg-3 ",s=" pq-pivot-pane pq-border-1 ",c=t.isHideColPane(),l=r.hidePivotChkBox,u=t.clsSort;e.html(["<div class='pq-pivot-cols-all",s,"'>","<div class='",u,"' style='",l?"padding-top:0;":"","'></div>",l?"":["<div class='",a,"'>","<label><input type='checkbox' class='pq-pivot-checkbox' ",o?"checked":"","/>",i.strTP_pivot,"</label>","</div>"].join(""),"</div>","<div class='pq-pivot-rows",s,"' style='display:",r.hideRowPane?"none":"",";'>","<div deny='denyGroup' class='",u,"'></div>","<div class='",a,"'><span class='pq-icon'></span>",i.strTP_rowPane,"</div>","</div>","<div class='pq-pivot-cols",s,"' style='display:",c?"none":"",";'>","<div deny='denyPivot' class='",u,"'></div>","<div class='",a,"'><span class='pq-icon'></span>",i.strTP_colPane,"</div>","</div>","<div class='pq-pivot-vals",s,"' style='display:",r.hideAggPane?"none":"",";'>","<div deny='denyAgg' class='",u,"'></div>","<div class='",a,"'><span class='pq-icon'></span>",i.strTP_aggPane,"</div>","</div>"].join("")),t.$pivotChk=e.find(".pq-pivot-checkbox").on("click",t.onPivotChange(t,n)),t.$colsAll=e.find(".pq-pivot-cols-all>."+u),t.$colsPane=e.find(".pq-pivot-cols"),t.$cols=e.find(".pq-pivot-cols>."+u),t.$rows=e.find(".pq-pivot-rows>."+u),t.$aggs=e.find(".pq-pivot-vals>."+u).on("click contextmenu",t.onClick.bind(t)),n.on("refreshFull",t.setHt.bind(t)).on("groupOption",t.onGroupOption.bind(t)),setTimeout(function(){n.element&&(n.on("CMInit",t.onCMInit.bind(t)),t.render())}),t.setInit()}},isHideColPane:function(){var t=this.that.options;return t.toolPanel.hideColPane||!t.groupModel.pivot},isDeny:function(t,e,n){var i=e.attr("deny");return this.that.iGroup.getColsPrimary()[n[0].dataset.di][i]},isVisible:function(){return this.$ele.is(":visible")},onCMInit:function(t,e){e.pivot||e.flex||e.group||this.that.Group().isPivot()||this.refresh()},onClick:function(e){var n=t(e.target),i=this,r=i.that;if(n.hasClass("pq-pivot-col")){var o=n[0].dataset.di,a=r.iGroup.getColsPrimary()[o],s={dataModel:{data:r.iGroup.getAggOptions(a.dataType).sort().map(function(t){return[t]})},cellClick:function(t,e){var r=this;n.attr("type",e.rowData[0]),setTimeout(function(){r.destroy(),i.refreshGrid(),i.refresh()})}};return pq.Select(s,n),!1}},onGroupOption:function(t,e){if("tp"!=e.source){var n=e.oldGM,i=this.that.options.groupModel;i.groupCols==n.groupCols&&i.agg==n.agg&&i.dataIndx==n.dataIndx&&i.pivot==n.pivot||this.refresh()}},onPivotChange:function(t,e){return function(){var n={pivot:!!this.checked};e.Group().option(n,null,"tp"),t.showHideColPane()}},ph:function(t){return"<span style='color:#999;margin:1px;display:inline-block;'>"+t+"</span>"},refreshGrid:function(){var t=this,e=t.that,n=t.getArray(t.$cols),i=t.getObj(t.$aggs),r=t.getArray(t.$rows);e.Group().option({groupCols:n,dataIndx:r,agg:i,on:!!r.length},null,"tp"),setTimeout(function(){t.refresh()})},onReceive:function(t,e){return this.getSortCancel()?this.setSortCancel(!1):void this.refreshGrid()},onOver:function(e){return function(n,i){var r=t(this),o=i.item,a=o.parent(),s="addClass",c="removeClass",l=a[0]!=r[0]&&e.isDeny(a,r,o);i.helper.find(".ui-icon")[l?s:c]("ui-icon-closethick")[l?c:s]("ui-icon-check")}},onStop:function(e){return function(n,i){var r=t(this),o=i.item,a=o.parent();r[0]!=a[0]&&e.isDeny(r,a,o)&&(r.sortable("cancel"),e.setSortCancel(!0))}},onTimer:function(){var t;return function(e,n){clearTimeout(t);var i=this;t=setTimeout(function(){i.onReceive(e,n)})}}(),refresh:function(){this.setHtml(),t(this.panes).sortable("refresh")},render:function(){var e=this,n="."+e.clsSort,i=e.that;i.element&&(e.panes=[e.$colsAll,e.$cols,e.$rows,e.$aggs],e.setHtml(),t(e.panes).sortable({appendTo:e.$ele,connectWith:n,containment:e.$ele,cursor:"move",items:"> .pq-pivot-col:not('.pq-deny-drag')",helper:function(t,e){return e.clone(!0).css({opacity:"0.8"}).prepend("<span class='ui-icon-check ui-icon'></span>")},receive:e.onTimer.bind(e),stop:e.onStop(e),over:e.onOver(e),update:e.onTimer.bind(e),tolerance:"pointer"}),i._trigger("tpRender"))},setHtml:function(){var t,e,n=this,i=n.that,r=[],o=[],a=[],s=[],c=n.template,l=n.templateVals,u={},h=i.options,d=i.iGroup,p=d.getColsPrimary(),f=d.getCMPrimary(),g=h.groupModel,m=g.dataIndx,v=g.groupCols,b=0,_=f.length,y=n.$pivotChk[0];for(m.concat(v).forEach(function(t){u[t]=1}),y&&(y.checked=g.pivot),n.showHideColPane();_>b;b++)e=(t=f[b]).dataIndx,t.tpHide||u[e]||(t.summary&&t.summary.type?s.push(l(e,t)):r.push(c(e,t)));m.forEach(function(t){a.push(c(t,p[t]))}),v.forEach(function(t){o.push(c(t,p[t]))}),n.$colsAll.html(r.join("")),n.$rows.html(a.join("")||n.ph(h.strTP_rowPH)),n.$cols.html(o.join("")||n.ph(h.strTP_colPH)),n.$aggs.html(s.join("")||n.ph(h.strTP_aggPH))},setAttrPanes:function(){this.$ele.attr("panes",this.panes.filter(function(t){return t.is(":visible")}).length)},setHt:function(){this.$ele.height(this.$ele.parent()[0].offsetHeight)},setSortCancel:function(t){this._sortCancel=t},setInit:function(){this._inited=!0},show:function(){this._hide(!1)},showHideColPane:function(){var t=this;t.$colsPane.css("display",t.isHideColPane()?"none":""),t.setAttrPanes()},template:function(t,e){return["<div data-di='",t,"' class='pq-pivot-col pq-border-2 ",e.tpCls||"","'>",e.title,"</div>"].join("")},templateVals:function(t,e){var n=e.summary.type;return["<div data-di='",t,"' type='",n,"' class='pq-pivot-col pq-border-2 ",e.tpCls||"","'>",n,"(",e.title,")</div>"].join("")},toggle:function(){this._hide(this.isVisible())}}}(jQuery),function(t){function e(t){var e=this;e.that=t,e.rtl=t.options.rtl,t.on("headerCellClick",e.onHeadCellClick.bind(e)).on("headerClick",e.onHeadClick.bind(e)).on("destroy",e.onDestroy.bind(e))}t(document).on("pqGrid:bootup",function(t,n){var i=n.instance;i.iHeaderMenu=new e(i),i.HeaderMenu=function(){return i.iHeaderMenu}}),e.prototype={close:function(){this.$popup.remove(),this.$popup=null},popup:function(){return this.$popup},openFilterTab:function(){var t=this.$popup.find("a[href='tabs-filter']").closest("li").index();return this.$tabs.tabs("option","active",t),this.filterMenu},FilterMenu:function(){return this.filterMenu},getCM:function(){var t=null,e=this.nested;return[{editor:!1,dataIndx:"title",title:this.that.options.strSelectAll||"Select All",useLabel:!0,filter:{crules:[{condition:"contain"}]},type:e?t:"checkbox",cbId:e?t:"visible"},{hidden:!0,dataIndx:"visible",dataType:"bool",editable:function(t){return!t.rowData.pq_disable},cb:e?t:{header:!0}}]},getData:function(){var t=1,e=this,n=e.that,i=n.iRenderHead;return n.Columns().reduce(function(n){var r=this.getColIndx({column:n}),o=!n.hidden,a=n.childCount;return n.menuInHide||n.collapsible?void 0:(a&&(e.nested=!0),{visible:a?void 0:o,title:a?n.title:i.getTitle(n,r)||n.dataIndx,column:n,id:t++,pq_disable:n.menuInDisable,pq_close:n.menuInClose,colModel:a?n.colModel:void 0})})},getGridObj:function(){var e=this,n=e.that;return t.extend({dataModel:{data:e.getData()},rtl:n.options.rtl,colModel:e.getCM(),check:e.onChange.bind(e),treeExpand:e.onTreeExpand.bind(e),treeModel:e.nested?{dataIndx:"title",childstr:"colModel",checkbox:!0,checkboxHead:!0,cbId:"visible",cascade:!0,useLabel:!0}:void 0},n.options.menuUI.gridOptions)},onChange:function(t,e){if(!e.init){var n=[],i=[];(e.getCascadeList?e.getCascadeList():e.rows).forEach(function(t){var e=t.rowData,r=e.column,o=r.dataIndx,a=r.colModel;a&&a.length||(e.visible?n.push(o):i.push(o))}),this.that.Columns().hide({diShow:n,diHide:i})}},onDestroy:function(){var t=this.$popup;t&&t.remove(),delete this.$popup},onHeadCellClick:function(e,n){var i=t(e.originalEvent.target);return i.hasClass("pq-filter-icon")?this.onFilterClick(e,n,i):i.hasClass("pq-menu-icon")?this.onMenuClick(e,n,i):void 0},onHeadClick:function(t,e){return null==this.that.getColModel().find(function(t){return!t.hidden})?this.onMenuClick(t,e):void 0},getMenuHtml:function(t){var e={hideCols:"visible",filter:"filter"},n=t.map(function(t){return['<li><a href="#tabs-',t,'"><span class="pq-tab-',e[t],'-icon">&nbsp;</span></a></li>'].join("")}).join(""),i=t.map(function(t){return'<div id="tabs-'+t+'"></div>'}).join("");return["<div class='pq-head-menu pq-theme' dir='",this.rtl?"rtl":"ltr","'>","<div class='pq-tabs' style='border-width:0;'>","<ul>",n,"</ul>",i,"</div>","</div>"].join("")},getMenuH:function(e,n){return t.extend({},e.menuUI,n.menuUI)},open:function(e,n,i){var r,o,a=this,s=a.that;n=n||s.getCellHeader({dataIndx:e}),r=null!=e?(a.menuH=a.getMenuH(s.options,o=s.columns[e])).tabs:["hideCols"];var c=a.$popup=t(a.getMenuHtml(r)).appendTo(document.body),l=this.$tabs=c.find(".pq-tabs");if(r.indexOf("hideCols")>-1){var u=a.$grid=t("<div/>").appendTo(c.find("#tabs-hideCols"));a.grid=pq.grid(u,a.getGridObj())}return r.indexOf("filter")>-1&&a.appendFilter(c.find("#tabs-filter"),o),pq.makePopup(a.$popup[0]),l.tabs({active:localStorage["pq-menu-tab"]||1,activate:function(e,n){localStorage["pq-menu-tab"]=t(this).tabs("option","active"),t(n.newPanel).find(".pq-grid").pqGrid("refresh")}}),c.resizable({handles:"e,w",maxWidth:600,minWidth:220}),c.position({my:"left top",at:"left bottom",of:i||n}),this},onMenuClick:function(t,e,n){return this.open(e.dataIndx,t,n),!1},onTreeExpand:function(t,e){e.nodes.forEach(function(t){t.column.menuInClose=e.close})},appendFilter:function(e,n){var i,r,o=this,a=o.that,s=t("<div class='pq-filter-menu pq-theme'/>").appendTo(e),c=o.$popup||s;i=o.filterMenu=new pq.cFilterMenu;var l={filterRow:e.is(document.body),grid:a,column:n,$popup:c,menuH:this.menuH||this.getMenuH(a.options,n)};return i.init(l),r=i.getHtml(),s.html(r),i.ready(s.children().get()),i.addEvents(),c.on("remove",function(){o.$popup=o.filterMenu=null}),s},onFilterClick:function(e,n,i){var r=this.$popup=this.appendFilter(t(document.body),n.column);return pq.makePopup(r[0]),r.position({my:"left top",at:"left bottom",of:i}),!1}}}(jQuery),function(t){var e=pq.cFilterMenu=function(){};e.select=function(t,e){this.that=t,this.di1="selected",this.grid=null,this.column=e},e.select.prototype={change:function(t){this.onChange(t).call(this.grid)},create:function(e,n,i){var r=this,o=r.that,a=r.getGridObj(n,i),s=function(t){var e=n[t];e&&e.call(o,c),o._trigger(t,null,c)},c=t.extend({obj:a,column:r.column},n);return s("selectGridObj"),a.rtl=o.options.rtl,c.grid=r.grid=pq.grid(e,a),s("selectGridCreated"),r.grid},getCM:function(e,n,i,r,o,a){var s=e.dataIndx,c=t.extend({filter:{crules:[{condition:"contain"}]},align:"left",format:a.format||e.format,deFormat:e.deFormat,title:e.pq_title||e.title,dataType:e.dataType,dataIndx:s,editor:!1,useLabel:!0,renderLabel:this.getRenderLbl(r,s,this.that.options.strBlanks)},i?{}:{type:"checkbox",cbId:n});return i?[c,{dataIndx:n,dataType:"bool",hidden:!0},{dataIndx:i,hidden:!0}]:[c,{dataIndx:n,dataType:"bool",hidden:!0,cb:{header:!o,maxCheck:o}}]},getData:function(e,n){var i=this.column,r=this.that,o={},a=this.di1,s=i.dataIndx,c=e.maxCheck,l=pq.filter.getVal(n)[0],u=pq.filter.getOptions(i,e,r,!0);return t.isArray(l)?c&&(l=l.slice(0,c)):l=1==c?[l]:[],l.forEach(function(t){o[t]=!0}),u.forEach(l.length?function(t){t[a]=o[t[s]]}:function(t){t[a]=!c}),u},getGridObj:function(e,n){var i=this,r=i.column,o=i.that.options,a="gridOptions",s=e.groupIndx,c=e.maxCheck,l=i.di1,u=i.getData(e,r.filter),h=u&&u.length&&null!=u[0].pq_label?"pq_label":e.labelIndx;return i.filterUI=e,t.extend({colModel:i.getCM(r,l,s,h,c,e),check:i.onChange(!n),filterModel:"bool"===r.dataType?{}:void 0,groupModel:s?{on:!0,dataIndx:s?[s]:[],titleInFirstCol:!0,fixCols:!1,indent:18,checkbox:!0,select:!1,checkboxHead:!c,cascade:!c,maxCheck:c,cbId:l}:{},dataModel:{data:u}},o.menuUI[a],o.filterModel[a],e[a])},getRenderLbl:function(t,e,n){return t===e&&(t=void 0),function(i){var r=i.rowData,o=r[t];return o||""!==r[e]?o:n}},onChange:function(t){var e=this,n=e.filterUI.condition;return function(){if(t){var i=!1,r=e.column.dataIndx,o=e.di1,a=e.that,s=this.getData().filter(function(t){var e=t[o];return e||(i=!0),e}).map(function(t){return t[r]});a.filter(i?{oper:"add",rule:{dataIndx:r,condition:n,value:s}}:{rule:{dataIndx:r,condition:n,value:[]}}),e.refreshRowFilter()}}},refreshRowFilter:function(){this.that.iRenderHead.postRenderCell(this.column)}},e.prototype={addEvents:function(){var t=this;t.$sel0.on("change",t.onSel1Change.bind(t)),t.$sel1.on("change",t.onSel2Change.bind(t)),t.$filter_mode.on("change",t.onModeChange.bind(t)),t.$clear.button().on("click",t.clear.bind(t)),t.$ok.button().on("click",t.ok.bind(t))},addEventsInput:function(){var t=this;t.$inp&&(t.$inp.filter("[type='checkbox']").off("click").on("click",t.onInput.bind(t)),t.$inp.filter("[type='text']").off("keyup").on("keyup",t.onInput.bind(t)))},clear:function(){var t=this.that,e=this.column,n=this.cond0,i=this.getType(n);t.filter({rule:{dataIndx:e.dataIndx,condition:i?n:void 0},oper:"remove"}),this.refreshRowFilter(),this.ready()},close:function(){this.$popup.remove()},filterByCond:function(t){var e=this,n=e.that,i=e.column.dataIndx,r=e.cond0,o=""===r,a=e.cond1,s=e.filterRow;if(e.showHide(r,a),!s)var c=e.getModeVal(),l=e.getType(r),u=e.getVal(0),h=u[0],d=u[1],p=e.getVal(1),f=p[0],g=p[1],m=e.$gridR;"select"==l?(t&&n.filter({oper:"add",rule:{dataIndx:i,condition:r,value:[]}}),s||e.iRange.create(m,e.filterUI[0],e.btnOk)):t&&n.filter({oper:o?"remove":"add",rule:{dataIndx:i,mode:c,crules:[{condition:r,value:h,value2:d},{condition:a,value:f,value2:g}]}})},getBtnOk:function(){return this.$ok},getInp:function(t){return this["$inp"+t]},getSel:function(t){return this["$sel"+t]},getBtnClear:function(){return this.$clear},getHtmlInput:function(t){var e=this.filterUI[2>t?0:1],n="checkbox";return"<input type='"+(e.type==n?n:"text")+"' "+["name='",this.column.dataIndx,"' class='",e.cls||"","' style='width:100%;",e.style||"","display:none;' ",e.attr||""].join("")+" />"},getHtml:function(){var t=this,e=t.column.filter,n=t.menuH,i=e.crules||[],r=i[1]||{},o=t.that.options,a=t.cond0=(i[0]||e).condition,s=t.cond1=r.condition,c=t.filterRow;t.readFilterUI();var l=function(e,n){return["<div style='margin:0 auto 4px;'>",t.getHtmlInput(e),"</div>","<div style='margin:0 auto 4px;'>",t.getHtmlInput(n),"</div>"].join("")},u=pq.filter.getConditionsCol(this.column,t.filterUI[0]);return["<div style='padding:4px;'>","<div style='margin:0 auto 4px;'>",o.strCondition," <select>",this.getOptionStr(u,a),"</select></div>",c?"":["<div>",l(0,1),"<div data-rel='grid' style='display:none;'></div>",n.singleFilter?"":["<div class='filter_mode_div' style='text-align:center;display:none;margin:4px 0 4px;'>","<label><input type='radio' name='pq_filter_mode' value='AND'/>AND</label>&nbsp;","<label><input type='radio' name='pq_filter_mode' value='OR'/>OR</label>","</div>","<div style='margin:0 auto 4px;'><select>",this.getOptionStr(u,s,!0),"</select></div>",l(2,3)].join(""),"</div>"].join(""),"<div style='margin:4px 0 0;'>",n.buttons.map(function(t){return"<button data-rel='"+t+"' type='button' style='width:calc(50% - 4px);margin:2px;' >"+(o["str"+pq.cap1(t)]||t)+"</button>"}).join(""),"</div>","</div>"].join("")},getMode:function(t){var e=this.$filter_mode;return t>=0?e[t]:e},getModeVal:function(){return this.$filter_mode.filter(":checked").val()},getOptionStr:function(t,e,n){var i=[""].concat(t),r=this,o=r.that.options.strConditions||{};return n&&(i=i.filter(function(t){return"select"!=r.getType(t)})),i.map(function(t){return'<option value="'+t+'" '+(e==t?"selected":"")+">"+(o[t]||t)+"</option>"}).join("")},getType:function(t){return pq.filter.getType(t,this.column)},getVal:function(t){var e,n,i=this.column,r=this["cond"+t],o=this["$inp"+(t?"2":"0")],a=o[0],s=this["$inp"+(t?"3":"1")];return o.is("[type='checkbox']")?e=!!a.checked||!!a.indeterminate&&null:(o.is(":visible")&&(e=pq.deFormat(i,o.val(),r)),s.is(":visible")&&(n=pq.deFormat(i,s.val(),r))),[e,n]},init:function(t){var e=this.column=t.column;e.filter=e.filter||{},this.that=t.grid,this.menuH=t.menuH,this.$popup=t.$popup,this.filterRow=t.filterRow},initControls:function(){var e=this.filterUI[0],n=this.that,i={column:this.column,headMenu:!0};i.$editor=t([this.$inp0[0],this.$inp1[0]]),i.condition=this.cond0,i.type=e.type,i.filterUI=e,e.init.find(function(t){return t.call(n,i)}),e=this.filterUI[1],i.$editor=t([this.$inp2[0],this.$inp3[0]]),i.condition=this.cond1,i.type=e.type,i.filterUI=e,e.init.find(function(t){return t.call(n,i)})},isInputHidden:function(t){return"select"==t||!t||void 0},ok:function(){var t=this.cond0;"select"!=this.getType(t)||this.filterRow?t&&this.filterByCond(!0):this.iRange.change(!0),this.close(),this.refreshRowFilter()},onModeChange:function(){this.filterByCond(!this.btnOk)},onInput:function(e){var n=t(e.target),i=!this.btnOk;n.is(":checkbox")&&n.pqval({incr:!0}),this.filterByCond(i),i&&this.refreshRowFilter()},onSel1Change:function(){var t=!this.btnOk;this.cond0=this.getSel(0).val(),this.readFilterUI(),this.filterRow||(this.$inp0.replaceWith(this.getHtmlInput(0)),this.$inp1.replaceWith(this.getHtmlInput(1)),this.refreshInputVarsAndEvents(),this.initControls()),this.filterByCond(t),this.refreshRowFilter()},onSel2Change:function(){this.cond1=this.getSel(1).val(),this.readFilterUI(),this.$inp2.replaceWith(this.getHtmlInput(2)),this.$inp3.replaceWith(this.getHtmlInput(3)),this.refreshInputVarsAndEvents(),this.initControls(),this.filterByCond(!this.btnOk)},ready:function(e){this.node=e=e||this.node;var n,i,r,o=t(e),a=this,s=a.that,c=a.column,l=c.filter,u=l.crules||[],h=u[0]||l,d=u[1]||{},p=a.cond0=h.condition,f=a.cond1=d.condition,g=a.readFilterUI();a.iRange=new pq.cFilterMenu.select(s,c),n=a.getType(p),i=a.getType(f),r=a.$select=o.find("select"),a.$sel0=t(r[0]).val(p),a.$sel1=t(r[1]).val(f),a.$filter_mode=o.find('[name="pq_filter_mode"]'),a.$clear=o.find("[data-rel='clear']"),a.$ok=o.find("[data-rel='ok']"),a.btnOk=a.$ok.length,a.filterRow||(a.refreshInputVarsAndEvents(),a.$gridR=o.find("[data-rel='grid']"),a.$filter_mode.filter("[value="+l.mode+"]").attr("checked","checked"),a.$filter_mode_div=o.find(".filter_mode_div"),a.showHide(p,f),"select"==n?a.iRange.create(a.$gridR,g[0],a.btnOk):a.readyInput(0,n,h),a.readyInput(1,i,d),a.initControls())},readyInput:function(t,e,n){var i=this.column,r=this["cond"+t],o=this["$inp"+(t?"2":"0")],a=this["$inp"+(t?"3":"1")];o.is(":checkbox")&&o.pqval({val:n.value}),o.val(pq.formatEx(i,n.value,r)),"textbox2"==e&&a.val(pq.formatEx(i,n.value2,r))},readFilterUI:function(){var t=this.filterUI=[],e=this.that,n={column:this.column,condition:this.cond0,indx:0,headMenu:!0};return t[0]=pq.filter.getFilterUI(n,e),n.condition=this.cond1,n.indx=1,t[1]=pq.filter.getFilterUI(n,e),t},refreshInputVarsAndEvents:function(){var e=this,n=e.column,i=e.$inp=t(this.node).find("input[name='"+n.dataIndx+"']"),r=i[1],o=i[2],a=i[3];e.$inp0=t(i[0]),e.$inp1=t(r),e.$inp2=t(o),e.$inp3=t(a),e.addEventsInput()},refreshRowFilter:function(){this.that.refreshHeaderFilter({dataIndx:this.column.dataIndx})},SelectGrid:function(){return this.$gridR.pqGrid("instance")},showHide:function(t,e){if(!this.filterRow){var n,i=this,r=i.$filter_mode_div,o=i.$sel1,a=i.getType(t),s=i.$inp;"select"===a?(i.$gridR.show(),i.$gridR.hasClass("pq-grid")&&i.$gridR.pqGrid("destroy"),s.hide(),r.hide(),o.hide()):(i.$gridR.hide(),t?(i.$inp0[i.isInputHidden(a)?"hide":"show"](),i.$inp1["textbox2"===a?"show":"hide"](),r.show(),o.show(),e?(n=i.getType(e),i.$inp2[i.isInputHidden(n)?"hide":"show"](),i.$inp3["textbox2"===n?"show":"hide"]()):(i.$inp2.hide(),i.$inp3.hide())):(s.hide(),r.hide(),o.hide()))}},updateConditions:function(){var t=this.column.filter;t.crules=t.crules||[{}],t.crules[0].condition=this.cond0,this.cond1&&(t.crules[1]=t.crules[1]||{},t.crules[1].condition=this.cond1)}}}(jQuery),function(t){var e=t.paramquery;t(document).on("pqGrid:bootup",function(t,n){new e.cEditor(n.instance)}),e.cEditor=function(t){var e=this;e.that=t,t.on("editorBeginDone",function(t,n){n.$td[0].edited=!0,e.fixWidth(n)}).on("editorEnd",function(t,e){e.$td[0].edited=!1})},e.cEditor.prototype={fixWidth:function(e){var n=this.that,i=e.$td,r=i[0],o=r.offsetWidth,a=r.offsetHeight,s=n.iRenderB,c=s.htContTop,l=s.wdContLeft,u=s.getCellIndx(r)[2],h=0,d=0;"right"==u&&(h=c,d=l),"left"==u&&(h=c),"tr"==u&&(d=l);var p,f,g,m=e.$editor,v="textarea"==m[0].type,b=m.closest(".pq-editor-outer"),_=i.offset(),y=n.options,C=y.rtl,x=C?"right":"left",w=_.left,M=_.top,O=w+o,P=t.extend({},y.editModel,e.column.editModel),k=n.$cont,A=k.offset(),T=A.left,S=k[0],E=S.offsetWidth,I={top:f=(f=M-A.top-1)>h?f:h},R=S.offsetHeight-f,D=E-(p=(p=(C?T+E-O:w-T)-1)>d?p:d),N=(N=a+1)>R?R:N,L={minWidth:g=(g=o+1)>D?D:g,maxWidth:D,maxHeight:R};if(I[x]=p,b.css(I),v){L.minHeight=N;var z=i.children("div"),j=i.css("background-color");L.fontSize=i.css("font-size"),L.fontFamily=i.css("font-family"),L.backgroundColor=j,L.color=i.css("color"),L.padding=parseInt(z.css("padding-top"))+2+"px "+(parseInt(z.css("padding-right"))+2)+"px"}else L.width=o+1;m.css(L),v&&m.pqtext(P.saveKey!=t.ui.keyCode.ENTER)}}}(jQuery),function(t){var e=pq.grid,n=t.paramquery.cProxy=function(t){this.that=t,t.options.reactive&&this.init()};t(document).on("pqGrid:bootup",function(t,e){var i=e.instance;i.iProxy=new n(i)}),pq.isEqual=function(t,e){if(pq.isObject(t)){for(var n in t)if(!pq.isEqual(t[n],e[n]))return!1;return!0}return t===e},pq.grid=function(t,n){var i=e.apply(pq,arguments),r=i.iProxy,o=i.options;return o.reactive&&(i.on("filter",function(){n.dataModel&&(n.dataModel.data=o.dataModel.data),r.prxData()}),r.prxObj(n,r.onOption,!0)),i},n.prototype={init:function(){var t=this,e=t.that;t.prxData(),t.prxCM(),e.on("refresh",t.clear.bind(t)).on("dataReady",t.clearV.bind(t)).on("dataAvailable",t.clearDV.bind(t))},onOption:function(t,e){var n,i=this,r=i.that,o={},a=r.options;if(o[t]=e,r.element&&!pq.isEqual(o,a))if(i.refresh(),pq.isObject(a[t]))if("groupModel"==t)r.Group().option(e,!1),i.refreshView();else if("treeModel"==t)r.Tree().option(e);else if("sortModel"==t)r.sort(e);else for(n in"dataModel"==t?(e.data&&i.prxData(e.data),i.refreshDataView()):"pageModel"==t&&(e.rPP||null!=e.type)&&i.refreshDataView(),e)r.option(t+"."+n,e[n]);else"colModel"==t?i.prxCM(e):"mergeCells"==t&&i.refreshView(),r.option(t,e)},onCMChange:function(){var t=this,e=t.that;clearTimeout(t.CMtimer),t.CMtimer=setTimeout(function(){e.refreshCM(),t.refresh()}),e.one("CMInit",function(){clearTimeout(t.CMtimer)})},prxCM:function(t){var e=this,n=t||e.that.options.colModel;n&&(e.prxArray(n,e.onCMChange.bind(e)),n.forEach(function(t){t.colModel&&e.prxCM(t.colModel)}))},prxData:function(t){var e=this,n=e.that,i=t||n.options.dataModel.data;i&&e.prxArray(i,function(){clearTimeout(e.datatimer),e.datatimer=setTimeout(function(){e.refreshView()}),n.one("dataReady",function(){clearTimeout(e.datatimer)})})},prxArray:function(t,e){var n=this,i=Array.prototype;"pop push reverse shift sort splice unshift".split(" ").forEach(function(r){t[r]=function(){var o=arguments,a="splice"==r,s=Object.getPrototypeOf(t)[r].apply(this,o);return("push"==r||a||"unshift"==r)&&n.prxArrayObjs(a?i.slice.call(o,2):o),e.call(n),s}}),n.prxArrayObjs(t)},prxArrayObjs:function(t){for(var e=0,n=t.length;n>e;e++)this.prxObj(t[e])},prxObj:function(t,e,n,i){if(pq.isObject(t)){var r,o,a=this,s="pq_proxy";for(o in t[s]||Object.defineProperty(t,s,{value:{},enumerable:!1}),(r=t[s]).__self=a,t)"pq_"!=o.substr(0,3)&&(n&&!i&&pq.isObject(t[o])&&a.prxObj(t[o],e,n,o),r.hasOwnProperty(o)||(Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(t,o)),a.defineProp(t,r,o,e,n,i)))}},defineProp:function(t,e,n,i,r,o){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){var a,s=e.__self;r&&!o&&pq.isObject(t)&&s.prxObj(t,i,r,n),e[n]=t,i?(a=t,o&&((a={})[n]=t),i.call(s,o||n,a)):s.refresh()},enumerable:!0})},clear:function(){clearTimeout(this.timer)},clearV:function(){this.clear(),clearTimeout(this.timerV)},clearDV:function(){this.clearV(),clearTimeout(this.timerDV)},X:function(t,e){var n=this;n[e]=setTimeout(function(){n.that.element&&n.that[t]()})},refresh:function(){this.clear(),this.X("refresh","timer")},refreshView:function(){this.clearV(),this.X("refreshView","timerV")},refreshDataView:function(){this.clearDV(),this.X("refreshDataAndView","timerDV")}}}(jQuery),function(t){t.widget("pq.drag",t.ui.mouse,{_create:function(){this._mouseInit()},_mouseCapture:function(t){return this._trigger("capture",t),!0},_mouseStart:function(t){return this._trigger("start",t),!0},_mouseDrag:function(t){this._trigger("drag",t)},_mouseStop:function(t){this._trigger("stop",t)}})}(jQuery),function(t){t(document).on("pqGrid:bootup",function(t,n){var i=n.instance;i.iPic=new e(i),i.Pic=function(){return i.iPic}});var e=t.paramquery.cPic=function(t){var e=this,n=t.options,i=e.rtl=n.rtl;e.id=0,e.left=i?"right":"left",e.pics=[],e.that=t,t.on("dataAvailable",function(i,r){"filter"!=r.source&&(e.reset(),t.one("refresh",function(){e.addPics(n.pics)}))}).on("assignTblDims",e.refresh.bind(e))};e.prototype={addPics:function(t){var e=this;(t||[]).forEach(function(t){e.add(t.name,t.src,t.from,t.to,t.cx,t.cy,!0)})},create:function(e,n,i,r,o,a,s,c,l){var u,h,d=this,p=new Image,f={position:"absolute",top:r,zIndex:5},g=t(p);p.src=n,f[d.left]=i,e.append(p),(h=g.attr({draggable:!1,"pic-id":l,tabindex:1}).css({height:a,width:o,cursor:"move"}).on("focus",function(){t(c).css({outline:"2px dotted #999"})}).on("keydown",function(e){e.keyCode==t.ui.keyCode.DELETE&&d.remove(d.getId(this))}).on("blur",function(){t(c).css({outline:""})}).resizable({resize:d.onResize(d,c,s)}).parent(".ui-wrapper").css(f)).find(".ui-resizable-se").removeClass("ui-icon"),u=d.drag(h,c,s),g.drag({distance:3,capture:function(){g.focus()},start:u.start,drag:u.drag,stop:u.stop}),c.push(h[0])},drag:function(e,n,i){var r,o=this,a=o.that,s=a.iRenderB,c=i.cx,l=i.cy,u=s.leftArr,h=s.topArr,d=u[u.length-1],p=h[h.length-1],f=s.numColWd,g=function(t){return parseInt(e.css(t))};return{start:function(t){r={pageX:t.pageX,pageY:t.pageY,scrollX:a.scrollX(),scrollY:a.scrollY()}},drag:function(e){var i=a.scrollX(),s=a.scrollY(),u=(e.pageX+i-r.pageX-r.scrollX)*(o.rtl?-1:1),h=e.pageY+s-r.pageY-r.scrollY,m=g(o.left),v=g("top"),b={};r.pageX=e.pageX,r.scrollX=i,r.pageY=e.pageY,r.scrollY=s,0>m+u-f?u=f-m:m+u+c>d+f&&(u=d+f-m-c),0>v+h?h=0-v:v+u+l>p&&(h=p-v-l),b.top=v+h,b[o.left]=m+u,t(n).css(b)},stop:function(){var t=g(o.left)-f,e=g("top"),n=o.findIndx(u,t),r=o.findIndx(h,e);i.from=[n,t-u[n],r,e-h[r]]}}},onResize:function(e,n,i){return function(e,r){var o=r.size.height,a=r.size.width,s={height:o,width:a};t(n).css(s),t(n).find("img").css(s),delete i.to,i.cx=a,i.cy=o}},getPos:function(t){var e=this.that.iRenderB.getCellXY(1*t[2],1*t[0]);return[e[0]+t[1],e[1]+t[3]]},name:function(t){return t.replace(/[^0-9,a-z,A-Z,_\.]/g,"_")},refresh:function(){var t=this,e=t.that.widget();t.pics.forEach(function(n){var i=n.id,r=t.getPos(n.from),o=r[0],a={top:r[1]},s=e.find("[pic-id="+i+"]").parent();a[t.left]=o,s.css(a)})},add:function(t,e,n,i,r,o,a){var s=this;if("data:"!=e.substr(0,5))t=t||e.split("/").pop(),pq.urlToBase(e,function(e){s.add(t,e,n,i,r,o,a)});else{var c,l,u,h=s.that,d=h.iRenderB,p=s.getPos(n),f=p[0],g=p[1],m=[],v=s.id++,b=function(r,o){(l={name:t,src:e,get from(){var t=this._from;return[h.getColIndx({column:t[0]}),t[1],t[2].pq_ri,t[3]]},set from(t){this._from=[h.colModel[t[0]],t[1],h.getRowData({rowIndx:t[2]}),t[3]]},cx:r,cy:o,id:v}).from=n,["$cright","$cleft","$clt","$ctr"].forEach(function(t){s.create(d[t],e,f,g,r,o,l,m,v)}),s.pics.push(l),a||h.iHistory.push({callback:function(a){a?v=s.add(t,e,n,i,r,o,!0):s.remove(v,!0)}}),h._trigger("picAdd")};i&&i.length?(c=d.getCellXY(i[2],i[0]),b(c[0]+i[1]-f,c[1]+i[3]-g)):o?b(r,o):((u=new Image).onload=function(){b(u.width,u.height)},u.src=e)}return v},findIndx:function(t,e){return t.findIndex(function(t){return t>e})-1},getId:function(e){return t(e).attr("pic-id")},remove:function(t,e){var n,i=this,r=i.that,o=i.pics.findIndex(function(e){return e.id==t});r.widget().find("[pic-id="+t+"]").remove(),n=i.pics.splice(o,1)[0],e||r.iHistory.push({callback:function(e){e?i.remove(t,!0):t=i.add(n.name,n.src,n.from,n.to,n.cx,n.cy,!0)}})},reset:function(){this.that.widget().find("[pic-id]").remove(),this.pics.length=0,this.id=0}}}(jQuery),function(t){var e=function(){var e;return function(){if(null==e){var n=t("<textarea style='padding:0 50px;width:1px;border:none;box-sizing:border-box;visibility:hidden;'>a</textarea>").appendTo(document.body),i=n[0].scrollWidth;n.remove(),e=100==i}return e}}();t.fn.pqtext=function(n){function i(){var t=o.style,e=t.minWidth;t.whiteSpace="pre",t.wordWrap="normal",t.height=0,t.width=0,t.minWidth=0,t.width=o.scrollWidth+s+"px",t.minWidth=e,t.whiteSpace="pre-wrap",t.wordWrap="break-word",t.height=o.scrollHeight+"px"}var r=this,o=r[0],a="pq-text",s=e()?parseInt(r.css("paddingRight"))+5:1;r.hasClass(a)||(i(),r.addClass(a).attr("spellcheck",!1).on("input",i).on("keydown",function(e){var i,a,s,c="selectionStart",l="selectionEnd";e.keyCode==t.ui.keyCode.ENTER&&((e.altKey||n)&&(a=o[l],o.value=(s=o.value).slice(0,i=o[c])+"\n"+s.slice(i,s.length),o[c]=i+1,o[l]=a+1,r.trigger("input")),e.preventDefault())}))}}(jQuery),function(t){t(document).on("pqGrid:bootup",function(t,n){var i=n.instance;i.iRowResize=new e(i),i.RowResize=function(){return i.iRowResize}});var e=t.paramquery.cRowResize=function(t){var e=this;e.that=t,e.ht=8,t.options.rowResize&&t.on(!0,"cellMouseDown",e.onCellDown.bind(e)).on("cellMouseEnter",e.onCellEnter.bind(e))};e.prototype={onCellDown:function(e,n){if(-1==n.colIndx){var i=e.pageY,r=e.currentTarget,o=t(r);if(i>=o.offset().top+r.offsetHeight-this.ht){this.createDrag(o,n);var a=t.Event("mousedown",e);return a.type="mousedown",o.trigger(a),!1}o.draggable("instance")&&o.draggable("destroy")}},onCellEnter:function(e,n){if(-1==n.colIndx){var i="pq-row-resize",r=t(e.currentTarget);this.drag||r.find("."+i).length||r.append("<div class='"+i+"' style='position:absolute;height:"+(this.ht-1)+"px;bottom:0;left:0;width:100%;cursor:row-resize;'></div>")}},createDrag:function(e,n){var i,r=this,o=r.that,a=n.rowData,s=n.rowIndxPage,c=o.iRenderB,l=o.$cont,u="width:100%;background-color:#000;height:1px;";e.hasClass("ui-draggable")||e.on("dblclick",function(){delete a.pq_htfix,c.autoHeight({})}).draggable({axis:"y",cursor:"row-resize",cursorAt:{top:-2},start:function(e){r.drag=!0,i=e.pageY,r.$top=t("<div style='"+u+"position:absolute;top:"+(c.getTop(s)-c.scrollY())+"px;'></div>").appendTo(l)},helper:function(){return t("<div style='"+u+"'></div>").appendTo(l)},stop:function(t){r.drag=!1;var e=t.pageY-i,n=c.rowhtArr;r.$top.remove(),a.pq_ht=a.pq_htfix=Math.max(n[s]+e,10),o.refresh()}})}}}(jQuery),function(t){var e=pq.cVirtual=function(){this.diffH=0,this.diffV=0};e.setSBDim=function(){var e=t("<div style='max-width:100px;height:100px;position:fixed;left:0;top:0;overflow:auto;visibility:hidden;'><div style='width:200px;height:100px;'></div></div>").appendTo(document.body),n=e[0];this.SBDIM=n.offsetHeight-n.clientHeight,e.remove()},e.prototype={assignTblDims:function(t){var e,n=this,i=n.isBody(),r=n.getTopSafe(this[t?"cols":"rows"],t,!0),o=n.maxHt;r>o?(n[t?"ratioH":"ratioV"]=r/o,n[t?"virtualWd":"virtualHt"]=r,r=o):(r=r||(n.isHead()?0:1),n[t?"ratioH":"ratioV"]=1);var a=n[t?"$tbl_tr":"$tbl_left"],s=a.length?a[0]:{style:{}},c=t?"width":"height";n.$tbl_right[0].style[c]=r+"px",s.style[c]=r+"px",e=i?"Tbl":n.isHead()?"TblHead":"TblSum",!i&&t&&n.$spacer.css(n.rtl,r),n.dims[t?"wd"+e:"ht"+e]=r,i&&n.triggerTblDims(100)},calInitFinal:function(t,e,n){var i,r,o,a=this[n?"cols":"rows"],s=this[n?"freezeCols":"freezeRows"],c=this[n?"leftArr":"topArr"],l=this.getTopSafe(s,n);if(0==this.that.options[n?"virtualX":"virtualY"])return[s,a-1];if(n&&(l-=this.numColWd),t+=l,e+=l,a>s&&c[s]<t){for(var u,h=30,d=a;h--;)if(c[u=Math.floor((s+d)/2)]>=t)d=u;else{if(s==u){o=!0;break}s=u}if(!o)throw"ri not found"}for(;a>=s;s++)if(c[s]>t){i=s?s-1:s;break}for(;a>=s;s++)if(c[s]>e){r=s-1;break}return null==i&&null==r&&a&&t>c[a-1]?[null,null]:(null==i&&(i=0),null==r&&(r=a-1),[i,r])},calInitFinalSuper:function(){var t=this,e=this.dims||{},n=t.calcTopBottom(),i=n[0],r=n[1],o=n[2],a=t.calcTopBottom(!0),s=a[0],c=a[1],l=t.calInitFinal(i,r),u=l[0],h=l[1],d=t.calInitFinal(s,c,!0),p=d[0],f=d[1];return this.isBody()&&(e.bottom=r,e.top=i,e.left=s,e.right=c),[u,p,h,f,o=o||a[2]]},calcTopBottom:function(t){var n,i,r=this,o=r.isBody(),a=r.dims,s=r.$cright[0];if(t)var c=pq.scrollLeft(s),l=r.sleft,u=a.wdCont,h=r.wdContLeft,d=r.ratioH;else c=s.scrollTop,l=r.stop,u=r.htCont,h=r.htContTop,d=r.ratioV;if(c=0>c?0:c,1==d)return(i=c+u-h)>=0||(i=0),[c,i];var p,f,g,m=t?a.wdContClient:a.htContClient,v=t?"diffH":"diffV",b=r[v];if(c+m>=e.maxHt?n=(i=r[t?"virtualWd":"virtualHt"]-h+(u-m))-u+h:i=(n=0==c?0:c*(p=null==l||Math.abs(c-l)>u?d:1)+(1==p&&b?b:0))+u-h,(f=n-c)!=b&&(g=!0,r[v]=f,o&&r.triggerTblDims(3e3)),r[t?"sleft":"stop"]=c,!(c>=0))throw"stop NaN";if(!(i>=0&&n>=0))throw"top bottom NaN";return[n,i,g]},getHtDetail:function(t,e){var n=t.pq_detail;return n&&n.show?n.height||e:0},getTop:function(t,e){var n=this.topArr[t],i=e?0:this.diffV;if(i&&0>(n-=t>this.freezeRows?i:0)&&(n=0),n>=0)return n;throw n},getTopSafe:function(t,e,n){var i=e?this.cols:this.rows;return this[e?"getLeft":"getTop"](t>i?i:t,n)},getLeft:function(t,e){var n=-1==t?0:this.leftArr[t]+this.numColWd,i=e?0:this.diffH;if(i&&0>(n-=t>this.freezeCols?i:0)&&(n=0),n>=0)return n;throw n},getHeightR:function(t,e){var n=this.topArr,i=n[t+(e=e||1)]-n[t];if(i>=0)return i;throw i},getHeightCell:function(t,e){e=e||1;var n,i,r=this.topArr,o=this.rowHtDetail;if(n=o?this.getHtDetail(this.data[t+e-1],o):0,(i=r[t+e]-r[t]-n)>=0)return i;throw i},getHeightCellM:function(t,e){return this.getTopSafe(t+e)-this.getTop(t)},getHeightCellDirty:function(t,e){return this.setTopArr(t,null,t+e),this.getHeightCellM(t,e)},getWidthCell:function(t){if(-1==t)return this.numColWd;var e=this.colwdArr[t];if(e>=0)return e;throw e},getWidthCellM:function(t,e){return this.getTopSafe(t+e,!0)-this.getLeft(t)},initRowHtArr:function(){var t,e=this.rowHt,n=this.data,i=n.length,r=this.rowHtDetail,o=this.rowhtArr=[],a=(this.topArr=[],0);if(r)for(;i>a;a++)o[a]=(t=n[a]).pq_hidden?0:t.pq_ht||e+this.getHtDetail(t,r);else for(;i>a;a++)o[a]=(t=n[a]).pq_hidden?0:t.pq_ht||e},initRowHtArrDetailSuper:function(t){var e,n=this.rowhtArr,i=this.data;t.forEach(function(t){n[e=t[0]]=i[e].pq_ht=n[e]+t[1]}),this.setTopArr(),this.assignTblDims()},initRowHtArrSuper:function(){this.initRowHtArr(),this.setTopArr(),this.assignTblDims()},refreshRowHtArr:function(t,e){var n=this.data[t];this.rowhtArr[t]=n.pq_hidden?0:this.rowHt+this.getHtDetail(n,this.rowHtDetail),e&&(this.setTopArr(t),this.assignTblDims())},setTopArr:function(t,e,n){var i,r,o,a,s,c=t||0,l=this;for(e?(r=l.cols,a=l.colwdArr,s=l.leftArr):(r=l.rows,a=l.rowhtArr,s=l.topArr),o=n&&r>n?n:r-1,i=c?s[c]:0;o>=c;c++)s[c]=i,i+=a[c];s[c]=i,s.length=r+1},triggerTblDims:function(t){var e=this;e.setTimer(function(){e.that._trigger("assignTblDims")},"assignTblDims",t)}}}(jQuery),function(t){var e=1533910;t(function(){var n=t("<div style='position:relative;'></div>").appendTo(document.body),i=t("<div style='position:absolute;left:0;'></div>").appendTo(n)[0],r=pq.cVirtual;i.style.top="1000000000px";var o=i.offsetTop-50;(e=1e4>=o?e:o)>16554378&&(e=16554378),r.maxHt=e,n.remove(),r.setSBDim(),t(window).on("resize",r.setSBDim.bind(r))})}(jQuery),function(t){pq.cRender=function(){this.data=[]},pq.cRender.prototype=t.extend({},{_m:function(){},autoHeight:function(t){var e=this,n=e.that,i=e.isBody(),r=t.hChanged,o=e.freezeRows,a=!1,s=e.initV,c=e.finalV;e.rows&&(i&&n._trigger("beforeAutoRowHeight"),a=e.setRowHtArr(s,c,r),(a=e.setRowHtArr(0,o-1,r)||a)?(e.setTopArr(o?0:s),e.assignTblDims(),e.setPanes(),e.setCellDims(!0),i&&(t.source="autoRow",e.refresh(t),n._trigger("autoRowHeight"))):e.setCellDims(!0))},autoWidth:function(t){var e=this,n=e.freezeCols,i=(t=t||{}).colIndx,r=function(t){i.indexOf(t)>=0&&e.setColWdArr(t,t)},o=e.initH,a=e.finalH,s=a;if(i){for(;s>=o;s--)r(s);for(s=n-1;s>=0;s--)r(s)}else e.setColWdArr(o,a),e.setColWdArr(0,n-1)},_each:function(t,e,n,i,r,o){for(var a,s=this.jump,c=0;n>=c;c++)(a=i[c=s(e,o,c)])[r]||t.call(this,a,c)},eachV:function(t){var e=this;e._each(t,e.initV,e.finalV,e.data,"pq_hidden",e.freezeRows)},eachH:function(t){var e=this;e._each(t,e.initH,e.finalH,e.colModel,"hidden",e.freezeCols)},generateCell:function(t,e,n,i,r,o){var a,s,c,l,u,h,d,p,f=this,g=f.iMerge,m=[],v=f.riOffset,b=t+v,_=[f.cellCls];if(f._m()&&(p=g.ismergedCell(b,e))){if(!p.o_rc)return t==f._initV||e==f._initH?(u=f.getCellRegion(t,e),c=(l=g.getRootCell(b,e)).v_ci,0>(s=l.v_ri-v)||(h=f.getCellRegion(s,c),f.mcLaid[s+","+c+(h==u?"":","+u)]=!0),""):"";(l=g.getClsStyle(b,e)).style&&m.push(l.style),l.cls&&_.push(l.cls),n=f.data[t=(b=p.o_ri)-v],i=f.colModel[e=p.o_ci],o=f.getHeightCellM(t,p.o_rc),a=f.getWidthCellM(e,p.o_cc),_.push("pq-merge-cell")}else if(n.pq_hidden||i.hidden)return"";if(d=f.getCellId(t,e,r),f.getById(d))return"";var y=o||f.getHeightCell(t),C=a||f.colwdArr[e],x=f.getLeft(e);return m.push(f.rtl+":"+x+"px;width:"+C+"px;height:"+y+"px;"),f.renderCell({style:m,cls:_,attr:["role='gridcell' id='"+d+"'"],rowData:n,rowIndxPage:t,rowIndx:b,colIndx:e,dataIndx:i.dataIndx,column:i})},generateRow:function(t,e){var n="pq-grid-row",i="top:"+this.getTop(t)+"px;height:"+this.getHeightR(t)+"px;width:100%;",r="role='row' id='"+this.getRowId(t,e)+"'",o=this.getRowClsStyleAttr(t);return"<div class='"+(n+=" "+o[0])+"' "+(r+=" "+o[2])+" style='"+(i+=o[1])+"'>"},getById:function(t){return document.getElementById(t)},getCell:function(t,e,n){var i,r,o=this.riOffset,a=t+o;return n||(i=this.iMerge).ismergedCell(a,e)&&(r=i.getRootCell(a,e),this.isHead()&&(t=r.o_ri,e=r.o_ci),n=this.getCellRegion(r.v_ri-o,r.v_ci)),this.getById(this.getCellId(t,e,n))},getCellIndx:function(t){var e=t.id.split("-");return e[3]=="u"+this.uuid?""==e[5]?[1*e[4],-1,e[7]]:[1*e[4],1*e[5],e[6]]:void 0},getCellId:function(t,e,n){return t>=this.data.length?"":(n=n||this.getCellRegion(t,e),this.cellPrefix+t+"-"+e+"-"+n)},getCellCont:function(t,e){return this["$c"+this.getCellRegion(t,e)]},getCellCoords:function(t,e){var n,i=this,r=i.maxHt,o=i.riOffset,a=t+o,s=t,c=e;i.isBody()&&(s=(n=i.that.iMerge.inflateRange(a,e,a,e))[2]-o,c=n[3]);var l=i.getTop(t),u=i.getTop(s)+i.getHeightCell(s),h=i.getLeft(e),d=i.getLeft(c+1);return u>r&&(l-=u-r,u=r),d>r&&(h-=d-r,d=r),[h,l,d,u]},getCellRegion:function(t,e){var n=this.freezeCols;return this.freezeRows>t?n>e?"lt":"tr":n>e?"left":"right"},getCellXY:function(t,e){var n=this.maxHt;return[Math.min(this.getLeft(e),n),Math.min(this.getTop(t),n)]},getContRight:function(){return this.$cright},getMergeCells:function(){return this._m()?this.$tbl.children().children(".pq-merge-cell"):t()},getRow:function(t,e){return this.getById(this.getRowId(t,e))},getAllCells:function(){return this.$ele.children().children().children().children().children(this.isHead()?".pq-grid-col":".pq-grid-cell")},get$Col:function(t,e){var n=["right","left","lt","rt"].map(function(e){return"[id$=-"+t+"-"+e+"]"}).join(",");return(e||this.getAllCells()).filter(n)},get$Row:function(t){return this.$ele.find("[id^="+this.getRowId(t,"")+"]")},getRowClsStyleAttr:function(t){var e,n,i=this,r=i.that,o=[],a=r.options,s=a.rowInit,c=i.data[t],l=c.pq_rowcls,u=c.pq_rowattr,h=c.pq_rowstyle,d=pq.styleStr,p="",f=[],g=t+i.riOffset;return a.stripeRows&&i.stripeArr[t]&&o.push("pq-striped"),c.pq_rowselect&&o.push(r.iRows.hclass),l&&o.push(l),u&&(p+=r.processAttr(u,f)),h&&f.push(d(h)),s&&(n=s.call(r,{rowData:c,rowIndxPage:t,rowIndx:g}))&&((e=n.cls)&&o.push(e),(e=n.attr)&&(p+=" "+e),(e=n.style)&&f.push(d(e))),[o.join(" "),f.join(""),p]},getRowId:function(t,e){if(null==e)throw"getRowId region.";return this.rowPrefix+t+"-"+e},getRowIndx:function(t){var e=t.id.split("-");return[1*e[4],e[5]]},getTable:function(t,e){return this["$tbl_"+this.getCellRegion(t,e)]},getTblCls:function(t){var e=this.isBody()?[]:["pq-grid-summary-table"];return t.rowBorders&&e.push("pq-td-border-top"),t.columnBorders&&e.push("pq-td-border-right"),t.wrap||e.push("pq-no-wrap"),e.join(" ")},getFlexWidth:function(){return this._flexWidth},preInit:function(t){var e=this,n=e.isBody(),i=e.that.options,r="pq-table "+e.getTblCls(i),o=["pq-cont-inner ","pq-cont-right","pq-cont-left","pq-cont-lt","pq-cont-tr"];t.empty(),t[0].innerHTML=['<div class="pq-grid-cont">',n?'<div class="pq-grid-norows">'+i.strNoRows+"</div>":"",'<div class="',o[0]+o[1],'"><div class="pq-table-right '+r+'"></div>',n?"":'<div class="pq-r-spacer" style="position:absolute;top:0;height:10px;"></div>',"</div>",'<div class="'+o[0]+o[2]+'"><div class="pq-table-left '+r+'"></div></div>','<div class="'+o[0]+o[4]+'"><div class="pq-table-tr '+r+'"></div></div>','<div class="'+o[0]+o[3]+'"><div class="pq-table-lt '+r+'"></div></div>',"</div>"].join(""),e.$cright=t.find("."+o[1]).on("scroll",e.onNativeScroll(e)),n||(e.$spacer=t.find(".pq-r-spacer")),e.$cleft=t.find("."+o[2]).on("scroll",e.onScrollL),e.$clt=t.find("."+o[3]).on("scroll",e.onScrollLT),e.$ctr=t.find("."+o[4]).on("scroll",e.onScrollT),e.$tbl=t.find(".pq-table").on("scroll",e.onScrollLT),e.$tbl_right=t.find(".pq-table-right"),e.$tbl_left=t.find(".pq-table-left"),e.$tbl_lt=t.find(".pq-table-lt"),e.$tbl_tr=t.find(".pq-table-tr"),n&&(e.$cleft.add(e.$ctr).on("mousewheel DOMMouseScroll",e.onMouseWheel(e)),e.$norows=t.find(".pq-grid-norows"))},isBody:function(){},isHead:function(){},isSum:function(){},jump:function(t,e,n){return t>n&&n>=e&&(n=t),n},hasMergeCls:function(t){return t&&t.className.indexOf("pq-merge-cell")>=0},initRefreshTimer:function(t){var e=this,n=e.onRefreshTimer(e,t);e.setTimer(n,"refresh")},initStripeArr:function(){for(var t,e=this.rows,n=0,i=this.stripeArr=[],r=this.data;e>n;n++)r[n].pq_hidden||(t=i[n]=!t)},isRenderedRow:function(t){return!!this.getRow(t)},onScrollLT:function(){this.scrollTop=this.scrollLeft=0},onScrollT:function(){this.scrollTop=0},onScrollL:function(){pq.scrollLeft(this,0)},refresh:function(t){t=t||{};var e=this,n=e.that,i=e.isBody(),r=e.isHead(),o=e.mcLaid={},a=e.freezeCols,s=e.numColWd,c=!(!a&&!s),l=e.freezeRows,u=(y=e.calInitFinalSuper())[0],h=y[1],d=y[2],p=y[3],f=y[4],g=e.initV,m=e.finalV,v=e.initH,b=e.finalH;for(var _ in f&&i&&n.blurEditor({force:!0}),e._initV=u,e._finalV=d,e._initH=h,e._finalH=p,i&&n._trigger("beforeTableView",null,{initV:u,finalV:d,pageData:e.data}),f||(null!=m&&d>=g&&m>=u&&(u>g?(e.removeView(g,u-1,v,b),c&&e.removeView(g,u-1,s?-1:0,a-1)):g>u&&(e.renderView(u,g-1,h,p),c&&e.renderView(u,g-1,0,a-1)),m>d?(e.removeView(d+1,m,v,b),c&&e.removeView(d+1,m,s?-1:0,a-1)):d>m&&(e.renderView(m+1,d,h,p),c&&e.renderView(m+1,d,0,a-1)),g=u,m=d),null!=b&&p>v&&b>h&&(h>v?(e.removeView(g,m,v,h-1),l&&e.removeView(0,l-1,v,h-1)):v>h&&(e.renderView(g,m,h,v-1),l&&e.renderView(0,l-1,h,v-1)),b>p?(e.removeView(g,m,p+1,b),l&&e.removeView(0,l-1,p+1,b)):p>b&&(e.renderView(g,m,b+1,p),l&&e.renderView(0,l-1,b+1,p)),v=h,b=p)),f||d!==m||u!==g||h!==v||p!==b?(i&&n._trigger("beforeViewEmpty",null,{region:"right"}),e.$tbl_right.empty(),e.renderView(u,d,h,p),!c||d===m&&u===g||(e.$tbl_left.empty(),e.renderView(u,d,0,a-1)),l&&(h===v&&p===b||(n._trigger("beforeViewEmpty",null,{region:"tr"}),e.$tbl_tr.empty(),e.renderView(0,l-1,h,p)),c&&null==m&&(e.$tbl_lt.empty(),e.renderView(0,l-1,0,a-1)))):e.removeMergeCells(),o){var y,C=1*(y=_.split(","))[0],x=1*y[1];e.renderView(C,C,x,x,y[2])}var w=h!=e.initH||p!=e.finalH,M=w&&null!=e.initH;(d!=e.finalV||u!=e.initV||w)&&(e.initV=u,e.finalV=d,e.initH=h,e.finalH=p,i?n._trigger("refresh",null,{source:t.source,hChanged:M}):n._trigger(r?"refreshHeader":"refreshSum",null,{hChanged:M}))},refreshAllCells:function(t){var e=this;e.initH=e.initV=e.finalH=e.finalV=null,e.refresh(t)},refreshCell:function(e,n,i,r){var o,a=this,s=a.isBody()&&a._m()?a.iMerge.getRootCellV(e+a.riOffset,n):0,c=e,l=n,u=function(s,c){s&&(o=!0,s.id="",t(s).replaceWith(a.generateCell(e,n,i,r,c)))};return s?(e=s.rowIndxPage,n=s.colIndx,i=s.rowData,r=s.column,["lt","tr","left","right"].forEach(function(t){u(a.getCell(c,l,t),t)})):u(a.getCell(e,n)),o},removeMergeCells:function(){for(var e,n,i,r,o,a,s,c,l,u,h=this,d=h.iMerge,p=h.riOffset,f=h.getMergeCells(),g=h._initH,m=h._finalH,v=h._initV,b=h._finalV,_=0,y=f.length;y>_;_++)(n=h.getCellIndx(c=f[_]))&&(l=n[2],o=(i=n[0])+(e=d.getRootCell(i+p,r=n[1])).o_rc-1,a=r+e.o_cc-1,s=!1,i>b||r>m?s=!0:"right"==l?(v>o||g>a)&&(s=!0):"left"==l?v>o&&(s=!0):"tr"==l&&g>a&&(s=!0),u=c.parentNode,s&&t(c).remove(),u.children.length||u.parentNode.removeChild(u))},removeView:function(e,n,i,r){var o,a,s,c,l=this.getCellRegion(e,i);for(a=e;n>=a;a++)if(o=this.getRow(a,l)){for(s=i;r>=s;s++)(c=this.getCell(a,s,l))&&(this.hasMergeCls(c)||t(c).remove());o.children.length||o.parentNode.removeChild(o)}},renderNumCell:function(t,e,n){var i=this,r=i.getHeightR(t),o=i.isHead();return"<div id='"+i.getCellId(t,-1,n)+"' style='width:"+e+"px;height:"+r+"px;' role='gridcell' class='pq-grid-number-cell '>"+(i.isBody()?t+1+i.riOffset:o&&t==i.data.length-1&&i.numberCell.title||"")+"</div>"},renderRow:function(e,n,i,r,o,a){var s,c,l,u,h=this.getRow(i,a),d=this.numColWd,p=[],f=this.getHeightCell(i),g=this.colModel;for(!h&&e.push(this.generateRow(i,a)),0!=r||!d||"left"!=a&&"lt"!=a||(u=this.renderNumCell(i,d,a),p.push(u)),l=r;o>=l;l++)(c=g[l]).hidden||(u=this.generateCell(i,l,n,c,a,f),p.push(u));s=p.join(""),h?t(h).append(s):e.push(s,"</div>")},renderView:function(t,e,n,i,r){if(null!=n&&null!=i){r=r||this.getCellRegion(t,Math.min(n,i));for(var o,a=[],s=this.data,c=this["$tbl_"+r],l=t;e>=l;l++)(o=s[l])&&!o.pq_hidden&&this.renderRow(a,o,l,n,i,r);c.append(a.join(""))}},scrollX:function(t,e){var n=this.$cright[0];return t>=0?void this.scrollXY(t,n.scrollTop,e):pq.scrollLeft(n)},setCellDims:function(t){var e,n=this,i=n.rtl,r=n.iMerge,o=n._m(),a=n.colModel,s=n.numColWd,c=n.jump,l=n.setRowDims(),u=n.riOffset,h=n.initH,d=n.finalH,p=n.freezeCols;n.eachV(function(f,g){var m,v=n.get$Row(g),b=n.getHeightR(g),y=n.getTop(g),C=n.getHeightCell(g);l(v,b,y);for(var x=s?-1:0;d>=x;x++)(0>(x=c(h,p,x))||!a[x].hidden)&&(o&&(_=r.ismergedCell(g+u,x))||(m=n.getCell(g,x))&&((e=m.style).height=(-1==x?b:C)+"px",t||(e.width=n.getWidthCell(x)+"px",e[i]=n.getLeft(x)+"px")))});for(var f=n.getMergeCells(),g=0,m=f.length;m>g;g++){var v=f[g],b=n.getCellIndx(v);if(b){var _,y=b[0],C=b[1],x=(_=r.getRootCell(y+u,C)).v_ri-u,w=n.get$Row(x),M=n.getHeightR(x),O=n.getHeightCellM(y,_.o_rc),P=n.getTop(x);l(w,M,P),(e=v.style).height=O+"px",t||(e.width=n.getWidthCellM(C,_.o_cc)+"px",e[i]=n.getLeft(C)+"px")}}},setRowDims:function(){return function(t,e,n){var i={height:e,width:"100%"};i.top=n,t.css(i)}},setColWdArr:function(e,n){var i,r,o,a,s,c,l,u,h,d,p=n,f=this,g=f.riOffset,m=f.jump,v=f.colModel,b=f.data,_=f.freezeRows,y=f.maxHt+"px",C=f.iMerge,x=f.initV,w=f.isBody(),M=f.isSum(),O=w||M,P=f.isHead()?f.that.headerCells.length-1:f.finalV;if(P>=0)for(;p>=e;p--)if(!(r=v[p]).hidden&&-1==(r.width+"").indexOf("%")&&(c=O?r.width:r._minWidth)){for(i=0;P>=i;i++)if((a=b[i=m(x,_,i)])&&!a.pq_hidden){if(l=!0,u=C.ismergedCell(i+g,p)){if(1==u)continue;if((u=C.getRootCell(i+g,p)).v_rc>1||u.v_cc>1){if(u.v_cc>1)continue;l=!1}o=f.getCell(u.o_ri-g,u.o_ci)}else o=f.getCell(i,p);o.parentNode.style.width=y,l&&(o.style.width="auto",(h=t(o).find(".pq-menu-icon,.pq-menu-filter-icon")).length&&(h.css({position:"static",float:"left",width:20}),(d=t(o).find(".pq-td-div")).css("width","auto"))),s=o.offsetWidth+1,l&&h.length&&(h.css({position:"",float:"",width:""}),d.css("width","")),c=Math.max(s,c)}if(!(c>0))throw"wd NaN";r.width=f.colwdArr[p]=c,r._resized=!0}},setRowHtArr:function(t,e,n){for(var i,r,o,a,s,c,l,u,h,d=e,p=this,f=p.jump,g=p.riOffset,m=p.rowhtArr,v=p.data,b=p.colModel,_=p._m(),y=p.diffV,C=p.freezeCols,x=p.rowHt,w=p.iMerge,M=p.rowHtDetail,O=p.initH,P=p.finalH;d>=t;d--)if((a=v[d])&&!a.pq_hidden&&!a.pq_htfix){for(h=M?p.getHtDetail(a,M):0,l=n?m[d]-h:x,i=0;P>=i;i++)if(!b[i=f(O,C,i)].hidden){if(u=_&&w.ismergedCell(d+g,i)){if(1==u||y)continue;u=w.getRootCell(d+g,i),s=p.getCell(u.o_ri-g,u.o_ci)}else s=p.getCell(d,i);s.style.height="auto",c=s.offsetHeight,u&&(c-=u.v_rc>1?p.getHeightCellDirty(u.v_ri-g+1,u.o_rc-(u.v_ri-u.o_ri)-1):0),l=Math.max(c,l)}m[d]!=(o=l+h)&&(m[d]=a.pq_ht=o,r=!0)}return r},setTimer:function(t){var e={};return!0===t?function(t){t()}:function(t,n,i){clearTimeout(e[n]);var r=this;e[n]=setTimeout(function(){r.that.element&&t.call(r)},i||300)}}},new pq.cVirtual)}(jQuery),function(t){pq.cRenderBody=function(t,e){var n=this,i=n.uuid=t.uuid,r=t.options,o=n.$ele=e.$b,a=n.$sum=e.$sum,s=n.$h=e.$h,c=r.postRenderInterval;n.that=t,n.rtl=r.rtl?"right":"left",n.setTimer=n.setTimer(i),n.cellPrefix="pq-body-cell-u"+i+"-",n.rowPrefix="pq-body-row-u"+i+"-",n.cellCls="pq-grid-cell",n.iMerge=t.iMerge,n.rowHt=r.rowHt||27,n.rowHtDetail=r.detailModel.height,n.iRenderHead=t.iRenderHead=new pq.cRenderHead(t,s),n.iRenderSum=t.iRenderSum=new pq.cRenderSum(t,a),t.on("headHtChanged",n.onHeadHtChanged(n)),null!=c&&t.on("refresh refreshRow refreshCell refreshColumn",function(){0>c?n.postRenderAll():n.setTimer(n.postRenderAll,"postRender",c)}),n.preInit(o),t.on("refresh softRefresh",n.onRefresh.bind(n))},pq.cRenderBody.prototype=t.extend({},new t.paramquery.cGenerateView,new pq.cRender,{setHtCont:function(t){this.dims.htCont=t,this.$ele.css("height",t)},flex:function(t){var e=this,n=e.that;!1!==n._trigger("beforeFlex",null,t)&&(e.iRenderHead.autoWidth(t),e.iRenderSum.autoWidth(t),e.autoWidth(t),n.refreshCM(null,{flex:!0}),n.refresh({source:"flex",soft:!0}))},init:function(t){var e,n,i=this,r=i.that,o=(t=t||{}).soft,a=!o,s=t.source,c=i.iRenderHead,l=i.iRenderSum,u=r.options,h=u.scrollModel,d=(i.freezeCols=u.freezeCols||0,i.freezeRows=u.freezeRows,i.numberCell=u.numberCell),p=i.colModel=r.colModel;i.width=u.width,i.height=u.height,a&&(i.dims=r.dims,i.autoFit=h.autoFit,i.pauseTO=h.timeout,e=(n=r.pdata||[]).findIndex(function(t){return!t.pq_hidden}),i.$norows.css("display",e>=0?"none":""),i.data=n,i.maxHt=pq.cVirtual.maxHt,i.riOffset=r.riOffset,i.cols=p.length,i.rows=n.length,r._mergeCells&&(i._m=function(){return!0}),i.autoRow=u.autoRow,i.initRowHtArrSuper(),u.stripeRows&&i.initStripeArr()),i.refreshColumnWidths(),i.numColWd=c.numColWd=l.numColWd=d.show?d.width:0,i.initColWdArrSuper(),l.init(t),t.header?c.init(t):i.setPanes(),l.initPost(t),t.header&&c.initPost(t),i.$cright[0].scrollTop>i.getTop(i.rows)||(a?i.refreshAllCells({source:s}):o&&(i.setCellDims(),i.refresh({source:s}),r._trigger("softRefresh")))},initColWdArr:function(){for(var t,e=this.colModel,n=e.length,i=(this.leftArr=this.iRenderHead.leftArr=this.iRenderSum.leftArr=[],0),r=this.colwdArr=this.iRenderHead.colwdArr=this.iRenderSum.colwdArr=[];n>i;i++)r[i]=(t=e[i]).hidden?0:t._width},initColWdArrSuper:function(){this.initColWdArr(),this.setTopArr(0,!0),this.assignTblDims(!0)},inViewport:function(t,e,n){n=n||this.getCell(t,e);var i=this.dims,r=i.left-2,o=i.right-(i.wdCont-i.wdContClient)+2,a=i.top-2,s=i.bottom-(i.htCont-i.htContClient)+2,c=this.getCellRegion(t,e),l=n.offsetLeft-i.wdContLeft,u=n.parentNode.offsetTop-i.htContTop,h=l+n.offsetWidth,d=u+n.offsetHeight;return"right"==c?l>r&&o>h&&u>a&&s>d:"tr"==c?l>r&&o>h:"left"!=c||u>a&&s>d},isBody:function(){return!0},onHeadHtChanged:function(t){return function(e,n){t.setPanes()}},onMouseWheel:function(t){var e;return function(t){var n=this;n.style["pointer-events"]="none",clearTimeout(e),e=setTimeout(function(){n.style["pointer-events"]=""},300)}},onNativeScroll:function(t){return function(){var e=t.$cright[0],n=t.that,i=e.scrollLeft,r=e.scrollTop;t.iRenderSum.setScrollLeft(i),t.iRenderHead.setScrollLeft(i),t.$cleft[0].scrollTop=r,t.$ctr[0].scrollLeft=i,t.refresh(),n._trigger("scroll"),t.setTimer(function(){n._trigger("scrollStop")},"scrollStop",t.pauseTO)}},onRefresh:function(t,e){"autoRow"!=e.source&&this.initRefreshTimer(e.hChanged)},onRefreshTimer:function(t,e){return function(){var n=t.$cright[0];t.autoRow&&t.autoHeight({hChanged:e}),n.scrollTop=n.scrollTop,n.scrollLeft=n.scrollLeft}},pageDown:function(t,e){var n,i=this,r=i.topArr,o=r[t],a=t,s=i.dims,c=95*(s.htContClient-s.htContTop)/100,l=o+c,u=t,h=r.length-1;i.scrollY(this.$cright[0].scrollTop+c,function(){for(u=t<i.initV?i.initV:t;h>=u;u++)if((n=r[u])>o&&(o=n,a=u-1),n>l){a=u-1;break}e(a)})},pageUp:function(t,e){for(var n,i=this,r=i.topArr,o=r[t],a=this.$cright[0].scrollTop,s=i.dims,c=80*(s.htContClient-s.htContTop)/100,l=o-c,u=t,h=t;h>=0;h--)if(o>(n=r[h])&&(o=n,u=h),l>n){u=h;break}i.scrollY(a-c,function(){e(u)})},postRenderAll:function(){var t,e,n,i=this,r=i.that,o=i.riOffset,a=i.iMerge,s=i.data;i.eachH(function(s,c){(n=s.postRender)&&i.eachV(function(s,l){e=a.getRootCellO(l+o,c,!0),(t=i.getCell(e.rowIndxPage,e.colIndx))&&!t._postRender&&(e.cell=t,r.callFn(n,e),t._postRender=!0)})}),(n=i.numberCell.postRender)&&i.eachV(function(t,e){var a=i.getCell(e,-1),c=e+o,l={rowIndxPage:e,colIndx:-1,rowIndx:c,rowData:s[c]};a&&!a._postRender&&(l.cell=a,r.callFn(n,l),a._postRender=!0)})},refreshRow:function(t){var e,n,i=this,r=i.initH,o=i.finalH,a=i.freezeCols,s=i.get$Row(t),c=[];s.each(function(t,e){var n=i.getRowIndx(e);c.push(n[1])}),i.that._trigger("beforeViewEmpty",null,{rowIndxPage:t}),s.remove(),c.forEach(function(s){"left"==s||"lt"==s?(e=0,n=a-1):(e=r,n=o),i.renderView(t,t,e,n,s)})},_scrollRow:function(t,e){var n,i=this,r=i.dims,o=r[e?"wdContClient":"htContClient"],a=i[e?"colModel":"data"].length,s=i[e?"freezeCols":"freezeRows"],c=pq[e?"scrollLeft":"scrollTop"](i.$cright[0]),l=r[e?"wdContLeft":"htContTop"];if(s>t||t>a-1)return c;var u=i.getTopSafe(t,e),h=i[e?"getWidthCell":"getHeightR"](t);return null!=u?(u+h+1>c+o?n=u+h+1-o:c+l>u&&(n=0>(n=u-l)?0:n),n>=0?n:c):void 0},scrollColumn:function(t,e){var n=this._scrollRow(t,!0);this.scrollX(n,e)},scrollRow:function(t,e){var n=this._scrollRow(t);this.scrollY(n,e)},scrollCell:function(t,e,n){var i=this._scrollRow(t),r=this._scrollRow(e,!0);this.scrollXY(r,i,n)},scrollY:function(t,e){var n=this.$cright[0];return null==t?n.scrollTop:(t=t>=0?t:0,void this.scrollXY(pq.scrollLeft(n),t,e))},scrollXY:function(t,e,n){var i,r=this.$cright[0],o=this.that,a=r.scrollLeft,s=r.scrollTop;return t>=0?(pq.scrollLeft(r,t),r.scrollTop=e,i=r.scrollLeft,void(n&&(i==a&&r.scrollTop==s?n():o.one("scroll",function(){i==a?n():o.one("scrollHead",n)})))):[a,s]},getSBHt:function(t){var e=pq.cVirtual.SBDIM;return this.autoFit?0:("flex"!=this.width||this.that.options.maxWidth)&&t>this.dims.wdCenter+e?e:0},getSBWd:function(){return this.dims.htCenter?pq.cVirtual.SBDIM:0},setPanes:function(){var t,e,n,i=this,r=i.that.options,o=i.autoFit,a=i.dims,s=a.htCenter-a.htHead-a.htSum,c=a.wdCenter,l=i.$ele,u=i.freezeRows,h=i.$cright,d=h[0],p=i.$cleft,f=i.$clt,g=i.$ctr,m=i.getLeft(i.freezeCols),v=pq.cVirtual.SBDIM,b=a.wdTbl,_=Math.max(a.htTbl,30)+i.getSBHt(b),y=i.getTopSafe(u);g.css("display",u?"":"none"),p.css("display",m?"":"none"),f.css("display",m&&u?"":"none"),h.css("overflow-y",""),"flex"==i.height?(s>0&&_>s?_=Math.min(_,s):h.css("overflow-y","hidden"),i.setHtCont(_)):i.setHtCont(s),o&&i.getSBWd()&&h.css("overflow-y","scroll"),h.css("overflow-x",o?"hidden":""),"flex"==i.width?(b=parseInt(l[0].style.height)>=a.htTbl-1?b:b+v,r.maxWidth&&b>c?b=Math.min(b,c):h.css("overflow-x","hidden"),i._flexWidth=b,l.width(i._flexWidth)):l.css("width",""),i.htCont=a.htCont=h.height(),i.wdCont=a.wdCont=h.width(),a.htContClient=n=d.clientHeight,a.wdContClient=t=d.clientWidth,m>t&&(h.css("overflow-x","hidden"),m=t),p.css("width",m),f.css("width",m),g.width(t),p.height(n),i.iRenderHead.setWidth(e=d.offsetWidth,t),i.iRenderSum.setWidth(e,t),y>n&&(h.css("overflow-y","hidden"),y=n),f.css("height",y),g.css("height",y),i.wdContLeft=a.wdContLeft=p.width(),i.htContTop=a.htContTop=g.height()}},new pq.cVirtual)}(jQuery),function(t){function e(t){this.that=t}t.paramquery.cMergeHead=e,e.prototype={getRootCell:function(t,e){for(var n=this.that,i=n.headerCells,r=i[t][e],o=r.rowSpan,a=r.leftPos;t&&i[t-1][a]==r;)t--;return{v_ri:t,o_ri:t,v_ci:n.getNextVisibleCI(a),o_ci:a,v_rc:o,o_rc:o,v_cc:r.colSpan,o_cc:r.o_colspan}},ismergedCell:function(t,e){var n,i,r,o=this.that,a=o.headerCells,s=a[t],c=s?s[e]:"";if(c)if(n=c.leftPos,0!=t&&a[t-1][e]===c||o.getNextVisibleCI(n)!=e){if(c.colSpan)return!0}else if(r=c.colSpan,(i=c.rowSpan)&&r&&(i>1||r>1))return{o_ri:t,o_ci:n,v_rc:i,o_rc:i,v_cc:r,o_cc:c.o_colspan}},getClsStyle:function(){return{}}}}(jQuery),function(t){pq.cRenderHS=t.extend({},new pq.cRender,{init:function(t){t=t||{};var e,n=this,i=n.that,r=i.options,o=n.colModel=i.colModel,a=n.isHead(),s=n.isSum(),c=a?r.autoRowHead:r.autoRowSum,l=i.headerCells;n.freezeCols=r.freezeCols||0,n.numberCell=r.numberCell,n.width=r.width,n.height="flex",n.freezeRows=0,n.dims=i.dims,a?e=n.data=r.showHeader?r.filterModel.header?l.concat([[]]):l:[]:s&&(e=n.data=r.summaryData||[]),n.maxHt=pq.cVirtual.maxHt,n.riOffset=0,n.cols=o.length,n.rows=e.length,a?l.length>1&&(n._m=function(){return!0}):r.stripeRows&&n.initStripeArr(),n.autoRow=null==c?r.autoRow:c,n.initRowHtArrSuper(),n.assignTblDims(!0),n.setPanes()},initPost:function(t){var e=this;e.data.length&&(t||{}).soft?(e.setCellDims(),e.refresh()):e.refreshAllCells()},onNativeScroll:function(t){return function(){t.refresh(),t.isHead()&&t.that._trigger("scrollHead")}},onRefresh:function(t,e){this.initRefreshTimer(e.hChanged)},refreshHS:function(){this.init(),this.initPost()},setPanes:function(){var t=this,e=t.that,n=t.dims,i=t.$ele,r=t.$cright,o=r[0],a=t.$cleft,s=t.getLeft(t.freezeCols),c=t.isHead(),l=t.isSum(),u=t.getTopSafe(t.rows);a.css("display",s?"":"none"),i.height(u),c?(n.htHead=u,e._trigger("headHtChanged")):l&&(n.htSum=u,e._trigger("headHtChanged")),t.htCont=r.height(),t.wdCont=r.width(),a.css("width",s),a.height(o.clientHeight),t.wdContLeft=a.width(),t.htContTop=0},setScrollLeft:function(t){var e=this.$cright;e&&this.scrollLeft!==t&&(this.scrollLeft=e[0].scrollLeft=t)},setWidth:function(t,e){this.$ele[0].style.width=t+"px",this.$spacer.width(t-e)}})}(jQuery),function(t){var e=t.paramquery;(pq.cRenderHead=function(t,n){var i=t.options,r=this,o=r.uuid=t.uuid;r.that=t,r.iMerge=new e.cMergeHead(t),r.$ele=n,r.height="flex",r.scrollTop=0,r.rtl=i.rtl?"right":"left",r.rowHt=i.rowHtHead||28,r.cellCls="pq-grid-col",r.setTimer=r.setTimer(!0),r.cellPrefix="pq-head-cell-u"+o+"-",r.rowPrefix="pq-head-row-u"+o+"-",r.preInit(n),n.on("click",r.onHeaderClick.bind(r)),t.on("headerKeyDown",r.onHeaderKeyDown.bind(r)).on("refreshHeader softRefresh",r.onRefresh.bind(r))}).prototype=t.extend({},pq.cRenderHS,new e.cHeader,new e.cHeaderSearch,{getRowClsStyleAttr:function(t){var e=this.that.headerCells.length,n="";return e==t?n="pq-grid-header-search-row":t==e-1&&(n="pq-grid-title-row"),[n,"",""]},getTblCls:function(t){var e="pq-grid-header-table";return t.hwrap?e:e+" pq-no-wrap"},isHead:function(){return!0},onRefreshTimer:function(t,e){return function(){var n=t.$cright[0];t.autoRow&&t.autoHeight({timer:!1,hChanged:e}),n.scrollTop=0,n.scrollLeft=n.scrollLeft,t.onCreateHeader(),t.refreshResizeColumn(),t.refreshHeaderSortIcons(),t.that._trigger("refreshHeadAsync")}},_resizeId:function(t){return"pq-resize-div-"+this.uuid+"-"+t},_resizeCls:function(){return"pq-resize-div-"+this.uuid},_resizeDiv:function(t){return this.getById(this._resizeId(t))},refreshResizeColumn:function(){var t,e,n,i,r=this.initH,o=this.colModel,a=this._resizeCls(),s=this.finalH,c=this.numberCell,l=this.freezeCols,u=[],h=[],d=c.show?-1:0;for(this.$ele.find("."+a).remove();s>=d;d++){if(d>=r)e=h;else{if(!(l>d))continue;e=u}(t=d>=0?o[d]:c).hidden||!1===t.resizable||this._resizeDiv(d)||(n=this.getLeft(d+1)-5,i=this._resizeId(d),e.push("<div id='",i,"' pq-col-indx='",d,"' style='",this.rtl,":",n,"px;'"," class='pq-grid-col-resize-handle "+a+"'>&nbsp;</div>"))}u.length&&this.$cleft.append(u.join("")),h.length&&this.$cright.append(h.join(""))},renderCell:function(t){var e,n=t.colIndx,i=t.attr,r=t.cls,o=t.style,a=t.rowData[n];return a?(a.colSpan>1&&o.push("z-index:3;"),t.column=a,this.createHeaderCell(t)):(e=this.renderFilterCell(t.column,n,r),"<div "+i+" class='"+r.join(" ")+"' style='"+o.join("")+"'>"+e+"</div>")}})}(jQuery),function(t){var e=t.paramquery;(pq.cRenderSum=function(t,e){var n=t.options,i=this,r=i.uuid=t.uuid;i.that=t,i.rtl=n.rtl?"right":"left",i.iMerge={ismergedCell:function(){}},i.$ele=e,i.height="flex",i.scrollTop=0,i.rowHt=n.rowHtSum||27,i.cellCls="pq-grid-cell",i.setTimer=i.setTimer(!0),i.cellPrefix="pq-sum-cell-u"+r+"-",i.rowPrefix="pq-sum-row-u"+r+"-",i.preInit(e),t.on("refreshSum softRefresh",i.onRefresh.bind(i))}).prototype=t.extend({},new e.cGenerateView,pq.cRenderHS,{isSum:function(){return!0},onRefreshTimer:function(t,e){return function(){var n=t.$cright[0];t.autoRow&&t.autoHeight({timer:!1,hChanged:e}),n.scrollTop=0,n.scrollLeft=n.scrollLeft}}})}(jQuery)},Qs6e:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return r});var i=n("fXoL"),r=function(){var e=function(){function e(){_classCallCheck(this,e),this.clear(),this.isChange=!0,this.worker=new Worker(t,{name:"pickup-reac",type:void 0})}return _createClass(e,[{key:"clear",value:function(){this.reacPickup={}}},{key:"getPickupReacColumns",value:function(t,e){var n=new Array;t in this.reacPickup&&(n=this.reacPickup[t]);var i={};e in n&&(i=n[e]);for(var r=new Array,o=0,a=Object.keys(i);o<a.length;o++){var s=i[a[o]],c={id:s.id,tx:s.tx.toFixed(2),ty:s.ty.toFixed(2),tz:s.tz.toFixed(2),mx:s.mx.toFixed(2),my:s.my.toFixed(2),mz:s.mz.toFixed(2),case:s.case};r.push(c)}return r}},{key:"setReacPickupJson",value:function(t,e){var n=this,i={pickList:t,reacCombine:e},r=performance.now();"undefined"!=typeof Worker&&(this.worker.onmessage=function(t){var e=t.data;n.reacPickup=e.reacPickup,n.isChange=!1,console.log("\u53cd\u529breac \u306e \u30d4\u30c3\u30af\u30a2\u30c3\u30d7 PickUp \u96c6\u8a08\u304c\u7d42\u308f\u308a\u307e\u3057\u305f",performance.now()-r)},this.worker.postMessage(i))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}).call(this,n("Dn7Z"))},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("ngJS"),r=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),c=n("c2HN"),l=n("XoHu"),u=function(t){if(t&&"function"==typeof t[a.a])return u=t,function(t){var e=u[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,r.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var i=void 0;try{i=n.next()}catch(r){return t.error(r),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,u,h=Object(l.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",function(){return i})},U5H6:function(t,e,n){var i,r,o,a,s=s||n("EVdn");o=(r=(i=s).paramquery).pqGrid.regional.ja={strLocal:"ja",strAdd:"\u8ffd\u52a0",strBlanks:"(Blanks)",strDelete:"\u524a\u9664",strEdit:"\u7de8\u96c6",strCondition:"Condition:",strConditions:{"":"--None--",begin:"Begins with",between:"In between",contain:"Contains",equal:"Equals",empty:"Empty",end:"Ends With",great:"Greater than",gte:"Greater than or equal",less:"Less than",lte:"Less than or equal",notbegin:"Not begins with",notcontain:"Not contains",notequal:"Not equals",notempty:"Not empty",notend:"Not ends with",range:"[ Range ]",regexp:"Regular expression"},strOk:"Ok",strClear:"Clear",strGroup_header:"Drag a column here to group by that column",strGroup_merge:"Merge cells",strGroup_fixCols:"Fix columns",strGroup_grandSummary:"Grand summary",strTP_aggPane:"Aggregates",strTP_colPane:"Group columns",strTP_pivot:"Pivot mode",strTP_rowPane:"Group rows",strTP_aggPH:"Drop columns for computing aggregate values",strTP_colPH:"Drop columns here for grouping along column or x axis",strTP_rowPH:"Drop columns here for grouping along row or y axis",strLoading:"\u30ed\u30fc\u30c9\u4e2d",strNextResult:"\u6b21\u306e\u7d50\u679c",strNoRows:"\u8868\u793a\u3059\u308b\u884c\u304c\u3042\u308a\u307e\u305b\u3093\u3002",strNothingFound:"\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002",strPrevResult:"\u524d\u306e\u7d50\u679c",strSearch:"\u691c\u7d22",strSelectAll:"Select All",strSelectedmatches:"",strFormulas:{ABS:["ABS(number)","Returns the absolute value of a number. The absolute value of a number is the number without its sign."],ACOS:["ACOS(number)","Returns the arccosine, or inverse cosine, of a number. The arccosine is the angle whose cosine is number. The returned angle is given in radians in the range 0 (zero) to pi."],AND:["AND(logical1, [logical2], ...)","Returns TRUE if all its arguments evaluate to TRUE, and returns FALSE if one or more arguments evaluate to FALSE."],ASIN:["ASIN(number)","Returns the arcsine, or inverse sine, of a number. The arcsine is the angle whose sine is number. The returned angle is given in radians in the range -pi/2 to pi/2."],ATAN:["ATAN(number)","Returns the arctangent, or inverse tangent, of a number. The arctangent is the angle whose tangent is number. The returned angle is given in radians in the range -pi/2 to pi/2."],AVERAGE:["AVERAGE(number1, [number2], ...)","Returns the average (arithmetic mean) of the arguments. For example, if the range A1:A20 contains numbers, the formula =AVERAGE(A1:A20) returns the average of those numbers."],AVERAGEIF:["AVERAGEIF(range, criteria, [average_range])","Returns the average (arithmetic mean) of all the cells in a range that meet a given criteria."],AVERAGEIFS:["AVERAGEIFS(average_range, criteria_range1, criteria1, [criteria_range2, criteria2], ...)","Returns the average (arithmetic mean) of all cells that meet multiple criteria."],CEILING:["CEILING(number, significance)","Returns number rounded up, away from zero, to the nearest multiple of significance. For example, if you want to avoid using pennies in your prices and your product is priced at $4.42, use the formula =CEILING(4.42,0.05) to round prices up to the nearest nickel."],CHAR:["CHAR(number)","Returns the character specified by a number."],CHOOSE:["CHOOSE(index_num, value1, [value2], ...)","If index_num is 1, CHOOSE returns value1; if it is 2, CHOOSE returns value2; and so on."],CODE:["CODE(text)","Returns a numeric code for the first character in a text string."],COLUMN:["COLUMN()","Returns reference of the cell in which the COLUMN function appears."],COLUMNS:["COLUMNS(array)","Returns the number of columns in an array or reference."],CONCATENATE:["CONCATENATE(text1, [text2], ...)","join two or more text strings into one string."],COS:["COS(number)","Returns the cosine of the given angle(in radians)."],COUNT:["COUNT(value1, [value2], ...)","Counts the number of cells that contain numbers, and counts numbers within the list of arguments."],COUNTA:["COUNTA(value1, [value2], ...)","The COUNTA function counts the number of cells that are not empty in a range."],COUNTBLANK:["COUNTBLANK(range)","Counts empty cells in a specified range of cells."],COUNTIF:["COUNTIF(range, criteria)","counts the number of cells that meet a criterion; for example, to count the number of times a particular city appears in a customer list."],COUNTIFS:["COUNTIFS(criteria_range1, criteria1, [criteria_range2, criteria2]\u2026)","Applies criteria to cells across multiple ranges and counts the number of times all criteria are met."],DATE:["DATE(year,month,day)","returns the sequential serial number that represents a particular date."],DATEDIF:["DATEDIF(start_date,end_date,unit)","Calculates the number of days, months, or years between two dates. Unit can be 'Y', 'M' or 'D'."],DATEVALUE:["DATEVALUE(date_text)",'converts a date that is stored as text to a serial number that Excel recognizes as a date. For example, the formula =DATEVALUE("1/1/2008") returns 39448.'],DAY:["DAY(serial_number)","Returns the day of a date, represented by a serial number."],DAYS:["DAYS(end_date, start_date)","Returns the number of days between two dates."],DEGREES:["DEGREES(angle)","Converts radians into degrees."],EOMONTH:["EOMONTH(start_date, months)","Returns the serial number for the last day of the month that is the indicated number of months before or after start_date."],EXP:["EXP(number)","Returns e raised to the power of number. "],FIND:["FIND(find_text, within_text, [start_num])","Locates one text string within a second text string, and return the number of the starting position of the first text string from the first character of the second text string."],FLOOR:["FLOOR(number, significance)","Rounds number down, toward zero, to the nearest multiple of significance."],HLOOKUP:["HLOOKUP(lookup_value, table_array, row_index_num, [range_lookup])","Searches for a value in the top row of a table or an array of values, and then returns a value in the same column from a row you specify in the table or array."],HOUR:["HOUR(serial_number)","Returns the hour of a time value. The hour is given as an integer, ranging from 0 (12:00 A.M.) to 23 (11:00 P.M.)."],IF:["IF(logical_test, value_if_true, [value_if_false])","returns one value if a condition is true and another value if it's false."],INDEX:["INDEX(array, row_num, [column_num])","Returns the value of an element in a table or an array, selected by the row and column number indexes."],INDIRECT:["INDIRECT(ref_text, [a1])","Returns the reference specified by a text string. References are immediately evaluated to display their contents."],ISBLANK:["ISBLANK(value)","Returns TRUE if the value is blank"],LARGE:["LARGE(array, k)","Returns the k-th largest value in a data set."],LEFT:["LEFT(text, [num_chars])","returns the first character or characters in a text string, based on the number of characters you specify."],LEN:["LEN(text)","returns the number of characters in a text string."],LOOKUP:["LOOKUP(lookup_value, lookup_vector, [result_vector])","Looks in a one-row or one-column range (known as a vector) for a value and returns a value from the same position in a second one-row or one-column range."],LOWER:["LOWER(text)","Converts all uppercase letters in a text string to lowercase."],MATCH:["MATCH(lookup_value, lookup_array, [match_type])","Searches for a specified item in a range of cells, and then returns the relative position of that item in the range. match_type can be: 0 for exact match with option to use wildcards; 1 ( default ) for less than, The values in the lookup_array argument must be placed in ascending order; -1 for greater than, values in the lookup_array argument must be placed in descending order."],MAX:["MAX(number1, [number2], ...)","Returns the largest value in a set of values."],MEDIAN:["MEDIAN(number1, [number2], ...)","Returns the median of the given numbers. The median is the number in the middle of a set of numbers."],MID:["MID(text, start_num, num_chars)","returns a specific number of characters from a text string, starting at the position you specify, based on the number of characters you specify."],MIN:["MIN(number1, [number2], ...)","Returns the smallest number in a set of values."],MODE:["MODE(number1,[number2],...)","Returns the most frequently occurring, or repetitive, value in an array or range of data."],MONTH:["MONTH(serial_number)","Returns the month of a date represented by a serial number. The month is given as an integer, ranging from 1 (January) to 12 (December)."],OR:["OR(logical1, [logical2], ...)","returns TRUE if any of its arguments evaluate to TRUE, and returns FALSE if all of its arguments evaluate to FALSE."],PI:["PI()","Returns the number 3.14159265358979, the mathematical constant pi."],POWER:["POWER(number, power)","Returns the result of a number raised to a power."],PRODUCT:["PRODUCT(number1, [number2], ...)","multiplies all the numbers given as arguments and returns the product. PRODUCT(A1:A3, C1:C3) is equivalent to =A1 * A2 * A3 * C1 * C2 * C3."],PROPER:["PROPER(text)","Capitalizes the first letter in each word of a text value."],RADIANS:["RADIANS(angle)","Converts degrees into radians."],RAND:["RAND()","Returns an evenly distributed random real number greater than or equal to 0 and less than 1."],RANK:["RANK(number,ref,[order])","Returns the rank of a number in a list of numbers."],RATE:["",""],REPLACE:["REPLACE(old_text, start_num, num_chars, new_text)","replaces part of a text string, based on the number of characters you specify, with a different text string."],REPT:["REPT(text, number_times)","Repeats text a given number of times."],RIGHT:["RIGHT(text,[num_chars])","returns the last character or characters in a text string, based on the number of characters you specify."],ROUND:["ROUND(number, num_digits)","rounds a number to a specified number of digits."],ROUNDDOWN:["ROUNDDOWN(number, num_digits)","Rounds a number down, toward zero."],ROUNDUP:["ROUNDUP(number, num_digits)","Rounds a number up, away from 0 (zero)."],ROW:["ROW()","Returns the reference of the cell in which the ROW function appears."],ROWS:["ROWS(array)","Returns the number of rows in a reference or array."],SEARCH:["SEARCH(find_text,within_text,[start_num])","locate one text string within a second text string, and return the number of the starting position of the first text string from the first character of the second text string."],SIN:["SIN(number)","Returns the sine of the given angle(in radians)."],SMALL:["SMALL(array, k)","Returns the k-th smallest value in a data set."],SQRT:["SQRT(number)","Returns a positive square root."],STDEV:["STDEV(number1,[number2],...)","Estimates standard deviation based on a sample. The standard deviation is a measure of how widely values are dispersed from the average value (the mean)."],STDEVP:["STDEVP(number1,[number2],...)","Calculates standard deviation based on the entire population given as arguments."],SUBSTITUTE:["SUBSTITUTE(text, old_text, new_text, [instance_num])","Substitutes new_text for old_text in a text string."],SUM:["SUM(number1,[number2],...)","Adds its arguments. You can add individual values, cell references or ranges or a mix of all three."],SUMIF:["SUMIF(range, criteria, [sum_range])","adds the values in a range that meet criteria that you specify"],SUMIFS:["SUMIFS(sum_range, criteria_range1, criteria1, [criteria_range2, criteria2], ...)","adds all of its arguments that meet multiple criteria."],SUMPRODUCT:["SUMPRODUCT(array1, [array2], [array3], ...)","Multiplies corresponding components in the given arrays, and returns the sum of those products."],TAN:["TAN(number)","Returns the tangent of the given angle(in radians)."],TEXT:['TEXT(Value you want to format, "Format code you want to apply")',"The TEXT function lets you change the way a number appears by applying formatting to it with format codes."],TIME:["TIME(hour, minute, second)","Returns the decimal number for a particular time."],TIMEVALUE:["TIMEVALUE(time_text)","Returns the decimal number of the time represented by a text string. The decimal number is a value ranging from 0 (zero) to 0.99988426, representing the times from 0:00:00 (12:00:00 AM) to 23:59:59 (11:59:59 P.M.)."],TODAY:["TODAY()","Returns the serial number of the current date."],TRIM:["TRIM(text)","Removes all spaces from text except for single spaces between words."],TRUNC:["TRUNC(number, [num_digits])","Truncates a number to an integer by removing the fractional part of the number."],UPPER:["UPPER(text)","Converts text to uppercase."],VALUE:["VALUE(text)","Converts a text string that represents a number to a number."],VAR:["VAR(number1,[number2],...)","Estimates variance based on a sample."],VARP:["VARP(number1,[number2],...)","Calculates variance based on the entire population."],VLOOKUP:["VLOOKUP (lookup_value, table_array, col_index_num, [range_lookup])","look up a value in a table or a range by row. For example, look up a price of an automotive part by the part number."],YEAR:["YEAR(serial_number)","Returns the year corresponding to a date. The year is returned as an integer in the range 1900-9999."]}},a=r.pqPager.regional.ja={strDisplay:" {2} \u9805\u76ee\u4e2d\u3000{0} \u304b\u3089 {1}\u3000\u3092\u3000\u8868\u793a",strFirstPage:"\u6700\u521d",strLastPage:"\u6700\u5f8c",strNextPage:"\u6b21",strPage:"{0}\u3000/ {1}  \u30da\u30fc\u30b8",strPrevPage:"\u524d",strRefresh:"\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5",strRpp:"\uff11\u30da\u30fc\u30b8\u3042\u305f\u308a\u306e\u30ec\u30b3\u30fc\u30c9: {0}"},i.extend(r.pqGrid.defaults,o),i.extend(r.pqPager.defaults,a)},UAtO:function(t,e,n){n("djeN"),n("gpNT"),n("W8/4"),t.exports=n("7jk5")},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("HDdC"),r=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,c=null,l=e[e.length-1];return Object(r.a)(l)?(c=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof l&&(s=e.pop()),null===c&&1===e.length&&e[0]instanceof i.a?e[0]:Object(o.a)(s)(Object(a.a)(e,c))}},"W8/4":function(t,e,n){"use strict";n.r(e),e.default="/*!\n * jQuery UI CSS Framework 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/theming/\n *\n * To view and modify this theme, visit http://jqueryui.com/themeroller/?scope=&folderName=base&cornerRadiusShadow=8px&offsetLeftShadow=0px&offsetTopShadow=0px&thicknessShadow=5px&opacityShadow=30&bgImgOpacityShadow=0&bgTextureShadow=flat&bgColorShadow=666666&opacityOverlay=30&bgImgOpacityOverlay=0&bgTextureOverlay=flat&bgColorOverlay=aaaaaa&iconColorError=cc0000&fcError=5f3f3f&borderColorError=f1a899&bgTextureError=flat&bgColorError=fddfdf&iconColorHighlight=777620&fcHighlight=777620&borderColorHighlight=dad55e&bgTextureHighlight=flat&bgColorHighlight=fffa90&iconColorActive=ffffff&fcActive=ffffff&borderColorActive=003eff&bgTextureActive=flat&bgColorActive=007fff&iconColorHover=555555&fcHover=2b2b2b&borderColorHover=cccccc&bgTextureHover=flat&bgColorHover=ededed&iconColorDefault=777777&fcDefault=454545&borderColorDefault=c5c5c5&bgTextureDefault=flat&bgColorDefault=f6f6f6&iconColorContent=444444&fcContent=333333&borderColorContent=dddddd&bgTextureContent=flat&bgColorContent=ffffff&iconColorHeader=444444&fcHeader=333333&borderColorHeader=dddddd&bgTextureHeader=flat&bgColorHeader=e9e9e9&cornerRadius=3px&fwDefault=normal&fsDefault=1em&ffDefault=Arial%2CHelvetica%2Csans-serif\n */\n\n\n/* Component containers\n----------------------------------*/\n\n\n.ui-widget {\n\tfont-family: Arial,Helvetica,sans-serif;\n\tfont-size: 1em;\n}\n\n\n.ui-widget .ui-widget {\n\tfont-size: 1em;\n}\n\n\n.ui-widget input,\n.ui-widget select,\n.ui-widget textarea,\n.ui-widget button {\n\tfont-family: Arial,Helvetica,sans-serif;\n\tfont-size: 1em;\n}\n\n\n.ui-widget.ui-widget-content {\n\tborder: 1px solid #c5c5c5;\n}\n\n\n.ui-widget-content {\n\tborder: 1px solid #dddddd;\n\tbackground: #ffffff;\n\tcolor: #333333;\n}\n\n\n.ui-widget-content a {\n\tcolor: #333333;\n}\n\n\n.ui-widget-header {\n\tborder: 1px solid #dddddd;\n\tbackground: #e9e9e9;\n\tcolor: #333333;\n\tfont-weight: bold;\n}\n\n\n.ui-widget-header a {\n\tcolor: #333333;\n}\n\n\n/* Interaction states\n----------------------------------*/\n\n\n.ui-state-default,\n.ui-widget-content .ui-state-default,\n.ui-widget-header .ui-state-default,\n.ui-button,\n\n/* We use html here because we need a greater specificity to make sure disabled\nworks properly when clicked or hovered */\nhtml .ui-button.ui-state-disabled:hover,\nhtml .ui-button.ui-state-disabled:active {\n\tborder: 1px solid #c5c5c5;\n\tbackground: #f6f6f6;\n\tfont-weight: normal;\n\tcolor: #454545;\n}\n\n\n.ui-state-default a,\n.ui-state-default a:link,\n.ui-state-default a:visited,\na.ui-button,\na:link.ui-button,\na:visited.ui-button,\n.ui-button {\n\tcolor: #454545;\n\ttext-decoration: none;\n}\n\n\n.ui-state-hover,\n.ui-widget-content .ui-state-hover,\n.ui-widget-header .ui-state-hover,\n.ui-state-focus,\n.ui-widget-content .ui-state-focus,\n.ui-widget-header .ui-state-focus,\n.ui-button:hover,\n.ui-button:focus {\n\tborder: 1px solid #cccccc;\n\tbackground: #ededed;\n\tfont-weight: normal;\n\tcolor: #2b2b2b;\n}\n\n\n.ui-state-hover a,\n.ui-state-hover a:hover,\n.ui-state-hover a:link,\n.ui-state-hover a:visited,\n.ui-state-focus a,\n.ui-state-focus a:hover,\n.ui-state-focus a:link,\n.ui-state-focus a:visited,\na.ui-button:hover,\na.ui-button:focus {\n\tcolor: #2b2b2b;\n\ttext-decoration: none;\n}\n\n\n.ui-visual-focus {\n\tbox-shadow: 0 0 3px 1px rgb(94, 158, 214);\n}\n\n\n.ui-state-active,\n.ui-widget-content .ui-state-active,\n.ui-widget-header .ui-state-active,\na.ui-button:active,\n.ui-button:active,\n.ui-button.ui-state-active:hover {\n\tborder: 1px solid #003eff;\n\tbackground: #007fff;\n\tfont-weight: normal;\n\tcolor: #ffffff;\n}\n\n\n.ui-icon-background,\n.ui-state-active .ui-icon-background {\n\tborder: #003eff;\n\tbackground-color: #ffffff;\n}\n\n\n.ui-state-active a,\n.ui-state-active a:link,\n.ui-state-active a:visited {\n\tcolor: #ffffff;\n\ttext-decoration: none;\n}\n\n\n/* Interaction Cues\n----------------------------------*/\n\n\n.ui-state-highlight,\n.ui-widget-content .ui-state-highlight,\n.ui-widget-header .ui-state-highlight {\n\tborder: 1px solid #dad55e;\n\tbackground: #fffa90;\n\tcolor: #777620;\n}\n\n\n.ui-state-checked {\n\tborder: 1px solid #dad55e;\n\tbackground: #fffa90;\n}\n\n\n.ui-state-highlight a,\n.ui-widget-content .ui-state-highlight a,\n.ui-widget-header .ui-state-highlight a {\n\tcolor: #777620;\n}\n\n\n.ui-state-error,\n.ui-widget-content .ui-state-error,\n.ui-widget-header .ui-state-error {\n\tborder: 1px solid #f1a899;\n\tbackground: #fddfdf;\n\tcolor: #5f3f3f;\n}\n\n\n.ui-state-error a,\n.ui-widget-content .ui-state-error a,\n.ui-widget-header .ui-state-error a {\n\tcolor: #5f3f3f;\n}\n\n\n.ui-state-error-text,\n.ui-widget-content .ui-state-error-text,\n.ui-widget-header .ui-state-error-text {\n\tcolor: #5f3f3f;\n}\n\n\n.ui-priority-primary,\n.ui-widget-content .ui-priority-primary,\n.ui-widget-header .ui-priority-primary {\n\tfont-weight: bold;\n}\n\n\n.ui-priority-secondary,\n.ui-widget-content .ui-priority-secondary,\n.ui-widget-header .ui-priority-secondary {\n\topacity: .7;\n\tfilter:Alpha(Opacity=70); /* support: IE8 */\n\tfont-weight: normal;\n}\n\n\n.ui-state-disabled,\n.ui-widget-content .ui-state-disabled,\n.ui-widget-header .ui-state-disabled {\n\topacity: .35;\n\tfilter:Alpha(Opacity=35); /* support: IE8 */\n\tbackground-image: none;\n}\n\n\n.ui-state-disabled .ui-icon {\n\tfilter:Alpha(Opacity=35); /* support: IE8 - See #6059 */\n}\n\n\n/* Icons\n----------------------------------*/\n\n\n/* states and images */\n\n\n.ui-icon {\n\twidth: 16px;\n\theight: 16px;\n}\n\n\n.ui-icon,\n.ui-widget-content .ui-icon {\n\tbackground-image: url('ui-icons_444444_256x240.3580b1faf02c1cd7994c.png');\n}\n\n\n.ui-widget-header .ui-icon {\n\tbackground-image: url('ui-icons_444444_256x240.3580b1faf02c1cd7994c.png');\n}\n\n\n.ui-state-hover .ui-icon,\n.ui-state-focus .ui-icon,\n.ui-button:hover .ui-icon,\n.ui-button:focus .ui-icon {\n\tbackground-image: url('ui-icons_555555_256x240.c58c5719d8be44d69fc2.png');\n}\n\n\n.ui-state-active .ui-icon,\n.ui-button:active .ui-icon {\n\tbackground-image: url('ui-icons_ffffff_256x240.df59c902592bb5f10f8b.png');\n}\n\n\n.ui-state-highlight .ui-icon,\n.ui-button .ui-state-highlight.ui-icon {\n\tbackground-image: url('ui-icons_777620_256x240.e73f5131bb90fcc736a6.png');\n}\n\n\n.ui-state-error .ui-icon,\n.ui-state-error-text .ui-icon {\n\tbackground-image: url('ui-icons_cc0000_256x240.bb549ea947a7a69e5c0c.png');\n}\n\n\n.ui-button .ui-icon {\n\tbackground-image: url('ui-icons_777777_256x240.f0ad30c87d846b34a0a6.png');\n}\n\n\n/* positioning */\n\n\n.ui-icon-blank { background-position: 16px 16px; }\n\n\n.ui-icon-caret-1-n { background-position: 0 0; }\n\n\n.ui-icon-caret-1-ne { background-position: -16px 0; }\n\n\n.ui-icon-caret-1-e { background-position: -32px 0; }\n\n\n.ui-icon-caret-1-se { background-position: -48px 0; }\n\n\n.ui-icon-caret-1-s { background-position: -65px 0; }\n\n\n.ui-icon-caret-1-sw { background-position: -80px 0; }\n\n\n.ui-icon-caret-1-w { background-position: -96px 0; }\n\n\n.ui-icon-caret-1-nw { background-position: -112px 0; }\n\n\n.ui-icon-caret-2-n-s { background-position: -128px 0; }\n\n\n.ui-icon-caret-2-e-w { background-position: -144px 0; }\n\n\n.ui-icon-triangle-1-n { background-position: 0 -16px; }\n\n\n.ui-icon-triangle-1-ne { background-position: -16px -16px; }\n\n\n.ui-icon-triangle-1-e { background-position: -32px -16px; }\n\n\n.ui-icon-triangle-1-se { background-position: -48px -16px; }\n\n\n.ui-icon-triangle-1-s { background-position: -65px -16px; }\n\n\n.ui-icon-triangle-1-sw { background-position: -80px -16px; }\n\n\n.ui-icon-triangle-1-w { background-position: -96px -16px; }\n\n\n.ui-icon-triangle-1-nw { background-position: -112px -16px; }\n\n\n.ui-icon-triangle-2-n-s { background-position: -128px -16px; }\n\n\n.ui-icon-triangle-2-e-w { background-position: -144px -16px; }\n\n\n.ui-icon-arrow-1-n { background-position: 0 -32px; }\n\n\n.ui-icon-arrow-1-ne { background-position: -16px -32px; }\n\n\n.ui-icon-arrow-1-e { background-position: -32px -32px; }\n\n\n.ui-icon-arrow-1-se { background-position: -48px -32px; }\n\n\n.ui-icon-arrow-1-s { background-position: -65px -32px; }\n\n\n.ui-icon-arrow-1-sw { background-position: -80px -32px; }\n\n\n.ui-icon-arrow-1-w { background-position: -96px -32px; }\n\n\n.ui-icon-arrow-1-nw { background-position: -112px -32px; }\n\n\n.ui-icon-arrow-2-n-s { background-position: -128px -32px; }\n\n\n.ui-icon-arrow-2-ne-sw { background-position: -144px -32px; }\n\n\n.ui-icon-arrow-2-e-w { background-position: -160px -32px; }\n\n\n.ui-icon-arrow-2-se-nw { background-position: -176px -32px; }\n\n\n.ui-icon-arrowstop-1-n { background-position: -192px -32px; }\n\n\n.ui-icon-arrowstop-1-e { background-position: -208px -32px; }\n\n\n.ui-icon-arrowstop-1-s { background-position: -224px -32px; }\n\n\n.ui-icon-arrowstop-1-w { background-position: -240px -32px; }\n\n\n.ui-icon-arrowthick-1-n { background-position: 1px -48px; }\n\n\n.ui-icon-arrowthick-1-ne { background-position: -16px -48px; }\n\n\n.ui-icon-arrowthick-1-e { background-position: -32px -48px; }\n\n\n.ui-icon-arrowthick-1-se { background-position: -48px -48px; }\n\n\n.ui-icon-arrowthick-1-s { background-position: -64px -48px; }\n\n\n.ui-icon-arrowthick-1-sw { background-position: -80px -48px; }\n\n\n.ui-icon-arrowthick-1-w { background-position: -96px -48px; }\n\n\n.ui-icon-arrowthick-1-nw { background-position: -112px -48px; }\n\n\n.ui-icon-arrowthick-2-n-s { background-position: -128px -48px; }\n\n\n.ui-icon-arrowthick-2-ne-sw { background-position: -144px -48px; }\n\n\n.ui-icon-arrowthick-2-e-w { background-position: -160px -48px; }\n\n\n.ui-icon-arrowthick-2-se-nw { background-position: -176px -48px; }\n\n\n.ui-icon-arrowthickstop-1-n { background-position: -192px -48px; }\n\n\n.ui-icon-arrowthickstop-1-e { background-position: -208px -48px; }\n\n\n.ui-icon-arrowthickstop-1-s { background-position: -224px -48px; }\n\n\n.ui-icon-arrowthickstop-1-w { background-position: -240px -48px; }\n\n\n.ui-icon-arrowreturnthick-1-w { background-position: 0 -64px; }\n\n\n.ui-icon-arrowreturnthick-1-n { background-position: -16px -64px; }\n\n\n.ui-icon-arrowreturnthick-1-e { background-position: -32px -64px; }\n\n\n.ui-icon-arrowreturnthick-1-s { background-position: -48px -64px; }\n\n\n.ui-icon-arrowreturn-1-w { background-position: -64px -64px; }\n\n\n.ui-icon-arrowreturn-1-n { background-position: -80px -64px; }\n\n\n.ui-icon-arrowreturn-1-e { background-position: -96px -64px; }\n\n\n.ui-icon-arrowreturn-1-s { background-position: -112px -64px; }\n\n\n.ui-icon-arrowrefresh-1-w { background-position: -128px -64px; }\n\n\n.ui-icon-arrowrefresh-1-n { background-position: -144px -64px; }\n\n\n.ui-icon-arrowrefresh-1-e { background-position: -160px -64px; }\n\n\n.ui-icon-arrowrefresh-1-s { background-position: -176px -64px; }\n\n\n.ui-icon-arrow-4 { background-position: 0 -80px; }\n\n\n.ui-icon-arrow-4-diag { background-position: -16px -80px; }\n\n\n.ui-icon-extlink { background-position: -32px -80px; }\n\n\n.ui-icon-newwin { background-position: -48px -80px; }\n\n\n.ui-icon-refresh { background-position: -64px -80px; }\n\n\n.ui-icon-shuffle { background-position: -80px -80px; }\n\n\n.ui-icon-transfer-e-w { background-position: -96px -80px; }\n\n\n.ui-icon-transferthick-e-w { background-position: -112px -80px; }\n\n\n.ui-icon-folder-collapsed { background-position: 0 -96px; }\n\n\n.ui-icon-folder-open { background-position: -16px -96px; }\n\n\n.ui-icon-document { background-position: -32px -96px; }\n\n\n.ui-icon-document-b { background-position: -48px -96px; }\n\n\n.ui-icon-note { background-position: -64px -96px; }\n\n\n.ui-icon-mail-closed { background-position: -80px -96px; }\n\n\n.ui-icon-mail-open { background-position: -96px -96px; }\n\n\n.ui-icon-suitcase { background-position: -112px -96px; }\n\n\n.ui-icon-comment { background-position: -128px -96px; }\n\n\n.ui-icon-person { background-position: -144px -96px; }\n\n\n.ui-icon-print { background-position: -160px -96px; }\n\n\n.ui-icon-trash { background-position: -176px -96px; }\n\n\n.ui-icon-locked { background-position: -192px -96px; }\n\n\n.ui-icon-unlocked { background-position: -208px -96px; }\n\n\n.ui-icon-bookmark { background-position: -224px -96px; }\n\n\n.ui-icon-tag { background-position: -240px -96px; }\n\n\n.ui-icon-home { background-position: 0 -112px; }\n\n\n.ui-icon-flag { background-position: -16px -112px; }\n\n\n.ui-icon-calendar { background-position: -32px -112px; }\n\n\n.ui-icon-cart { background-position: -48px -112px; }\n\n\n.ui-icon-pencil { background-position: -64px -112px; }\n\n\n.ui-icon-clock { background-position: -80px -112px; }\n\n\n.ui-icon-disk { background-position: -96px -112px; }\n\n\n.ui-icon-calculator { background-position: -112px -112px; }\n\n\n.ui-icon-zoomin { background-position: -128px -112px; }\n\n\n.ui-icon-zoomout { background-position: -144px -112px; }\n\n\n.ui-icon-search { background-position: -160px -112px; }\n\n\n.ui-icon-wrench { background-position: -176px -112px; }\n\n\n.ui-icon-gear { background-position: -192px -112px; }\n\n\n.ui-icon-heart { background-position: -208px -112px; }\n\n\n.ui-icon-star { background-position: -224px -112px; }\n\n\n.ui-icon-link { background-position: -240px -112px; }\n\n\n.ui-icon-cancel { background-position: 0 -128px; }\n\n\n.ui-icon-plus { background-position: -16px -128px; }\n\n\n.ui-icon-plusthick { background-position: -32px -128px; }\n\n\n.ui-icon-minus { background-position: -48px -128px; }\n\n\n.ui-icon-minusthick { background-position: -64px -128px; }\n\n\n.ui-icon-close { background-position: -80px -128px; }\n\n\n.ui-icon-closethick { background-position: -96px -128px; }\n\n\n.ui-icon-key { background-position: -112px -128px; }\n\n\n.ui-icon-lightbulb { background-position: -128px -128px; }\n\n\n.ui-icon-scissors { background-position: -144px -128px; }\n\n\n.ui-icon-clipboard { background-position: -160px -128px; }\n\n\n.ui-icon-copy { background-position: -176px -128px; }\n\n\n.ui-icon-contact { background-position: -192px -128px; }\n\n\n.ui-icon-image { background-position: -208px -128px; }\n\n\n.ui-icon-video { background-position: -224px -128px; }\n\n\n.ui-icon-script { background-position: -240px -128px; }\n\n\n.ui-icon-alert { background-position: 0 -144px; }\n\n\n.ui-icon-info { background-position: -16px -144px; }\n\n\n.ui-icon-notice { background-position: -32px -144px; }\n\n\n.ui-icon-help { background-position: -48px -144px; }\n\n\n.ui-icon-check { background-position: -64px -144px; }\n\n\n.ui-icon-bullet { background-position: -80px -144px; }\n\n\n.ui-icon-radio-on { background-position: -96px -144px; }\n\n\n.ui-icon-radio-off { background-position: -112px -144px; }\n\n\n.ui-icon-pin-w { background-position: -128px -144px; }\n\n\n.ui-icon-pin-s { background-position: -144px -144px; }\n\n\n.ui-icon-play { background-position: 0 -160px; }\n\n\n.ui-icon-pause { background-position: -16px -160px; }\n\n\n.ui-icon-seek-next { background-position: -32px -160px; }\n\n\n.ui-icon-seek-prev { background-position: -48px -160px; }\n\n\n.ui-icon-seek-end { background-position: -64px -160px; }\n\n\n.ui-icon-seek-start { background-position: -80px -160px; }\n\n\n/* ui-icon-seek-first is deprecated, use ui-icon-seek-start instead */\n\n\n.ui-icon-seek-first { background-position: -80px -160px; }\n\n\n.ui-icon-stop { background-position: -96px -160px; }\n\n\n.ui-icon-eject { background-position: -112px -160px; }\n\n\n.ui-icon-volume-off { background-position: -128px -160px; }\n\n\n.ui-icon-volume-on { background-position: -144px -160px; }\n\n\n.ui-icon-power { background-position: 0 -176px; }\n\n\n.ui-icon-signal-diag { background-position: -16px -176px; }\n\n\n.ui-icon-signal { background-position: -32px -176px; }\n\n\n.ui-icon-battery-0 { background-position: -48px -176px; }\n\n\n.ui-icon-battery-1 { background-position: -64px -176px; }\n\n\n.ui-icon-battery-2 { background-position: -80px -176px; }\n\n\n.ui-icon-battery-3 { background-position: -96px -176px; }\n\n\n.ui-icon-circle-plus { background-position: 0 -192px; }\n\n\n.ui-icon-circle-minus { background-position: -16px -192px; }\n\n\n.ui-icon-circle-close { background-position: -32px -192px; }\n\n\n.ui-icon-circle-triangle-e { background-position: -48px -192px; }\n\n\n.ui-icon-circle-triangle-s { background-position: -64px -192px; }\n\n\n.ui-icon-circle-triangle-w { background-position: -80px -192px; }\n\n\n.ui-icon-circle-triangle-n { background-position: -96px -192px; }\n\n\n.ui-icon-circle-arrow-e { background-position: -112px -192px; }\n\n\n.ui-icon-circle-arrow-s { background-position: -128px -192px; }\n\n\n.ui-icon-circle-arrow-w { background-position: -144px -192px; }\n\n\n.ui-icon-circle-arrow-n { background-position: -160px -192px; }\n\n\n.ui-icon-circle-zoomin { background-position: -176px -192px; }\n\n\n.ui-icon-circle-zoomout { background-position: -192px -192px; }\n\n\n.ui-icon-circle-check { background-position: -208px -192px; }\n\n\n.ui-icon-circlesmall-plus { background-position: 0 -208px; }\n\n\n.ui-icon-circlesmall-minus { background-position: -16px -208px; }\n\n\n.ui-icon-circlesmall-close { background-position: -32px -208px; }\n\n\n.ui-icon-squaresmall-plus { background-position: -48px -208px; }\n\n\n.ui-icon-squaresmall-minus { background-position: -64px -208px; }\n\n\n.ui-icon-squaresmall-close { background-position: -80px -208px; }\n\n\n.ui-icon-grip-dotted-vertical { background-position: 0 -224px; }\n\n\n.ui-icon-grip-dotted-horizontal { background-position: -16px -224px; }\n\n\n.ui-icon-grip-solid-vertical { background-position: -32px -224px; }\n\n\n.ui-icon-grip-solid-horizontal { background-position: -48px -224px; }\n\n\n.ui-icon-gripsmall-diagonal-se { background-position: -64px -224px; }\n\n\n.ui-icon-grip-diagonal-se { background-position: -80px -224px; }\n\n\n/* Misc visuals\n----------------------------------*/\n\n\n/* Corner radius */\n\n\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-left,\n.ui-corner-tl {\n\tborder-top-left-radius: 3px;\n}\n\n\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-right,\n.ui-corner-tr {\n\tborder-top-right-radius: 3px;\n}\n\n\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-left,\n.ui-corner-bl {\n\tborder-bottom-left-radius: 3px;\n}\n\n\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-right,\n.ui-corner-br {\n\tborder-bottom-right-radius: 3px;\n}\n\n\n/* Overlays */\n\n\n.ui-widget-overlay {\n\tbackground: #aaaaaa;\n\topacity: .3;\n\tfilter: Alpha(Opacity=30); /* support: IE8 */\n}\n\n\n.ui-widget-shadow {\n\tbox-shadow: 0px 0px 5px #666666;\n}\n"},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("EY2u"),r=n("LRne"),o=n("HDdC"),a=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return t=this.error,new o.a(function(e){return e.error(t)});case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var i=n("HDdC"),r=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),c=n("2QA8"),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).destination=t,i}return n}(r.a),u=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:c.a,value:function(){return new l(this)}},{key:"lift",value:function(t){var e=new h(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new i.a;return t.source=this,t}}]),n}(i.a);return t.create=function(t,e){return new h(t,e)},t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).destination=t,r.source=i,r}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(u)},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return i})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("DH7j");function r(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).subject=t,r.subscriber=i,r.closed=!1,r}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},"ZW/g":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),r=n("NsTc"),o=n("/+4+"),a=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.node=e,this.helper=n,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.member=new Array}},{key:"getMemberColumns",value:function(t){var e,n=null,i=_createForOfIteratorHelper(this.member);try{for(i.s();!(e=i.n()).done;){var r=e.value;if(r.id.toString()===t.toString()){n=r;break}}}catch(o){i.e(o)}finally{i.f()}return null==n&&(n={id:t.toString(),L:"",ni:"",nj:"",e:"",cg:""},this.member.push(n)),n}},{key:"setMemberJson",value:function(t){if("member"in t)for(var e=t.member,n=0,i=Object.keys(e);n<i.length;n++){var r=i[n],o=e[r],a=this.helper.toNumber(o.ni),s=this.helper.toNumber(o.nj),c=this.helper.toNumber(o.e),l=this.helper.toNumber(o.cg),u={id:r,L:"",ni:null===a?"":a.toFixed(0),nj:null===s?"":s.toFixed(0),e:null===c?"":c.toFixed(0),cg:null===l?"":l.toFixed(0)};this.member.push(u)}}},{key:"getMemberJson",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={},n=0;n<this.member.length;n++){var i=this.member[n],r=this.helper.toNumber(i.ni),o=this.helper.toNumber(i.nj),a=this.helper.toNumber(i.e),s=this.helper.toNumber(i.cg);null==r&&null==o&&null==a&&null==s||(e[i.id]={ni:null==r?t:r,nj:null==o?t:o,e:null==a?t:a,cg:null==s?t:s})}return e}},{key:"getMember",value:function(t){var e=this.member.find(function(e){return e.id===t});return void 0===e?{ni:null,nj:null}:e}},{key:"getMemberLength",value:function(t){var e=this.getMember(t),n=e.ni,i=e.nj;if(null===n||null===i)return null;var r=this.node.getNodePos(n),o=this.node.getNodePos(i);if(null==r||null==o)return null;var a=r.y,s=r.z,c=o.y,l=o.z;return Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(a-c,2)+Math.pow(s-l,2))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Yb(r.a),i.Yb(o.a))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("5+tZ"),r=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(i.a)(r.a,t)}},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return i})},djeN:function(t,e,n){"use strict";n.r(e),e.default="/*! jQuery UI - v1.12.1 - 2017-03-19\n* http://jqueryui.com\n* Includes: draggable.css, core.css, resizable.css, selectable.css, sortable.css, accordion.css, autocomplete.css, menu.css, button.css, controlgroup.css, checkboxradio.css, datepicker.css, dialog.css, progressbar.css, selectmenu.css, slider.css, spinner.css, tabs.css, tooltip.css, theme.css\n* To view and modify this theme, visit http://jqueryui.com/themeroller/?scope=&folderName=base&cornerRadiusShadow=8px&offsetLeftShadow=0px&offsetTopShadow=0px&thicknessShadow=5px&opacityShadow=30&bgImgOpacityShadow=0&bgTextureShadow=flat&bgColorShadow=666666&opacityOverlay=30&bgImgOpacityOverlay=0&bgTextureOverlay=flat&bgColorOverlay=aaaaaa&iconColorError=cc0000&fcError=5f3f3f&borderColorError=f1a899&bgTextureError=flat&bgColorError=fddfdf&iconColorHighlight=777620&fcHighlight=777620&borderColorHighlight=dad55e&bgTextureHighlight=flat&bgColorHighlight=fffa90&iconColorActive=ffffff&fcActive=ffffff&borderColorActive=003eff&bgTextureActive=flat&bgColorActive=007fff&iconColorHover=555555&fcHover=2b2b2b&borderColorHover=cccccc&bgTextureHover=flat&bgColorHover=ededed&iconColorDefault=777777&fcDefault=454545&borderColorDefault=c5c5c5&bgTextureDefault=flat&bgColorDefault=f6f6f6&iconColorContent=444444&fcContent=333333&borderColorContent=dddddd&bgTextureContent=flat&bgColorContent=ffffff&iconColorHeader=444444&fcHeader=333333&borderColorHeader=dddddd&bgTextureHeader=flat&bgColorHeader=e9e9e9&cornerRadius=3px&fwDefault=normal&fsDefault=1em&ffDefault=Arial%2CHelvetica%2Csans-serif\n* Copyright jQuery Foundation and other contributors; Licensed MIT */\n\n.ui-draggable-handle {\n\ttouch-action: none;\n}\n\n/* Layout helpers\n----------------------------------*/\n\n.ui-helper-hidden {\n\tdisplay: none;\n}\n\n.ui-helper-hidden-accessible {\n\tborder: 0;\n\tclip: rect(0 0 0 0);\n\theight: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\twidth: 1px;\n}\n\n.ui-helper-reset {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\toutline: 0;\n\tline-height: 1.3;\n\ttext-decoration: none;\n\tfont-size: 100%;\n\tlist-style: none;\n}\n\n.ui-helper-clearfix:before,\n.ui-helper-clearfix:after {\n\tcontent: \"\";\n\tdisplay: table;\n\tborder-collapse: collapse;\n}\n\n.ui-helper-clearfix:after {\n\tclear: both;\n}\n\n.ui-helper-zfix {\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tposition: absolute;\n\topacity: 0;\n\tfilter:Alpha(Opacity=0); /* support: IE8 */\n}\n\n.ui-front {\n\tz-index: 100;\n}\n\n/* Interaction Cues\n----------------------------------*/\n\n.ui-state-disabled {\n\tcursor: default !important;\n\tpointer-events: none;\n}\n\n/* Icons\n----------------------------------*/\n\n.ui-icon {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tmargin-top: -.25em;\n\tposition: relative;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n}\n\n.ui-widget-icon-block {\n\tleft: 50%;\n\tmargin-left: -8px;\n\tdisplay: block;\n}\n\n/* Misc visuals\n----------------------------------*/\n\n/* Overlays */\n\n.ui-widget-overlay {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ui-resizable {\n\tposition: relative;\n}\n\n.ui-resizable-handle {\n\tposition: absolute;\n\tfont-size: 0.1px;\n\tdisplay: block;\n\ttouch-action: none;\n}\n\n.ui-resizable-disabled .ui-resizable-handle,\n.ui-resizable-autohide .ui-resizable-handle {\n\tdisplay: none;\n}\n\n.ui-resizable-n {\n\tcursor: n-resize;\n\theight: 7px;\n\twidth: 100%;\n\ttop: -5px;\n\tleft: 0;\n}\n\n.ui-resizable-s {\n\tcursor: s-resize;\n\theight: 7px;\n\twidth: 100%;\n\tbottom: -5px;\n\tleft: 0;\n}\n\n.ui-resizable-e {\n\tcursor: e-resize;\n\twidth: 7px;\n\tright: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n\n.ui-resizable-w {\n\tcursor: w-resize;\n\twidth: 7px;\n\tleft: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n\n.ui-resizable-se {\n\tcursor: se-resize;\n\twidth: 12px;\n\theight: 12px;\n\tright: 1px;\n\tbottom: 1px;\n}\n\n.ui-resizable-sw {\n\tcursor: sw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\tbottom: -5px;\n}\n\n.ui-resizable-nw {\n\tcursor: nw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\ttop: -5px;\n}\n\n.ui-resizable-ne {\n\tcursor: ne-resize;\n\twidth: 9px;\n\theight: 9px;\n\tright: -5px;\n\ttop: -5px;\n}\n\n.ui-selectable {\n\ttouch-action: none;\n}\n\n.ui-selectable-helper {\n\tposition: absolute;\n\tz-index: 100;\n\tborder: 1px dotted black;\n}\n\n.ui-sortable-handle {\n\ttouch-action: none;\n}\n\n.ui-accordion .ui-accordion-header {\n\tdisplay: block;\n\tcursor: pointer;\n\tposition: relative;\n\tmargin: 2px 0 0 0;\n\tpadding: .5em .5em .5em .7em;\n\tfont-size: 100%;\n}\n\n.ui-accordion .ui-accordion-content {\n\tpadding: 1em 2.2em;\n\tborder-top: 0;\n\toverflow: auto;\n}\n\n.ui-autocomplete {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcursor: default;\n}\n\n.ui-menu {\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0;\n\tdisplay: block;\n\toutline: 0;\n}\n\n.ui-menu .ui-menu {\n\tposition: absolute;\n}\n\n.ui-menu .ui-menu-item {\n\tmargin: 0;\n\tcursor: pointer;\n\t/* support: IE10, see #8844 */\n\tlist-style-image: url(\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\");\n}\n\n.ui-menu .ui-menu-item-wrapper {\n\tposition: relative;\n\tpadding: 3px 1em 3px .4em;\n}\n\n.ui-menu .ui-menu-divider {\n\tmargin: 5px 0;\n\theight: 0;\n\tfont-size: 0;\n\tline-height: 0;\n\tborder-width: 1px 0 0 0;\n}\n\n.ui-menu .ui-state-focus,\n.ui-menu .ui-state-active {\n\tmargin: -1px;\n}\n\n/* icon support */\n\n.ui-menu-icons {\n\tposition: relative;\n}\n\n.ui-menu-icons .ui-menu-item-wrapper {\n\tpadding-left: 2em;\n}\n\n/* left-aligned */\n\n.ui-menu .ui-icon {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tleft: .2em;\n\tmargin: auto 0;\n}\n\n/* right-aligned */\n\n.ui-menu .ui-menu-icon {\n\tleft: auto;\n\tright: 0;\n}\n\n.ui-button {\n\tpadding: .4em 1em;\n\tdisplay: inline-block;\n\tposition: relative;\n\tline-height: normal;\n\tmargin-right: .1em;\n\tcursor: pointer;\n\tvertical-align: middle;\n\ttext-align: center;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\tuser-select: none;\n\n\t/* Support: IE <= 11 */\n\toverflow: visible;\n}\n\n.ui-button,\n.ui-button:link,\n.ui-button:visited,\n.ui-button:hover,\n.ui-button:active {\n\ttext-decoration: none;\n}\n\n/* to make room for the icon, a width needs to be set here */\n\n.ui-button-icon-only {\n\twidth: 2em;\n\tbox-sizing: border-box;\n\ttext-indent: -9999px;\n\twhite-space: nowrap;\n}\n\n/* no icon support for input elements */\n\ninput.ui-button.ui-button-icon-only {\n\ttext-indent: 0;\n}\n\n/* button icon element(s) */\n\n.ui-button-icon-only .ui-icon {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\tmargin-top: -8px;\n\tmargin-left: -8px;\n}\n\n.ui-button.ui-icon-notext .ui-icon {\n\tpadding: 0;\n\twidth: 2.1em;\n\theight: 2.1em;\n\ttext-indent: -9999px;\n\twhite-space: nowrap;\n\n}\n\ninput.ui-button.ui-icon-notext .ui-icon {\n\twidth: auto;\n\theight: auto;\n\ttext-indent: 0;\n\twhite-space: normal;\n\tpadding: .4em 1em;\n}\n\n/* workarounds */\n\n/* Support: Firefox 5 - 40 */\n\ninput.ui-button::-moz-focus-inner,\nbutton.ui-button::-moz-focus-inner {\n\tborder: 0;\n\tpadding: 0;\n}\n\n.ui-controlgroup {\n\tvertical-align: middle;\n\tdisplay: inline-block;\n}\n\n.ui-controlgroup > .ui-controlgroup-item {\n\tfloat: left;\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.ui-controlgroup > .ui-controlgroup-item:focus,\n.ui-controlgroup > .ui-controlgroup-item.ui-visual-focus {\n\tz-index: 9999;\n}\n\n.ui-controlgroup-vertical > .ui-controlgroup-item {\n\tdisplay: block;\n\tfloat: none;\n\twidth: 100%;\n\tmargin-top: 0;\n\tmargin-bottom: 0;\n\ttext-align: left;\n}\n\n.ui-controlgroup-vertical .ui-controlgroup-item {\n\tbox-sizing: border-box;\n}\n\n.ui-controlgroup .ui-controlgroup-label {\n\tpadding: .4em 1em;\n}\n\n.ui-controlgroup .ui-controlgroup-label span {\n\tfont-size: 80%;\n}\n\n.ui-controlgroup-horizontal .ui-controlgroup-label + .ui-controlgroup-item {\n\tborder-left: none;\n}\n\n.ui-controlgroup-vertical .ui-controlgroup-label + .ui-controlgroup-item {\n\tborder-top: none;\n}\n\n.ui-controlgroup-horizontal .ui-controlgroup-label.ui-widget-content {\n\tborder-right: none;\n}\n\n.ui-controlgroup-vertical .ui-controlgroup-label.ui-widget-content {\n\tborder-bottom: none;\n}\n\n/* Spinner specific style fixes */\n\n.ui-controlgroup-vertical .ui-spinner-input {\n\n\t/* Support: IE8 only, Android < 4.4 only */\n\twidth: 75%;\n\twidth: calc( 100% - 2.4em );\n}\n\n.ui-controlgroup-vertical .ui-spinner .ui-spinner-up {\n\tborder-top-style: solid;\n}\n\n.ui-checkboxradio-label .ui-icon-background {\n\tbox-shadow: inset 1px 1px 1px #ccc;\n\tborder-radius: .12em;\n\tborder: none;\n}\n\n.ui-checkboxradio-radio-label .ui-icon-background {\n\twidth: 16px;\n\theight: 16px;\n\tborder-radius: 1em;\n\toverflow: visible;\n\tborder: none;\n}\n\n.ui-checkboxradio-radio-label.ui-checkboxradio-checked .ui-icon,\n.ui-checkboxradio-radio-label.ui-checkboxradio-checked:hover .ui-icon {\n\tbackground-image: none;\n\twidth: 8px;\n\theight: 8px;\n\tborder-width: 4px;\n\tborder-style: solid;\n}\n\n.ui-checkboxradio-disabled {\n\tpointer-events: none;\n}\n\n.ui-datepicker {\n\twidth: 17em;\n\tpadding: .2em .2em 0;\n\tdisplay: none;\n}\n\n.ui-datepicker .ui-datepicker-header {\n\tposition: relative;\n\tpadding: .2em 0;\n}\n\n.ui-datepicker .ui-datepicker-prev,\n.ui-datepicker .ui-datepicker-next {\n\tposition: absolute;\n\ttop: 2px;\n\twidth: 1.8em;\n\theight: 1.8em;\n}\n\n.ui-datepicker .ui-datepicker-prev-hover,\n.ui-datepicker .ui-datepicker-next-hover {\n\ttop: 1px;\n}\n\n.ui-datepicker .ui-datepicker-prev {\n\tleft: 2px;\n}\n\n.ui-datepicker .ui-datepicker-next {\n\tright: 2px;\n}\n\n.ui-datepicker .ui-datepicker-prev-hover {\n\tleft: 1px;\n}\n\n.ui-datepicker .ui-datepicker-next-hover {\n\tright: 1px;\n}\n\n.ui-datepicker .ui-datepicker-prev span,\n.ui-datepicker .ui-datepicker-next span {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 50%;\n\tmargin-left: -8px;\n\ttop: 50%;\n\tmargin-top: -8px;\n}\n\n.ui-datepicker .ui-datepicker-title {\n\tmargin: 0 2.3em;\n\tline-height: 1.8em;\n\ttext-align: center;\n}\n\n.ui-datepicker .ui-datepicker-title select {\n\tfont-size: 1em;\n\tmargin: 1px 0;\n}\n\n.ui-datepicker select.ui-datepicker-month,\n.ui-datepicker select.ui-datepicker-year {\n\twidth: 45%;\n}\n\n.ui-datepicker table {\n\twidth: 100%;\n\tfont-size: .9em;\n\tborder-collapse: collapse;\n\tmargin: 0 0 .4em;\n}\n\n.ui-datepicker th {\n\tpadding: .7em .3em;\n\ttext-align: center;\n\tfont-weight: bold;\n\tborder: 0;\n}\n\n.ui-datepicker td {\n\tborder: 0;\n\tpadding: 1px;\n}\n\n.ui-datepicker td span,\n.ui-datepicker td a {\n\tdisplay: block;\n\tpadding: .2em;\n\ttext-align: right;\n\ttext-decoration: none;\n}\n\n.ui-datepicker .ui-datepicker-buttonpane {\n\tbackground-image: none;\n\tmargin: .7em 0 0 0;\n\tpadding: 0 .2em;\n\tborder-left: 0;\n\tborder-right: 0;\n\tborder-bottom: 0;\n}\n\n.ui-datepicker .ui-datepicker-buttonpane button {\n\tfloat: right;\n\tmargin: .5em .2em .4em;\n\tcursor: pointer;\n\tpadding: .2em .6em .3em .6em;\n\twidth: auto;\n\toverflow: visible;\n}\n\n.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current {\n\tfloat: left;\n}\n\n/* with multiple calendars */\n\n.ui-datepicker.ui-datepicker-multi {\n\twidth: auto;\n}\n\n.ui-datepicker-multi .ui-datepicker-group {\n\tfloat: left;\n}\n\n.ui-datepicker-multi .ui-datepicker-group table {\n\twidth: 95%;\n\tmargin: 0 auto .4em;\n}\n\n.ui-datepicker-multi-2 .ui-datepicker-group {\n\twidth: 50%;\n}\n\n.ui-datepicker-multi-3 .ui-datepicker-group {\n\twidth: 33.3%;\n}\n\n.ui-datepicker-multi-4 .ui-datepicker-group {\n\twidth: 25%;\n}\n\n.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-left-width: 0;\n}\n\n.ui-datepicker-multi .ui-datepicker-buttonpane {\n\tclear: left;\n}\n\n.ui-datepicker-row-break {\n\tclear: both;\n\twidth: 100%;\n\tfont-size: 0;\n}\n\n/* RTL support */\n\n.ui-datepicker-rtl {\n\tdirection: rtl;\n}\n\n.ui-datepicker-rtl .ui-datepicker-prev {\n\tright: 2px;\n\tleft: auto;\n}\n\n.ui-datepicker-rtl .ui-datepicker-next {\n\tleft: 2px;\n\tright: auto;\n}\n\n.ui-datepicker-rtl .ui-datepicker-prev:hover {\n\tright: 1px;\n\tleft: auto;\n}\n\n.ui-datepicker-rtl .ui-datepicker-next:hover {\n\tleft: 1px;\n\tright: auto;\n}\n\n.ui-datepicker-rtl .ui-datepicker-buttonpane {\n\tclear: right;\n}\n\n.ui-datepicker-rtl .ui-datepicker-buttonpane button {\n\tfloat: left;\n}\n\n.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,\n.ui-datepicker-rtl .ui-datepicker-group {\n\tfloat: right;\n}\n\n.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-right-width: 0;\n\tborder-left-width: 1px;\n}\n\n/* Icons */\n\n.ui-datepicker .ui-icon {\n\tdisplay: block;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n\tleft: .5em;\n\ttop: .3em;\n}\n\n.ui-dialog {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tpadding: .2em;\n\toutline: 0;\n}\n\n.ui-dialog .ui-dialog-titlebar {\n\tpadding: .4em 1em;\n\tposition: relative;\n}\n\n.ui-dialog .ui-dialog-title {\n\tfloat: left;\n\tmargin: .1em 0;\n\twhite-space: nowrap;\n\twidth: 90%;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.ui-dialog .ui-dialog-titlebar-close {\n\tposition: absolute;\n\tright: .3em;\n\ttop: 50%;\n\twidth: 20px;\n\tmargin: -10px 0 0 0;\n\tpadding: 1px;\n\theight: 20px;\n}\n\n.ui-dialog .ui-dialog-content {\n\tposition: relative;\n\tborder: 0;\n\tpadding: .5em 1em;\n\tbackground: none;\n\toverflow: auto;\n}\n\n.ui-dialog .ui-dialog-buttonpane {\n\ttext-align: left;\n\tborder-width: 1px 0 0 0;\n\tbackground-image: none;\n\tmargin-top: .5em;\n\tpadding: .3em 1em .5em .4em;\n}\n\n.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset {\n\tfloat: right;\n}\n\n.ui-dialog .ui-dialog-buttonpane button {\n\tmargin: .5em .4em .5em 0;\n\tcursor: pointer;\n}\n\n.ui-dialog .ui-resizable-n {\n\theight: 2px;\n\ttop: 0;\n}\n\n.ui-dialog .ui-resizable-e {\n\twidth: 2px;\n\tright: 0;\n}\n\n.ui-dialog .ui-resizable-s {\n\theight: 2px;\n\tbottom: 0;\n}\n\n.ui-dialog .ui-resizable-w {\n\twidth: 2px;\n\tleft: 0;\n}\n\n.ui-dialog .ui-resizable-se,\n.ui-dialog .ui-resizable-sw,\n.ui-dialog .ui-resizable-ne,\n.ui-dialog .ui-resizable-nw {\n\twidth: 7px;\n\theight: 7px;\n}\n\n.ui-dialog .ui-resizable-se {\n\tright: 0;\n\tbottom: 0;\n}\n\n.ui-dialog .ui-resizable-sw {\n\tleft: 0;\n\tbottom: 0;\n}\n\n.ui-dialog .ui-resizable-ne {\n\tright: 0;\n\ttop: 0;\n}\n\n.ui-dialog .ui-resizable-nw {\n\tleft: 0;\n\ttop: 0;\n}\n\n.ui-draggable .ui-dialog-titlebar {\n\tcursor: move;\n}\n\n.ui-progressbar {\n\theight: 2em;\n\ttext-align: left;\n\toverflow: hidden;\n}\n\n.ui-progressbar .ui-progressbar-value {\n\tmargin: -1px;\n\theight: 100%;\n}\n\n.ui-progressbar .ui-progressbar-overlay {\n\tbackground: url(\"data:image/gif;base64,R0lGODlhKAAoAIABAAAAAP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAQABACwAAAAAKAAoAAACkYwNqXrdC52DS06a7MFZI+4FHBCKoDeWKXqymPqGqxvJrXZbMx7Ttc+w9XgU2FB3lOyQRWET2IFGiU9m1frDVpxZZc6bfHwv4c1YXP6k1Vdy292Fb6UkuvFtXpvWSzA+HycXJHUXiGYIiMg2R6W459gnWGfHNdjIqDWVqemH2ekpObkpOlppWUqZiqr6edqqWQAAIfkECQEAAQAsAAAAACgAKAAAApSMgZnGfaqcg1E2uuzDmmHUBR8Qil95hiPKqWn3aqtLsS18y7G1SzNeowWBENtQd+T1JktP05nzPTdJZlR6vUxNWWjV+vUWhWNkWFwxl9VpZRedYcflIOLafaa28XdsH/ynlcc1uPVDZxQIR0K25+cICCmoqCe5mGhZOfeYSUh5yJcJyrkZWWpaR8doJ2o4NYq62lAAACH5BAkBAAEALAAAAAAoACgAAAKVDI4Yy22ZnINRNqosw0Bv7i1gyHUkFj7oSaWlu3ovC8GxNso5fluz3qLVhBVeT/Lz7ZTHyxL5dDalQWPVOsQWtRnuwXaFTj9jVVh8pma9JjZ4zYSj5ZOyma7uuolffh+IR5aW97cHuBUXKGKXlKjn+DiHWMcYJah4N0lYCMlJOXipGRr5qdgoSTrqWSq6WFl2ypoaUAAAIfkECQEAAQAsAAAAACgAKAAAApaEb6HLgd/iO7FNWtcFWe+ufODGjRfoiJ2akShbueb0wtI50zm02pbvwfWEMWBQ1zKGlLIhskiEPm9R6vRXxV4ZzWT2yHOGpWMyorblKlNp8HmHEb/lCXjcW7bmtXP8Xt229OVWR1fod2eWqNfHuMjXCPkIGNileOiImVmCOEmoSfn3yXlJWmoHGhqp6ilYuWYpmTqKUgAAIfkECQEAAQAsAAAAACgAKAAAApiEH6kb58biQ3FNWtMFWW3eNVcojuFGfqnZqSebuS06w5V80/X02pKe8zFwP6EFWOT1lDFk8rGERh1TTNOocQ61Hm4Xm2VexUHpzjymViHrFbiELsefVrn6XKfnt2Q9G/+Xdie499XHd2g4h7ioOGhXGJboGAnXSBnoBwKYyfioubZJ2Hn0RuRZaflZOil56Zp6iioKSXpUAAAh+QQJAQABACwAAAAAKAAoAAACkoQRqRvnxuI7kU1a1UU5bd5tnSeOZXhmn5lWK3qNTWvRdQxP8qvaC+/yaYQzXO7BMvaUEmJRd3TsiMAgswmNYrSgZdYrTX6tSHGZO73ezuAw2uxuQ+BbeZfMxsexY35+/Qe4J1inV0g4x3WHuMhIl2jXOKT2Q+VU5fgoSUI52VfZyfkJGkha6jmY+aaYdirq+lQAACH5BAkBAAEALAAAAAAoACgAAAKWBIKpYe0L3YNKToqswUlvznigd4wiR4KhZrKt9Upqip61i9E3vMvxRdHlbEFiEXfk9YARYxOZZD6VQ2pUunBmtRXo1Lf8hMVVcNl8JafV38aM2/Fu5V16Bn63r6xt97j09+MXSFi4BniGFae3hzbH9+hYBzkpuUh5aZmHuanZOZgIuvbGiNeomCnaxxap2upaCZsq+1kAACH5BAkBAAEALAAAAAAoACgAAAKXjI8By5zf4kOxTVrXNVlv1X0d8IGZGKLnNpYtm8Lr9cqVeuOSvfOW79D9aDHizNhDJidFZhNydEahOaDH6nomtJjp1tutKoNWkvA6JqfRVLHU/QUfau9l2x7G54d1fl995xcIGAdXqMfBNadoYrhH+Mg2KBlpVpbluCiXmMnZ2Sh4GBqJ+ckIOqqJ6LmKSllZmsoq6wpQAAAh+QQJAQABACwAAAAAKAAoAAAClYx/oLvoxuJDkU1a1YUZbJ59nSd2ZXhWqbRa2/gF8Gu2DY3iqs7yrq+xBYEkYvFSM8aSSObE+ZgRl1BHFZNr7pRCavZ5BW2142hY3AN/zWtsmf12p9XxxFl2lpLn1rseztfXZjdIWIf2s5dItwjYKBgo9yg5pHgzJXTEeGlZuenpyPmpGQoKOWkYmSpaSnqKileI2FAAACH5BAkBAAEALAAAAAAoACgAAAKVjB+gu+jG4kORTVrVhRlsnn2dJ3ZleFaptFrb+CXmO9OozeL5VfP99HvAWhpiUdcwkpBH3825AwYdU8xTqlLGhtCosArKMpvfa1mMRae9VvWZfeB2XfPkeLmm18lUcBj+p5dnN8jXZ3YIGEhYuOUn45aoCDkp16hl5IjYJvjWKcnoGQpqyPlpOhr3aElaqrq56Bq7VAAAOw==\");\n\theight: 100%;\n\tfilter: alpha(opacity=25); /* support: IE8 */\n\topacity: 0.25;\n}\n\n.ui-progressbar-indeterminate .ui-progressbar-value {\n\tbackground-image: none;\n}\n\n.ui-selectmenu-menu {\n\tpadding: 0;\n\tmargin: 0;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: none;\n}\n\n.ui-selectmenu-menu .ui-menu {\n\toverflow: auto;\n\toverflow-x: hidden;\n\tpadding-bottom: 1px;\n}\n\n.ui-selectmenu-menu .ui-menu .ui-selectmenu-optgroup {\n\tfont-size: 1em;\n\tfont-weight: bold;\n\tline-height: 1.5;\n\tpadding: 2px 0.4em;\n\tmargin: 0.5em 0 0 0;\n\theight: auto;\n\tborder: 0;\n}\n\n.ui-selectmenu-open {\n\tdisplay: block;\n}\n\n.ui-selectmenu-text {\n\tdisplay: block;\n\tmargin-right: 20px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.ui-selectmenu-button.ui-button {\n\ttext-align: left;\n\twhite-space: nowrap;\n\twidth: 14em;\n}\n\n.ui-selectmenu-icon.ui-icon {\n\tfloat: right;\n\tmargin-top: 0;\n}\n\n.ui-slider {\n\tposition: relative;\n\ttext-align: left;\n}\n\n.ui-slider .ui-slider-handle {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 1.2em;\n\theight: 1.2em;\n\tcursor: default;\n\ttouch-action: none;\n}\n\n.ui-slider .ui-slider-range {\n\tposition: absolute;\n\tz-index: 1;\n\tfont-size: .7em;\n\tdisplay: block;\n\tborder: 0;\n\tbackground-position: 0 0;\n}\n\n/* support: IE8 - See #6727 */\n\n.ui-slider.ui-state-disabled .ui-slider-handle,\n.ui-slider.ui-state-disabled .ui-slider-range {\n\tfilter: inherit;\n}\n\n.ui-slider-horizontal {\n\theight: .8em;\n}\n\n.ui-slider-horizontal .ui-slider-handle {\n\ttop: -.3em;\n\tmargin-left: -.6em;\n}\n\n.ui-slider-horizontal .ui-slider-range {\n\ttop: 0;\n\theight: 100%;\n}\n\n.ui-slider-horizontal .ui-slider-range-min {\n\tleft: 0;\n}\n\n.ui-slider-horizontal .ui-slider-range-max {\n\tright: 0;\n}\n\n.ui-slider-vertical {\n\twidth: .8em;\n\theight: 100px;\n}\n\n.ui-slider-vertical .ui-slider-handle {\n\tleft: -.3em;\n\tmargin-left: 0;\n\tmargin-bottom: -.6em;\n}\n\n.ui-slider-vertical .ui-slider-range {\n\tleft: 0;\n\twidth: 100%;\n}\n\n.ui-slider-vertical .ui-slider-range-min {\n\tbottom: 0;\n}\n\n.ui-slider-vertical .ui-slider-range-max {\n\ttop: 0;\n}\n\n.ui-spinner {\n\tposition: relative;\n\tdisplay: inline-block;\n\toverflow: hidden;\n\tpadding: 0;\n\tvertical-align: middle;\n}\n\n.ui-spinner-input {\n\tborder: none;\n\tbackground: none;\n\tcolor: inherit;\n\tpadding: .222em 0;\n\tmargin: .2em 0;\n\tvertical-align: middle;\n\tmargin-left: .4em;\n\tmargin-right: 2em;\n}\n\n.ui-spinner-button {\n\twidth: 1.6em;\n\theight: 50%;\n\tfont-size: .5em;\n\tpadding: 0;\n\tmargin: 0;\n\ttext-align: center;\n\tposition: absolute;\n\tcursor: default;\n\tdisplay: block;\n\toverflow: hidden;\n\tright: 0;\n}\n\n/* more specificity required here to override default borders */\n\n.ui-spinner a.ui-spinner-button {\n\tborder-top-style: none;\n\tborder-bottom-style: none;\n\tborder-right-style: none;\n}\n\n.ui-spinner-up {\n\ttop: 0;\n}\n\n.ui-spinner-down {\n\tbottom: 0;\n}\n\n.ui-tabs {\n\tposition: relative;/* position: relative prevents IE scroll bug (element with position: relative inside container with overflow: auto appear as \"fixed\") */\n\tpadding: .2em;\n}\n\n.ui-tabs .ui-tabs-nav {\n\tmargin: 0;\n\tpadding: .2em .2em 0;\n}\n\n.ui-tabs .ui-tabs-nav li {\n\tlist-style: none;\n\tfloat: left;\n\tposition: relative;\n\ttop: 0;\n\tmargin: 1px .2em 0 0;\n\tborder-bottom-width: 0;\n\tpadding: 0;\n\twhite-space: nowrap;\n}\n\n.ui-tabs .ui-tabs-nav .ui-tabs-anchor {\n\tfloat: left;\n\tpadding: .5em 1em;\n\ttext-decoration: none;\n}\n\n.ui-tabs .ui-tabs-nav li.ui-tabs-active {\n\tmargin-bottom: -1px;\n\tpadding-bottom: 1px;\n}\n\n.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor {\n\tcursor: text;\n}\n\n.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor {\n\tcursor: pointer;\n}\n\n.ui-tabs .ui-tabs-panel {\n\tdisplay: block;\n\tborder-width: 0;\n\tpadding: 1em 1.4em;\n\tbackground: none;\n}\n\n.ui-tooltip {\n\tpadding: 8px;\n\tposition: absolute;\n\tz-index: 9999;\n\tmax-width: 300px;\n}\n\nbody .ui-tooltip {\n\tborder-width: 2px;\n}\n\n/* Component containers\n----------------------------------*/\n\n.ui-widget {\n\tfont-family: Arial,Helvetica,sans-serif;\n\tfont-size: 1em;\n}\n\n.ui-widget .ui-widget {\n\tfont-size: 1em;\n}\n\n.ui-widget input,\n.ui-widget select,\n.ui-widget textarea,\n.ui-widget button {\n\tfont-family: Arial,Helvetica,sans-serif;\n\tfont-size: 1em;\n}\n\n.ui-widget.ui-widget-content {\n\tborder: 1px solid #c5c5c5;\n}\n\n.ui-widget-content {\n\tborder: 1px solid #dddddd;\n\tbackground: #ffffff;\n\tcolor: #333333;\n}\n\n.ui-widget-content a {\n\tcolor: #333333;\n}\n\n.ui-widget-header {\n\tborder: 1px solid #dddddd;\n\tbackground: #e9e9e9;\n\tcolor: #333333;\n\tfont-weight: bold;\n}\n\n.ui-widget-header a {\n\tcolor: #333333;\n}\n\n/* Interaction states\n----------------------------------*/\n\n.ui-state-default,\n.ui-widget-content .ui-state-default,\n.ui-widget-header .ui-state-default,\n.ui-button,\n\n/* We use html here because we need a greater specificity to make sure disabled\nworks properly when clicked or hovered */\nhtml .ui-button.ui-state-disabled:hover,\nhtml .ui-button.ui-state-disabled:active {\n\tborder: 1px solid #c5c5c5;\n\tbackground: #f6f6f6;\n\tfont-weight: normal;\n\tcolor: #454545;\n}\n\n.ui-state-default a,\n.ui-state-default a:link,\n.ui-state-default a:visited,\na.ui-button,\na:link.ui-button,\na:visited.ui-button,\n.ui-button {\n\tcolor: #454545;\n\ttext-decoration: none;\n}\n\n.ui-state-hover,\n.ui-widget-content .ui-state-hover,\n.ui-widget-header .ui-state-hover,\n.ui-state-focus,\n.ui-widget-content .ui-state-focus,\n.ui-widget-header .ui-state-focus,\n.ui-button:hover,\n.ui-button:focus {\n\tborder: 1px solid #cccccc;\n\tbackground: #ededed;\n\tfont-weight: normal;\n\tcolor: #2b2b2b;\n}\n\n.ui-state-hover a,\n.ui-state-hover a:hover,\n.ui-state-hover a:link,\n.ui-state-hover a:visited,\n.ui-state-focus a,\n.ui-state-focus a:hover,\n.ui-state-focus a:link,\n.ui-state-focus a:visited,\na.ui-button:hover,\na.ui-button:focus {\n\tcolor: #2b2b2b;\n\ttext-decoration: none;\n}\n\n.ui-visual-focus {\n\tbox-shadow: 0 0 3px 1px rgb(94, 158, 214);\n}\n\n.ui-state-active,\n.ui-widget-content .ui-state-active,\n.ui-widget-header .ui-state-active,\na.ui-button:active,\n.ui-button:active,\n.ui-button.ui-state-active:hover {\n\tborder: 1px solid #003eff;\n\tbackground: #007fff;\n\tfont-weight: normal;\n\tcolor: #ffffff;\n}\n\n.ui-icon-background,\n.ui-state-active .ui-icon-background {\n\tborder: #003eff;\n\tbackground-color: #ffffff;\n}\n\n.ui-state-active a,\n.ui-state-active a:link,\n.ui-state-active a:visited {\n\tcolor: #ffffff;\n\ttext-decoration: none;\n}\n\n/* Interaction Cues\n----------------------------------*/\n\n.ui-state-highlight,\n.ui-widget-content .ui-state-highlight,\n.ui-widget-header .ui-state-highlight {\n\tborder: 1px solid #dad55e;\n\tbackground: #fffa90;\n\tcolor: #777620;\n}\n\n.ui-state-checked {\n\tborder: 1px solid #dad55e;\n\tbackground: #fffa90;\n}\n\n.ui-state-highlight a,\n.ui-widget-content .ui-state-highlight a,\n.ui-widget-header .ui-state-highlight a {\n\tcolor: #777620;\n}\n\n.ui-state-error,\n.ui-widget-content .ui-state-error,\n.ui-widget-header .ui-state-error {\n\tborder: 1px solid #f1a899;\n\tbackground: #fddfdf;\n\tcolor: #5f3f3f;\n}\n\n.ui-state-error a,\n.ui-widget-content .ui-state-error a,\n.ui-widget-header .ui-state-error a {\n\tcolor: #5f3f3f;\n}\n\n.ui-state-error-text,\n.ui-widget-content .ui-state-error-text,\n.ui-widget-header .ui-state-error-text {\n\tcolor: #5f3f3f;\n}\n\n.ui-priority-primary,\n.ui-widget-content .ui-priority-primary,\n.ui-widget-header .ui-priority-primary {\n\tfont-weight: bold;\n}\n\n.ui-priority-secondary,\n.ui-widget-content .ui-priority-secondary,\n.ui-widget-header .ui-priority-secondary {\n\topacity: .7;\n\tfilter:Alpha(Opacity=70); /* support: IE8 */\n\tfont-weight: normal;\n}\n\n.ui-state-disabled,\n.ui-widget-content .ui-state-disabled,\n.ui-widget-header .ui-state-disabled {\n\topacity: .35;\n\tfilter:Alpha(Opacity=35); /* support: IE8 */\n\tbackground-image: none;\n}\n\n.ui-state-disabled .ui-icon {\n\tfilter:Alpha(Opacity=35); /* support: IE8 - See #6059 */\n}\n\n/* Icons\n----------------------------------*/\n\n/* states and images */\n\n.ui-icon {\n\twidth: 16px;\n\theight: 16px;\n}\n\n.ui-icon,\n.ui-widget-content .ui-icon {\n\tbackground-image: url('ui-icons_444444_256x240.3580b1faf02c1cd7994c.png');\n}\n\n.ui-widget-header .ui-icon {\n\tbackground-image: url('ui-icons_444444_256x240.3580b1faf02c1cd7994c.png');\n}\n\n.ui-state-hover .ui-icon,\n.ui-state-focus .ui-icon,\n.ui-button:hover .ui-icon,\n.ui-button:focus .ui-icon {\n\tbackground-image: url('ui-icons_555555_256x240.c58c5719d8be44d69fc2.png');\n}\n\n.ui-state-active .ui-icon,\n.ui-button:active .ui-icon {\n\tbackground-image: url('ui-icons_ffffff_256x240.df59c902592bb5f10f8b.png');\n}\n\n.ui-state-highlight .ui-icon,\n.ui-button .ui-state-highlight.ui-icon {\n\tbackground-image: url('ui-icons_777620_256x240.e73f5131bb90fcc736a6.png');\n}\n\n.ui-state-error .ui-icon,\n.ui-state-error-text .ui-icon {\n\tbackground-image: url('ui-icons_cc0000_256x240.bb549ea947a7a69e5c0c.png');\n}\n\n.ui-button .ui-icon {\n\tbackground-image: url('ui-icons_777777_256x240.f0ad30c87d846b34a0a6.png');\n}\n\n/* positioning */\n\n.ui-icon-blank { background-position: 16px 16px; }\n\n.ui-icon-caret-1-n { background-position: 0 0; }\n\n.ui-icon-caret-1-ne { background-position: -16px 0; }\n\n.ui-icon-caret-1-e { background-position: -32px 0; }\n\n.ui-icon-caret-1-se { background-position: -48px 0; }\n\n.ui-icon-caret-1-s { background-position: -65px 0; }\n\n.ui-icon-caret-1-sw { background-position: -80px 0; }\n\n.ui-icon-caret-1-w { background-position: -96px 0; }\n\n.ui-icon-caret-1-nw { background-position: -112px 0; }\n\n.ui-icon-caret-2-n-s { background-position: -128px 0; }\n\n.ui-icon-caret-2-e-w { background-position: -144px 0; }\n\n.ui-icon-triangle-1-n { background-position: 0 -16px; }\n\n.ui-icon-triangle-1-ne { background-position: -16px -16px; }\n\n.ui-icon-triangle-1-e { background-position: -32px -16px; }\n\n.ui-icon-triangle-1-se { background-position: -48px -16px; }\n\n.ui-icon-triangle-1-s { background-position: -65px -16px; }\n\n.ui-icon-triangle-1-sw { background-position: -80px -16px; }\n\n.ui-icon-triangle-1-w { background-position: -96px -16px; }\n\n.ui-icon-triangle-1-nw { background-position: -112px -16px; }\n\n.ui-icon-triangle-2-n-s { background-position: -128px -16px; }\n\n.ui-icon-triangle-2-e-w { background-position: -144px -16px; }\n\n.ui-icon-arrow-1-n { background-position: 0 -32px; }\n\n.ui-icon-arrow-1-ne { background-position: -16px -32px; }\n\n.ui-icon-arrow-1-e { background-position: -32px -32px; }\n\n.ui-icon-arrow-1-se { background-position: -48px -32px; }\n\n.ui-icon-arrow-1-s { background-position: -65px -32px; }\n\n.ui-icon-arrow-1-sw { background-position: -80px -32px; }\n\n.ui-icon-arrow-1-w { background-position: -96px -32px; }\n\n.ui-icon-arrow-1-nw { background-position: -112px -32px; }\n\n.ui-icon-arrow-2-n-s { background-position: -128px -32px; }\n\n.ui-icon-arrow-2-ne-sw { background-position: -144px -32px; }\n\n.ui-icon-arrow-2-e-w { background-position: -160px -32px; }\n\n.ui-icon-arrow-2-se-nw { background-position: -176px -32px; }\n\n.ui-icon-arrowstop-1-n { background-position: -192px -32px; }\n\n.ui-icon-arrowstop-1-e { background-position: -208px -32px; }\n\n.ui-icon-arrowstop-1-s { background-position: -224px -32px; }\n\n.ui-icon-arrowstop-1-w { background-position: -240px -32px; }\n\n.ui-icon-arrowthick-1-n { background-position: 1px -48px; }\n\n.ui-icon-arrowthick-1-ne { background-position: -16px -48px; }\n\n.ui-icon-arrowthick-1-e { background-position: -32px -48px; }\n\n.ui-icon-arrowthick-1-se { background-position: -48px -48px; }\n\n.ui-icon-arrowthick-1-s { background-position: -64px -48px; }\n\n.ui-icon-arrowthick-1-sw { background-position: -80px -48px; }\n\n.ui-icon-arrowthick-1-w { background-position: -96px -48px; }\n\n.ui-icon-arrowthick-1-nw { background-position: -112px -48px; }\n\n.ui-icon-arrowthick-2-n-s { background-position: -128px -48px; }\n\n.ui-icon-arrowthick-2-ne-sw { background-position: -144px -48px; }\n\n.ui-icon-arrowthick-2-e-w { background-position: -160px -48px; }\n\n.ui-icon-arrowthick-2-se-nw { background-position: -176px -48px; }\n\n.ui-icon-arrowthickstop-1-n { background-position: -192px -48px; }\n\n.ui-icon-arrowthickstop-1-e { background-position: -208px -48px; }\n\n.ui-icon-arrowthickstop-1-s { background-position: -224px -48px; }\n\n.ui-icon-arrowthickstop-1-w { background-position: -240px -48px; }\n\n.ui-icon-arrowreturnthick-1-w { background-position: 0 -64px; }\n\n.ui-icon-arrowreturnthick-1-n { background-position: -16px -64px; }\n\n.ui-icon-arrowreturnthick-1-e { background-position: -32px -64px; }\n\n.ui-icon-arrowreturnthick-1-s { background-position: -48px -64px; }\n\n.ui-icon-arrowreturn-1-w { background-position: -64px -64px; }\n\n.ui-icon-arrowreturn-1-n { background-position: -80px -64px; }\n\n.ui-icon-arrowreturn-1-e { background-position: -96px -64px; }\n\n.ui-icon-arrowreturn-1-s { background-position: -112px -64px; }\n\n.ui-icon-arrowrefresh-1-w { background-position: -128px -64px; }\n\n.ui-icon-arrowrefresh-1-n { background-position: -144px -64px; }\n\n.ui-icon-arrowrefresh-1-e { background-position: -160px -64px; }\n\n.ui-icon-arrowrefresh-1-s { background-position: -176px -64px; }\n\n.ui-icon-arrow-4 { background-position: 0 -80px; }\n\n.ui-icon-arrow-4-diag { background-position: -16px -80px; }\n\n.ui-icon-extlink { background-position: -32px -80px; }\n\n.ui-icon-newwin { background-position: -48px -80px; }\n\n.ui-icon-refresh { background-position: -64px -80px; }\n\n.ui-icon-shuffle { background-position: -80px -80px; }\n\n.ui-icon-transfer-e-w { background-position: -96px -80px; }\n\n.ui-icon-transferthick-e-w { background-position: -112px -80px; }\n\n.ui-icon-folder-collapsed { background-position: 0 -96px; }\n\n.ui-icon-folder-open { background-position: -16px -96px; }\n\n.ui-icon-document { background-position: -32px -96px; }\n\n.ui-icon-document-b { background-position: -48px -96px; }\n\n.ui-icon-note { background-position: -64px -96px; }\n\n.ui-icon-mail-closed { background-position: -80px -96px; }\n\n.ui-icon-mail-open { background-position: -96px -96px; }\n\n.ui-icon-suitcase { background-position: -112px -96px; }\n\n.ui-icon-comment { background-position: -128px -96px; }\n\n.ui-icon-person { background-position: -144px -96px; }\n\n.ui-icon-print { background-position: -160px -96px; }\n\n.ui-icon-trash { background-position: -176px -96px; }\n\n.ui-icon-locked { background-position: -192px -96px; }\n\n.ui-icon-unlocked { background-position: -208px -96px; }\n\n.ui-icon-bookmark { background-position: -224px -96px; }\n\n.ui-icon-tag { background-position: -240px -96px; }\n\n.ui-icon-home { background-position: 0 -112px; }\n\n.ui-icon-flag { background-position: -16px -112px; }\n\n.ui-icon-calendar { background-position: -32px -112px; }\n\n.ui-icon-cart { background-position: -48px -112px; }\n\n.ui-icon-pencil { background-position: -64px -112px; }\n\n.ui-icon-clock { background-position: -80px -112px; }\n\n.ui-icon-disk { background-position: -96px -112px; }\n\n.ui-icon-calculator { background-position: -112px -112px; }\n\n.ui-icon-zoomin { background-position: -128px -112px; }\n\n.ui-icon-zoomout { background-position: -144px -112px; }\n\n.ui-icon-search { background-position: -160px -112px; }\n\n.ui-icon-wrench { background-position: -176px -112px; }\n\n.ui-icon-gear { background-position: -192px -112px; }\n\n.ui-icon-heart { background-position: -208px -112px; }\n\n.ui-icon-star { background-position: -224px -112px; }\n\n.ui-icon-link { background-position: -240px -112px; }\n\n.ui-icon-cancel { background-position: 0 -128px; }\n\n.ui-icon-plus { background-position: -16px -128px; }\n\n.ui-icon-plusthick { background-position: -32px -128px; }\n\n.ui-icon-minus { background-position: -48px -128px; }\n\n.ui-icon-minusthick { background-position: -64px -128px; }\n\n.ui-icon-close { background-position: -80px -128px; }\n\n.ui-icon-closethick { background-position: -96px -128px; }\n\n.ui-icon-key { background-position: -112px -128px; }\n\n.ui-icon-lightbulb { background-position: -128px -128px; }\n\n.ui-icon-scissors { background-position: -144px -128px; }\n\n.ui-icon-clipboard { background-position: -160px -128px; }\n\n.ui-icon-copy { background-position: -176px -128px; }\n\n.ui-icon-contact { background-position: -192px -128px; }\n\n.ui-icon-image { background-position: -208px -128px; }\n\n.ui-icon-video { background-position: -224px -128px; }\n\n.ui-icon-script { background-position: -240px -128px; }\n\n.ui-icon-alert { background-position: 0 -144px; }\n\n.ui-icon-info { background-position: -16px -144px; }\n\n.ui-icon-notice { background-position: -32px -144px; }\n\n.ui-icon-help { background-position: -48px -144px; }\n\n.ui-icon-check { background-position: -64px -144px; }\n\n.ui-icon-bullet { background-position: -80px -144px; }\n\n.ui-icon-radio-on { background-position: -96px -144px; }\n\n.ui-icon-radio-off { background-position: -112px -144px; }\n\n.ui-icon-pin-w { background-position: -128px -144px; }\n\n.ui-icon-pin-s { background-position: -144px -144px; }\n\n.ui-icon-play { background-position: 0 -160px; }\n\n.ui-icon-pause { background-position: -16px -160px; }\n\n.ui-icon-seek-next { background-position: -32px -160px; }\n\n.ui-icon-seek-prev { background-position: -48px -160px; }\n\n.ui-icon-seek-end { background-position: -64px -160px; }\n\n.ui-icon-seek-start { background-position: -80px -160px; }\n\n/* ui-icon-seek-first is deprecated, use ui-icon-seek-start instead */\n\n.ui-icon-seek-first { background-position: -80px -160px; }\n\n.ui-icon-stop { background-position: -96px -160px; }\n\n.ui-icon-eject { background-position: -112px -160px; }\n\n.ui-icon-volume-off { background-position: -128px -160px; }\n\n.ui-icon-volume-on { background-position: -144px -160px; }\n\n.ui-icon-power { background-position: 0 -176px; }\n\n.ui-icon-signal-diag { background-position: -16px -176px; }\n\n.ui-icon-signal { background-position: -32px -176px; }\n\n.ui-icon-battery-0 { background-position: -48px -176px; }\n\n.ui-icon-battery-1 { background-position: -64px -176px; }\n\n.ui-icon-battery-2 { background-position: -80px -176px; }\n\n.ui-icon-battery-3 { background-position: -96px -176px; }\n\n.ui-icon-circle-plus { background-position: 0 -192px; }\n\n.ui-icon-circle-minus { background-position: -16px -192px; }\n\n.ui-icon-circle-close { background-position: -32px -192px; }\n\n.ui-icon-circle-triangle-e { background-position: -48px -192px; }\n\n.ui-icon-circle-triangle-s { background-position: -64px -192px; }\n\n.ui-icon-circle-triangle-w { background-position: -80px -192px; }\n\n.ui-icon-circle-triangle-n { background-position: -96px -192px; }\n\n.ui-icon-circle-arrow-e { background-position: -112px -192px; }\n\n.ui-icon-circle-arrow-s { background-position: -128px -192px; }\n\n.ui-icon-circle-arrow-w { background-position: -144px -192px; }\n\n.ui-icon-circle-arrow-n { background-position: -160px -192px; }\n\n.ui-icon-circle-zoomin { background-position: -176px -192px; }\n\n.ui-icon-circle-zoomout { background-position: -192px -192px; }\n\n.ui-icon-circle-check { background-position: -208px -192px; }\n\n.ui-icon-circlesmall-plus { background-position: 0 -208px; }\n\n.ui-icon-circlesmall-minus { background-position: -16px -208px; }\n\n.ui-icon-circlesmall-close { background-position: -32px -208px; }\n\n.ui-icon-squaresmall-plus { background-position: -48px -208px; }\n\n.ui-icon-squaresmall-minus { background-position: -64px -208px; }\n\n.ui-icon-squaresmall-close { background-position: -80px -208px; }\n\n.ui-icon-grip-dotted-vertical { background-position: 0 -224px; }\n\n.ui-icon-grip-dotted-horizontal { background-position: -16px -224px; }\n\n.ui-icon-grip-solid-vertical { background-position: -32px -224px; }\n\n.ui-icon-grip-solid-horizontal { background-position: -48px -224px; }\n\n.ui-icon-gripsmall-diagonal-se { background-position: -64px -224px; }\n\n.ui-icon-grip-diagonal-se { background-position: -80px -224px; }\n\n/* Misc visuals\n----------------------------------*/\n\n/* Corner radius */\n\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-left,\n.ui-corner-tl {\n\tborder-top-left-radius: 3px;\n}\n\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-right,\n.ui-corner-tr {\n\tborder-top-right-radius: 3px;\n}\n\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-left,\n.ui-corner-bl {\n\tborder-bottom-left-radius: 3px;\n}\n\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-right,\n.ui-corner-br {\n\tborder-bottom-right-radius: 3px;\n}\n\n/* Overlays */\n\n.ui-widget-overlay {\n\tbackground: #aaaaaa;\n\topacity: .3;\n\tfilter: Alpha(Opacity=30); /* support: IE8 */\n}\n\n.ui-widget-shadow {\n\tbox-shadow: 0px 0px 5px #666666;\n}\n"},fF1W:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return r});var i=n("fXoL"),r=function(){var e=function(){function e(){_classCallCheck(this,e),this.clear(),this.isChange=!0,this.worker=new Worker(t,{name:"pickup-disg",type:void 0})}return _createClass(e,[{key:"clear",value:function(){this.disgPickup={}}},{key:"getPickupDisgColumns",value:function(t,e){var n=new Array;t in this.disgPickup&&(n=this.disgPickup[t]);var i={};e in n&&(i=n[e]);for(var r=new Array,o=0,a=Object.keys(i);o<a.length;o++){var s=i[a[o]],c={id:s.id,dx:s.dx.toFixed(4),dy:s.dy.toFixed(4),dz:s.dz.toFixed(4),rx:s.rx.toFixed(4),ry:s.ry.toFixed(4),rz:s.rz.toFixed(4),case:s.case};r.push(c)}return r}},{key:"setDisgPickupJson",value:function(t,e){var n=this,i={pickList:t,disgCombine:e},r=performance.now();"undefined"!=typeof Worker&&(this.worker.onmessage=function(t){var e=t.data;n.disgPickup=e.disgPickup,n.isChange=!1,console.log("\u5909\u4f4ddisg \u306e \u30d4\u30c3\u30af\u30a2\u30c3\u30d7 PickUp \u96c6\u8a08\u304c\u7d42\u308f\u308a\u307e\u3057\u305f",performance.now()-r)},this.worker.postMessage(i))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}).call(this,n("qMcK"))},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return rn}),n.d(e,"b",function(){return Bl}),n.d(e,"c",function(){return Ll}),n.d(e,"d",function(){return Dl}),n.d(e,"e",function(){return Nl}),n.d(e,"f",function(){return Ru}),n.d(e,"g",function(){return wu}),n.d(e,"h",function(){return Sc}),n.d(e,"i",function(){return Jl}),n.d(e,"j",function(){return ic}),n.d(e,"k",function(){return Vl}),n.d(e,"l",function(){return sc}),n.d(e,"m",function(){return yi}),n.d(e,"n",function(){return ll}),n.d(e,"o",function(){return _o}),n.d(e,"p",function(){return fn}),n.d(e,"q",function(){return nn}),n.d(e,"r",function(){return No}),n.d(e,"s",function(){return Mc}),n.d(e,"t",function(){return Oc}),n.d(e,"u",function(){return Hl}),n.d(e,"v",function(){return qc}),n.d(e,"w",function(){return Ou}),n.d(e,"x",function(){return Fc}),n.d(e,"y",function(){return bu}),n.d(e,"z",function(){return eu}),n.d(e,"A",function(){return gn}),n.d(e,"B",function(){return ql}),n.d(e,"C",function(){return Fl}),n.d(e,"D",function(){return hl}),n.d(e,"E",function(){return lc}),n.d(e,"F",function(){return cc}),n.d(e,"G",function(){return ki}),n.d(e,"H",function(){return hc}),n.d(e,"I",function(){return gi}),n.d(e,"J",function(){return vn}),n.d(e,"K",function(){return Au}),n.d(e,"L",function(){return Lc}),n.d(e,"M",function(){return cu}),n.d(e,"N",function(){return on}),n.d(e,"O",function(){return pc}),n.d(e,"P",function(){return dc}),n.d(e,"Q",function(){return Uc}),n.d(e,"R",function(){return I}),n.d(e,"S",function(){return _u}),n.d(e,"T",function(){return mu}),n.d(e,"U",function(){return p}),n.d(e,"V",function(){return kn}),n.d(e,"W",function(){return gu}),n.d(e,"X",function(){return Eu}),n.d(e,"Y",function(){return uu}),n.d(e,"Z",function(){return Ul}),n.d(e,"ab",function(){return Co}),n.d(e,"bb",function(){return es}),n.d(e,"cb",function(){return pi}),n.d(e,"db",function(){return Kn}),n.d(e,"eb",function(){return zn}),n.d(e,"fb",function(){return Fn}),n.d(e,"gb",function(){return Hn}),n.d(e,"hb",function(){return Bn}),n.d(e,"ib",function(){return qn}),n.d(e,"jb",function(){return Un}),n.d(e,"kb",function(){return $a}),n.d(e,"lb",function(){return Su}),n.d(e,"mb",function(){return Ja}),n.d(e,"nb",function(){return Za}),n.d(e,"ob",function(){return jn}),n.d(e,"pb",function(){return z}),n.d(e,"qb",function(){return Wo}),n.d(e,"rb",function(){return ua}),n.d(e,"sb",function(){return la}),n.d(e,"tb",function(){return Xa}),n.d(e,"ub",function(){return Mt}),n.d(e,"vb",function(){return u}),n.d(e,"wb",function(){return Ln}),n.d(e,"xb",function(){return zo}),n.d(e,"yb",function(){return bt}),n.d(e,"zb",function(){return tc}),n.d(e,"Ab",function(){return yr}),n.d(e,"Bb",function(){return Xo}),n.d(e,"Cb",function(){return Ta}),n.d(e,"Db",function(){return Wa}),n.d(e,"Eb",function(){return Aa}),n.d(e,"Fb",function(){return Ol}),n.d(e,"Gb",function(){return Y}),n.d(e,"Hb",function(){return nt}),n.d(e,"Ib",function(){return v}),n.d(e,"Jb",function(){return b}),n.d(e,"Kb",function(){return Z}),n.d(e,"Lb",function(){return it}),n.d(e,"Mb",function(){return ta}),n.d(e,"Nb",function(){return oa}),n.d(e,"Ob",function(){return sa}),n.d(e,"Pb",function(){return aa}),n.d(e,"Qb",function(){return ra}),n.d(e,"Rb",function(){return ia}),n.d(e,"Sb",function(){return ca}),n.d(e,"Tb",function(){return Ze}),n.d(e,"Ub",function(){return Ga}),n.d(e,"Vb",function(){return Vs}),n.d(e,"Wb",function(){return Gs}),n.d(e,"Xb",function(){return Ws}),n.d(e,"Yb",function(){return On}),n.d(e,"Zb",function(){return tn}),n.d(e,"ac",function(){return Rl}),n.d(e,"bc",function(){return ha}),n.d(e,"cc",function(){return Al}),n.d(e,"dc",function(){return fa}),n.d(e,"ec",function(){return sl}),n.d(e,"fc",function(){return cl}),n.d(e,"gc",function(){return va}),n.d(e,"hc",function(){return ma}),n.d(e,"ic",function(){return ea}),n.d(e,"jc",function(){return ba}),n.d(e,"kc",function(){return _a}),n.d(e,"lc",function(){return nl}),n.d(e,"mc",function(){return il}),n.d(e,"nc",function(){return rl}),n.d(e,"oc",function(){return Cl}),n.d(e,"pc",function(){return Zo}),n.d(e,"qc",function(){return Mi}),n.d(e,"rc",function(){return Vt}),n.d(e,"sc",function(){return mi}),n.d(e,"tc",function(){return K}),n.d(e,"uc",function(){return tt}),n.d(e,"vc",function(){return Pl}),n.d(e,"wc",function(){return xl}),n.d(e,"xc",function(){return ka}),n.d(e,"yc",function(){return Jo}),n.d(e,"zc",function(){return Il}),n.d(e,"Ac",function(){return Ba}),n.d(e,"Bc",function(){return Ua}),n.d(e,"Cc",function(){return Ha}),n.d(e,"Dc",function(){return Va}),n.d(e,"Ec",function(){return wl});var i=n("XNiG"),r=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("w1tV");function c(t){for(var e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function l(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function u(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(u).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var d=c({__forward_ref__:c});function p(t){return t.__forward_ref__=p,t.toString=function(){return u(this())},t}function f(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===p}function m(t,e,n,i){throw new Error("ASSERTION ERROR: "+t+(null==i?"":" [Expected=> ".concat(n," ").concat(i," ").concat(e," <=Actual]")))}function v(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function b(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function _(t){return y(t,w)||y(t,O)}function y(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(M)||t.hasOwnProperty(P))?t[M]:null}var x,w=c({"\u0275prov":c}),M=c({"\u0275inj":c}),O=c({ngInjectableDef:c}),P=c({ngInjectorDef:c}),k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function A(t){var e=x;return x=t,e}function T(t,e,n){var i=_(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&k.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(u(t),"]"))}function S(t){return{toString:t}.toString()}var E=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),I=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),R="undefined"!=typeof globalThis&&globalThis,D="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,L="undefined"!=typeof global&&global,z=R||L||D||N,j={},F=[],q=c({"\u0275cmp":c}),B=c({"\u0275dir":c}),U=c({"\u0275pipe":c}),H=c({"\u0275mod":c}),V=c({"\u0275loc":c}),W=c({"\u0275fac":c}),G=c({__NG_ELEMENT_ID__:c}),Q=0;function Y(t){return S(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===E.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||F,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||I.Emulated,id:"c",styles:t.styles||F,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,o=t.pipes;return n.id+=Q++,n.inputs=et(t.inputs,e),n.outputs=et(t.outputs),r&&r.forEach(function(t){return t(n)}),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(X)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map($)}:null,n})}function K(t,e,n){var i=t.\u0275cmp;i.directiveDefs=function(){return e.map(X)},i.pipeDefs=function(){return n.map($)}}function X(t){return rt(t)||function(t){return t[B]||null}(t)}function $(t){return function(t){return t[U]||null}(t)}var J={};function Z(t){var e={type:t.type,bootstrap:t.bootstrap||F,declarations:t.declarations||F,imports:t.imports||F,exports:t.exports||F,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&S(function(){J[t.id]=t.type}),e}function tt(t,e){return S(function(){var n=ot(t,!0);n.declarations=e.declarations||F,n.imports=e.imports||F,n.exports=e.exports||F})}function et(t,e){if(null==t)return j;var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}var nt=Y;function it(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function rt(t){return t[q]||null}function ot(t,e){var n=t[H]||null;if(!n&&!0===e)throw new Error("Type ".concat(u(t)," does not have '\u0275mod' property."));return n}function at(t){return Array.isArray(t)&&"object"==typeof t[1]}function st(t){return Array.isArray(t)&&!0===t[1]}function ct(t){return 0!=(8&t.flags)}function lt(t){return 2==(2&t.flags)}function ut(t){return 1==(1&t.flags)}function ht(t){return null!==t.template}function dt(t,e){return t.hasOwnProperty(W)?t[W]:null}var pt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,i))).code=t,r}return n}(_wrapNativeSuper(Error));function ft(t){return"string"==typeof t?t:null==t?"":String(t)}function gt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ft(t)}function mt(t,e){var n=e?" in "+e:"";throw new pt("201","No provider for ".concat(gt(t)," found").concat(n))}var vt=function(){function t(e,n,i){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=i}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function bt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ct),yt}function yt(){var t=xt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===j)t.previous=e;else for(var i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function Ct(t,e,n,i){var r=xt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:j,current:null}),o=r.current||(r.current={}),a=r.previous,s=this.declaredInputs[n],c=a[s];o[s]=new vt(c&&c.currentValue,e,a===j),t[i]=e}function xt(t){return t.__ngSimpleChanges__||null}bt.ngInherit=!0;var wt=void 0;function Mt(t){wt=t}function Ot(){return void 0!==wt?wt:"undefined"!=typeof document?document:void 0}function Pt(t){return!!t.listen}var kt={createRenderer:function(t,e){return Ot()}};function At(t){for(;Array.isArray(t);)t=t[0];return t}function Tt(t,e){return At(e[t])}function St(t,e){return At(e[t.index])}function Et(t,e){return t.data[e]}function It(t,e){return t[e]}function Rt(t,e){var n=e[t];return at(n)?n:n[0]}function Dt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Nt(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function zt(t,e){return null==e?null:t[e]}function jt(t){t[18]=0}function Ft(t,e){t[5]+=e;for(var n=t,i=t[3];null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}var qt={lFrame:he(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bt(){return qt.bindingsEnabled}function Ut(){return qt.lFrame.lView}function Ht(){return qt.lFrame.tView}function Vt(t){qt.lFrame.contextLView=t}function Wt(){for(var t=Gt();null!==t&&64===t.type;)t=t.parent;return t}function Gt(){return qt.lFrame.currentTNode}function Qt(){var t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yt(t,e){var n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Kt(){return qt.lFrame.isParent}function Xt(){qt.lFrame.isParent=!1}function $t(){return qt.isInCheckNoChangesMode}function Jt(t){qt.isInCheckNoChangesMode=t}function Zt(){var t=qt.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function te(){return qt.lFrame.bindingIndex}function ee(){return qt.lFrame.bindingIndex++}function ne(t){var e=qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t){qt.lFrame.inI18n=t}function re(t){qt.lFrame.currentDirectiveIndex=t}function oe(){return qt.lFrame.currentQueryIndex}function ae(t){qt.lFrame.currentQueryIndex=t}function se(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ce(t,e,n){if(n&k.SkipSelf){for(var i=e,r=t;!(null!==(i=i.parent)||n&k.Host||(i=se(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}var o=qt.lFrame=ue();return o.currentTNode=e,o.lView=t,!0}function le(t){var e=ue(),n=t[1];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ue(){var t=qt.lFrame,e=null===t?null:t.child;return null===e?he(t):e}function he(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function de(){var t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var pe=de;function fe(){var t=de();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return qt.lFrame.selectedIndex}function me(t){qt.lFrame.selectedIndex=t}function ve(){var t=qt.lFrame;return Et(t.tView,t.selectedIndex)}function be(t,e){for(var n=e.directiveStart,i=e.directiveEnd;n<i;n++){var r=t.data[n].type.prototype,o=r.ngAfterContentInit,a=r.ngAfterContentChecked,s=r.ngAfterViewInit,c=r.ngAfterViewChecked,l=r.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function _e(t,e,n){xe(t,e,3,n)}function ye(t,e,n,i){(3&t[2])===n&&xe(t,e,n,i)}function Ce(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function xe(t,e,n,i){for(var r=null!=i?i:-1,o=e.length-1,a=0,s=void 0!==i?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=i&&a>=i)break}else e[s]<0&&(t[18]+=65536),(a<r||-1==r)&&(we(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function we(t,e,n,i){var r=n[i]<0,o=n[i+1],a=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Me=function t(e,n,i){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i};function Oe(t,e,n){for(var i=Pt(t),r=0;r<n.length;){var o=n[r];if("number"==typeof o){if(0!==o)break;r++;var a=n[r++],s=n[r++],c=n[r++];i?t.setAttribute(e,s,c,a):e.setAttributeNS(a,s,c)}else{var l=o,u=n[++r];ke(l)?i&&t.setProperty(e,l,u):i?t.setAttribute(e,l,u):e.setAttribute(l,u),r++}}return r}function Pe(t){return 3===t||4===t||6===t}function ke(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,i=0;i<e.length;i++){var r=e[i];"number"==typeof r?n=r:0===n||Te(t,n,r,null,-1===n||2===n?e[++i]:null)}return t}function Te(t,e,n,i,r){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var c=t[o];if("number"==typeof c)break;if(c===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function Se(t){return-1!==t}function Ee(t){return 32767&t}function Ie(t,e){for(var n=t>>16,i=e;n>0;)i=i[15],n--;return i}var Re=!0;function De(t){var e=Re;return Re=t,e}var Ne=0;function Le(t,e){var n=je(t,e);if(-1!==n)return n;var i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,ze(i.data,t),ze(e,null),ze(i.blueprint,null));var r=Fe(t,e),o=t.injectorIndex;if(Se(r))for(var a=Ee(r),s=Ie(r,e),c=s[1].data,l=0;l<8;l++)e[o+l]=s[a+l]|c[a+l];return e[o+8]=r,o}function ze(t,e){t.push(0,0,0,0,0,0,0,0,e)}function je(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,i=null,r=e;null!==r;){var o=r[1],a=o.type;if(null===(i=2===a?o.declTNode:1===a?r[6]:null))return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function qe(t,e,n){!function(t,e,n){var i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(G)&&(i=n[G]),null==i&&(i=n[G]=Ne++);var r=255&i,o=1<<r,a=64&r,s=32&r,c=e.data;128&r?a?s?c[t+7]|=o:c[t+6]|=o:s?c[t+5]|=o:c[t+4]|=o:a?s?c[t+3]|=o:c[t+2]|=o:s?c[t+1]|=o:c[t]|=o}(t,e,n)}function Be(t,e,n){if(n&k.Optional)return t;mt(e,"NodeInjector")}function Ue(t,e,n,i){if(n&k.Optional&&void 0===i&&(i=null),0==(n&(k.Self|k.Host))){var r=t[9],o=A(void 0);try{return r?r.get(e,i,n&k.Optional):T(e,i,n&k.Optional)}finally{A(o)}}return Be(i,e,n)}function He(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(G)?t[G]:void 0;return"number"==typeof e?e>=0?255&e:We:e}(n);if("function"==typeof o){if(!ce(e,t,i))return i&k.Host?Be(r,n,i):Ue(e,n,i,r);try{var a=o();if(null!=a||i&k.Optional)return a;mt(n)}finally{pe()}}else if("number"==typeof o){var s=null,c=je(t,e),l=-1,u=i&k.Host?e[16][6]:null;for((-1===c||i&k.SkipSelf)&&(-1!==(l=-1===c?Fe(t,e):e[c+8])&&Xe(i,!1)?(s=e[1],c=Ee(l),e=Ie(l,e)):c=-1);-1!==c;){var h=e[1];if(Ke(o,c,h.data)){var d=Ge(c,e,n,s,i,u);if(d!==Ve)return d}-1!==(l=e[c+8])&&Xe(i,e[1].data[c+8]===u)&&Ke(o,c,e)?(s=h,c=Ee(l),e=Ie(l,e)):c=-1}}}return Ue(e,n,i,r)}var Ve={};function We(){return new $e(Wt(),Ut())}function Ge(t,e,n,i,r,o){var a=e[1],s=a.data[t+8],c=Qe(s,a,n,null==i?lt(s)&&Re:i!=a&&0!=(3&s.type),r&k.Host&&o===s);return null!==c?Ye(e,a,c,s):Ve}function Qe(t,e,n,i,r){for(var o=t.providerIndexes,a=e.data,s=1048575&o,c=t.directiveStart,l=o>>20,u=r?s+l:t.directiveEnd,h=i?s:s+l;h<u;h++){var d=a[h];if(h<c&&n===d||h>=c&&d.type===n)return h}if(r){var p=a[c];if(p&&ht(p)&&p.type===n)return c}return null}function Ye(t,e,n,i){var r=t[n],o=e.data;if(r instanceof Me){var a=r;a.resolving&&function(t,e){throw new pt("200","Circular dependency in DI detected for "+t)}(gt(o[n]));var s=De(a.canSeeViewProviders);a.resolving=!0;var c=a.injectImpl?A(a.injectImpl):null;ce(t,i,k.Default);try{r=t[n]=a.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){var i=e.type.prototype,r=i.ngOnChanges,o=i.ngOnInit,a=i.ngDoCheck;if(r){var s=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==c&&A(c),De(s),a.resolving=!1,pe()}}return r}function Ke(t,e,n){var i=64&t,r=32&t;return!!((128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e])&1<<t)}function Xe(t,e){return!(t&k.Self||t&k.Host&&e)}var $e=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return He(this._tNode,this._lView,t,void 0,e)}}]),t}();function Je(t){var e=t;if(g(t))return function(){var t=Je(f(e));return t?t():null};var n=dt(e);if(null===n){var i=C(e);n=i&&i.factory}return n||null}function Ze(t){return S(function(){for(var e=t.prototype.constructor,n=e[W]||Je(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;r&&r!==i;){var o=r[W]||Je(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return function(t){return new t}})}function tn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var i=n.length,r=0;r<i;){var o=n[r];if(Pe(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===e)return n[r+1];r+=2}}return null}(Wt(),t)}function en(t,e,n){return S(function(){var i=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof r)return i.apply(this,e),this;var o=_construct(r,e);return a.annotation=o,a;function a(t,e,n){for(var i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(o),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var nn=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=v({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),rn=new nn("AnalyzeForEntryComponents"),on=Function;function an(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),an(i,e)):e!==t&&e.push(i)}return e}function sn(t,e){t.forEach(function(t){return Array.isArray(t)?sn(t,e):e(t)})}function cn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ln(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function un(t,e){for(var n=[],i=0;i<t;i++)n.push(e);return n}function hn(t,e,n){var i=pn(t,e);return i>=0?t[1|i]=n:function(t,e,n,i){var r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i=~i,e,n),i}function dn(t,e){var n=pn(t,e);if(n>=0)return t[1|n]}function pn(t,e){return function(t,e,n){for(var i=0,r=t.length>>1;r!==i;){var o=i+(r-i>>1),a=t[o<<1];if(e===a)return o<<1;a>e?r=o:i=o+1}return~(r<<1)}(t,e)}var fn=en("Inject",function(t){return{token:t}}),gn=en("Optional"),mn=en("Self"),vn=en("SkipSelf"),bn=en("Host"),_n={},yn=/\n/gm,Cn=c({provide:String,useValue:c}),xn=void 0;function wn(t){var e=xn;return xn=t,e}function Mn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;if(void 0===xn)throw new Error("inject() must be called from an injection context");return null===xn?T(t,void 0,e):xn.get(t,e&k.Optional?null:void 0,e)}function On(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;return(x||Mn)(f(t),e)}var Pn,kn=On;function An(t){for(var e=[],n=0;n<t.length;n++){var i=f(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,o=k.Default,a=0;a<i.length;a++){var s=i[a];s instanceof gn||"Optional"===s.ngMetadataName||s===gn?o|=k.Optional:s instanceof vn||"SkipSelf"===s.ngMetadataName||s===vn?o|=k.SkipSelf:s instanceof mn||"Self"===s.ngMetadataName||s===mn?o|=k.Self:s instanceof bn||"Host"===s.ngMetadataName||s===bn?o|=k.Host:r=s instanceof fn||s===fn?s.token:s}e.push(On(r,o))}else e.push(On(i))}return e}function Tn(t){var e;return(null===(e=function(){if(void 0===Pn&&(Pn=null,z.trustedTypes))try{Pn=z.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Pn}())||void 0===e?void 0:e.createHTML(t))||t}var Sn=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}]),t}(),En=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Sn),In=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Sn),Rn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Sn),Dn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Sn),Nn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Sn);function Ln(t){return t instanceof Sn?t.changingThisBreaksApplicationSecurity:t}function zn(t,e){var n=jn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function jn(t){return t instanceof Sn&&t.getTypeName()||null}function Fn(t){return new En(t)}function qn(t){return new In(t)}function Bn(t){return new Rn(t)}function Un(t){return new Dn(t)}function Hn(t){return new Nn(t)}function Vn(t){var e=new Gn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Tn(""),"text/html")}catch(t){return!1}}()?new Wn(e):e}var Wn=function(){function t(e){_classCallCheck(this,t),this.inertDocumentHelper=e}return _createClass(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(Tn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),Gn=function(){function t(e){if(_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var i=this.inertDocument.createElement("body");n.appendChild(i)}}return _createClass(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Tn(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=Tn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var i=e.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||t.removeAttribute(i)}for(var r=t.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),t}(),Qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Kn(t){return(t=String(t)).match(Qn)||t.match(Yn)?t:"unsafe:"+t}function Xn(t){return(t=String(t)).split(",").map(function(t){return Kn(t.trim())}).join(", ")}function $n(t){var e,n={},i=_createForOfIteratorHelper(t.split(","));try{for(i.s();!(e=i.n()).done;){n[e.value]=!0}}catch(r){i.e(r)}finally{i.f()}return n}function Jn(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var Zn,ti=$n("area,br,col,hr,img,wbr"),ei=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ni=$n("rp,rt"),ii=Jn(ni,ei),ri=Jn(ti,Jn(ei,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn(ni,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ii),oi=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ai=$n("srcset"),si=Jn(oi,ai,$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ci=$n("script,style,template"),li=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!ri.hasOwnProperty(e))return this.sanitizedSomething=!0,!ci.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,i=0;i<n.length;i++){var r=n.item(i),o=r.name,a=o.toLowerCase();if(si.hasOwnProperty(a)){var s=r.value;oi[a]&&(s=Kn(s)),ai[a]&&(s=Xn(s)),this.buf.push(" ",o,'="',di(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();ri.hasOwnProperty(e)&&!ti.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(di(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),ui=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hi=/([^\#-~ |!])/g;function di(t){return t.replace(/&/g,"&amp;").replace(ui,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(hi,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pi(t,e){var n=null;try{Zn=Zn||Vn(t);var i=e?String(e):"";n=Zn.getInertBodyElement(i);var r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Zn.getInertBodyElement(i)}while(i!==o);return(new li).sanitizeChildren(fi(n)||n)}finally{if(n)for(var a=fi(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function fi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mi(t){var e,n=(e=Ut())&&e[12];return n?n.sanitize(gi.URL,t)||"":zn(t,"URL")?Ln(t):Kn(ft(t))}function vi(t){return t.ngDebugContext}function bi(t){return t.ngOriginalError}function _i(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t.error.apply(t,n)}var yi=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||_i}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?vi(t)?vi(t):this._findContext(bi(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=bi(t);e&&bi(e);)e=bi(e);return e}}]),t}(),Ci=/-->/g;function xi(t,e){t.__ngContext__=e}var wi=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z);function Mi(t){return{name:"window",target:t.ownerDocument.defaultView}}function Oi(t){return t instanceof Function?t():t}var Pi,ki=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ai(t,e){return Pi(t,e)}function Ti(t){var e=t[3];return st(e)?e[3]:e}function Si(t){return Ii(t[13])}function Ei(t){return Ii(t[4])}function Ii(t){for(;null!==t&&!st(t);)t=t[4];return t}function Ri(t,e,n,i,r){if(null!=i){var o,a=!1;st(i)?o=i:at(i)&&(a=!0,i=i[0]);var s=At(i);0===t&&null!==n?null==r?Wi(e,n,s):Vi(e,n,s,r||null,!0):1===t&&null!==n?Vi(e,n,s,r||null,!0):2===t?nr(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,i,r){var o=n[7];o!==At(n)&&Ri(e,t,i,o,r);for(var a=10;a<n.length;a++){var s=n[a];rr(s[1],s,t,e,i,o)}}(e,t,o,n,r)}}function Di(t,e){return Pt(t)?t.createText(e):t.createTextNode(e)}function Ni(t,e,n){Pt(t)?t.setValue(e,n):e.textContent=n}function Li(t,e){return t.createComment(function(t){return t.replace(Ci,"-\u200b-\u200b>")}(e))}function zi(t,e,n){return Pt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function ji(t,e){var n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Ft(r,-1)),n.splice(i,1)}function Fi(t,e){if(!(t.length<=10)){var n,i=10+e,r=t[i];if(r){var o=r[17];null!==o&&o!==t&&ji(o,r),e>0&&(t[i-1][4]=r[4]);var a=ln(t,10+e);rr(r[1],n=r,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function qi(t,e){if(!(256&e[2])){var n=e[11];Pt(n)&&n.destroyNode&&rr(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Bi(t[1],t);for(;e;){var n=null;if(at(e))n=e[13];else{var i=e[10];i&&(n=i)}if(!n){for(;e&&!e[4]&&e!==t;)at(e)&&Bi(e[1],e),e=e[3];null===e&&(e=t),at(e)&&Bi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Bi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var i=0;i<n.length;i+=2){var r=e[n[i]];if(!(r instanceof Me)){var o=n[i+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(r[o[a]]);else o.call(r)}}}(t,e),function(t,e){var n=t.cleanup,i=e[7],r=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):At(e[a]),c=i[r=n[o+2]],l=n[o+3];"boolean"==typeof l?s.removeEventListener(n[o],c,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),o+=2}else{var u=i[r=n[o+1]];n[o].call(u)}if(null!==i){for(var h=r+1;h<i.length;h++)(0,i[h])();e[7]=null}}(t,e),1===e[1].type&&Pt(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&st(e[3])){n!==e[3]&&ji(n,e);var i=e[19];null!==i&&i.detachView(t)}}}function Ui(t,e,n){return Hi(t,e.parent,n)}function Hi(t,e,n){for(var i=e;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){var r=t.data[i.directiveStart].encapsulation;if(r===I.None||r===I.Emulated)return null}return St(i,n)}function Vi(t,e,n,i,r){Pt(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function Wi(t,e,n){Pt(t)?t.appendChild(e,n):e.appendChild(n)}function Gi(t,e,n,i,r){null!==i?Vi(t,e,n,i,r):Wi(t,e,n)}function Qi(t,e){return Pt(t)?t.parentNode(e):e.parentNode}function Yi(t,e,n){return $i(t,e,n)}function Ki(t,e,n){return 40&t.type?St(t,n):null}var Xi,$i=Ki;function Ji(t,e){$i=t,Xi=e}function Zi(t,e,n,i){var r=Ui(t,i,e),o=e[11],a=Yi(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(var s=0;s<n.length;s++)Gi(o,r,n[s],a,!1);else Gi(o,r,n,a,!1);void 0!==Xi&&Xi(o,i,e,n,r)}function tr(t,e){if(null!==e){var n=e.type;if(3&n)return St(e,t);if(4&n)return er(-1,t[e.index]);if(8&n){var i=e.child;if(null!==i)return tr(t,i);var r=t[e.index];return st(r)?er(-1,r):At(r)}if(32&n)return Ai(e,t)()||At(t[e.index]);var o=t[16],a=o[6],s=Ti(o),c=a.projection[e.projection];return null!=c?tr(s,c):tr(t,e.next)}return null}function er(t,e){var n=10+t+1;if(n<e.length){var i=e[n],r=i[1].firstChild;if(null!==r)return tr(i,r)}return e[7]}function nr(t,e,n){var i=Qi(t,e);i&&function(t,e,n,i){Pt(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}function ir(t,e,n,i,r,o,a){for(;null!=n;){var s=i[n.index],c=n.type;if(a&&0===e&&(s&&xi(At(s),i),n.flags|=4),64!=(64&n.flags))if(8&c)ir(t,e,n.child,i,r,o,!1),Ri(e,t,r,s,o);else if(32&c){for(var l=Ai(n,i),u=void 0;u=l();)Ri(e,t,r,u,o);Ri(e,t,r,s,o)}else 16&c?or(t,e,i,n,r,o):Ri(e,t,r,s,o);n=a?n.projectionNext:n.next}}function rr(t,e,n,i,r,o){ir(n,i,t.firstChild,e,r,o,!1)}function or(t,e,n,i,r,o){var a=n[16],s=a[6].projection[i.projection];if(Array.isArray(s))for(var c=0;c<s.length;c++)Ri(e,t,r,s[c],o);else ir(t,e,s,a[3],r,o,!0)}function ar(t,e,n){Pt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function sr(t,e,n){Pt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function cr(t,e,n){for(var i=t.length;;){var r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){var o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function lr(t,e,n){for(var i=0;i<t.length;){var r=t[i++];if(n&&"class"===r){if(-1!==cr((r=t[i]).toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function ur(t){return 4===t.type&&"ng-template"!==t.value}function hr(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function dr(t,e,n){for(var i=4,r=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Pe(t[e]))return e;return t.length}(r),a=!1,s=0;s<e.length;s++){var c=e[s];if("number"!=typeof c){if(!a)if(4&i){if(i=2|1&i,""!==c&&!hr(t,c,n)||""===c&&1===e.length){if(pr(i))return!1;a=!0}}else{var l=8&i?c:e[++s];if(8&i&&null!==t.attrs){if(!lr(t.attrs,l,n)){if(pr(i))return!1;a=!0}continue}var u=fr(8&i?"class":c,r,ur(t),n);if(-1===u){if(pr(i))return!1;a=!0;continue}if(""!==l){var h;h=u>o?"":r[u+1].toLowerCase();var d=8&i?h:null;if(d&&-1!==cr(d,l,0)||2&i&&l!==h){if(pr(i))return!1;a=!0}}}}else{if(!a&&!pr(i)&&!pr(c))return!1;if(a&&pr(c))continue;a=!1,i=c|1&i}}return pr(i)||a}function pr(t){return 0==(1&t)}function fr(t,e,n,i){if(null===e)return-1;var r=0;if(i||!n){for(var o=!1;r<e.length;){var a=e[r];if(a===t)return r;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++r];"string"==typeof s;)s=e[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function gr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<e.length;i++)if(dr(t,e[i],n))return!0;return!1}function mr(t,e){t:for(var n=0;n<e.length;n++){var i=e[n];if(t.length===i.length){for(var r=0;r<t.length;r++)if(t[r]!==i[r])continue t;return!0}}return!1}function vr(t,e){return t?":not("+e.trim()+")":e}function br(t){for(var e=t[0],n=1,i=2,r="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&i){var s=t[++n];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""===r||pr(a)||(e+=vr(o,r),r=""),i=a,o=o||!pr(i);n++}return""!==r&&(e+=vr(o,r)),e}var _r={};function yr(t){Cr(Ht(),Ut(),ge()+t,$t())}function Cr(t,e,n,i){if(!i)if(3==(3&e[2])){var r=t.preOrderCheckHooks;null!==r&&_e(e,r,n)}else{var o=t.preOrderHooks;null!==o&&ye(e,o,0,n)}me(n)}function xr(t,e){return t<<17|e<<2}function wr(t){return t>>17&32767}function Mr(t){return 2|t}function Or(t){return(131068&t)>>2}function Pr(t,e){return-131069&t|e<<2}function kr(t){return 1|t}function Ar(t,e){var n=t.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],o=n[i+1];if(-1!==o){var a=t.data[o];ae(r),a.contentQueries(2,e[o],o)}}}function Tr(t,e,n,i,r,o,a,s,c,l){var u=e.blueprint.slice();return u[0]=r,u[2]=140|i,jt(u),u[3]=u[15]=t,u[8]=n,u[10]=a||t&&t[10],u[11]=s||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function Sr(t,e,n,i,r){var o=t.data[e];if(null===o)o=Er(t,e,n,i,r),qt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;var a=Qt();o.injectorIndex=null===a?-1:a.injectorIndex}return Yt(o,!0),o}function Er(t,e,n,i,r){var o=Gt(),a=Kt(),s=t.data[e]=function(t,e,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}function Ir(t,e,n,i){if(0===n)return-1;for(var r=e.length,o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function Rr(t,e,n){le(e);try{var i=t.viewQuery;null!==i&&uo(1,i,n);var r=t.template;null!==r&&Lr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ar(t,e),t.staticViewQueries&&uo(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)oo(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,fe()}}function Dr(t,e,n,i){var r=e[2];if(256!=(256&r)){le(e);var o=$t();try{jt(e),qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Lr(t,e,n,2,i);var a=3==(3&r);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&_e(e,s,null)}else{var c=t.preOrderHooks;null!==c&&ye(e,c,0,null),Ce(e,0)}if(function(t){for(var e=Si(t);null!==e;e=Ei(e))if(e[2])for(var n=e[9],i=0;i<n.length;i++){var r=n[i],o=r[3];0==(1024&r[2])&&Ft(o,1),r[2]|=1024}}(e),function(t){for(var e=Si(t);null!==e;e=Ei(e))for(var n=10;n<e.length;n++){var i=e[n],r=i[1];Lt(i)&&Dr(r,i,r.template,i[8])}}(e),null!==t.contentQueries&&Ar(t,e),!o)if(a){var l=t.contentCheckHooks;null!==l&&_e(e,l)}else{var u=t.contentHooks;null!==u&&ye(e,u,1),Ce(e,1)}!function(t,e){var n,i,r,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)me(~s);else{var c=s,l=o[++a],u=o[++a];n=l,i=c,r=void 0,(r=qt.lFrame).bindingIndex=r.bindingRootIndex=n,re(i),u(2,e[c])}}}finally{me(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)io(t,e[n])}(e,h);var d=t.viewQuery;if(null!==d&&uo(2,d,i),!o)if(a){var p=t.viewCheckHooks;null!==p&&_e(e,p)}else{var f=t.viewHooks;null!==f&&ye(e,f,2),Ce(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ft(e[3],-1))}finally{fe()}}}function Nr(t,e,n,i){var r=e[10],o=!$t(),a=Nt(e);try{o&&!a&&r.begin&&r.begin(),a&&Rr(t,e,i),Dr(t,e,n,i)}finally{o&&!a&&r.end&&r.end()}}function Lr(t,e,n,i,r){var o=ge();try{me(-1),2&i&&e.length>20&&Cr(t,e,20,$t()),n(i,r)}finally{me(o)}}function zr(t,e,n){if(ct(e))for(var i=e.directiveEnd,r=e.directiveStart;r<i;r++){var o=t.data[r];o.contentQueries&&o.contentQueries(1,n[r],r)}}function jr(t,e,n){Bt()&&(function(t,e,n,i){var r=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Le(n,e),xi(i,e);for(var a=n.initialInputs,s=r;s<o;s++){var c=t.data[s],l=ht(c);l&&Jr(e,n,c);var u=Ye(e,t,s,n);xi(u,e),null!==a&&to(0,s-r,u,c,0,a),l&&(Rt(n.index,e)[8]=u)}}(t,e,n,St(n,e)),128==(128&n.flags)&&function(t,e,n){var i=n.directiveStart,r=n.directiveEnd,o=n.index,a=qt.lFrame.currentDirectiveIndex;try{me(o);for(var s=i;s<r;s++){var c=t.data[s],l=e[s];re(s),null===c.hostBindings&&0===c.hostVars&&null===c.hostAttrs||Qr(c,l)}}finally{me(-1),re(a)}}(t,e,n))}function Fr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:St,i=e.localNames;if(null!==i)for(var r=e.index+1,o=0;o<i.length;o+=2){var a=i[o+1],s=-1===a?n(e,t):t[a];t[r++]=s}}function qr(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Br(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Br(t,e,n,i,r,o,a,s,c,l){var u=20+i,h=u+r,d=function(t,e){for(var n=[],i=0;i<e;i++)n.push(i<t?null:_r);return n}(u,h),p="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:s,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function Ur(t,e,n,i){var r=po(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&fo(t).push(i,r.length-1))}function Hr(t,e,n){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Vr(t,e,n,i,r,o,a,s){var c,l,u=St(e,n),h=e.inputs;!s&&null!=h&&(c=h[i])?(mo(t,n,c,i,r),lt(e)&&function(t,e){var n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(l=i)?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l,r=null!=a?a(r,e.value||"",i):r,Pt(o)?o.setProperty(u,i,r):ke(i)||(u.setProperty?u.setProperty(i,r):u[i]=r))}function Wr(t,e,n,i){var r=!1;if(Bt()){var o=function(t,e,n){var i=t.directiveRegistry,r=null;if(i)for(var o=0;o<i.length;o++){var a=i[o];gr(n,a.selectors,!1)&&(r||(r=[]),qe(Le(n,e),t,a.type),ht(a)?(Yr(t,n),r.unshift(a)):r.push(a))}return r}(t,e,n),a=null===i?null:{"":-1};if(null!==o){r=!0,Xr(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var c=o[s];c.providersResolver&&c.providersResolver(c)}for(var l=!1,u=!1,h=Ir(t,e,o.length,null),d=0;d<o.length;d++){var p=o[d];n.mergedAttrs=Ae(n.mergedAttrs,p.hostAttrs),$r(t,n,e,h,p),Kr(h,p,a),null!==p.contentQueries&&(n.flags|=8),null===p.hostBindings&&null===p.hostAttrs&&0===p.hostVars||(n.flags|=128);var f=p.type.prototype;!l&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),l=!0),u||!f.ngOnChanges&&!f.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),h++}!function(t,e){for(var n=e.directiveEnd,i=t.data,r=e.attrs,o=[],a=null,s=null,c=e.directiveStart;c<n;c++){var l=i[c],u=l.inputs,h=null===r||ur(e)?null:eo(u,r);o.push(h),a=Hr(u,c,a),s=Hr(l.outputs,c,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var i=t.localNames=[],r=0;r<e.length;r+=2){var o=n[e[r+1]];if(null==o)throw new pt("301","Export of name '".concat(e[r+1],"' not found!"));i.push(e[r],o)}}(n,i,a)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),r}function Gr(t,e,n,i,r,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var c=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=c&&s.push(c),s.push(i,r,a)}}function Qr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Yr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Kr(t,e,n){if(n){if(e.exportAs)for(var i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;ht(e)&&(n[""]=t)}}function Xr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $r(t,e,n,i,r){t.data[i]=r;var o=r.factory||(r.factory=dt(r.type)),a=new Me(o,ht(r),null);t.blueprint[i]=a,n[i]=a,Gr(t,e,0,i,Ir(t,n,r.hostVars,_r),r)}function Jr(t,e,n){var i=St(e,t),r=qr(n),o=t[10],a=ao(t,Tr(t,r,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n),null,null));t[e.index]=a}function Zr(t,e,n,i,r,o,a){if(null==o)Pt(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{var s=null==a?ft(o):a(o,i||"",r);Pt(t)?t.setAttribute(e,r,s,n):n?e.setAttributeNS(n,r,s):e.setAttribute(r,s)}}function to(t,e,n,i,r,o){var a=o[e];if(null!==a)for(var s=i.setInput,c=0;c<a.length;){var l=a[c++],u=a[c++],h=a[c++];null!==s?i.setInput(n,h,l,u):n[u]=h}}function eo(t,e){for(var n=null,i=0;i<e.length;){var r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function no(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function io(t,e){var n=Rt(e,t);if(Lt(n)){var i=n[1];80&n[2]?Dr(i,n,i.template,n[8]):n[5]>0&&ro(n)}}function ro(t){for(var e=Si(t);null!==e;e=Ei(e))for(var n=10;n<e.length;n++){var i=e[n];if(1024&i[2]){var r=i[1];Dr(r,i,r.template,i[8])}else i[5]>0&&ro(i)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=Rt(o[a],t);Lt(s)&&s[5]>0&&ro(s)}}function oo(t,e){var n=Rt(e,t),i=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Rr(i,n,n[8])}function ao(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function so(t){for(;t;){t[2]|=64;var e=Ti(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function co(t,e,n){var i=e[10];i.begin&&i.begin();try{Dr(t,e,t.template,n)}catch(r){throw go(e,r),r}finally{i.end&&i.end()}}function lo(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],i=Dt(n),r=i[1];Nr(r,i,r.template,n)}}(t[8])}function uo(t,e,n){ae(0),e(t,n)}var ho=Promise.resolve(null);function po(t){return t[7]||(t[7]=[])}function fo(t){return t.cleanup||(t.cleanup=[])}function go(t,e){var n=t[9],i=n?n.get(yi,null):null;i&&i.handleError(e)}function mo(t,e,n,i,r){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],c=e[a],l=t.data[a];null!==l.setInput?l.setInput(c,r,i,s):c[s]=r}}function vo(t,e,n){var i=Tt(e,t);Ni(t[11],i,n)}function bo(t,e,n){var i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?r=h(r,s):2==o&&(i=h(i,s+": "+e[++a]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var _o=new nn("INJECTOR",-1),yo=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n;if(e===_n){var n=new Error("NullInjectorError: No provider for ".concat(u(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Co=new nn("Set Injector scope."),xo={},wo={},Mo=[],Oo=void 0;function Po(){return void 0===Oo&&(Oo=new yo),Oo}function ko(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new Ao(t,n,e||Po(),i)}var Ao=function(){function t(e,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&sn(n,function(t){return r.processProvider(t,e,n)}),sn([e],function(t){return r.processInjectorType(t,[],a)}),this.records.set(_o,Eo(void 0,this));var s=this.records.get(Co);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:u(e))}return _createClass(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;this.assertNotDestroyed();var i,r=wn(this);try{if(!(n&k.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(i=t)||"object"==typeof i&&i instanceof nn)&&_(t);o=a&&this.injectableDefInScope(a)?Eo(To(t),xo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&k.Self?Po():this.parent).get(t,e=n&k.Optional&&e===_n?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(t)),r)throw s;return function(t,e,n,i){var r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var r=u(e);if(Array.isArray(e))r=e.map(u).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):u(s)))}r="{".concat(o.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(t.replace(yn,"\n  "))}("\n"+t.message,r,"R3InjectorError",i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{wn(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(u(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var i=this;if(!(t=f(t)))return!1;var r=C(t),o=null==r&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(r=C(o)),null==r)return!1;if(null!=r.imports&&!s){var c;n.push(a);try{sn(r.imports,function(t){i.processInjectorType(t,e,n)&&(void 0===c&&(c=[]),c.push(t))})}finally{}if(void 0!==c)for(var l=function(t){var e=c[t],n=e.ngModule,r=e.providers;sn(r,function(t){return i.processProvider(t,n,r||Mo)})},u=0;u<c.length;u++)l(u)}this.injectorDefTypes.add(a),this.records.set(a,Eo(r.factory,xo));var h=r.providers;if(null!=h&&!s){var d=t;sn(h,function(t){return i.processProvider(t,d,h)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var i=Ro(t=f(t))?t:f(t&&t.provide),r=function(t,e,n){return Io(t)?Eo(void 0,t.useValue):Eo(So(t),xo)}(t);if(Ro(t)||!0!==t.multi)this.records.get(i);else{var o=this.records.get(i);o||((o=Eo(void 0,xo,!0)).factory=function(){return An(o.multi)},this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,r)}},{key:"hydrate",value:function(t,e){var n;return e.value===xo&&(e.value=wo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function To(t){var e=_(t),n=null!==e?e.factory:dt(t);if(null!==n)return n;var i=C(t);if(null!==i)return i.factory;if(t instanceof nn)throw new Error("Token ".concat(u(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=un(e,"?");throw new Error("Can't resolve all parameters for ".concat(u(t),": (").concat(n.join(", "),")."))}var i=function(t){var e=t&&(t[w]||t[O]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==i?function(){return i.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function So(t,e,n){var i,r=void 0;if(Ro(t)){var o=f(t);return dt(o)||To(o)}if(Io(t))r=function(){return f(t.useValue)};else if((i=t)&&i.useFactory)r=function(){return t.useFactory.apply(t,_toConsumableArray(An(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return On(f(t.useExisting))};else{var a=f(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return dt(a)||To(a);r=function(){return _construct(a,_toConsumableArray(An(t.deps)))}}return r}function Eo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Io(t){return null!==t&&"object"==typeof t&&Cn in t}function Ro(t){return"function"==typeof t}var Do=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=ko(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)},No=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Do(t,e,""):Do(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=_n,t.NULL=new yo,t.\u0275prov=v({token:t,providedIn:"any",factory:function(){return On(_o)}}),t.__NG_ELEMENT_ID__=-1,t}();function Lo(t,e){be(Dt(t)[1],Wt())}function zo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,i=[t];e;){var r=void 0;if(ht(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);var o=t;o.inputs=jo(t.inputs),o.declaredInputs=jo(t.declaredInputs),o.outputs=jo(t.outputs);var a=r.hostBindings;a&&Bo(t,a);var s=r.viewQuery,c=r.contentQueries;if(s&&Fo(t,s),c&&qo(t,c),l(t.inputs,r.inputs),l(t.declaredInputs,r.declaredInputs),l(t.outputs,r.outputs),ht(r)&&r.data.animation){var u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}var h=r.features;if(h)for(var d=0;d<h.length;d++){var p=h[d];p&&p.ngInherit&&p(t),p===zo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,i=t.length-1;i>=0;i--){var r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ae(r.hostAttrs,n=Ae(n,r.hostAttrs))}}(i)}function jo(t){return t===j?{}:t===F?[]:t}function Fo(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,i){e(t,i),n(t,i)}:e}function qo(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,i,r){e(t,i,r),n(t,i,r)}:e}function Bo(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,i){e(t,i),n(t,i)}:e}var Uo=null;function Ho(){if(!Uo){var t=z.Symbol;if(t&&t.iterator)Uo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Uo=i)}}return Uo}var Vo=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Wo(t){return!!Go(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ho()in t)}function Go(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Qo(t,e,n){return t[e]=n}function Yo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ko(t,e,n,i){var r=Yo(t,e,n);return Yo(t,e+1,i)||r}function Xo(t,e,n,i){var r=Ut();return Yo(r,ee(),e)&&(Ht(),function(t,e,n,i,r,o){var a=St(t,e);Zr(e[11],a,o,t.value,n,i,r)}(ve(),r,t,e,n,i)),Xo}function $o(t,e,n,i){return Yo(t,ee(),n)?e+ft(n)+i:_r}function Jo(t,e,n,i,r,o,a,s){var c=Ut(),l=Ht(),u=t+20,h=l.firstCreatePass?function(t,e,n,i,r,o,a,s,c){var l=e.consts,u=Sr(e,t,4,a||null,zt(l,s));Wr(e,n,u,zt(l,c)),be(e,u);var h=u.tViews=Br(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,i,r,o,a):l.data[u];Yt(h,!1);var d=c[11].createComment("");Zi(l,c,d,h),xi(d,c),ao(c,c[u]=no(d,c,d,h)),ut(h)&&jr(l,c,h),null!=a&&Fr(c,h,s)}function Zo(t){return It(qt.lFrame.contextLView,20+t)}function ta(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default,n=Ut();return null===n?On(t,e):He(Wt(),n,f(t),e)}function ea(t,e,n){var i=Ut();return Yo(i,ee(),e)&&Vr(Ht(),ve(),i,t,e,i[11],n,!1),ea}function na(t,e,n,i,r){var o=r?"class":"style";mo(t,n,e.inputs[o],o,i)}function ia(t,e,n,i){var r=Ut(),o=Ht(),a=20+t,s=r[11],c=r[a]=zi(s,e,qt.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,i,r,o,a){var s=e.consts,c=Sr(e,t,2,r,zt(s,o));return Wr(e,n,c,zt(s,a)),null!==c.attrs&&bo(c,c.attrs,!1),null!==c.mergedAttrs&&bo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(a,o,r,0,e,n,i):o.data[a];Yt(l,!0);var u=l.mergedAttrs;null!==u&&Oe(s,c,u);var h=l.classes;null!==h&&sr(s,c,h);var d=l.styles;null!==d&&ar(s,c,d),64!=(64&l.flags)&&Zi(o,r,c,l),0===qt.lFrame.elementDepthCount&&xi(c,r),qt.lFrame.elementDepthCount++,ut(l)&&(jr(o,r,l),zr(o,l,r)),null!==i&&Fr(r,l)}function ra(){var t=Wt();Kt()?Xt():Yt(t=t.parent,!1);var e=t;qt.lFrame.elementDepthCount--;var n=Ht();n.firstCreatePass&&(be(n,t),ct(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&na(n,e,Ut(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&na(n,e,Ut(),e.stylesWithoutHost,!1)}function oa(t,e,n,i){ia(t,e,n,i),ra()}function aa(t,e,n){var i=Ut(),r=Ht(),o=t+20,a=r.firstCreatePass?function(t,e,n,i,r){var o=e.consts,a=zt(o,i),s=Sr(e,t,8,"ng-container",a);return null!==a&&bo(s,a,!0),Wr(e,n,s,zt(o,r)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,r,i,e,n):r.data[o];Yt(a,!0);var s=i[o]=i[11].createComment("");Zi(r,i,s,a),xi(s,i),ut(a)&&(jr(r,i,a),zr(r,a,i)),null!=n&&Fr(i,a)}function sa(){var t=Wt(),e=Ht();Kt()?Xt():Yt(t=t.parent,!1),e.firstCreatePass&&(be(e,t),ct(t)&&e.queries.elementEnd(t))}function ca(){return Ut()}function la(t){return!!t&&"function"==typeof t.then}function ua(t){return!!t&&"function"==typeof t.subscribe}function ha(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=Ut(),o=Ht(),a=Wt();return function(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,c=ut(i),l=t.firstCreatePass&&fo(t),u=po(e),h=!0;if(3&i.type){var d=St(i,e),p=s?s(d):j,f=p.target||d,g=u.length,m=s?function(t){return s(At(t[i.index])).target}:i.index;if(Pt(n)){var v=null;if(!s&&c&&(v=function(t,e,n,i){var r=t.cleanup;if(null!=r)for(var o=0;o<r.length-1;o+=2){var a=r[o];if(a===n&&r[o+1]===i){var s=e[7],c=r[o+2];return s.length>c?s[c]:null}"string"==typeof a&&(o+=2)}return null}(t,e,r,i.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=o,v.__ngLastListenerFn__=o,h=!1;else{o=pa(i,e,o,!1);var b=n.listen(p.name||f,r,o);u.push(o,b),l&&l.push(r,m,g,g+1)}}else o=pa(i,e,o,!0),f.addEventListener(r,o,a),u.push(o),l&&l.push(r,m,g,a)}else o=pa(i,e,o,!1);var _,y=i.outputs;if(h&&null!==y&&(_=y[r])){var C=_.length;if(C)for(var x=0;x<C;x+=2){var w=e[_[x]][_[x+1]].subscribe(o),M=u.length;u.push(o,w),l&&l.push(r,i.index,M,-(M+1))}}}(o,r,r[11],a,t,e,n,i),ha}function da(t,e,n){try{return!1!==e(n)}catch(i){return go(t,i),!1}}function pa(t,e,n,i){return function r(o){if(o===Function)return n;var a=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&so(a);for(var s=da(e,n,o),c=r.__ngNextListenerFn__;c;)s=da(e,c,o)&&s,c=c.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function fa(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qt.lFrame.contextLView))[8]}(t)}function ga(t,e){for(var n=null,i=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),r=0;r<e.length;r++){var o=e[r];if("*"!==o){if(null===i?gr(t,o,!0):mr(i,o))return r}else n=r}return n}function ma(t){var e=Ut()[16][6];if(!e.projection)for(var n=e.projection=un(t?t.length:1,null),i=n.slice(),r=e.child;null!==r;){var o=t?ga(r,t):0;null!==o&&(i[o]?i[o].projectionNext=r:n[o]=r,i[o]=r),r=r.next}}function va(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=Ut(),r=Ht(),o=Sr(r,20+t,16,null,n||null);null===o.projection&&(o.projection=e),Xt(),64!=(64&o.flags)&&function(t,e,n){or(e[11],0,e,n,Ui(t,n,e),Yi(n.parent||e[6],n,e))}(r,i,o)}function ba(t,e,n){return _a(t,"",e,"",n),ba}function _a(t,e,n,i,r){var o=Ut(),a=$o(o,e,n,i);return a!==_r&&Vr(Ht(),ve(),o,t,a,o[11],r,!1),_a}var ya=[];function Ca(t,e,n,i,r){for(var o=t[n+1],a=null===e,s=i?wr(o):Or(o),c=!1;0!==s&&(!1===c||a);){var l=t[s+1];xa(t[s],e)&&(c=!0,t[s+1]=i?kr(l):Mr(l)),s=i?wr(l):Or(l)}c&&(t[n+1]=i?Mr(o):kr(o))}function xa(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pn(t,e)>=0}var wa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ma(t){return t.substring(wa.key,wa.keyEnd)}function Oa(t,e){var n=wa.textEnd;return n===e?-1:(e=wa.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,wa.key=e,n),Pa(t,e,n))}function Pa(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ka(t,e,n){return Ea(t,e,n,!1),ka}function Aa(t,e){return Ea(t,e,null,!0),Aa}function Ta(t){Ia(hn,Sa,t,!0)}function Sa(t,e){for(var n=function(t){return function(t){wa.key=0,wa.keyEnd=0,wa.value=0,wa.valueEnd=0,wa.textEnd=t.length}(t),Oa(t,Pa(t,0,wa.textEnd))}(e);n>=0;n=Oa(e,n))hn(t,Ma(e),!0)}function Ea(t,e,n,i){var r=Ut(),o=Ht(),a=ne(2);o.firstUpdatePass&&Da(o,t,a,i),e!==_r&&Yo(r,a,e)&&za(o,o.data[ge()],r,r[11],t,r[a+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=u(Ln(t)))),t}(e,n),i,a)}function Ia(t,e,n,i){var r=Ht(),o=ne(2);r.firstUpdatePass&&Da(r,null,o,i);var a=Ut();if(n!==_r&&Yo(a,o,n)){var s=r.data[ge()];if(qa(s,i)&&!Ra(r,o)){var c=i?s.classesWithoutHost:s.stylesWithoutHost;null!==c&&(n=h(c,n||"")),na(r,s,a,n,i)}else!function(t,e,n,i,r,o,a,s){r===_r&&(r=ya);for(var c=0,l=0,u=0<r.length?r[0]:null,h=0<o.length?o[0]:null;null!==u||null!==h;){var d=c<r.length?r[c+1]:void 0,p=l<o.length?o[l+1]:void 0,f=null,g=void 0;u===h?(c+=2,l+=2,d!==p&&(f=h,g=p)):null===h||null!==u&&u<h?(c+=2,f=u):(l+=2,f=h,g=p),null!==f&&za(t,e,n,i,f,g,a,s),u=c<r.length?r[c]:null,h=l<o.length?o[l]:null}}(r,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return ya;var i=[],r=Ln(n);if(Array.isArray(r))for(var o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(var a in r)r.hasOwnProperty(a)&&t(i,a,r[a]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,o)}}function Ra(t,e){return e>=t.expandoStartIndex}function Da(t,e,n,i){var r=t.data;if(null===r[n+1]){var o=r[ge()],a=Ra(t,n);qa(o,i)&&null===e&&!a&&(e=!1),e=function(t,e,n,i){var r=function(t){var e=qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=La(n=Na(null,t,e,n,i),e.attrs,i),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==r)if(n=Na(r,t,e,n,i),null===o){var s=function(t,e,n){var i=n?e.classBindings:e.styleBindings;if(0!==Or(i))return t[wr(i)]}(t,e,i);void 0!==s&&Array.isArray(s)&&function(t,e,n,i){t[wr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,s=La(s=Na(null,t,e,s[1],i),e.attrs,i))}else o=function(t,e,n){for(var i=void 0,r=e.directiveEnd,o=1+e.directiveStylingLast;o<r;o++)i=La(i,t[o].hostAttrs,n);return La(i,e.attrs,n)}(t,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),n}(r,o,e,i),function(t,e,n,i,r,o){var a=o?e.classBindings:e.styleBindings,s=wr(a),c=Or(a);t[i]=n;var l,u=!1;if(Array.isArray(n)){var h=n;(null===(l=h[1])||pn(h,l)>0)&&(u=!0)}else l=n;if(r)if(0!==c){var d=wr(t[s+1]);t[i+1]=xr(d,s),0!==d&&(t[d+1]=Pr(t[d+1],i)),t[s+1]=131071&t[s+1]|i<<17}else t[i+1]=xr(s,0),0!==s&&(t[s+1]=Pr(t[s+1],i)),s=i;else t[i+1]=xr(c,0),0===s?s=i:t[c+1]=Pr(t[c+1],i),c=i;u&&(t[i+1]=Mr(t[i+1])),Ca(t,l,i,!0),Ca(t,l,i,!1),function(t,e,n,i,r){var o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&pn(o,e)>=0&&(n[i+1]=kr(n[i+1]))}(e,l,t,i,o),a=xr(s,c),o?e.classBindings=a:e.styleBindings=a}(r,o,e,n,a,i)}}function Na(t,e,n,i,r){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(i=La(i,(o=e[s]).hostAttrs,r),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),i}function La(t,e,n){var i=n?1:2,r=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?r=a:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),hn(t,a,!!n||e[++o]))}return void 0===t?null:t}function za(t,e,n,i,r,o,a,s){if(3&e.type){var c=t.data,l=c[s+1];Fa(1==(1&l)?ja(c,e,n,r,Or(l),a):void 0)||(Fa(o)||2==(2&l)&&(o=ja(c,null,n,r,s,a)),function(t,e,n,i,r){var o=Pt(t);if(e)r?o?t.addClass(n,i):n.classList.add(i):o?t.removeClass(n,i):n.classList.remove(i);else{var a=-1===i.indexOf("-")?void 0:ki.DashCase;if(null==r)o?t.removeStyle(n,i,a):n.style.removeProperty(i);else{var s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),a|=ki.Important),o?t.setStyle(n,i,r,a):n.style.setProperty(i,r,s?"important":"")}}}(i,a,Tt(ge(),n),r,o))}}function ja(t,e,n,i,r,o){for(var a=null===e,s=void 0;r>0;){var c=t[r],l=Array.isArray(c),u=l?c[1]:c,h=null===u,d=n[r+1];d===_r&&(d=h?ya:void 0);var p=h?dn(d,i):u===i?d:void 0;if(l&&!Fa(p)&&(p=dn(c,i)),Fa(p)&&(s=p,a))return s;var f=t[r+1];r=a?wr(f):Or(f)}if(null!==e){var g=o?e.residualClasses:e.residualStyles;null!=g&&(s=dn(g,i))}return s}function Fa(t){return void 0!==t}function qa(t,e){return 0!=(t.flags&(e?16:32))}function Ba(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Ut(),i=Ht(),r=t+20,o=i.firstCreatePass?Sr(i,r,1,e,null):i.data[r],a=n[r]=Di(n[11],e);Zi(i,n,a,o),Yt(o,!1)}function Ua(t){return Ha("",t,""),Ua}function Ha(t,e,n){var i=Ut(),r=$o(i,t,e,n);return r!==_r&&vo(i,ge(),r),Ha}function Va(t,e,n,i,r){var o=Ut(),a=function(t,e,n,i,r,o){var a=Ko(t,te(),n,r);return ne(2),a?e+ft(n)+i+ft(r)+o:_r}(o,t,e,n,i,r);return a!==_r&&vo(o,ge(),a),Va}function Wa(t,e,n,i,r,o,a,s,c){Ia(hn,Sa,function(t,e,n,i,r,o,a,s,c,l){var u=function(t,e,n,i,r,o){var a=Ko(t,e,n,i);return Ko(t,e+2,r,o)||a}(t,te(),n,r,a,c);return ne(4),u?e+ft(n)+i+ft(r)+o+ft(a)+s+ft(c)+l:_r}(Ut(),t,e,n,i,r,o,a,s,c),!0)}function Ga(t,e,n){var i=Ut();return Yo(i,ee(),e)&&Vr(Ht(),ve(),i,t,e,i[11],n,!0),Ga}var Qa=void 0,Ya=["en",[["a","p"],["AM","PM"],Qa],[["AM","PM"],Qa,Qa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qa,"{1} 'at' {0}",Qa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Ka={};function Xa(t,e,n){"string"!=typeof e&&(n=e,e=t[es.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ka[e]=t,n&&(Ka[e][es.ExtraData]=n)}function $a(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ts(e);if(n)return n;var i=e.split("-")[0];if(n=ts(i))return n;if("en"===i)return Ya;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Ja(t){return $a(t)[es.CurrencyCode]||null}function Za(t){return $a(t)[es.PluralCase]}function ts(t){return t in Ka||(Ka[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),Ka[t]}var es=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({}),ns=["zero","one","two","few","many"],is={marker:"element"},rs={marker:"ICU"},os=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({}),as="en-US";function ss(t){var e;null==(e=t)&&m("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(as=t.toLowerCase().replace(/_/g,"-"))}function cs(t,e,n){var i=e.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return null===r?Ki(t,0,n):At(n[r])}function ls(t,e,n,i,r){var o=e.insertBeforeIndex;if(Array.isArray(o)){var a=i,s=null;if(3&e.type||(s=a,a=r),null!==a&&0==(2&e.flags))for(var c=1;c<o.length;c++)Vi(t,a,n[o[c]],s,!1)}}function us(t,e){if(t.push(e),t.length>1)for(var n=t.length-2;n>=0;n--){var i=t[n];hs(i)||ds(i,e)&&null===(r=void 0,r=i.insertBeforeIndex,Array.isArray(r)?r[0]:r)&&ps(i,e.index)}var r}function hs(t){return!(64&t.type)}function ds(t,e){return hs(e)||t.index>e.index}function ps(t,e){var n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(Ji(cs,ls),t.insertBeforeIndex=e)}function fs(t,e){var n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function gs(t,e,n){var i=Er(t,n,64,null,null);return us(e,i),i}function ms(t,e){var n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var vs=0,bs=0;function _s(t,e,n,i){for(var r,o=n[11],a=null,s=0;s<e.length;s++){var c=e[s];if("string"==typeof c){var l=e[++s];null===n[l]&&(n[l]=Di(o,c))}else if("number"==typeof c)switch(1&c){case 0:var u=c>>>17,h=void 0,d=void 0;if(null===a&&(a=u,r=Qi(o,i)),u===a?(h=i,d=r):(h=null,d=At(n[u])),null!==d){var p=(131070&c)>>>1;Vi(o,d,n[p],h,!1);var f=fs(t,p);if(null!==f&&"object"==typeof f){var g=ms(f,n);null!==g&&_s(t,f.create[g],n,n[f.anchorIdx])}}break;case 1:var m=e[++s],v=e[++s];Zr(o,Tt(c>>>1,n),null,null,m,v,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(c,'"'))}else switch(c){case rs:var b=e[++s],_=e[++s];null===n[_]&&xi(n[_]=Li(o,b),n);break;case is:var y=e[++s],C=e[++s];null===n[C]&&xi(n[C]=zi(o,y,null),n)}}}function ys(t,e,n,i,r){for(var o=0;o<n.length;o++){var a=n[o],s=n[++o];if(a&r)for(var c="",l=o+1;l<=o+s;l++){var u=n[l];if("string"==typeof u)c+=u;else if("number"==typeof u)if(u<0)c+=ft(e[i-u]);else{var h=u>>>2;switch(3&u){case 1:var d=n[++l],p=n[++l],f=t.data[h];"string"==typeof f?Zr(e[11],e[h],null,f,d,c,p):Vr(t,f,e,d,c,e[11],p,!1);break;case 0:var g=e[h];null!==g&&Ni(e[11],g,c);break;case 2:xs(t,fs(t,h),e,c);break;case 3:Cs(t,fs(t,h),i,e)}}}else{var m=n[o+1];if(m>0&&3==(3&m)){var v=fs(t,m>>>2);e[v.currentCaseLViewIndex]<0&&Cs(t,v,i,e)}}o+=s}}function Cs(t,e,n,i){var r=i[e.currentCaseLViewIndex];if(null!==r){var o=vs;r<0&&(r=i[e.currentCaseLViewIndex]=~r,o=-1),ys(t,i,e.update[r],n,o)}}function xs(t,e,n,i){var r=function(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var i=function(t,e){var n=Za(e)(parseInt(t,10)),i=ns[n];return void 0!==i?i:"other"}(e,as);-1===(n=t.cases.indexOf(i))&&"other"!==i&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,i);if(ms(e,n)!==r&&(ws(t,e,n),n[e.currentCaseLViewIndex]=null===r?null:~r,null!==r)){var o=n[e.anchorIdx];o&&_s(t,e.create[r],n,o)}}function ws(t,e,n){var i=ms(e,n);if(null!==i)for(var r=e.remove[i],o=0;o<r.length;o++){var a=r[o];if(a>0){var s=Tt(a,n);null!==s&&nr(n[11],s)}else ws(t,fs(t,~a),n)}}var Ms=/\ufffd(\d+):?\d*\ufffd/gi,Os=/\ufffd(\d+)\ufffd/,Ps=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ks=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,As=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ts=/\uE500/g;function Ss(t,e,n,i,r,o,a){var s=Ir(t,i,1,null),c=s<<os.SHIFT,l=Qt();e===l&&(l=null),null===l&&(c|=os.APPEND_EAGERLY),a&&(c|=os.COMMENT,void 0===Pi&&(Pi=function(){var t,e,n=[],i=-1;function r(t,n){i=0;var r=ms(t,n);e=null!==r?t.remove[r]:F}function o(){if(i<e.length){var a=e[i++];return a>0?t[a]:(n.push(i,e),r(t[1].data[~a],t),o())}return 0===n.length?null:(e=n.pop(),i=n.pop(),o())}return function(e,i){for(t=i;n.length;)n.pop();return r(e.value,i),o}}())),r.push(c,null===o?"":o);var u=Er(t,s,a?32:1,null===o?"":o,null);us(n,u);var h=u.index;return Yt(u,!1),null!==l&&e!==l&&function(t,e){var n,i=t.insertBeforeIndex;null===i?(Ji(cs,ls),i=t.insertBeforeIndex=[null,e]):(1!=(n=Array.isArray(i))&&m("Expecting array here",n,!0,"=="),i.push(e))}(l,h),u}function Es(t,e,n,i,r,o,a){var s=a.match(Ms),c=Ss(t,e,n,o,i,s?null:a,!1);s&&Is(r,a,c.index)}function Is(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=t.length,a=o+1;t.push(null,null);for(var s=o+2,c=e.split(Ms),l=0,u=0;u<c.length;u++){var h=c[u];if(1&u){var d=parseInt(h,10);t.push(-1-d),l|=Rs(d)}else""!==h&&t.push(h)}return t.push(n<<2|(i?1:0)),i&&t.push(i,r),t[o]=l,t[a]=t.length-s,l}function Rs(t){return 1<<Math.min(t,31)}function Ds(t){for(var e,n,i="",r=0,o=!1;null!==(e=ks.exec(t));)o?e[0]==="\ufffd/*".concat(n,"\ufffd")&&(r=e.index,o=!1):(i+=t.substring(r,e.index+e[0].length),n=e[1],o=!0);return i+=t.substr(r)}function Ns(t,e,n,i,r,o){var a=0,s={type:r.type,currentCaseLViewIndex:Ir(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Rs(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,r,o),function(t,e,n){var i=t.data[e];null===i?t.data[e]=n:i.value=n}(t,o,s);for(var c=r.values,l=0;l<c.length;l++){for(var u=c[l],h=[],d=0;d<u.length;d++){var p=u[d];if("string"!=typeof p){var f=h.push(p)-1;u[d]="\x3c!--\ufffd".concat(f,"\ufffd--\x3e")}}a=js(t,s,e,n,i,r.cases[l],u.join(""),h)|a}a&&function(t,e,n){t.push(e,1,n<<2|3)}(n,a,o)}function Ls(t){for(var e=[],n=[],i=1,r=0,o=zs(t=t.replace(Ps,function(t,e,n){return i="select"===n?0:1,r=parseInt(e.substr(1),10),""})),a=0;a<o.length;){var s=o[a++].trim();1===i&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var c=zs(o[a++]);e.length>n.length&&n.push(c)}return{type:i,mainBinding:r,cases:e,values:n}}function zs(t){if(!t)return[];var e,n=0,i=[],r=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var a=e.index;if("}"==e[0]){if(i.pop(),0==i.length){var s=t.substring(n,a);Ps.test(s)?r.push(Ls(s)):r.push(s),n=a+1}}else{if(0==i.length){var c=t.substring(n,a);r.push(c),n=a+1}i.push("{")}}var l=t.substring(n);return r.push(l),r}function js(t,e,n,i,r,o,a,s){var c=[],l=[],u=[];e.cases.push(o),e.create.push(c),e.remove.push(l),e.update.push(u);var h=Vn(Ot()).getInertBodyElement(a),d=fi(h)||h;return d?Fs(t,e,n,i,c,l,u,d,r,s,0):0}function Fs(t,e,n,i,r,o,a,s,c,l,u){for(var h=0,d=s.firstChild;d;){var p=Ir(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:var f=d,g=f.tagName.toLowerCase();if(ri.hasOwnProperty(g)){Us(r,is,g,c,p),t.data[p]=g;for(var m=f.attributes,v=0;v<m.length;v++){var b=m.item(v),_=b.name.toLowerCase();b.value.match(Ms)?si.hasOwnProperty(_)&&(oi[_]?Is(a,b.value,p,b.name,Kn):ai[_]?Is(a,b.value,p,b.name,Xn):Is(a,b.value,p,b.name)):Hs(r,p,b)}h=Fs(t,e,n,i,r,o,a,d,p,l,u+1)|h,qs(o,p,u)}break;case Node.TEXT_NODE:var y=d.textContent||"",C=y.match(Ms);Us(r,null,C?"":y,c,p),qs(o,p,u),C&&(h=Is(a,y,p)|h);break;case Node.COMMENT_NODE:var x=Os.exec(d.textContent||"");if(x){var w=l[parseInt(x[1],10)];Us(r,rs,"",c,p),Ns(t,n,i,c,w,p),Bs(o,p,u)}}d=d.nextSibling}return h}function qs(t,e,n){0===n&&t.push(e)}function Bs(t,e,n){0===n&&(t.push(~e),t.push(e))}function Us(t,e,n,i,r){null!==e&&t.push(e),t.push(n,r,0|i<<17|r<<1)}function Hs(t,e,n){t.push(e<<1|1,n.name,n.value)}function Vs(t,e,n){(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=Ht(),r=Ut(),o=20+t,a=zt(i.consts,e),s=Qt();i.firstCreatePass&&function(t,e,n,i,r,o){for(var a,s=Qt(),c=[],l=[],u=[[]],h=(a=r=function(t,e){if(function(t){return-1===t}(e))return Ds(t);var n=t.indexOf(":".concat(e,"\ufffd"))+2+e.toString().length,i=t.search(new RegExp("\ufffd\\/\\*\\d+:".concat(e,"\ufffd")));return Ds(t.substring(n,i))}(r,o),a.replace(Ts," ")).split(As),d=0;d<h.length;d++){var p=h[d];if(0==(1&d))for(var f=zs(p),g=0;g<f.length;g++){var m=f[g];if(0==(1&g)){var v=m;""!==v&&Es(t,s,u[0],c,l,n,v)}else{var b=m;if("object"!=typeof b)throw new Error('Unable to parse ICU expression in "'.concat(r,'" message.'));Ns(t,n,l,e,b,Ss(t,s,u[0],n,c,"",!0).index)}}else{var _=47===p.charCodeAt(0),y=(p.charCodeAt(_?1:0),20+Number.parseInt(p.substring(_?2:1)));if(_)u.shift(),Yt(Qt(),!1);else{var C=gs(t,u[0],y);u.unshift([]),Yt(C,!0)}}}t.data[i]={create:c,update:l}}(i,null===s?0:s.index,r,o,a,n);var c=i.data[o],l=Hi(i,s===r[6]?null:s,r);!function(t,e,n,i){for(var r=t[11],o=0;o<e.length;o++){var a=e[o++],s=e[o],c=(a&os.COMMENT)===os.COMMENT,l=(a&os.APPEND_EAGERLY)===os.APPEND_EAGERLY,u=a>>>os.SHIFT,h=t[u];null===h&&(h=t[u]=c?r.createComment(s):Di(r,s)),l&&null!==n&&Vi(r,n,h,i,!1)}}(r,c.create,l,s&&8&s.type?r[s.index]:null),ie(!0)})(t,e,n),ie(!1)}function Ws(t){return Yo(Ut(),ee(),t)&&(vs|=1<<Math.min(bs,31)),bs++,Ws}function Gs(t){!function(t,e,n){if(bs>0){var i=t.data[n];ys(t,e,Array.isArray(i)?i:i.update,te()-bs-1,vs)}vs=0,bs=0}(Ht(),Ut(),t+20)}function Qs(t,e,n,i,r){if(t=f(t),Array.isArray(t))for(var o=0;o<t.length;o++)Qs(t[o],e,n,i,r);else{var a=Ht(),s=Ut(),c=Ro(t)?t:f(t.provide),l=So(t),u=Wt(),h=1048575&u.providerIndexes,d=u.directiveStart,p=u.providerIndexes>>20;if(Ro(t)||!t.multi){var g=new Me(l,r,ta),m=Xs(c,e,r?h:h+p,d);-1===m?(qe(Le(u,s),a,c),Ys(a,t,e.length),e.push(c),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(g),s.push(g)):(n[m]=g,s[m]=g)}else{var v=Xs(c,e,h+p,d),b=Xs(c,e,h,h+p),_=v>=0&&n[v],y=b>=0&&n[b];if(r&&!y||!r&&!_){qe(Le(u,s),a,c);var C=function(t,e,n,i,r){var o=new Me(t,n,ta);return o.multi=[],o.index=e,o.componentProviders=0,Ks(o,r,i&&!n),o}(r?Js:$s,n.length,r,i,l);!r&&y&&(n[b].providerFactory=C),Ys(a,t,e.length,0),e.push(c),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(C),s.push(C)}else Ys(a,t,v>-1?v:b,Ks(n[r?b:v],l,!r&&i));!r&&i&&y&&n[b].componentProviders++}}}function Ys(t,e,n,i){var r=Ro(e);if(r||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[i,o]):a[s+1].push(i,o)}else a.push(n,o)}}}function Ks(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Xs(t,e,n,i){for(var r=n;r<i;r++)if(e[r]===t)return r;return-1}function $s(t,e,n,i){return Zs(this.multi,[])}function Js(t,e,n,i){var r,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=Ye(n,n[1],this.providerFactory.index,i);Zs(o,r=s.slice(0,a));for(var c=a;c<s.length;c++)r.push(s[c])}else Zs(o,r=[]);return r}function Zs(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function tc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(t,e,n){var i=Ht();if(i.firstCreatePass){var r=ht(t);Qs(n,i.data,i.blueprint,r,!0),Qs(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}}var ec=function t(){_classCallCheck(this,t)},nc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(u(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),ic=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new nc,t}();function rc(){}function oc(t,e){return new sc(St(t,e))}var ac=function(){return oc(Wt(),Ut())},sc=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=ac,t}(),cc=function t(){_classCallCheck(this,t)},lc=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return uc()},t}(),uc=function(){var t=Ut(),e=Rt(Wt().index,t);return function(t){return t[11]}(at(e)?e:t)},hc=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=v({token:t,providedIn:"root",factory:function(){return null}}),t}(),dc=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},pc=new dc("11.0.9"),fc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return Wo(t)}},{key:"create",value:function(t){return new mc(t)}}]),t}(),gc=function(t,e){return e},mc=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gc}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var o=!n||e&&e.currentIndex<yc(n,i,r)?e:n,a=yc(o,i,r),s=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);var c=a-i,l=s-i;if(c!=l){for(var u=0;u<c;u++){var h=u<r.length?r[u]:r[u]=0,d=h+u;l<=d&&d<c&&(r[u]=h+1)}r[o.previousIndex]=l-c}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Wo(t))throw new Error("Error trying to diff '".concat(u(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,i,r,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=t[s],r=this._trackByFn(s,i),null!==o&&Object.is(o.trackById,r)?(a&&(o=this._verifyReinsertion(o,i,r,s)),Object.is(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i,r=t[Ho()]();!(i=r.next()).done;)e(i.value)}(t,function(t){r=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,r)?(a&&(o=e._verifyReinsertion(o,t,r,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,r,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new vc(e,n),r,i),t}},{key:"_verifyReinsertion",value:function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new _c),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _c),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),vc=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},bc=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),_c=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new bc,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function yc(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var Cc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||Go(t)}},{key:"create",value:function(){return new xc}}]),t}(),xc=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Go(t)))throw new Error("Error trying to diff '".concat(u(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new wc(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),wc=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Mc=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new vn,new gn]]}}}]),t}();return t.\u0275prov=v({token:t,providedIn:"root",factory:function(){return new t([new fc])}}),t}(),Oc=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new vn,new gn]]}}}]),t}();return t.\u0275prov=v({token:t,providedIn:"root",factory:function(){return new t([new Cc])}}),t}();function Pc(t,e,n,i){for(var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=e[n.index];if(null!==o&&i.push(At(o)),st(o))for(var a=10;a<o.length;a++){var s=o[a],c=s[1].firstChild;null!==c&&Pc(s[1],s,c,i)}var l=n.type;if(8&l)Pc(t,e,n.child,i);else if(32&l)for(var u=Ai(n,e),h=void 0;h=u();)i.push(h);else if(16&l){var d=e[16],p=d[6].projection[n.projection];if(Array.isArray(p))i.push.apply(i,_toConsumableArray(p));else{var f=Ti(d);Pc(f[1],f,p,i,!0)}}n=r?n.projectionNext:n.next}return i}var kc=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return _createClass(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Pc(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(st(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Fi(t,n),ln(e,n))}this._attachedToViewContainer=!1}qi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){Ur(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){so(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){co(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){Jt(!0);try{co(t,e,n)}finally{Jt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,rr(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),Ac=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t))._view=t,i}return _createClass(n,[{key:"detectChanges",value:function(){lo(this._view)}},{key:"checkNoChanges",value:function(){!function(t){Jt(!0);try{lo(t)}finally{Jt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(kc),Tc=Ec,Sc=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=Tc,t.__ChangeDetectorRef__=!0,t}();function Ec(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&lt(t)){var i=Rt(t.index,e);return new kc(i,i)}return 47&t.type?new kc(e[16],e):null}(Wt(),Ut(),t)}var Ic=[new Cc],Rc=new Mc([new fc]),Dc=new Oc(Ic),Nc=function(){return jc(Wt(),Ut())},Lc=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=Nc,t}(),zc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=i,o.elementRef=r,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Tr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),Rr(e,n,t),new kc(n)}}]),n}(Lc);function jc(t,e){return 4&t.type?new zc(e,t,oc(t,e)):null}var Fc=function t(){_classCallCheck(this,t)},qc=function t(){_classCallCheck(this,t)},Bc=function(){return Gc(Wt(),Ut())},Uc=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=Bc,t}(),Hc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=i,o._hostLView=r,o}return _createClass(n,[{key:"element",get:function(){return oc(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new $e(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Fe(this._hostTNode,this._hostLView);if(Se(t)){var e=Ie(t,this._hostLView),n=Ee(t);return new $e(e[1].data[n+8],e)}return new $e(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=Vc(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i}},{key:"createComponent",value:function(t,e,n,i,r){var o=n||this.parentInjector;if(!r&&null==t.ngModule&&o){var a=o.get(Fc,null);a&&(r=a)}var s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var i=t._lView,r=i[1];if(st(i[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=i[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var c=this._adjustIndex(e),l=this._lContainer;!function(t,e,n,i){var r=10+i,o=n.length;i>0&&(n[r-1][4]=e),i<o-10?(e[4]=n[r],cn(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,i,l,c);var u=er(c,l),h=i[11],d=Qi(h,l[7]);return null!==d&&function(t,e,n,i,r,o){i[0]=r,i[6]=e,rr(t,i,n,1,r,o)}(r,l[6],h,i,d,u),t.attachToViewContainerRef(),cn(Wc(l),c,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=Vc(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Fi(this._lContainer,e);n&&(ln(Wc(this._lContainer),e),qi(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Fi(this._lContainer,e);return n&&null!=ln(Wc(this._lContainer),e)?new kc(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(Uc);function Vc(t){return t[8]}function Wc(t){return t[8]||(t[8]=[])}function Gc(t,e){var n,i=e[t.index];if(st(i))n=i;else{var r;if(8&t.type)r=At(i);else{var o=e[11];r=o.createComment("");var a=St(t,e);Vi(o,Qi(o,a),r,function(t,e){return Pt(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=no(i,e,r,t),ao(e,n)}return new Hc(n,t,e)}var Qc={},Yc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).ngModule=t,i}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=rt(t);return new $c(e,this.ngModule)}}]),n}(ic);function Kc(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Xc=new nn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return wi}}),$c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).componentDef=t,r.ngModule=i,r.componentType=t.type,r.selector=t.selectors.map(br).join(","),r.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],r.isBoundToModule=!!i,r}return _createClass(n,[{key:"inputs",get:function(){return Kc(this.componentDef.inputs)}},{key:"outputs",get:function(){return Kc(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,i){var r,o,a=(i=i||this.ngModule)?function(t,e){return{get:function(n,i,r){var o=t.get(n,Qc,r);return o!==Qc||i===Qc?o:e.get(n,i,r)}}}(t,i.injector):t,s=a.get(cc,kt),c=a.get(hc,null),l=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Pt(t))return t.selectRootElement(e,n===I.ShadowDom);var i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(l,n,this.componentDef.encapsulation):zi(s.createRenderer(null,this.componentDef),u,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),d=this.componentDef.onPush?576:528,p={components:[],scheduler:wi,clean:ho,playerHandler:null,flags:0},f=Br(0,null,null,1,0,null,null,null,null,null),g=Tr(null,f,p,d,null,null,s,l,c,a);le(g);try{var m=function(t,e,n,i,r,o){var a=n[1];n[20]=t;var s=Sr(a,20,2,"#host",null),c=s.mergedAttrs=e.hostAttrs;null!==c&&(bo(s,c,!0),null!==t&&(Oe(r,t,c),null!==s.classes&&sr(r,t,s.classes),null!==s.styles&&ar(r,t,s.styles)));var l=i.createRenderer(t,e),u=Tr(n,qr(e),null,e.onPush?64:16,n[20],s,i,l,null,null);return a.firstCreatePass&&(qe(Le(s,n),a,e.type),Yr(a,s),Xr(s,n.length,1)),ao(n,u),n[20]=u}(h,this.componentDef,g,s,l);if(h)if(n)Oe(l,h,["ng-version",pc.full]);else{var v=function(t){for(var e=[],n=[],i=1,r=2;i<t.length;){var o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!pr(r))break;r=o}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),b=v.attrs,_=v.classes;b&&Oe(l,h,b),_&&_.length>0&&sr(l,h,_.join(" "))}if(o=Et(f,20),void 0!==e)for(var y=o.projection=[],C=0;C<this.ngContentSelectors.length;C++){var x=e[C];y.push(null!=x?Array.from(x):null)}r=function(t,e,n,i,r){var o=n[1],a=function(t,e,n){var i=Wt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),$r(t,i,e,Ir(t,e,1,null),n));var r=Ye(e,t,i.directiveStart,i);xi(r,e);var o=St(i,e);return o&&xi(o,e),r}(o,n,e);if(i.components.push(a),t[8]=a,r&&r.forEach(function(t){return t(a,e)}),e.contentQueries){var s=Wt();e.contentQueries(1,a,s.directiveStart)}var c=Wt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(me(c.index),Gr(n[1],c,0,c.directiveStart,c.directiveEnd,e),Qr(e,a)),a}(m,this.componentDef,g,p,[Lo]),Rr(f,g,null)}finally{fe()}return new Jc(this.componentType,r,oc(o,g),g,o)}}]),n}(ec),Jc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a){var s;return _classCallCheck(this,n),(s=e.call(this)).location=r,s._rootLView=o,s._tNode=a,s.instance=i,s.hostView=s.changeDetectorRef=new Ac(o),s.componentType=t,s}return _createClass(n,[{key:"injector",get:function(){return new $e(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),Zc=new Map,tl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;_classCallCheck(this,n),(r=e.call(this))._parent=i,r._bootstrapComponents=[],r.injector=_assertThisInitialized(r),r.destroyCbs=[],r.componentFactoryResolver=new Yc(_assertThisInitialized(r));var o=ot(t),a=t[V]||null;return a&&ss(a),r._bootstrapComponents=Oi(o.bootstrap),r._r3Injector=ko(t,i,[{provide:Fc,useValue:_assertThisInitialized(r)},{provide:ic,useValue:r.componentFactoryResolver}],u(t)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(t),r}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:No.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;return t===No||t===Fc||t===_o?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Fc),el=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r,o;return _classCallCheck(this,n),(i=e.call(this)).moduleType=t,null!==ot(t)&&(r=t,o=new Set,function t(e){var n=ot(e,!0),i=n.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(u(e)," vs ").concat(u(e.name)))}(i,Zc.get(i),e),Zc.set(i,e));var r,a=_createForOfIteratorHelper(Oi(n.imports));try{for(a.s();!(r=a.n()).done;){var s=r.value;o.has(s)||(o.add(s),t(s))}}catch(c){a.e(c)}finally{a.f()}}(r)),i}return _createClass(n,[{key:"create",value:function(t){return new tl(this.moduleType,t)}}]),n}(qc);function nl(t,e,n,i){return al(Ut(),Zt(),t,e,n,i)}function il(t,e,n,i,r){return function(t,e,n,i,r,o,a){var s=e+n;return Ko(t,s,r,o)?Qo(t,s+2,a?i.call(a,r,o):i(r,o)):ol(t,s+2)}(Ut(),Zt(),t,e,n,i,r)}function rl(t,e,n,i,r,o){return function(t,e,n,i,r,o,a,s){var c=e+n;return function(t,e,n,i,r){var o=Ko(t,e,n,i);return Yo(t,e+2,r)||o}(t,c,r,o,a)?Qo(t,c+3,s?i.call(s,r,o,a):i(r,o,a)):ol(t,c+3)}(Ut(),Zt(),t,e,n,i,r,o)}function ol(t,e){var n=t[e];return n===_r?void 0:n}function al(t,e,n,i,r,o){var a=e+n;return Yo(t,a,r)?Qo(t,a+1,o?i.call(o,r):i(r)):ol(t,a+1)}function sl(t,e){var n,i=Ht(),r=t+20;i.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var i=e[n];if(t===i.name)return i}throw new pt("302","The pipe '".concat(t,"' could not be found!"))}(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var o=n.factory||(n.factory=dt(n.type)),a=A(ta);try{var s=De(!1),c=o();return De(s),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(i,Ut(),r,c),c}finally{A(a)}}function cl(t,e,n){var i=t+20,r=Ut(),o=It(r,i);return function(t,e){return Vo.isWrapped(e)&&(e=Vo.unwrap(e),t[te()]=_r),e}(r,function(t,e){return t[1].data[e].pure}(r,i)?al(r,Zt(),e,o.transform,n,o):o.transform(n))}var ll=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=i,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,i){var o,a=function(t){return null},s=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(a=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(a=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),i&&(s=this.__isAsync?function(){setTimeout(function(){return i()})}:function(){i()}));var c=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return t instanceof r.a&&t.add(c),c}}]),n}(i.a);function ul(){return this._results[Ho()]()}var hl=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new ll,this.length=0;var e=Ho(),n=t.prototype;n[e]||(n[e]=ul)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=an(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),dl=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),pl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var i=null!==e.contentQueries?e.contentQueries[0]:n.length,r=[],o=0;o<i;o++){var a=n.getByIndex(o);r.push(this.queries[a.indexInDeclarationView].clone())}return new t(r)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==El(t,e).matches&&this.queries[e].setDirty()}}]),t}(),fl=function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=i,this.read=r},gl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),ml=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var i=0;i<n.length;i++){var r=n[i];this.matchTNodeWithReadOption(t,e,vl(e,r)),this.matchTNodeWithReadOption(t,e,Qe(e,t,r,!1,!1))}else n===Lc?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Qe(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===sc||i===Uc||i===Lc&&4&e.type)this.addMatch(e.index,-2);else{var r=Qe(e,t,i,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function vl(t,e){var n=t.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function bl(t,e,n,i){return-1===n?function(t,e){return 11&t.type?oc(t,e):4&t.type?jc(t,e):null}(e,t):-2===n?function(t,e,n){return n===sc?oc(e,t):n===Lc?jc(e,t):n===Uc?Gc(e,t):void 0}(t,e,i):Ye(t,t[1],n,e)}function _l(t,e,n,i){var r=e[19].queries[i];if(null===r.matches){for(var o=t.data,a=n.matches,s=[],c=0;c<a.length;c+=2){var l=a[c];s.push(l<0?null:bl(e,o[l],a[c+1],n.metadata.read))}r.matches=s}return r.matches}function yl(t,e,n,i){var r=t.queries.getByIndex(n),o=r.matches;if(null!==o)for(var a=_l(t,e,r,n),s=0;s<o.length;s+=2){var c=o[s];if(c>0)i.push(a[s/2]);else{for(var l=o[s+1],u=e[-c],h=10;h<u.length;h++){var d=u[h];d[17]===d[3]&&yl(d[1],d,l,i)}if(null!==u[9])for(var p=u[9],f=0;f<p.length;f++){var g=p[f];yl(g[1],g,l,i)}}}return i}function Cl(t){var e=Ut(),n=Ht(),i=oe();ae(i+1);var r=El(n,i);if(t.dirty&&Nt(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{var o=r.crossesNgTemplate?yl(n,e,i,[]):_l(n,e,r,i);t.reset(o),t.notifyOnChanges()}return!0}return!1}function xl(t,e,n){Ml(Ht(),Ut(),t,e,n,!0)}function wl(t,e,n){Ml(Ht(),Ut(),t,e,n,!1)}function Ml(t,e,n,i,r,o){t.firstCreatePass&&(Sl(t,new fl(n,i,o,r),-1),o&&(t.staticViewQueries=!0)),Tl(t,e)}function Ol(t,e,n,i){kl(Ht(),Ut(),e,n,i,!1,Wt(),t)}function Pl(t,e,n,i){kl(Ht(),Ut(),e,n,i,!0,Wt(),t)}function kl(t,e,n,i,r,o,a,s){t.firstCreatePass&&(Sl(t,new fl(n,i,o,r),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s),o&&(t.staticContentQueries=!0)),Tl(t,e)}function Al(){return t=Ut(),e=oe(),t[19].queries[e].queryList;var t,e}function Tl(t,e){var n=new hl;Ur(t,e,n,n.destroy),null===e[19]&&(e[19]=new pl),e[19].queries.push(new dl(n))}function Sl(t,e,n){null===t.queries&&(t.queries=new gl),t.queries.track(new ml(e,n))}function El(t,e){return t.queries.getByIndex(e)}function Il(t,e){return jc(t,e)}function Rl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.Default,e=Ec(!0);if(null!=e||t&k.Optional)return e;mt("ChangeDetectorRef")}var Dl=new nn("Application Initializer"),Nl=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.resolve=rc,this.reject=rc,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();la(r)&&e.push(r)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(On(Dl,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t}(),Ll=new nn("AppId"),zl={provide:Ll,useFactory:function(){return"".concat(jl()).concat(jl()).concat(jl())},deps:[]};function jl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Fl=new nn("Platform Initializer"),ql=new nn("Platform ID"),Bl=new nn("appBootstrapListener"),Ul=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t}(),Hl=new nn("LocaleId"),Vl=new nn("DefaultCurrencyCode"),Wl=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},Gl=function(t){return new el(t)},Ql=Gl,Yl=function(t){return Promise.resolve(Gl(t))},Kl=function(t){var e=Gl(t),n=Oi(ot(t).declarations).reduce(function(t,e){var n=rt(e);return n&&t.push(new $c(n)),t},[]);return new Wl(e,n)},Xl=Kl,$l=function(t){return Promise.resolve(Kl(t))},Jl=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=Ql,this.compileModuleAsync=Yl,this.compileModuleAndAllComponentsSync=Xl,this.compileModuleAndAllComponentsAsync=$l}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t}(),Zl=Promise.resolve(0);function tu(t){"undefined"==typeof Zone?Zl.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var eu=function(){function t(e){var n,i,r=e.enableLongStackTrace,o=void 0!==r&&r,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ll(!1),this.onMicrotaskEmpty=new ll(!1),this.onStable=new ll(!1),this.onError=new ll(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,i=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,ru(t),iu(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),ru(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:i},onInvokeTask:function(t,e,r,o,a,s){try{return ou(n),t.invokeTask(r,o,a,s)}finally{i&&"eventTask"===o.type&&i(),au(n)}},onInvoke:function(t,e,i,r,o,a,s){try{return ou(n),t.invoke(i,r,o,a,s)}finally{au(n)}},onHasTask:function(t,e,i,r){t.hasTask(i,r),e===i&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,ru(n),iu(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,e,i,r){return t.handleError(i,r),n.runOutsideAngular(function(){return n.onError.emit(r)}),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,nu,rc,rc);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),nu={};function iu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function ru(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ou(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function au(t){t._nesting--,iu(t)}var su=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ll,this.onMicrotaskEmpty=new ll,this.onStable=new ll,this.onError=new ll}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,i){return t.apply(e,n)}}]),t}(),cu=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){eu.assertNotInAngularZone(),tu(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())tu(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var i=this,r=-1;e&&e>0&&(r=setTimeout(function(){i._callbacks=i._callbacks.filter(function(t){return t.timeoutId!==r}),t(i._didWork,i.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(On(eu))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t}(),lu=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,du.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return du.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t}();function uu(t){du=t}var hu,du=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),pu=!0,fu=!1;function gu(){return fu=!0,pu}function mu(){if(fu)throw new Error("Cannot enable prod mode after platform setup.");pu=!1}var vu=new nn("AllowMultipleToken"),bu=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function _u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: "+e,r=new nn(i);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=yu();if(!o||o.injector.get(vu,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{var a=n.concat(e).concat({provide:r,useValue:!0},{provide:Co,useValue:"platform"});!function(t){if(hu&&!hu.destroyed&&!hu.injector.get(vu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");hu=t.get(Cu);var e=t.get(Fl,null);e&&e.forEach(function(t){return t()})}(No.create({providers:a,name:i}))}return function(t){var e=yu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function yu(){return hu&&!hu.destroyed?hu:null}var Cu=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,i,r=this,o=(n=e?e.ngZone:void 0,i=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new su:("zone.js"===n?void 0:n)||new eu({enableLongStackTrace:gu(),shouldCoalesceEventChangeDetection:i})),a=[{provide:eu,useValue:o}];return o.run(function(){var e=No.create({providers:a,parent:r.injector,name:t.moduleType.name}),n=t.create(e),i=n.injector.get(yi,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){i.handleError(t)}});n.onDestroy(function(){Mu(r._modules,n),t.unsubscribe()})}),function(t,e,i){try{var o=((a=n.injector.get(Nl)).runInitializers(),a.donePromise.then(function(){return ss(n.injector.get(Hl,"en-US")||"en-US"),r._moduleDoBootstrap(n),n}));return la(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(i,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=xu({},n);return function(t,e,n){var i=new el(n);return Promise.resolve(i)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,i)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(wu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(u(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(On(No))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t}();function xu(t,e){return Array.isArray(e)?e.reduce(xu,t):Object.assign(Object.assign({},t),e)}var wu=function(){var t=function(){function t(e,n,i,r,c,l){var u=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=c,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){u._zone.run(function(){u.tick()})}});var h=new o.a(function(t){u._stable=u._zone.isStable&&!u._zone.hasPendingMacrotasks&&!u._zone.hasPendingMicrotasks,u._zone.runOutsideAngular(function(){t.next(u._stable),t.complete()})}),d=new o.a(function(t){var e;u._zone.runOutsideAngular(function(){e=u._zone.onStable.subscribe(function(){eu.assertNotInAngularZone(),tu(function(){u._stable||u._zone.hasPendingMacrotasks||u._zone.hasPendingMicrotasks||(u._stable=!0,t.next(!0))})})});var n=u._zone.onUnstable.subscribe(function(){eu.assertInAngularZone(),u._stable&&(u._stable=!1,u._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(a.a)(h,d.pipe(Object(s.a)()))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ec?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(Fc),o=n.create(No.NULL,[],e||n.selector,r),a=o.location.nativeElement,s=o.injector.get(cu,null),c=s&&o.injector.get(lu);return s&&c&&c.registerApplication(a,s),o.onDestroy(function(){i.detachView(o.hostView),Mu(i.components,o),c&&c.unregisterApplication(a)}),this._loadComponent(o),gu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(i){n.e(i)}finally{n.f()}}catch(r){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(r)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Mu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Bl,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(On(eu),On(Ul),On(No),On(yi),On(ic),On(Nl))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t}();function Mu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Ou=function t(){_classCallCheck(this,t)},Pu=function t(){_classCallCheck(this,t)},ku={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Au=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||ku}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,i=_slicedToArray(t.split("#"),2),r=i[0],o=i[1];return void 0===o&&(o="default"),n("zn8P")(r).then(function(t){return t[o]}).then(function(t){return Tu(t,r,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),i=e[0],r=e[1],o="NgFactory";return void 0===r&&(r="default",o=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[r+o]}).then(function(t){return Tu(t,i,r)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(On(Jl),On(Pu,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t}();function Tu(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Su=function(t){return null},Eu=_u(null,"core",[{provide:ql,useValue:"unknown"},{provide:Cu,deps:[No]},{provide:lu,deps:[]},{provide:Ul,deps:[]}]),Iu=[{provide:wu,useClass:wu,deps:[eu,Ul,No,yi,ic,Nl]},{provide:Xc,deps:[eu],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Nl,useClass:Nl,deps:[[new gn,Dl]]},{provide:Jl,useClass:Jl,deps:[]},zl,{provide:Mc,useFactory:function(){return Rc},deps:[]},{provide:Oc,useFactory:function(){return Dc},deps:[]},{provide:Hl,useFactory:function(t){return ss(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new fn(Hl),new gn,new vn]]},{provide:Vl,useValue:"USD"}],Ru=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=Z({type:t}),t.\u0275inj=b({factory:function(e){return new(e||t)(On(wu))},providers:Iu}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("2fFW"),r=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete:function(){}}},gpNT:function(t,e,n){"use strict";n.r(e),e.default='/*!\n * jQuery UI CSS Framework 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/theming/\n */\n.ui-draggable-handle {\n\ttouch-action: none;\n}\n/* Layout helpers\n----------------------------------*/\n.ui-helper-hidden {\n\tdisplay: none;\n}\n.ui-helper-hidden-accessible {\n\tborder: 0;\n\tclip: rect(0 0 0 0);\n\theight: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\twidth: 1px;\n}\n.ui-helper-reset {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\toutline: 0;\n\tline-height: 1.3;\n\ttext-decoration: none;\n\tfont-size: 100%;\n\tlist-style: none;\n}\n.ui-helper-clearfix:before,\n.ui-helper-clearfix:after {\n\tcontent: "";\n\tdisplay: table;\n\tborder-collapse: collapse;\n}\n.ui-helper-clearfix:after {\n\tclear: both;\n}\n.ui-helper-zfix {\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tposition: absolute;\n\topacity: 0;\n\tfilter:Alpha(Opacity=0); /* support: IE8 */\n}\n.ui-front {\n\tz-index: 100;\n}\n/* Interaction Cues\n----------------------------------*/\n.ui-state-disabled {\n\tcursor: default !important;\n\tpointer-events: none;\n}\n/* Icons\n----------------------------------*/\n.ui-icon {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tmargin-top: -.25em;\n\tposition: relative;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n}\n.ui-widget-icon-block {\n\tleft: 50%;\n\tmargin-left: -8px;\n\tdisplay: block;\n}\n/* Misc visuals\n----------------------------------*/\n/* Overlays */\n.ui-widget-overlay {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n.ui-resizable {\n\tposition: relative;\n}\n.ui-resizable-handle {\n\tposition: absolute;\n\tfont-size: 0.1px;\n\tdisplay: block;\n\ttouch-action: none;\n}\n.ui-resizable-disabled .ui-resizable-handle,\n.ui-resizable-autohide .ui-resizable-handle {\n\tdisplay: none;\n}\n.ui-resizable-n {\n\tcursor: n-resize;\n\theight: 7px;\n\twidth: 100%;\n\ttop: -5px;\n\tleft: 0;\n}\n.ui-resizable-s {\n\tcursor: s-resize;\n\theight: 7px;\n\twidth: 100%;\n\tbottom: -5px;\n\tleft: 0;\n}\n.ui-resizable-e {\n\tcursor: e-resize;\n\twidth: 7px;\n\tright: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n.ui-resizable-w {\n\tcursor: w-resize;\n\twidth: 7px;\n\tleft: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n.ui-resizable-se {\n\tcursor: se-resize;\n\twidth: 12px;\n\theight: 12px;\n\tright: 1px;\n\tbottom: 1px;\n}\n.ui-resizable-sw {\n\tcursor: sw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\tbottom: -5px;\n}\n.ui-resizable-nw {\n\tcursor: nw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\ttop: -5px;\n}\n.ui-resizable-ne {\n\tcursor: ne-resize;\n\twidth: 9px;\n\theight: 9px;\n\tright: -5px;\n\ttop: -5px;\n}\n.ui-selectable {\n\ttouch-action: none;\n}\n.ui-selectable-helper {\n\tposition: absolute;\n\tz-index: 100;\n\tborder: 1px dotted black;\n}\n.ui-sortable-handle {\n\ttouch-action: none;\n}\n.ui-accordion .ui-accordion-header {\n\tdisplay: block;\n\tcursor: pointer;\n\tposition: relative;\n\tmargin: 2px 0 0 0;\n\tpadding: .5em .5em .5em .7em;\n\tfont-size: 100%;\n}\n.ui-accordion .ui-accordion-content {\n\tpadding: 1em 2.2em;\n\tborder-top: 0;\n\toverflow: auto;\n}\n.ui-autocomplete {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcursor: default;\n}\n.ui-menu {\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0;\n\tdisplay: block;\n\toutline: 0;\n}\n.ui-menu .ui-menu {\n\tposition: absolute;\n}\n.ui-menu .ui-menu-item {\n\tmargin: 0;\n\tcursor: pointer;\n\t/* support: IE10, see #8844 */\n\tlist-style-image: url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");\n}\n.ui-menu .ui-menu-item-wrapper {\n\tposition: relative;\n\tpadding: 3px 1em 3px .4em;\n}\n.ui-menu .ui-menu-divider {\n\tmargin: 5px 0;\n\theight: 0;\n\tfont-size: 0;\n\tline-height: 0;\n\tborder-width: 1px 0 0 0;\n}\n.ui-menu .ui-state-focus,\n.ui-menu .ui-state-active {\n\tmargin: -1px;\n}\n/* icon support */\n.ui-menu-icons {\n\tposition: relative;\n}\n.ui-menu-icons .ui-menu-item-wrapper {\n\tpadding-left: 2em;\n}\n/* left-aligned */\n.ui-menu .ui-icon {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tleft: .2em;\n\tmargin: auto 0;\n}\n/* right-aligned */\n.ui-menu .ui-menu-icon {\n\tleft: auto;\n\tright: 0;\n}\n.ui-button {\n\tpadding: .4em 1em;\n\tdisplay: inline-block;\n\tposition: relative;\n\tline-height: normal;\n\tmargin-right: .1em;\n\tcursor: pointer;\n\tvertical-align: middle;\n\ttext-align: center;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\tuser-select: none;\n\n\t/* Support: IE <= 11 */\n\toverflow: visible;\n}\n.ui-button,\n.ui-button:link,\n.ui-button:visited,\n.ui-button:hover,\n.ui-button:active {\n\ttext-decoration: none;\n}\n/* to make room for the icon, a width needs to be set here */\n.ui-button-icon-only {\n\twidth: 2em;\n\tbox-sizing: border-box;\n\ttext-indent: -9999px;\n\twhite-space: nowrap;\n}\n/* no icon support for input elements */\ninput.ui-button.ui-button-icon-only {\n\ttext-indent: 0;\n}\n/* button icon element(s) */\n.ui-button-icon-only .ui-icon {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\tmargin-top: -8px;\n\tmargin-left: -8px;\n}\n.ui-button.ui-icon-notext .ui-icon {\n\tpadding: 0;\n\twidth: 2.1em;\n\theight: 2.1em;\n\ttext-indent: -9999px;\n\twhite-space: nowrap;\n\n}\ninput.ui-button.ui-icon-notext .ui-icon {\n\twidth: auto;\n\theight: auto;\n\ttext-indent: 0;\n\twhite-space: normal;\n\tpadding: .4em 1em;\n}\n/* workarounds */\n/* Support: Firefox 5 - 40 */\ninput.ui-button::-moz-focus-inner,\nbutton.ui-button::-moz-focus-inner {\n\tborder: 0;\n\tpadding: 0;\n}\n.ui-controlgroup {\n\tvertical-align: middle;\n\tdisplay: inline-block;\n}\n.ui-controlgroup > .ui-controlgroup-item {\n\tfloat: left;\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n.ui-controlgroup > .ui-controlgroup-item:focus,\n.ui-controlgroup > .ui-controlgroup-item.ui-visual-focus {\n\tz-index: 9999;\n}\n.ui-controlgroup-vertical > .ui-controlgroup-item {\n\tdisplay: block;\n\tfloat: none;\n\twidth: 100%;\n\tmargin-top: 0;\n\tmargin-bottom: 0;\n\ttext-align: left;\n}\n.ui-controlgroup-vertical .ui-controlgroup-item {\n\tbox-sizing: border-box;\n}\n.ui-controlgroup .ui-controlgroup-label {\n\tpadding: .4em 1em;\n}\n.ui-controlgroup .ui-controlgroup-label span {\n\tfont-size: 80%;\n}\n.ui-controlgroup-horizontal .ui-controlgroup-label + .ui-controlgroup-item {\n\tborder-left: none;\n}\n.ui-controlgroup-vertical .ui-controlgroup-label + .ui-controlgroup-item {\n\tborder-top: none;\n}\n.ui-controlgroup-horizontal .ui-controlgroup-label.ui-widget-content {\n\tborder-right: none;\n}\n.ui-controlgroup-vertical .ui-controlgroup-label.ui-widget-content {\n\tborder-bottom: none;\n}\n/* Spinner specific style fixes */\n.ui-controlgroup-vertical .ui-spinner-input {\n\n\t/* Support: IE8 only, Android < 4.4 only */\n\twidth: 75%;\n\twidth: calc( 100% - 2.4em );\n}\n.ui-controlgroup-vertical .ui-spinner .ui-spinner-up {\n\tborder-top-style: solid;\n}\n.ui-checkboxradio-label .ui-icon-background {\n\tbox-shadow: inset 1px 1px 1px #ccc;\n\tborder-radius: .12em;\n\tborder: none;\n}\n.ui-checkboxradio-radio-label .ui-icon-background {\n\twidth: 16px;\n\theight: 16px;\n\tborder-radius: 1em;\n\toverflow: visible;\n\tborder: none;\n}\n.ui-checkboxradio-radio-label.ui-checkboxradio-checked .ui-icon,\n.ui-checkboxradio-radio-label.ui-checkboxradio-checked:hover .ui-icon {\n\tbackground-image: none;\n\twidth: 8px;\n\theight: 8px;\n\tborder-width: 4px;\n\tborder-style: solid;\n}\n.ui-checkboxradio-disabled {\n\tpointer-events: none;\n}\n.ui-datepicker {\n\twidth: 17em;\n\tpadding: .2em .2em 0;\n\tdisplay: none;\n}\n.ui-datepicker .ui-datepicker-header {\n\tposition: relative;\n\tpadding: .2em 0;\n}\n.ui-datepicker .ui-datepicker-prev,\n.ui-datepicker .ui-datepicker-next {\n\tposition: absolute;\n\ttop: 2px;\n\twidth: 1.8em;\n\theight: 1.8em;\n}\n.ui-datepicker .ui-datepicker-prev-hover,\n.ui-datepicker .ui-datepicker-next-hover {\n\ttop: 1px;\n}\n.ui-datepicker .ui-datepicker-prev {\n\tleft: 2px;\n}\n.ui-datepicker .ui-datepicker-next {\n\tright: 2px;\n}\n.ui-datepicker .ui-datepicker-prev-hover {\n\tleft: 1px;\n}\n.ui-datepicker .ui-datepicker-next-hover {\n\tright: 1px;\n}\n.ui-datepicker .ui-datepicker-prev span,\n.ui-datepicker .ui-datepicker-next span {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 50%;\n\tmargin-left: -8px;\n\ttop: 50%;\n\tmargin-top: -8px;\n}\n.ui-datepicker .ui-datepicker-title {\n\tmargin: 0 2.3em;\n\tline-height: 1.8em;\n\ttext-align: center;\n}\n.ui-datepicker .ui-datepicker-title select {\n\tfont-size: 1em;\n\tmargin: 1px 0;\n}\n.ui-datepicker select.ui-datepicker-month,\n.ui-datepicker select.ui-datepicker-year {\n\twidth: 45%;\n}\n.ui-datepicker table {\n\twidth: 100%;\n\tfont-size: .9em;\n\tborder-collapse: collapse;\n\tmargin: 0 0 .4em;\n}\n.ui-datepicker th {\n\tpadding: .7em .3em;\n\ttext-align: center;\n\tfont-weight: bold;\n\tborder: 0;\n}\n.ui-datepicker td {\n\tborder: 0;\n\tpadding: 1px;\n}\n.ui-datepicker td span,\n.ui-datepicker td a {\n\tdisplay: block;\n\tpadding: .2em;\n\ttext-align: right;\n\ttext-decoration: none;\n}\n.ui-datepicker .ui-datepicker-buttonpane {\n\tbackground-image: none;\n\tmargin: .7em 0 0 0;\n\tpadding: 0 .2em;\n\tborder-left: 0;\n\tborder-right: 0;\n\tborder-bottom: 0;\n}\n.ui-datepicker .ui-datepicker-buttonpane button {\n\tfloat: right;\n\tmargin: .5em .2em .4em;\n\tcursor: pointer;\n\tpadding: .2em .6em .3em .6em;\n\twidth: auto;\n\toverflow: visible;\n}\n.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current {\n\tfloat: left;\n}\n/* with multiple calendars */\n.ui-datepicker.ui-datepicker-multi {\n\twidth: auto;\n}\n.ui-datepicker-multi .ui-datepicker-group {\n\tfloat: left;\n}\n.ui-datepicker-multi .ui-datepicker-group table {\n\twidth: 95%;\n\tmargin: 0 auto .4em;\n}\n.ui-datepicker-multi-2 .ui-datepicker-group {\n\twidth: 50%;\n}\n.ui-datepicker-multi-3 .ui-datepicker-group {\n\twidth: 33.3%;\n}\n.ui-datepicker-multi-4 .ui-datepicker-group {\n\twidth: 25%;\n}\n.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-left-width: 0;\n}\n.ui-datepicker-multi .ui-datepicker-buttonpane {\n\tclear: left;\n}\n.ui-datepicker-row-break {\n\tclear: both;\n\twidth: 100%;\n\tfont-size: 0;\n}\n/* RTL support */\n.ui-datepicker-rtl {\n\tdirection: rtl;\n}\n.ui-datepicker-rtl .ui-datepicker-prev {\n\tright: 2px;\n\tleft: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-next {\n\tleft: 2px;\n\tright: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-prev:hover {\n\tright: 1px;\n\tleft: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-next:hover {\n\tleft: 1px;\n\tright: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane {\n\tclear: right;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane button {\n\tfloat: left;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,\n.ui-datepicker-rtl .ui-datepicker-group {\n\tfloat: right;\n}\n.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-right-width: 0;\n\tborder-left-width: 1px;\n}\n/* Icons */\n.ui-datepicker .ui-icon {\n\tdisplay: block;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n\tleft: .5em;\n\ttop: .3em;\n}\n.ui-dialog {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tpadding: .2em;\n\toutline: 0;\n}\n.ui-dialog .ui-dialog-titlebar {\n\tpadding: .4em 1em;\n\tposition: relative;\n}\n.ui-dialog .ui-dialog-title {\n\tfloat: left;\n\tmargin: .1em 0;\n\twhite-space: nowrap;\n\twidth: 90%;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n.ui-dialog .ui-dialog-titlebar-close {\n\tposition: absolute;\n\tright: .3em;\n\ttop: 50%;\n\twidth: 20px;\n\tmargin: -10px 0 0 0;\n\tpadding: 1px;\n\theight: 20px;\n}\n.ui-dialog .ui-dialog-content {\n\tposition: relative;\n\tborder: 0;\n\tpadding: .5em 1em;\n\tbackground: none;\n\toverflow: auto;\n}\n.ui-dialog .ui-dialog-buttonpane {\n\ttext-align: left;\n\tborder-width: 1px 0 0 0;\n\tbackground-image: none;\n\tmargin-top: .5em;\n\tpadding: .3em 1em .5em .4em;\n}\n.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset {\n\tfloat: right;\n}\n.ui-dialog .ui-dialog-buttonpane button {\n\tmargin: .5em .4em .5em 0;\n\tcursor: pointer;\n}\n.ui-dialog .ui-resizable-n {\n\theight: 2px;\n\ttop: 0;\n}\n.ui-dialog .ui-resizable-e {\n\twidth: 2px;\n\tright: 0;\n}\n.ui-dialog .ui-resizable-s {\n\theight: 2px;\n\tbottom: 0;\n}\n.ui-dialog .ui-resizable-w {\n\twidth: 2px;\n\tleft: 0;\n}\n.ui-dialog .ui-resizable-se,\n.ui-dialog .ui-resizable-sw,\n.ui-dialog .ui-resizable-ne,\n.ui-dialog .ui-resizable-nw {\n\twidth: 7px;\n\theight: 7px;\n}\n.ui-dialog .ui-resizable-se {\n\tright: 0;\n\tbottom: 0;\n}\n.ui-dialog .ui-resizable-sw {\n\tleft: 0;\n\tbottom: 0;\n}\n.ui-dialog .ui-resizable-ne {\n\tright: 0;\n\ttop: 0;\n}\n.ui-dialog .ui-resizable-nw {\n\tleft: 0;\n\ttop: 0;\n}\n.ui-draggable .ui-dialog-titlebar {\n\tcursor: move;\n}\n.ui-progressbar {\n\theight: 2em;\n\ttext-align: left;\n\toverflow: hidden;\n}\n.ui-progressbar .ui-progressbar-value {\n\tmargin: -1px;\n\theight: 100%;\n}\n.ui-progressbar .ui-progressbar-overlay {\n\tbackground: url("data:image/gif;base64,R0lGODlhKAAoAIABAAAAAP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAQABACwAAAAAKAAoAAACkYwNqXrdC52DS06a7MFZI+4FHBCKoDeWKXqymPqGqxvJrXZbMx7Ttc+w9XgU2FB3lOyQRWET2IFGiU9m1frDVpxZZc6bfHwv4c1YXP6k1Vdy292Fb6UkuvFtXpvWSzA+HycXJHUXiGYIiMg2R6W459gnWGfHNdjIqDWVqemH2ekpObkpOlppWUqZiqr6edqqWQAAIfkECQEAAQAsAAAAACgAKAAAApSMgZnGfaqcg1E2uuzDmmHUBR8Qil95hiPKqWn3aqtLsS18y7G1SzNeowWBENtQd+T1JktP05nzPTdJZlR6vUxNWWjV+vUWhWNkWFwxl9VpZRedYcflIOLafaa28XdsH/ynlcc1uPVDZxQIR0K25+cICCmoqCe5mGhZOfeYSUh5yJcJyrkZWWpaR8doJ2o4NYq62lAAACH5BAkBAAEALAAAAAAoACgAAAKVDI4Yy22ZnINRNqosw0Bv7i1gyHUkFj7oSaWlu3ovC8GxNso5fluz3qLVhBVeT/Lz7ZTHyxL5dDalQWPVOsQWtRnuwXaFTj9jVVh8pma9JjZ4zYSj5ZOyma7uuolffh+IR5aW97cHuBUXKGKXlKjn+DiHWMcYJah4N0lYCMlJOXipGRr5qdgoSTrqWSq6WFl2ypoaUAAAIfkECQEAAQAsAAAAACgAKAAAApaEb6HLgd/iO7FNWtcFWe+ufODGjRfoiJ2akShbueb0wtI50zm02pbvwfWEMWBQ1zKGlLIhskiEPm9R6vRXxV4ZzWT2yHOGpWMyorblKlNp8HmHEb/lCXjcW7bmtXP8Xt229OVWR1fod2eWqNfHuMjXCPkIGNileOiImVmCOEmoSfn3yXlJWmoHGhqp6ilYuWYpmTqKUgAAIfkECQEAAQAsAAAAACgAKAAAApiEH6kb58biQ3FNWtMFWW3eNVcojuFGfqnZqSebuS06w5V80/X02pKe8zFwP6EFWOT1lDFk8rGERh1TTNOocQ61Hm4Xm2VexUHpzjymViHrFbiELsefVrn6XKfnt2Q9G/+Xdie499XHd2g4h7ioOGhXGJboGAnXSBnoBwKYyfioubZJ2Hn0RuRZaflZOil56Zp6iioKSXpUAAAh+QQJAQABACwAAAAAKAAoAAACkoQRqRvnxuI7kU1a1UU5bd5tnSeOZXhmn5lWK3qNTWvRdQxP8qvaC+/yaYQzXO7BMvaUEmJRd3TsiMAgswmNYrSgZdYrTX6tSHGZO73ezuAw2uxuQ+BbeZfMxsexY35+/Qe4J1inV0g4x3WHuMhIl2jXOKT2Q+VU5fgoSUI52VfZyfkJGkha6jmY+aaYdirq+lQAACH5BAkBAAEALAAAAAAoACgAAAKWBIKpYe0L3YNKToqswUlvznigd4wiR4KhZrKt9Upqip61i9E3vMvxRdHlbEFiEXfk9YARYxOZZD6VQ2pUunBmtRXo1Lf8hMVVcNl8JafV38aM2/Fu5V16Bn63r6xt97j09+MXSFi4BniGFae3hzbH9+hYBzkpuUh5aZmHuanZOZgIuvbGiNeomCnaxxap2upaCZsq+1kAACH5BAkBAAEALAAAAAAoACgAAAKXjI8By5zf4kOxTVrXNVlv1X0d8IGZGKLnNpYtm8Lr9cqVeuOSvfOW79D9aDHizNhDJidFZhNydEahOaDH6nomtJjp1tutKoNWkvA6JqfRVLHU/QUfau9l2x7G54d1fl995xcIGAdXqMfBNadoYrhH+Mg2KBlpVpbluCiXmMnZ2Sh4GBqJ+ckIOqqJ6LmKSllZmsoq6wpQAAAh+QQJAQABACwAAAAAKAAoAAAClYx/oLvoxuJDkU1a1YUZbJ59nSd2ZXhWqbRa2/gF8Gu2DY3iqs7yrq+xBYEkYvFSM8aSSObE+ZgRl1BHFZNr7pRCavZ5BW2142hY3AN/zWtsmf12p9XxxFl2lpLn1rseztfXZjdIWIf2s5dItwjYKBgo9yg5pHgzJXTEeGlZuenpyPmpGQoKOWkYmSpaSnqKileI2FAAACH5BAkBAAEALAAAAAAoACgAAAKVjB+gu+jG4kORTVrVhRlsnn2dJ3ZleFaptFrb+CXmO9OozeL5VfP99HvAWhpiUdcwkpBH3825AwYdU8xTqlLGhtCosArKMpvfa1mMRae9VvWZfeB2XfPkeLmm18lUcBj+p5dnN8jXZ3YIGEhYuOUn45aoCDkp16hl5IjYJvjWKcnoGQpqyPlpOhr3aElaqrq56Bq7VAAAOw==");\n\theight: 100%;\n\tfilter: alpha(opacity=25); /* support: IE8 */\n\topacity: 0.25;\n}\n.ui-progressbar-indeterminate .ui-progressbar-value {\n\tbackground-image: none;\n}\n.ui-selectmenu-menu {\n\tpadding: 0;\n\tmargin: 0;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: none;\n}\n.ui-selectmenu-menu .ui-menu {\n\toverflow: auto;\n\toverflow-x: hidden;\n\tpadding-bottom: 1px;\n}\n.ui-selectmenu-menu .ui-menu .ui-selectmenu-optgroup {\n\tfont-size: 1em;\n\tfont-weight: bold;\n\tline-height: 1.5;\n\tpadding: 2px 0.4em;\n\tmargin: 0.5em 0 0 0;\n\theight: auto;\n\tborder: 0;\n}\n.ui-selectmenu-open {\n\tdisplay: block;\n}\n.ui-selectmenu-text {\n\tdisplay: block;\n\tmargin-right: 20px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n.ui-selectmenu-button.ui-button {\n\ttext-align: left;\n\twhite-space: nowrap;\n\twidth: 14em;\n}\n.ui-selectmenu-icon.ui-icon {\n\tfloat: right;\n\tmargin-top: 0;\n}\n.ui-slider {\n\tposition: relative;\n\ttext-align: left;\n}\n.ui-slider .ui-slider-handle {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 1.2em;\n\theight: 1.2em;\n\tcursor: default;\n\ttouch-action: none;\n}\n.ui-slider .ui-slider-range {\n\tposition: absolute;\n\tz-index: 1;\n\tfont-size: .7em;\n\tdisplay: block;\n\tborder: 0;\n\tbackground-position: 0 0;\n}\n/* support: IE8 - See #6727 */\n.ui-slider.ui-state-disabled .ui-slider-handle,\n.ui-slider.ui-state-disabled .ui-slider-range {\n\tfilter: inherit;\n}\n.ui-slider-horizontal {\n\theight: .8em;\n}\n.ui-slider-horizontal .ui-slider-handle {\n\ttop: -.3em;\n\tmargin-left: -.6em;\n}\n.ui-slider-horizontal .ui-slider-range {\n\ttop: 0;\n\theight: 100%;\n}\n.ui-slider-horizontal .ui-slider-range-min {\n\tleft: 0;\n}\n.ui-slider-horizontal .ui-slider-range-max {\n\tright: 0;\n}\n.ui-slider-vertical {\n\twidth: .8em;\n\theight: 100px;\n}\n.ui-slider-vertical .ui-slider-handle {\n\tleft: -.3em;\n\tmargin-left: 0;\n\tmargin-bottom: -.6em;\n}\n.ui-slider-vertical .ui-slider-range {\n\tleft: 0;\n\twidth: 100%;\n}\n.ui-slider-vertical .ui-slider-range-min {\n\tbottom: 0;\n}\n.ui-slider-vertical .ui-slider-range-max {\n\ttop: 0;\n}\n.ui-spinner {\n\tposition: relative;\n\tdisplay: inline-block;\n\toverflow: hidden;\n\tpadding: 0;\n\tvertical-align: middle;\n}\n.ui-spinner-input {\n\tborder: none;\n\tbackground: none;\n\tcolor: inherit;\n\tpadding: .222em 0;\n\tmargin: .2em 0;\n\tvertical-align: middle;\n\tmargin-left: .4em;\n\tmargin-right: 2em;\n}\n.ui-spinner-button {\n\twidth: 1.6em;\n\theight: 50%;\n\tfont-size: .5em;\n\tpadding: 0;\n\tmargin: 0;\n\ttext-align: center;\n\tposition: absolute;\n\tcursor: default;\n\tdisplay: block;\n\toverflow: hidden;\n\tright: 0;\n}\n/* more specificity required here to override default borders */\n.ui-spinner a.ui-spinner-button {\n\tborder-top-style: none;\n\tborder-bottom-style: none;\n\tborder-right-style: none;\n}\n.ui-spinner-up {\n\ttop: 0;\n}\n.ui-spinner-down {\n\tbottom: 0;\n}\n.ui-tabs {\n\tposition: relative;/* position: relative prevents IE scroll bug (element with position: relative inside container with overflow: auto appear as "fixed") */\n\tpadding: .2em;\n}\n.ui-tabs .ui-tabs-nav {\n\tmargin: 0;\n\tpadding: .2em .2em 0;\n}\n.ui-tabs .ui-tabs-nav li {\n\tlist-style: none;\n\tfloat: left;\n\tposition: relative;\n\ttop: 0;\n\tmargin: 1px .2em 0 0;\n\tborder-bottom-width: 0;\n\tpadding: 0;\n\twhite-space: nowrap;\n}\n.ui-tabs .ui-tabs-nav .ui-tabs-anchor {\n\tfloat: left;\n\tpadding: .5em 1em;\n\ttext-decoration: none;\n}\n.ui-tabs .ui-tabs-nav li.ui-tabs-active {\n\tmargin-bottom: -1px;\n\tpadding-bottom: 1px;\n}\n.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor {\n\tcursor: text;\n}\n.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor {\n\tcursor: pointer;\n}\n.ui-tabs .ui-tabs-panel {\n\tdisplay: block;\n\tborder-width: 0;\n\tpadding: 1em 1.4em;\n\tbackground: none;\n}\n.ui-tooltip {\n\tpadding: 8px;\n\tposition: absolute;\n\tz-index: 9999;\n\tmax-width: 300px;\n}\nbody .ui-tooltip {\n\tborder-width: 2px;\n}\n'},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("quSY");function o(t,e){return new i.a(function(n){var i=new r.a,o=0;return i.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="function"==typeof Symbol&&Symbol.observable||"@@observable"},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=i,o.count=0,o.thisArg=r||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(i.a)},mD1l:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL"),r=n("/+4+"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.disg={}}},{key:"getDisgColumns",value:function(t){var e;e=this.disg[t]?this.disg[t]:new Array;var n,i=new Array,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var o=n.value,a=null===o.dx?0:Math.round(1e4*o.dx)/1e4,s=null===o.dy?0:Math.round(1e4*o.dy)/1e4,c=null===o.dz?0:Math.round(1e4*o.dz)/1e4,l=null===o.rx?0:Math.round(1e4*o.rx)/1e4,u=null===o.ry?0:Math.round(1e4*o.ry)/1e4,h=null===o.rz?0:Math.round(1e4*o.rz)/1e4;i.push({id:o.id,dx:a.toFixed(4),dy:s.toFixed(4),dz:c.toFixed(4),rx:l.toFixed(4),ry:u.toFixed(4),rz:h.toFixed(4)})}}catch(d){r.e(d)}finally{r.f()}return i}},{key:"getDisgJson",value:function(){return this.disg}},{key:"getMaxDisg",value:function(){var t=this,e=Object.keys(this.disg).map(function(e){return t.disg[e]}).reduce(function(t,e){return t.push.apply(t,_toConsumableArray(e)),t},[]).reduce(function(t,e){return Math.max(t.dx,t.dy,t.dz)>Math.max(e.dx,e.dy,e.dz)?t:e});return Math.max(e.dx,e.dy,e.dz)}},{key:"setDisgJson",value:function(t){for(var e=0,n=0,i=0,r=0,o=Object.keys(t);r<o.length;r++){var a=o[r],s=new Array,c=t[a];if("object"==typeof c&&"disg"in c){for(var l=c.disg,u=0,h=Object.keys(l);u<h.length;u++){var d=h[u],p=d.replace("node","");if(!(p.indexOf("n")>=0)&&!(p.indexOf("l")>=0)){var f=l[d],g=this.helper.toNumber(f.dx),m=this.helper.toNumber(f.dy),v=this.helper.toNumber(f.dz),b=this.helper.toNumber(f.rx),_=this.helper.toNumber(f.ry),y=this.helper.toNumber(f.rz);g=null==g?0:1e3*g,m=null==m?0:1e3*m,v=null==v?0:1e3*v,b=null==b?0:1e3*b,_=null==_?0:1e3*_,y=null==y?0:1e3*y,s.push({id:p,dx:g,dy:m,dz:v,rx:b,ry:_,rz:y});for(var C=0,x=[g,m,v];C<x.length;C++){var w=x[C];Math.abs(n)<Math.abs(w)&&(n=w)}for(var M=0,O=[b,_,y];M<O.length;M++){var P=O[M];Math.abs(i)<Math.abs(P)&&(i=P)}}}this.disg[a.replace("Case","")]=s,e=Math.max(e,s.length)}}this.DISG_ROWS_COUNT=e,this.disg.max_value=Math.abs(n)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Yb(r.a))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return u});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{c(i.next(t))}catch(e){o(e)}}function s(t){try{c(i.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})}function s(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function u(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t}},n6bG:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",function(){return i})},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function i(t,e,i){var r,o=new Promise(function(o,a){n(r=t[e].apply(t,i)).then(o,a)});return o.request=r,o}function r(t,e,n){var r=i(t,e,n);return r.then(function(t){if(t)return new u(t,r.request)})}function o(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function a(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function s(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function c(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function l(t){this._index=t}function u(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function f(t){this._db=t}o(l,"_index",["name","keyPath","multiEntry","unique"]),a(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(u,"_cursor",["direction","key","primaryKey","value"]),a(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(u.prototype[t]=function(){var e=this,i=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,i),n(e._request).then(function(t){if(t)return new u(t,e._request)})})})}),h.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),s(d,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),s(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,l].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),i=n[n.length-1],r=this._store||this._index,o=r[t].apply(r,n.slice(0,-1));o.onsuccess=function(){i(o.result)}})})}),[l,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,i=[];return new Promise(function(r){n.iterateCursor(t,function(t){t?(i.push(t.value),void 0===e||i.length!=e?t.continue():r(i)):r(i)})})})}),t.openDb=function(t,e,n){var r=i(indexedDB,"open",[t,e]),o=r.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),r.then(function(t){return new f(t)})},t.deleteDb=function(t){return i(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s});var i=n("7o/Q"),r=n("WMd4");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(t,e))}}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))}}]),t}(),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(r=e.call(this,t)).scheduler=i,r.delay=o,r}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new c(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(r.a.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(r.a.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(r.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(i.a),c=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}var r;n.d(e,"a",function(){return a}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return p});var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},c=a.INFO,l=((r={})[a.DEBUG]="log",r[a.VERBOSE]="log",r[a.INFO]="info",r[a.WARN]="warn",r[a.ERROR]="error",r),u=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=l[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,i(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=u,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,a.DEBUG],t)),this._logHandler.apply(this,i([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,a.VERBOSE],t)),this._logHandler.apply(this,i([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,a.INFO],t)),this._logHandler.apply(this,i([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,a.WARN],t)),this._logHandler.apply(this,i([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,a.ERROR],t)),this._logHandler.apply(this,i([this,a.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function p(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var s=r.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:r,type:e.name})}},i=0,r=o;i<r.length;i++)n(r[i])}},qMcK:function(t,e,n){t.exports=n.p+"pickup-disg-es5.adabcd1f78f76938e8f8.worker.js"},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"b",function(){return k}),n.d(e,"c",function(){return P}),n.d(e,"d",function(){return q}),n.d(e,"e",function(){return O}),n.d(e,"f",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return s}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return X}),n.d(e,"k",function(){return N}),n.d(e,"l",function(){return B}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return h}),n.d(e,"o",function(){return W}),n.d(e,"p",function(){return p}),n.d(e,"q",function(){return D}),n.d(e,"r",function(){return m}),n.d(e,"s",function(){return v}),n.d(e,"t",function(){return _}),n.d(e,"u",function(){return z}),n.d(e,"v",function(){return y}),n.d(e,"w",function(){return w}),n.d(e,"x",function(){return f}),n.d(e,"y",function(){return g}),n.d(e,"z",function(){return x}),n.d(e,"A",function(){return b}),n.d(e,"B",function(){return C}),n.d(e,"C",function(){return R}),n.d(e,"D",function(){return S}),n.d(e,"E",function(){return j}),n.d(e,"F",function(){return F}),n.d(e,"G",function(){return L}),n.d(e,"H",function(){return K}),n.d(e,"I",function(){return Y}),n.d(e,"J",function(){return E}),n.d(e,"K",function(){return V}),n.d(e,"L",function(){return G}),n.d(e,"M",function(){return Q}),n.d(e,"N",function(){return M});var i=n("mrSG"),r=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=(15&s)<<2|l>>6,h=63&l;c||(h=64,a||(u=64)),i.push(n[o>>2],n[(3&o)<<4|s>>4],n[u],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var a=((7&r)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0,s=++r<t.length?n[t.charAt(r)]:64,c=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==c)throw Error();i.push(o<<2|a>>4),64!==s&&(i.push(a<<4&240|s>>2),64!==c&&i.push(s<<6&192|c))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=a(t);return s.encodeByteArray(e,!0)},l=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}();function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function g(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function m(){return"object"==typeof self&&self.self===self}function v(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _(){return p().indexOf("Electron/")>=0}function y(){var t=p();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C(){return p().indexOf("MSAppHost/")>=0}function x(){return!1}function w(){return"indexedDB"in self&&null!=indexedDB}function M(){return new Promise(function(t,e){try{var n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=window.indexedDB.open(i);r.onsuccess=function(){r.result.close(),n||window.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=function(){n=!1},r.onerror=function(){var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function O(){return!(!navigator||!navigator.cookieEnabled)}var P=function(t){function e(n,i,r){var o=t.call(this,i)||this;return o.code=n,o.customData=r,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,k.prototype.create),o}return Object(i.c)(e,t),e}(Error),k=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],a=o?A(o,i):"Error",s=this.serviceName+": "+a+" ("+r+").",c=new P(r,s,i);return c},t}();function A(t,e){return t.replace(T,function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"})}var T=/\{\$([^}]+)}/g;function S(t){return JSON.parse(t)}function E(t){return JSON.stringify(t)}var I=function(t){var e={},n={},i={},r="";try{var o=t.split(".");e=S(l(o[0])||""),n=S(l(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:i,signature:r}},R=function(t){var e=I(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},D=function(t){var e=I(t).claims;return"object"==typeof e&&!0===e.admin};function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function z(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function j(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function F(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var o=r[i];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var q=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,o,a=this.chain_[0],s=this.chain_[1],c=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=l^s&(c^l),o=1518500249):(r=s^c^l,o=1859775393):i<60?(r=s&c|l&(s|c),o=2400959708):(r=s^c^l,o=3395469782);var h=(a<<5|a>>>27)+r+u+o+n[i]&4294967295;u=l,l=c,c=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}();function B(t,e){var n=new U(t,e);return n.subscribe.bind(n)}var U=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=H),void 0===i.error&&(i.error=H),void 0===i.complete&&(i.complete=H);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}}),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function H(){}var V=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")};function W(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+i+" argument "}function G(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(W(t,e,i)+"must be a valid function.")}function Q(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(W(t,e,i)+"must be a valid context object.")}var Y=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var a=o-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},K=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};function X(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var i=e*Math.pow(n,t),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,i):t.flush(this)}}]),n}(n("3N8a").a),r=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(i),o=r},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i,r,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),c=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),l=((r=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,i=this._ctorUnsubscribe,r=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if(Object(s.a)(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(g){e=g instanceof c?u(g.errors):[g]}}if(Object(o.a)(l))for(var d=-1,p=l.length;++d<p;){var f=l[d];if(Object(a.a)(f))try{f.unsubscribe()}catch(g){e=e||[],g instanceof c?e=e.concat(u(g.errors)):e.push(g)}}if(e)throw new c(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((i=new r).closed=!0,i),r);function u(t){return t.reduce(function(t,e){return t.concat(e instanceof c?e.errors:e)},[])}},rldD:function(t,e,n){t.exports=n.p+"combine-disg-es5.e26a0aa154d4a2531e08.worker.js"},sPaR:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL"),r=n("/+4+"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.NOTICE_POINTS_COUNT=20,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.notice_points=new Array}},{key:"getNoticePointsColumns",value:function(t){var e,n=null,i=_createForOfIteratorHelper(this.notice_points);try{for(i.s();!(e=i.n()).done;){var r=e.value;if(r.row===t){n=r;break}}}catch(s){i.e(s)}finally{i.f()}if(null==n){n={row:t,m:"",len:""};for(var o=1;o<=this.NOTICE_POINTS_COUNT;o++)n["L"+o]="";this.notice_points.push(n)}else for(var a=1;a<=this.NOTICE_POINTS_COUNT;a++)"L"+a in n||(n["L"+a]="");return n}},{key:"setNoticePointsJson",value:function(t){if("notice_points"in t)for(var e=t.notice_points,n=0;n<e.length;n++){for(var i=e[n],r=("row"in i?i.row:(n+1).toString()),o=i.Points,a={row:r,m:i.m},s=0;s<o.length;s++){var c="L"+(s+1).toString(),l=this.helper.toNumber(o[s]);a[c]=null===l?"":l.toFixed(3)}this.notice_points.push(a)}}},{key:"getNoticePointsJson",value:function(){var t,e=new Array,n=_createForOfIteratorHelper(this.notice_points);try{for(n.s();!(t=n.n()).done;){for(var i=t.value,r=i.row,o=new Array,a=1;a<this.NOTICE_POINTS_COUNT+1;a++){var s="L"+a;if(s in i){var c=this.helper.toNumber(i[s]);null!=c&&o.push(c)}}null!=this.helper.toNumber(i.m)&&0!==Object.keys(o).length&&e.push({row:r,m:i.m,Points:o})}}catch(l){n.e(l)}finally{n.f()}return e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Yb(r.a))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return P}),n.d(e,"b",function(){return _}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return p}),n.d(e,"e",function(){return v}),n.d(e,"f",function(){return M}),n.d(e,"g",function(){return C}),n.d(e,"h",function(){return f}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return x});var i=n("qgXg"),r=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),c=n("fXoL"),l=n("Jgta");function u(){}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.b;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var i=this.zone;return this.delegate.schedule(function(e){var n=this;i.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),d=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",u,{},u,u)}),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),p=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new h(Zone.current)}),this.insideAngular=e.run(function(){return new h(Zone.current,r.b)})};function f(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(a.a)(t.outsideAngular),Object(s.b)(t.insideAngular))}}var g=["ngOnDestroy"],m=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(r,o){return n.runOutsideAngular(function(){var r;if(t[o])return(null===(r=null==i?void 0:i.spy)||void 0===r?void 0:r.get)&&i.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return function(){};var a=e.toPromise().then(function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return a[e]},apply:function(t,e,n){return a.then(function(t){var e,r=t&&t.apply(void 0,_toConsumableArray(n));return(null===(e=null==i?void 0:i.spy)||void 0===e?void 0:e.apply)&&i.spy.apply(o,n,r),r})}})})}})},v=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new c.q("angularfire2.app.options"),_=new c.q("angularfire2.app.nameOrConfig"),y=new c.P("6.1.4");function C(e,n,i){var r="object"==typeof i&&i||{};r.name=r.name||"string"==typeof i&&i||"[DEFAULT]";var o=l.a.apps.filter(function(t){return t&&t.name===r.name})[0]||n.runOutsideAngular(function(){return l.a.initializeApp(e,r)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&w("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var x=function(){w("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},w=function(t){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Object(c.W)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,i)};function M(e,n,i,r,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(e)||[]),s=a[0],c=a.slice(1);if(s){try{o.some(function(t,e){var n=c[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&w("error","".concat(n," was already initialized on the ").concat(i.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(u){}return s}var l=r();return globalThis.\u0275AngularfireInstanceCache.set(e,[l].concat(_toConsumableArray(o))),l}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var O={provide:function t(){_classCallCheck(this,t)},useFactory:C,deps:[b,c.z,[new c.A,_]]},P=function(){var t=function(){function t(e){_classCallCheck(this,t),l.a.registerVersion("angularfire",y.full,e.toString()),l.a.registerVersion("angular",c.O.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:_,useValue:n}]}}}]),t}();return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)(c.Yb(c.B))},providers:[O]}),t}()}).call(this,n("3UD+")(t))},t6oF:function(t,e,n){"use strict";var i=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,i){if(i){var r=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in r||(r[a]={}),r=r[a]}(i=i(o=r[t=t[t.length-1]]))!=o&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function i(){this.a=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;i.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var a=n.setTimeout;i.prototype.c=function(t){a(t,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(i){this.f(i)}}}this.a=null},i.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new i;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(i){n.reject(i)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(n){o(n)}}:e}var r,o,a=new e(function(t,e){r=t,o=e});return this.Qa(i(t,r),i(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=o(t),a=i.next();!a.done;a=i.next())r(a.value).Qa(e,n)})},e.all=function(t){var n=o(t),i=n.next();return i.done?r([]):new e(function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Qa(o(a.length-1),e),i=n.next()}while(!i.done)})},e});var a=a||{},s=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function u(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++b)}var v="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function C(t,e,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:y).apply(null,arguments)}function x(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now;function M(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function O(t){return t}function P(t,e,n){this.code=T+t,this.message=e||S[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new P(e.substring(T.length),t.message,t.serverResponse):null}M(P,Error),P.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},P.prototype.toJSON=function(){return this.w()};var A,T="auth/",S={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},E={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function I(t){for(var e in E)if(E[e].id===t)return{firebaseEndpoint:(t=E[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function N(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");D.call(this,n+t[i])}function L(t,e){throw new N("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function z(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}A=I("__EID__")?"__EID__":void 0,M(D,Error),D.prototype.name="CustomError",M(N,D),N.prototype.name="AssertionError",z.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var q=new z(function(){return new U},function(t){t.reset()});function B(){var t=be,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=q.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},V=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(i[r++]=s)}return i},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},Q=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function Y(t,e){return 0<=H(t,e)}function K(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1)})}function $(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,it=/>/g,rt=/"/g,ot=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ut=s.navigator;if(ut){var ht=ut.userAgent;if(ht){Z=ht;break t}}Z=""}function dt(t){return ct(Z,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ft(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||s).Element&&i.Location){var r=i;break t}}catch(a){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function _t(t,e){this.a=t===wt&&e||"",this.b=xt}function yt(t){return t instanceof _t&&t.constructor===_t&&t.b===xt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}_t.prototype.sa=!0,_t.prototype.ra=function(){return this.a},_t.prototype.toString=function(){return"Const{"+this.a+"}"};var Ct,xt={},wt={};function Mt(){if(void 0===Ct){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:O,createScript:O,createScriptURL:O})}catch(n){s.console&&s.console.error(n.message)}Ct=t}else Ct=t}return Ct}function Ot(t,e){this.a=e===St?t:""}function Pt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=yt(t);if(!Tt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Mt();return new Ot(t=e?e.createScriptURL(t):t,St)}(t=n.replace(At,function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof _t?yt(t):encodeURIComponent(String(t))}))}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,Tt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,St={};function Et(t,e){this.a=e===jt?t:""}function It(t){return t instanceof Et&&t.constructor===Et?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a.toString()},Et.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Et)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Nt.test(t))t=new Et(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&Rt.test(e[1])?new Et(t,jt):null}return t}function zt(t){return t instanceof Et?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new Et(t,jt))}var jt={},Ft=new Et("about:invalid#zClosurez",jt);function qt(t,e,n){this.a=n===Bt?t:""}qt.prototype.sa=!0,qt.prototype.ra=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Bt={};function Ut(t,e,n,i){return t=t instanceof Et?t:zt(t),e=e||s,n=n instanceof _t?yt(n):n||"",e.open(It(t),n,i,void 0)}function Ht(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function Vt(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function Wt(t){return Wt[" "](t),t}Wt[" "]=h;var Gt,Qt,Yt=dt("Opera"),Kt=dt("Trident")||dt("MSIE"),Xt=dt("Edge"),$t=Xt||Kt,Jt=dt("Gecko")&&!(ct(Z.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=ct(Z.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=s.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Qt=Z,Jt?/rv:([^\);]+)(\)|;)/.exec(Qt):Xt?/Edge\/([\d\.]+)/.exec(Qt):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Qt):Zt?/WebKit\/(\S+)/.exec(Qt):Yt?/(?:Version)[ \/]?(\S+)/.exec(Qt):void 0);if(ne&&(ee=ne?ne[1]:""),Kt){var ie=te();if(null!=ie&&ie>parseFloat(ee)){Gt=String(ie);break t}}Gt=ee}var re={};function oe(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Gt)).split("."),i=tt(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=lt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||lt(0==a[2].length,0==s[2].length)||lt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ae=s.document&&Kt&&(te()||parseInt(Gt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Qt){}var se=!Kt||9<=Number(ae);function ce(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function le(t,e){pt(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var ue,he,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pe(t,e,n){function i(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];if(!p(o)||g(o)&&0<o.nodeType)i(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(f(o)){a="function"==typeof o.item;break t}}a=!1}V(a?J(o):o,i)}}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){s.setTimeout(function(){throw t},0)}function me(t,e){he||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);he=function(){t.then(_e)}}else he=function(){var t=_e;!f(s.setImmediate)||s.Window&&s.Window.prototype&&!dt("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ue||(ue=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=C(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){i.next={Gb:t},i=i.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ue(t)):s.setImmediate(t)}}(),ve||(he(),ve=!0),be.add(t,e)}var ve=!1,be=new F;function _e(){for(var t;t=B();){try{t.a.call(t.b)}catch(e){ge(e)}j(q,t)}ve=!1}function ye(t,e){if(this.a=Ce,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){De(n,xe,t)},function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}De(n,we,t)})}catch(i){De(this,we,i)}}var Ce=0,xe=2,we=3;function Me(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Me.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Oe=new z(function(){return new Me},function(t){t.reset()});function Pe(t,e,n){var i=Oe.get();return i.g=t,i.b=e,i.f=n,i}function ke(t){if(t instanceof ye)return t;var e=new ye(h);return De(e,xe,t),e}function Ae(t){return new ye(function(e,n){n(t)})}function Te(t,e,n){Ne(t,e,n,null)||me(x(e,t))}function Se(t){return new ye(function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,o){n--,i[t]=r?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(i)},o=0;o<t.length;o++)Te(t[o],x(r,o,!0),x(r,o,!1));else e(i)})}function Ee(t,e){if(t.a==Ce)if(t.c){var n=t.c;if(n.b){for(var i=0,r=null,o=null,a=n.b;a&&(a.c||(i++,a.a==t&&(r=a),!(r&&1<i)));a=a.next)r||(o=a);r&&(n.a==Ce&&1==i?Ee(n,e):(o?((i=o).next==n.f&&(n.f=i),i.next=i.next.next):ze(n),je(n,r,we,e)))}t.c=null}else De(t,we,e)}function Ie(t,e){t.b||t.a!=xe&&t.a!=we||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,i){var r=Pe(null,null,null);return r.a=new ye(function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(a){o(a)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof Be?o(e):t(r)}catch(a){o(a)}}:o}),r.a.c=t,Ie(t,r),r.a}function De(t,e,n){t.a==Ce&&(t===n&&(e=we,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ne(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=we||n instanceof Be||function(t,e){t.g=!0,me(function(){t.g&&qe.call(null,e)})}(t,n)))}function Ne(t,e,n,i){if(t instanceof ye)return Ie(t,Pe(e||h,n||null,i)),!0;if(R(t))return t.then(e,n,i),!0;if(g(t))try{var r=t.then;if(f(r))return function(t,e,n,i,r){function o(t){a||(a=!0,i.call(r,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(r,t))},o)}catch(s){o(s)}}(t,r,e,n,i),!0}catch(o){return n.call(i,o),!0}return!1}function Le(t){t.h||(t.h=!0,me(t.gc,t))}function ze(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,i){if(n==we&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Fe(e,n,i);else try{e.c?e.g.call(e.f):Fe(e,n,i)}catch(r){qe.call(null,r)}j(Oe,e)}function Fe(t,e,n){e==xe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return Re(this,f(t)?t:null,f(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).oa=function(t,e){return(t=Pe(t,t,e)).c=!0,Ie(this,t),this},t.o=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==Ce){var e=new Be(t);me(function(){Ee(this,e)},this)}},t.$c=function(t){this.a=Ce,De(this,xe,t)},t.ad=function(t){this.a=Ce,De(this,we,t)},t.gc=function(){for(var t;t=ze(this);)je(this,t,this.a,this.i);this.h=!1};var qe=ge;function Be(t){D.call(this,t)}function Ue(){0!=He&&(Ve[m(this)]=this),this.xa=this.xa,this.pa=this.pa}M(Be,D),Be.prototype.name="cancel";var He=0,Ve={};function We(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=He)){var e=m(t);if(0!=He&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ve[e]}}Ue.prototype.xa=!1,Ue.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},Qe=!Kt||9<=Number(ae),Ye=Kt&&!oe("9"),Ke=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function Xe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function $e(t,e){if(Xe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Wt(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Xe.prototype.preventDefault=function(){this.defaultPrevented=!0},M($e,Xe);var Je=Ge({2:"touch",3:"pen",4:"mouse"});$e.prototype.preventDefault=function(){$e.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ye)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},$e.prototype.g=function(){return this.a};var Ze="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Va=r,this.key=++tn,this.va=this.Pa=!1}function nn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function an(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==i)return r}return-1}rn.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=an(t,e,i,r);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new en(e,this.src,o,!!i,r)).Pa=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(t,e,n,i,r){if(i&&i.once)hn(t,e,n,i,r);else if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,i,r);else n=yn(n),t&&t[Ze]?xn(t,e,n,g(i)?!!i.capture:!!i,r):un(t,e,n,!1,i,r)}function un(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=g(r)?!!r.capture:!!r,s=bn(t);if(s||(t[sn]=s=new rn(t)),!(n=s.add(e,n,i,a,o)).proxy)if(i=function(){var t=vn,e=Qe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Ke||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(fn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function hn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,i,r);else n=yn(n),t&&t[Ze]?wn(t,e,n,g(i)?!!i.capture:!!i,r):un(t,e,n,!0,i,r)}function dn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,i,r);else i=g(i)?!!i.capture:!!i,n=yn(n),t&&t[Ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=an(o=t.a[e],n,i,r))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=bn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=an(e,n,i,r)),(n=-1<t?e[t]:null)&&pn(n))}function pn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ze])on(e.v,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(fn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=bn(e))?(on(n,t),0==n.b&&(n.src=null,e[sn]=null)):nn(t)}}}function fn(t){return t in cn?cn[t]:cn[t]="on"+t}function gn(t,e,n,i){var r=!0;if((t=bn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=mn(o,i),r=r&&!1!==o)}return r}function mn(t,e){var n=t.listener,i=t.Va||t.src;return t.Pa&&pn(t),n.call(i,e)}function vn(t,e){if(t.va)return!0;if(!Qe){if(!e)t:{e=["window","event"];for(var n=s,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new $e(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(a){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=gn(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=gn(i[r],t,!1,e),n=n&&o}return n}return mn(t,new $e(e,this))}function bn(t){return(t=t[sn])instanceof rn?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return f(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function Cn(){Ue.call(this),this.v=new rn(this),this.ac=this,this.gb=null}function xn(t,e,n,i,r){t.v.add(String(e),n,!1,i,r)}function wn(t,e,n,i,r){t.v.add(String(e),n,!0,i,r)}function Mn(t,e,n,i){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,c=a.Va||a.src;a.Pa&&on(t.v,a),r=!1!==s.call(c,i)&&r}}return r&&!i.defaultPrevented}function On(t,e,n){if(f(t))n&&(t=C(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=C(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Pn(t){var e=null;return new ye(function(n,i){-1==(e=On(function(){n(void 0)},t))&&i(Error("Failed to schedule timer."))}).o(function(t){throw s.clearTimeout(e),t})}function kn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function Tn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Tn)for(n=t.Y(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Sn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];En(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)En(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function En(t,e){return Object.prototype.hasOwnProperty.call(t,e)}M(Cn,Ue),Cn.prototype[Ze]=!0,Cn.prototype.addEventListener=function(t,e,n,i){ln(this,t,e,n,i)},Cn.prototype.removeEventListener=function(t,e,n,i){dn(this,t,e,n,i)},Cn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var i=t.type||t;if("string"==typeof t)t=new Xe(t,n);else if(t instanceof Xe)t.target=t.target||n;else{var r=t;vt(t=new Xe(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];r=Mn(a,i,!0,t)&&r}if(r=Mn(a=t.b=n,i,!0,t)&&r,r=Mn(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Mn(a=t.b=e[o],i,!1,t)&&r;return r},Cn.prototype.Da=function(){if(Cn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)nn(n[i]);delete e.a[t],e.b--}}this.gb=null},(t=Tn.prototype).W=function(){Sn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Sn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return En(this.b,t)?this.b[t]:e},t.set=function(t,e){En(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var In=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Rn?(this.i=void 0!==e?e:t.i,Dn(this,t.c),this.l=t.l,this.a=t.a,Nn(this,t.g),this.f=t.f,Ln(this,ei(t.b)),this.h=t.h):t&&(n=String(t).match(In))?(this.i=!!e,Dn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Nn(this,n[4]),this.f=Bn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new Kn(null,this.i))}function Dn(t,e,n){t.c=n?Bn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Nn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Kn?(t.b=e,function(t,e){e&&!t.f&&(Xn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),ti(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=Un(e,Qn)),t.b=new Kn(e,t.i))}function zn(t,e,n){t.b.set(e,n)}function jn(t,e){return t.b.get(e)}function Fn(t){return t instanceof Rn?new Rn(t):new Rn(t,void 0)}function qn(t,e,n,i){var r=new Rn(null,void 0);return t&&Dn(r,t),e&&(r.a=e),n&&Nn(r,n),i&&(r.f=i),r}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Un(e,Vn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Un(e,Vn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?Gn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Un(n,Yn)),t.join("")},Rn.prototype.resolve=function(t){var e=new Rn(this),n=!!t.c;n?Dn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var i=t.f;if(n)Nn(e,t.g);else if(n=!!t.f){if("/"!=i.charAt(0))if(this.a&&!this.f)i="/"+i;else{var r=e.f.lastIndexOf("/");-1!=r&&(i=e.f.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(ct(r,"./")||ct(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?e.f=i:n=""!==t.b.toString(),n?Ln(e,ei(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Vn=/[#\/\?@]/g,Wn=/[#\?:]/g,Gn=/[#\?]/g,Qn=/[#\?@]/g,Yn=/#/g;function Kn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xn(t){t.a||(t.a=new Tn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $n(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new Kn(null,void 0);t=kn(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];Array.isArray(o)?ti(n,r,o):n.add(r,o)}return n}function Jn(t,e){Xn(t),e=ni(t,e),En(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,En((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Sn(t)))}function Zn(t,e){return Xn(t),e=ni(t,e),En(t.a.b,e)}function ti(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(ni(t,e),J(n)),t.b+=n.length)}function ei(t){var e=new Kn;return e.c=t.c,t.a&&(e.a=new Tn(t.a),e.b=t.b),e}function ni(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ii(t){var e=[];return oi(new ri,t,e),e.join("")}function ri(){}function oi(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var i=e;e=i.length,n.push("[");for(var r="",o=0;o<e;o++)n.push(r),oi(t,i[o],n),r=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(i in n.push("{"),r="",e)Object.prototype.hasOwnProperty.call(e,i)&&"function"!=typeof(o=e[i])&&(n.push(r),ci(i,n),n.push(":"),oi(t,o,n),r=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ci(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Kn.prototype).add=function(t,e){Xn(this),this.c=null,t=ni(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Xn(this),this.a.forEach(function(n,i){V(n,function(n){t.call(e,n,i,this)},this)},this)},t.Y=function(){Xn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.W=function(t){Xn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=$(e,this.a.get(ni(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return Xn(this),this.c=null,Zn(this,t=ni(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.W(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.c=t.join("&")};var ai={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},si=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ci(t,e){e.push('"',t.replace(si,function(t){var e=ai[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ai[t]=e),e}),'"')}function li(){var t=Ai();return Kt&&!!ae&&11==ae||/Edge\/\d+/.test(t)}function ui(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function hi(t,e){e=e||s.window;var n="about:blank";t&&(n=It(Lt(t)||Ft)),e.location.href=n}function di(t,e){var n,i=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?i.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<di(t[n],e[n]).length&&i.push(n):t[n]!==e[n]&&i.push(n):i.push(n);for(n in e)n in t||i.push(n);return i}function pi(t){return!!((t=(t||Ai()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fi(t){t=t||s.window;try{t.close()}catch(e){}}function gi(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ai().toLowerCase(),i&&(e.target=i,ct(n,"crios/")&&(e.target="_blank")),Oi(Ai())==Mi&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof Et?n:Lt(void 0!==n.href?n.href:String(n))||Ft,n=t.target||n.target,r=[],t)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(t[a]?1:0))}var a=r.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(bt(a=fe(document,"A"),"HTMLAnchorElement"),e=e instanceof Et?e:zt(e),a.href=It(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Ut("",i,n,a),t=It(e),a&&($t&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vt(t)+'">',t=new qt(t=(i=Mt())?i.createHTML(t):t,null,Bt),i=a.document)&&(i.write(function(t){return t instanceof qt&&t.constructor===qt?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),i.close())):(a=Ut(e,i,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var mi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vi=/^[^@]+@[^@]+$/;function bi(){var t=null;return new ye(function(e){"complete"==s.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw dn(window,"load",t),e})}function _i(t){return t=t||Ai(),!("file:"!==Ri()&&"ionic:"!==Ri()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yi(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Ci(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function xi(){return i.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.a.INTERNAL.hasOwnProperty("node")?"Node":Ci()?"Worker":"Browser"}function wi(){var t=xi();return"ReactNative"===t||"Node"===t}var Mi="Firefox";function Oi(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Mi:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Pi={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ki(t,e){e=e||[];var n,i=[],r={};for(n in Pi)r[Pi[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=xi())?i=Oi(r=Ai()):"Worker"===i&&(i=Oi(r=Ai())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function Ai(){return s.navigator&&s.navigator.userAgent||""}function Ti(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Si(){try{var t=s.localStorage,e=ji();if(t)return t.setItem(e,"1"),t.removeItem(e),!li()||!!s.indexedDB}catch(n){return Ci()&&!!s.indexedDB}return!1}function Ei(){return(Ii()||"chrome-extension:"===Ri()||_i())&&!wi()&&Si()&&!Ci()}function Ii(){return"http:"===Ri()||"https:"===Ri()}function Ri(){return s.location&&s.location.protocol||null}function Di(t){return!pi(t=t||Ai())&&Oi(t)!=Mi}function Ni(t){return void 0===t?null:ii(t)}function Li(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function zi(t){if(null!==t)return JSON.parse(t)}function ji(t){return t||Math.floor(1e9*Math.random()).toString()}function Fi(t){return"Safari"!=Oi(t=t||Ai())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function qi(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Bi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ai(),e=xi(),this.b=pi(t)||"ReactNative"===e}function Ui(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Hi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Vi(){return!(!Ti("fireauth.oauthhelper",s)&&!Ti("fireauth.iframe",s))}Bi.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Ii()&&"chrome-extension:"!==Ri()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Wi,Gi={};function Qi(t){Gi[t]||(Gi[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Yi={};Object.defineProperty(Yi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yi,"abcd",{configurable:!0,enumerable:!0,value:2}),Wi=2==Yi.abcd}catch(Qt){Wi=!1}function Ki(t,e,n){Wi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ki(t,n,e[n])}function $i(t){var e={};return Xi(e,t),e}function Ji(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ki(e,n,Ji(t[n]));return e}function Zi(t){var e=t&&(t[rr]?"phone":null);if(!(e&&t&&t[ir]))throw new P("internal-error","Internal assert: invalid MultiFactorInfo object");Ki(this,"uid",t[ir]),Ki(this,"displayName",t[er]||null);var n=null;t[nr]&&(n=new Date(t[nr]).toUTCString()),Ki(this,"enrollmentTime",n),Ki(this,"factorId",e)}function tr(t){try{var e=new or(t)}catch(n){e=null}return e}Zi.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var er="displayName",nr="enrolledAt",ir="mfaEnrollmentId",rr="phoneInfo";function or(t){Zi.call(this,t),Ki(this,"phoneNumber",t[rr])}function ar(t){var e={},n=t[ur],i=t[dr],r=t[pr];if(t=tr(t[hr]),!r||r!=cr&&r!=lr&&!n||r==lr&&!i||r==sr&&!t)throw Error("Invalid checkActionCode response!");r==lr?(e[gr]=n||null,e[vr]=n||null,e[fr]=i):(e[gr]=i||null,e[vr]=i||null,e[fr]=n||null),e[mr]=t||null,Ki(this,_r,r),Ki(this,br,Ji(e))}M(or,Zi),or.prototype.w=function(){var t=or.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var sr="REVERT_SECOND_FACTOR_ADDITION",cr="EMAIL_SIGNIN",lr="VERIFY_AND_CHANGE_EMAIL",ur="email",hr="mfaInfo",dr="newEmail",pr="requestType",fr="email",gr="fromEmail",mr="multiFactorInfo",vr="previousEmail",br="data",_r="operation";function yr(t){var e=jn(t=Fn(t),Cr)||null,n=jn(t,xr)||null,i=jn(t,Or)||null;if(i=i&&kr[i]||null,!e||!n||!i)throw new P("argument-error",Cr+", "+xr+"and "+Or+" are required in a valid action code URL.");Xi(this,{apiKey:e,operation:i,code:n,continueUrl:jn(t,wr)||null,languageCode:jn(t,Mr)||null,tenantId:jn(t,Pr)||null})}var Cr="apiKey",xr="oobCode",wr="continueUrl",Mr="languageCode",Or="mode",Pr="tenantId",kr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:sr,signIn:cr,verifyAndChangeEmail:lr,verifyEmail:"VERIFY_EMAIL"};function Ar(t){try{return new yr(t)}catch(e){return null}}function Tr(t){var e=t[Dr];if(void 0===e)throw new P("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new P("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Sr];if(n&&"object"==typeof n){e=n[zr];var i=n[Nr];if(n=n[Lr],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new P("argument-error",Nr+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new P("argument-error",Lr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new P("argument-error",zr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new P("missing-android-pkg-name")}}else if(void 0!==n)throw new P("argument-error",Sr+" property must be a non null object when specified.");if(this.f=null,(e=t[Rr])&&"object"==typeof e){if("string"==typeof(e=e[jr])&&e.length)this.f=e;else if(void 0!==e)throw new P("argument-error",jr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new P("argument-error",Rr+" property must be a non null object when specified.");if(void 0!==(e=t[Ir])&&"boolean"!=typeof e)throw new P("argument-error",Ir+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Er])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new P("argument-error",Er+" property must be a non empty string when specified.");this.i=t||null}var Sr="android",Er="dynamicLinkDomain",Ir="handleCodeInApp",Rr="iOS",Dr="url",Nr="installApp",Lr="minimumVersion",zr="packageName",jr="bundleId";function Fr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var qr=null;function Br(t){var e=Hr(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Ur(t){try{return new Br(t)}catch(e){return null}}function Hr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var i=function(t){var e=[];return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=qr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qr){qr={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var o=i[r];void 0===qr[o]&&(qr[o]=r)}}}();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;e(r<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<i.length;){var r=i[e++];if(128>r)t[n++]=String.fromCharCode(r);else if(191<r&&224>r){var o=i[e++];t[n++]=String.fromCharCode((31&r)<<6|63&o)}else if(239<r&&365>r){o=i[e++];var a=i[e++],s=((7&r)<<18|(63&o)<<12|(63&a)<<6|63&i[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=i[e++],a=i[e++],t[n++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(c){}return null}Br.prototype.T=function(){return this.f},Br.prototype.l=function(){return this.c},Br.prototype.toString=function(){return this.h};var Vr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wr=["client_id","response_type","scope","redirect_uri","state"],Gr={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Wr},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Wr},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Wr},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Vr},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Qr(t){for(var e in Gr)if(Gr[e].fa==t)return Gr[e];return null}function Yr(t){var e={};e["facebook.com"]=Zr,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Xr];try{if(n)return e[n]?new e[n](t):new Jr(t);if(void 0!==t[Kr])return new $r(t)}catch(i){}return null}var Kr="idToken",Xr="providerId";function $r(t){var e=t[Xr];if(!e&&t[Kr]){var n=Ur(t[Kr]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ki(this,"providerId",e),Ki(this,"isNewUser",n)}function Jr(t){$r.call(this,t),Ki(this,"profile",Ji((t=zi(t.rawUserInfo||"{}"))||{}))}function Zr(t){if(Jr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Jr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ki(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Jr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Jr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ki(this,"username",t.screenName||null)}function io(t){var e=Fn(t),n=jn(e,"link"),i=jn(Fn(n),"link");return e=jn(e,"deep_link_id"),jn(Fn(e),"link")||e||i||n||t}function ro(t,e){if(!t&&!e)throw new P("internal-error","Internal assert: no raw session string available");if(t&&e)throw new P("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:ao}M(Jr,$r),M(Zr,Jr),M(to,Jr),M(eo,Jr),M(no,Jr);var oo="enroll",ao="signin";function so(){}function co(t,e){return t.then(function(t){if(t[Ka]){var n=Ur(t[Ka]);if(!n||e!=n.i)throw new P("user-mismatch");return t}throw new P("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==T+"user-not-found"?new P("user-mismatch"):t})}function lo(t,e){if(!e)throw new P("internal-error","failed to construct a credential");this.a=e,Ki(this,"providerId",t),Ki(this,"signInMethod",t)}function uo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Ki(this,"idToken",e.idToken),e.accessToken&&Ki(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Ki(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new P("internal-error","failed to construct a credential");Ki(this,"accessToken",e.oauthToken),Ki(this,"secret",e.oauthTokenSecret)}Ki(this,"providerId",t),Ki(this,"signInMethod",n)}function fo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:$n(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function mo(t,e){this.Qc=e||[],Xi(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Qr(t)||{}).Ja||null,this.ob=null}function vo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new P("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function bo(t){mo.call(this,t,Wr),this.a=[]}function _o(){bo.call(this,"facebook.com")}function yo(t){if(!t)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function Co(){bo.call(this,"github.com")}function xo(t){if(!t)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new Co).credential({accessToken:e})}function wo(){bo.call(this,"google.com"),this.Ca("profile")}function Mo(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new wo).credential({idToken:n,accessToken:e})}function Oo(){mo.call(this,"twitter.com",Vr)}function Po(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new P("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function ko(t,e,n){this.a=t,this.f=e,Ki(this,"providerId","password"),Ki(this,"signInMethod",n===To.EMAIL_LINK_SIGN_IN_METHOD?To.EMAIL_LINK_SIGN_IN_METHOD:To.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ao(t){return t&&t.email&&t.password?new ko(t.email,t.password,t.signInMethod):null}function To(){Xi(this,{providerId:"password",isOAuthProvider:!1})}function So(t,e){if(!(e=Eo(e)))throw new P("argument-error","Invalid email link!");return new ko(t,e.code,To.EMAIL_LINK_SIGN_IN_METHOD)}function Eo(t){return(t=Ar(t=io(t)))&&t.operation===cr?t:null}function Io(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new P("internal-error");this.a=t,Ki(this,"providerId","phone"),this.fa="phone",Ki(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Io(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function No(t){try{this.a=t||i.a.auth()}catch(e){throw new P("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xi(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new P("missing-verification-id");if(!e)throw new P("missing-verification-code");return new Io({eb:t,cb:e})}function zo(t){if(t.temporaryProof&&t.phoneNumber)return new Io({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Mo(o,n);case"facebook.com":return yo(n);case"github.com":return xo(n);case"twitter.com":return Po(n,i);default:return n||i||o||a?a?0==e.indexOf("saml.")?new lo(e,a):new po(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bo(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(s){return null}}function jo(t){if(!t.isOAuthProvider)throw new P("invalid-oauth-provider")}function Fo(t,e,n,i,r,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=a||null,this.a=r||null,!this.g&&!this.a)throw new P("invalid-auth-event");if(this.g&&this.a)throw new P("invalid-auth-event");if(this.g&&!this.f)throw new P("invalid-auth-event")}function qo(t){return(t=t||{}).type?new Fo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}ro.prototype.Ha=function(){return ke(this.a?this.a:this.b)},ro.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},lo.prototype.ka=function(t){return ms(t,uo(this))},lo.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,vs(t,n)},lo.prototype.c=function(t,e){return co(bs(t,uo(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return ms(t,fo(this))},po.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,vs(t,n)},po.prototype.c=function(t,e){return co(bs(t,fo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Ib=gt(t),this},M(vo,mo),M(bo,mo),bo.prototype.Ca=function(t){return Y(this.a,t)||this.a.push(t),this},bo.prototype.Qb=function(){return J(this.a)},bo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new P("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},M(_o,bo),Ki(_o,"PROVIDER_ID","facebook.com"),Ki(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),M(Co,bo),Ki(Co,"PROVIDER_ID","github.com"),Ki(Co,"GITHUB_SIGN_IN_METHOD","github.com"),M(wo,bo),Ki(wo,"PROVIDER_ID","google.com"),Ki(wo,"GOOGLE_SIGN_IN_METHOD","google.com"),M(Oo,mo),Ki(Oo,"PROVIDER_ID","twitter.com"),Ki(Oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),ko.prototype.ka=function(t){return this.signInMethod==To.EMAIL_LINK_SIGN_IN_METHOD?Zs(t,Ps,{email:this.a,oobCode:this.f}):Zs(t,Ys,{email:this.a,password:this.f})},ko.prototype.b=function(t,e){return this.signInMethod==To.EMAIL_LINK_SIGN_IN_METHOD?Zs(t,ks,{idToken:e,email:this.a,oobCode:this.f}):Zs(t,qs,{idToken:e,email:this.a,password:this.f})},ko.prototype.c=function(t,e){return co(this.ka(t),e)},ko.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xi(To,{PROVIDER_ID:"password"}),Xi(To,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xi(To,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.ka=function(t){return t.fb(Do(this))},Io.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,Zs(t,Xs,n)},Io.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",co(t=Zs(t,$s,n),e)},Io.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},No.prototype.fb=function(t,e){var n=this.a.a;return ke(e.verify()).then(function(i){if("string"!=typeof i)throw new P("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var r=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(r&&r.type==oo?r.Ha().then(function(t){return function(t,e){return Zs(t,Us,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i}})}):r&&r.type==ao?r.Ha().then(function(e){return function(t,e){return Zs(t,Hs,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})}):function(t,e){return Zs(t,js,e)}(n,{phoneNumber:o,recaptchaToken:i})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new P("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Xi(No,{PROVIDER_ID:"phone"}),Xi(No,{PHONE_SIGN_IN_METHOD:"phone"}),Fo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Fo.prototype.T=function(){return this.h},Fo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Uo,Ho=null;function Vo(t){var e="unauthorized-domain",n=void 0,i=Fn(t);t=i.a,"chrome-extension"==(i=i.c)?n=Ht("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Ht("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",P.call(this,e,n)}function Wo(t,e,n){P.call(this,t,n),(t=e||{}).Jb&&Ki(this,"email",t.Jb),t.ea&&Ki(this,"phoneNumber",t.ea),t.credential&&Ki(this,"credential",t.credential),t.Zb&&Ki(this,"tenantId",t.Zb)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(T)&&(e=e.substring(T.length));var n={credential:zo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new P(e,t.message||void 0);return new Wo(e,n,t.message)}return null}function Qo(){}function Yo(){}function Ko(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Xo(){}function $o(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.qc,this),this.a.onerror=C(this.Sb,this),this.a.onprogress=C(this.rc,this),this.a.ontimeout=C(this.vc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}function ta(t){this.f=t,this.b=this.c=this.a=null}function ea(t,e){this.name=t,this.value=e}M(Vo,P),M(Wo,P),Wo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},Wo.prototype.toJSON=function(){return this.w()},Qo.prototype.c=null,M(Yo,Qo),Yo.prototype.a=function(){var t=Ko(this);return t?new ActiveXObject(t):new XMLHttpRequest},Yo.prototype.b=function(){var t={};return Ko(this)&&(t[0]=!0,t[1]=!0),t},Uo=new Yo,M(Xo,Qo),Xo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new $o;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(t=$o.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null,Zo.prototype.reset=function(t,e,n,i,r){i||w(),delete this.a},ea.prototype.toString=function(){return this.name};var na=new ea("SEVERE",1e3),ia=new ea("WARNING",900),ra=new ea("CONFIG",700),oa=new ea("FINE",500);function aa(t){return t.c?t.c:t.a?aa(t.a):(L("Root logger has no level set."),null)}ta.prototype.log=function(t,e,n){if(t.value>=aa(this).value)for(f(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var sa={},ca=null;function la(t){var e;if(ca||(ca=new ta(""),sa[""]=ca,ca.c=ra),!(e=sa[t])){e=new ta(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=la(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,sa[t]=e}return e}function ua(t,e){t&&t.log(oa,e,void 0)}function ha(t){this.f=t}function da(t){Cn.call(this),this.u=t,this.h=void 0,this.readyState=pa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=la("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}M(ha,Qo),ha.prototype.a=function(){return new da(this.f)},ha.prototype.b=function(t){return function(){return t}}({}),M(da,Cn);var pa=0;function fa(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ga(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ma(t)}function ma(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function va(t){Cn.call(this),this.headers=new Tn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ba,this.u=this.S=!1}(t=da.prototype).open=function(t,e){if(this.readyState!=pa)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ma(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ga(this)),this.readyState=pa},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ma(this)),this.a&&(this.readyState=3,ma(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,fa(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ga(this):ma(this),3==this.readyState&&fa(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ga(this))},t.sc=function(t){this.a&&(this.response=t,ga(this))},t.Ua=function(t){var e=this.i;e&&e.log(ia,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ga(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ia,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ia,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(da.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),M(va,Cn);var ba="";va.prototype.b=la("goog.net.XhrIo");var _a=/^https?$/i,ya=["POST","PUT"];function Ca(t){return"content-type"==t.toLowerCase()}function xa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,wa(t),Oa(t)}function wa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ma(t){if(t.c&&void 0!==a)if(t.C[1]&&4==ka(t)&&2==Aa(t))ua(t.b,Ta(t,"Local request error detected and ignored"));else if(t.i&&4==ka(t))On(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==ka(t)){ua(t.b,Ta(t,"Request complete")),t.c=!1;try{var e,n=Aa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.l).match(In)[1]||null;if(!o&&s.self&&s.self.location){var c=s.self.location.protocol;o=c.substr(0,c.length-1)}r=!_a.test(o?o.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<ka(t)?t.a.statusText:""}catch(u){ua(t.b,"Can not get status: "+u.message),l=""}t.h=l+" ["+Aa(t)+"]",wa(t)}}finally{Oa(t)}}}function Oa(t,e){if(t.a){Pa(t);var n=t.a,i=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(t=t.b)&&t.log(na,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function Pa(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function ka(t){return t.a?t.a.readyState:0}function Aa(t){try{return 2<ka(t)?t.a.status:-1}catch(e){return-1}}function Ta(t,e){return e+" ["+t.R+" "+t.l+" "+Aa(t)+"]"}function Sa(t){var e=Ba;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ea(t,e,n){t.a=!0,t.c=n,t.f=!e,Na(t)}function Ia(t){if(t.a){if(!t.v)throw new La(t);t.v=!1}}function Ra(t,e,n,i){t.g.push([e,n,i]),t.a&&Na(t)}function Da(t){return Q(t.g,function(t){return f(t[1])})}function Na(t){if(t.h&&t.a&&Da(t)){var e=t.h,n=Fa[e];n&&(s.clearTimeout(n.a),delete Fa[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],a=r[1];if(r=r[2],o=t.f?a:o)try{var c=o.call(r||t.s,e);void 0!==c&&(t.f=t.f&&(c==e||c instanceof Error),t.c=e=c),(R(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(i=!0,t.i=!0)}catch(l){e=l,t.f=!0,Da(t)||(n=!0)}}t.c=e,i&&(c=C(t.m,t,!0),i=C(t.m,t,!1),e instanceof Sa?(Ra(e,c,i),e.C=!0):e.then(c,i)),n&&(e=new ja(e),Fa[e.a]=e,t.h=e.a)}function La(){D.call(this)}function za(){D.call(this)}function ja(t){this.a=s.setTimeout(C(this.c,this),0),this.b=t}(t=va.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ua(this.b,Ta(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ua(this.b,Ta(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Oa(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Oa(this,!0)),va.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Ma(this):this.Jc())},t.Jc=function(){Ma(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ba:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(na,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ua(this.b,"Can not get response: "+e.message),null}},Sa.prototype.cancel=function(t){if(this.a)this.c instanceof Sa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new za(this),Ia(this),Ea(this,!1,t))}},Sa.prototype.m=function(t,e){this.i=!1,Ea(this,t,e)},Sa.prototype.then=function(t,e,n){var i,r,o=new ye(function(t,e){i=t,r=e});return Ra(this,i,function(t){t instanceof za?o.cancel():r(t)}),o.then(t,e,n)},Sa.prototype.$goog_Thenable=!0,M(La,D),La.prototype.message="Deferred has already fired",La.prototype.name="AlreadyCalledError",M(za,D),za.prototype.message="Deferred was canceled",za.prototype.name="CanceledError",ja.prototype.c=function(){throw delete Fa[this.a],this.b};var Fa={};function qa(t){var e={},n=e.document||document,i=Pt(t).toString(),r=fe(document,"SCRIPT"),o={Wb:r,Ma:void 0},a=new Sa(o),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout(function(){Ua(r,!0);var t=new Wa(Va,"Timeout reached for loading script "+i);Ia(a),Ea(a,!1,t)},h),o.Ma=c),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Ua(r,e.xd||!1,c),Ia(a),Ea(a,!0,null))},r.onerror=function(){Ua(r,!0,c);var t=new Wa(Ha,"Error while loading script "+i);Ia(a),Ea(a,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),le(r,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=Pt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=u(e.document):(null===l&&(l=u(s.document)),e=l),e&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),a}function Ba(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ua(t,!0,this.Ma)}}function Ua(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Ha=0,Va=1;function Wa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Ga(t){this.f=t}function Qa(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Xa,this.g=gt(t.secureTokenHeaders||$a),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Ja,this.a=gt(t.firebaseHeaders||Za),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==xi(),!(n=s.XMLHttpRequest||n&&i.a.INTERNAL.node&&i.a.INTERNAL.node.XMLHttpRequest)&&!Ci())throw new P("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=Ci()?new ha(self):wi()?new Ga(n):new Xo,this.b=null}M(Wa,D),M(Ga,Qo),Ga.prototype.a=function(){return new this.f},Ga.prototype.b=function(){return{}};var Ya,Ka="idToken",Xa=new Bi(3e4,6e4),$a={"Content-Type":"application/x-www-form-urlencoded"},Ja=new Bi(3e4,6e4),Za={"Content-Type":"application/json"};function ts(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function es(t,e){e&&(t.l=ns("https://securetoken.googleapis.com/v1/token",e),t.h=ns("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ns("https://identitytoolkit.googleapis.com/v2/",e))}function ns(t,e){return t=Fn(t),e=Fn(e.url),t.f=t.a+t.f,Dn(t,e.c),t.a=e.a,Nn(t,e.g),t.toString()}function is(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function rs(t,e,n,i,r,o,a){(function(){var t=Ai();return!((t="Chrome"!=Oi(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Kt&&ae&&!(9<ae))})()||Ci()?t=C(t.u,t):(Ya||(Ya=new ye(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[as]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ra(t,null,e,void 0)}(qa(kt(os,{onload:as})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=C(t.s,t)),t(e,n,i,r,o,a)}Qa.prototype.T=function(){return this.b},Qa.prototype.u=function(t,e,n,i,r,o){if(Ci()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new P("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new va(this.f);if(o){a.g=Math.max(0,o);var c=setTimeout(function(){a.dispatchEvent("timeout")},o)}xn(a,"complete",function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ua(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),wn(a,"ready",function(){c&&clearTimeout(c),We(this)}),wn(a,"timeout",function(){c&&clearTimeout(c),We(this),e&&e(null)}),function(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Uo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Uo),t.a.onreadystatechange=C(t.Vb,t);try{ua(t.b,Ta(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return ua(t.b,Ta(t,"Error opening Xhr: "+a.message)),void xa(t,a)}e=i||"";var o=new Tn(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)V(t,e,void 0);else for(var n=An(t),i=kn(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=Ca,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),i=s.FormData&&e instanceof s.FormData,!Y(ya,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Pa(t),0<t.g&&(t.u=function(t){return Kt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ua(t.b,Ta(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=C(t.Ma,t)):t.s=On(t.Ma,t.g,t)),ua(t.b,Ta(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){ua(t.b,Ta(t,"Send error: "+a.message)),xa(t,a)}}(a,t,n,i,r)};var os=new _t(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),as="__fcb"+Math.floor(1e6*Math.random()).toString();function ss(t){if("string"!=typeof(t=t.email)||!vi.test(t))throw new P("invalid-email")}function cs(t){"email"in t&&ss(t)}function ls(t){if(!t[Ka]){if(t.mfaPendingCredential)throw new P("multi-factor-auth-required",null,gt(t));throw new P("internal-error")}}function us(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new P("internal-error")}else{if(!t.sessionInfo)throw new P("missing-verification-id");if(!t.code)throw new P("missing-verification-code")}}Qa.prototype.s=function(t,e,n,i,r){var o=this;Ya.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Qa.prototype.zb=function(){return Zs(this,Bs,{})},Qa.prototype.Bb=function(t,e){return Zs(this,Fs,{idToken:t,email:e})},Qa.prototype.Cb=function(t,e){return Zs(this,qs,{idToken:t,password:e})};var hs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ds(t){if(!t.phoneVerificationInfo)throw new P("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new P("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new P("missing-verification-code")}function ps(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new P("internal-error")}function fs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Zn(t=new Kn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function gs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=tc(t.errorMessage)),e)throw e;ls(t)}function ms(t,e){return e.returnIdpCredential=!0,Zs(t,Vs,e)}function vs(t,e){return e.returnIdpCredential=!0,Zs(t,Gs,e)}function bs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Zs(t,Ws,e)}function _s(t){if(!t.oobCode)throw new P("invalid-action-code")}(t=Qa.prototype).Db=function(t,e){var n={idToken:t},i=[];return pt(hs,function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)}),i.length&&(n.deleteAttribute=i),Zs(this,Fs,n)},t.vb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),Zs(this,Ds,t)},t.wb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),Zs(this,Es,t)},t.ub=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Zs(this,Is,t)},t.Eb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Zs(this,Rs,t)},t.fb=function(t){return Zs(this,Ks,t)},t.nb=function(t,e){return Zs(this,zs,{oobCode:t,newPassword:e})},t.Ra=function(t){return Zs(this,Cs,{oobCode:t})},t.jb=function(t){return Zs(this,ys,{oobCode:t})};var ys={endpoint:"setAccountInfo",A:_s,Z:"email",B:!0},Cs={endpoint:"resetPassword",A:_s,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new P("internal-error")},B:!0},xs={endpoint:"signupNewUser",A:function(t){if(ss(t),!t.password)throw new P("weak-password")},G:ls,V:!0,B:!0},ws={endpoint:"createAuthUri",B:!0},Ms={endpoint:"deleteAccount",N:["idToken"]},Os={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new P("internal-error")}},Ps={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ss,G:ls,V:!0,B:!0},ks={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ss,G:ls,V:!0},As={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ds,G:ls,B:!0,Na:!0},Ts={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ds,G:ls,B:!0,Na:!0},Ss={endpoint:"getAccountInfo"},Es={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new P("internal-error");ss(t)},Z:"email",B:!0},Is={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new P("internal-error")},Z:"email",B:!0},Rs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new P("internal-error")},Z:"email",B:!0},Ds={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new P("internal-error");ss(t)},Z:"email",B:!0},Ns={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Ls={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new P("internal-error")}},zs={endpoint:"resetPassword",A:_s,Z:"email",B:!0},js={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Fs={endpoint:"setAccountInfo",N:["idToken"],A:cs,V:!0},qs={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(cs(t),!t.password)throw new P("weak-password")},G:ls,V:!0},Bs={endpoint:"signupNewUser",G:ls,V:!0,B:!0},Us={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new P("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new P("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new P("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new P("internal-error")},B:!0,Na:!0},Hs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new P("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new P("internal-error")},B:!0,Na:!0},Vs={endpoint:"verifyAssertion",A:ps,Ya:fs,G:gs,V:!0,B:!0},Ws={endpoint:"verifyAssertion",A:ps,Ya:fs,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new P("user-not-found");if(t.errorMessage)throw tc(t.errorMessage);ls(t)},V:!0,B:!0},Gs={endpoint:"verifyAssertion",A:function(t){if(ps(t),!t.idToken)throw new P("internal-error")},Ya:fs,G:gs,V:!0},Qs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new P("invalid-custom-token")},G:ls,V:!0,B:!0},Ys={endpoint:"verifyPassword",A:function(t){if(ss(t),!t.password)throw new P("wrong-password")},G:ls,V:!0,B:!0},Ks={endpoint:"verifyPhoneNumber",A:us,G:ls,B:!0},Xs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new P("internal-error");us(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);ls(t)}},$s={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:us,G:ls,B:!0},Js={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ka]^!!t.refreshToken)throw new P("internal-error")},B:!0,Na:!0};function Zs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.N))return Ae(new P("internal-error"));var i,r=!!e.Na,o=e.Ub||"POST";return ke(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,i,r,o,a){var s=Fn(e+n);zn(s,"key",t.c),a&&zn(s,"cb",w().toString());var c="GET"==i;if(c)for(var l in r)r.hasOwnProperty(l)&&zn(s,l,r[l]);return new ye(function(e,n){rs(t,s.toString(),function(t){t?t.error?n(ec(t,o||{})):e(t):n(new P("network-request-failed"))},i,c?void 0:ii(Li(r)),t.a,t.v.get())})}(t,r?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return i=t,e.Ya?e.Ya(n,i):i}).then(e.G).then(function(){if(!e.Z)return i;if(!(e.Z in i))throw new P("internal-error");return i[e.Z]})}function tc(t){return ec({error:{errors:[{message:t}],code:400,message:t}})}function ec(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new P(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",vt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new P(i[r],e);return!e&&t&&(e=Ni(t)),new P("internal-error",e)}function nc(t){this.b=t,this.a=null,this.rb=function(t){return(ac||(ac=new ye(function(t,e){function n(){qi(),Ti("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){qi(),e(Error("Network Error"))},timeout:rc.get()})}if(Ti("gapi.iframes.Iframe"))t();else if(Ti("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[i]=function(){Ti("gapi.load")?n():e(Error("Network Error"))},ke(qa(i=kt(ic,{onload:i}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw ac=null,t}))).then(function(){return new ye(function(e,n){Ti("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},oc.get());i.ping(r).then(r,function(){n(Error("Network Error"))})})})})}(this)}var ic=new _t(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),rc=new Bi(3e4,6e4),oc=new Bi(5e3,15e3),ac=null;function sc(t,e,n,i){this.l=t,this.h=e,this.i=n,this.g=i,this.f=null,t=this.g?qn((t=Fn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):qn("https",this.l,null,"/__/auth/iframe"),this.a=t,zn(this.a,"apiKey",this.h),zn(this.a,"appName",this.i),this.b=null,this.c=[]}function cc(t,e,n,i,r,o){this.u=t,this.s=e,this.c=n,this.m=i,this.v=o,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function lc(t){try{return i.a.app(t).auth().Ga()}catch(e){return[]}}function uc(t,e,n,i,r,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=i||null,this.i=r||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function hc(t){var e=ui();return function(t){return Zs(t,Ns,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Fn(e),i=n.c;n=n.a;for(var r=0;r<t.length;r++){var o=t[r],a=n,s=i;if(0==o.indexOf("chrome-extension://")?a=Fn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:mi.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Vo(ui())})}function dc(t){return t.m||(t.m=bi().then(function(){if(!t.u){var e=t.c,n=t.i,i=lc(t.b),r=new sc(t.s,t.g,t.b,t.f);r.f=e,r.b=n,r.c=J(i||[]),t.u=r.toString()}t.v=new nc(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,Ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=qo(e.authEvent),n=0;n<t.h.length;n++)i=t.h[n](e)||i;return(n={}).status=i?"ACK":"ERROR",ke(n)}return n.status="ERROR",ke(n)})}(t)})),t.m}function pc(t){return t.l||(t.C=t.c?ki(t.c,lc(t.b)):null,t.l=new Qa(t.g,I(t.i),t.C),t.f&&es(t.l,t.f)),t.l}function fc(t,e,n,i,r,o,a,s,c,l,u,h){return(t=new cc(t,e,n,i,r,h)).l=o,t.g=a,t.i=s,t.b=gt(c||null),t.f=l,t.yb(u).toString()}function gc(t){if(this.a=t||i.a.INTERNAL.reactNative&&i.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new P("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function mc(t){this.b=t,this.a={},this.f=C(this.c,this)}sc.prototype.toString=function(){return this.f?zn(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?zn(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?zn(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},cc.prototype.yb=function(t){return this.h=t,this},cc.prototype.toString=function(){if(this.v){var t=Fn(this.v.url);t=qn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=qn("https",this.u,null,"/__/auth/handler");if(zn(t,"apiKey",this.s),zn(t,"appName",this.c),zn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=i.a.app(this.c).auth().la()}catch(c){n=null}for(var r in e.ob=n,zn(t,"providerId",this.a.providerId),e=Li((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=gt(e);for(var o=0;o<r.length;o++){var a=r[o];a in e&&delete e[a]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),ft(e)||zn(t,"customParameters",Ni(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&zn(t,"scopes",n.join(",")),this.l?zn(t,"redirectUrl",this.l):Jn(t.b,"redirectUrl"),this.g?zn(t,"eventId",this.g):Jn(t.b,"eventId"),this.i?zn(t,"v",this.i):Jn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!jn(t,s)&&zn(t,s,this.b[s]);return this.h?zn(t,"tid",this.h):Jn(t.b,"tid"),this.f?zn(t,"eid",this.f):Jn(t.b,"eid"),(s=lc(this.c)).length&&zn(t,"fw",s.join(",")),t.toString()},(t=uc.prototype).Ob=function(t,e,n){var i=new P("popup-closed-by-user"),r=new P("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return dc(t).then(function(){return function(t,e){return t.rb.then(function(){return new ye(function(n){t.a.send(e.type,e,n,Ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&fi(t),e(r),a=!0)})}).o(function(){}).then(function(){if(!a)return function(t){return new ye(function(e){return function n(){Pn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Pn(n).then(function(){e(i)})})},t.Xb=function(){var t=Ai();return!Di(t)&&!Fi(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,i,r,o,a,s){if(!t)return Ae(new P("popup-blocked"));if(a&&!Di())return this.ma().o(function(e){fi(t),r(e)}),i(),ke();this.a||(this.a=hc(pc(this)));var c=this;return this.a.then(function(){var e=c.ma().o(function(e){throw fi(t),r(e),e});return i(),e}).then(function(){jo(n),a||hi(fc(c.s,c.g,c.b,e,n,null,o,c.c,void 0,c.i,s,c.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t})},t.Nb=function(t,e,n,i){this.a||(this.a=hc(pc(this)));var r=this;return this.a.then(function(){jo(e),hi(fc(r.s,r.g,r.b,t,e,ui(),n,r.c,void 0,r.i,i,r.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ma=function(){var t=this;return dc(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new P("network-request-failed")})},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){X(this.h,function(e){return e==t})},(t=gc.prototype).get=function(t){return ke(this.a.getItem(t)).then(function(t){return t&&zi(t)})},t.set=function(t,e){return ke(this.a.setItem(t,Ni(e)))},t.U=function(t){return ke(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var vc,bc=[];function _c(t,e,n){ft(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function yc(t){this.a=t}function Cc(t){this.c=t,this.b=!1,this.a=[]}function xc(t,e,n,i){var r,o,a,s,c=n||{},l=null;if(t.b)return Ae(Error("connection_unavailable"));var u=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye(function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){i(Error("unsupported_event"))},u),t.a.push(l={messageChannel:h,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){i(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),i(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:c},[h.port2])):i(Error("connection_unavailable"))}).then(function(e){return wc(t,l),e}).o(function(e){throw wc(t,l),e})}function wc(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),X(t.a,function(t){return t==e})}}function Mc(){if(!Ac())throw new P("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Ci()&&self?(this.v=function(){var t=Ci()?self:null;if(V(bc,function(n){n.b==t&&(e=n)}),!e){var e=new mc(t);bc.push(e)}return e}(),_c(this.v,"keyChanged",function(e,n){return Rc(t).then(function(e){return 0<e.length&&V(t.a,function(t){t(e)}),{keyProcessed:Y(e,n.key)}})}),_c(this.v,"ping",function(){return ke(["keyChanged"])})):function(){var t=s.navigator;return t&&t.serviceWorker?ke().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):ke(null)}().then(function(e){(t.h=e)&&(t.g=new Cc(new yc(e)),xc(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Oc(t){return new ye(function(e,n){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(i):function(t){return new ye(function(e,n){var i=t.m.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Oc(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Pc(t){return t.i||(t.i=Oc(t)),t.i}function kc(t,e){var n=0;return new ye(function i(r,o){Pc(t).then(e).then(r).o(function(e){if(!(3<++n))return Pc(t).then(function(e){return e.close(),t.i=void 0,i(r,o)}).o(function(t){o(t)});o(e)})})}function Ac(){try{return!!s.indexedDB}catch(Qt){return!1}}function Tc(t){return t.objectStore("firebaseLocalStorage")}function Sc(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ec(t){return new ye(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Ic(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?xc(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):ke()}function Rc(t){return Pc(t).then(function(t){var e=Tc(Sc(t,!1));return e.getAll?Ec(e.getAll()):new ye(function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=di(t.c,n),t.c=n}return i})}function Dc(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Nc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ke().then(function(){if(Ac()){var t=ji(),i="__sak"+t;return vc||(vc=new Mc),(n=vc).set(i,t).then(function(){return n.get(i)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(i)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){V(e.a,function(e){e(t)})}),t})}function Lc(){this.a={},this.type="inMemory"}function zc(){if(!function(){var t="Node"==xi();if(!(t=jc()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==xi())throw new P("internal-error","The LocalStorage compatibility library was not found.");throw new P("web-storage-unsupported")}this.a=jc()||i.a.INTERNAL.node.localStorage,this.type="localStorage"}function jc(){try{var t=s.localStorage,e=ji();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Fc(){this.type="nullStorage"}function qc(){if(!function(){var t="Node"==xi();if(!(t=Bc()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==xi())throw new P("internal-error","The SessionStorage compatibility library was not found.");throw new P("web-storage-unsupported")}this.a=Bc()||i.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bc(){try{var t=s.sessionStorage,e=ji();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Uc(){var t={};t.Browser=Wc,t.Node=Gc,t.ReactNative=Qc,t.Worker=Yc,this.a=t[xi()]}mc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];V(i,function(e){r.push(ke().then(function(){return e(t.origin,t.data.data)}))}),Se(r).then(function(i){var r=[];V(i,function(t){r.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),V(r,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})})}},yc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Cc.prototype.close=function(){for(;0<this.a.length;)wc(this,this.a[0]);this.b=!0},(t=Mc.prototype).set=function(t,e){var n=this,i=!1;return kc(this,function(e){return Ec((e=Tc(Sc(e,!0))).get(t))}).then(function(r){return kc(n,function(o){if(o=Tc(Sc(o,!0)),r)return r.value=e,Ec(o.put(r));n.b++,i=!0;var a={};return a.fbase_key=t,a.value=e,Ec(o.add(a))})}).then(function(){return n.c[t]=e,Ic(n,t)}).oa(function(){i&&n.b--})},t.get=function(t){return kc(this,function(e){return Ec(Tc(Sc(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return kc(this,function(i){return n=!0,e.b++,Ec(Tc(Sc(i,!0)).delete(t))}).then(function(){return delete e.c[t],Ic(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Dc(t),function e(){t.f=setTimeout(function(){t.l=Rc(t).then(function(e){0<e.length&&V(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){X(this.a,function(e){return e==t}),0==this.a.length&&Dc(this)},(t=Nc.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){X(this.a,function(e){return e==t})},(t=Lc.prototype).get=function(t){return ke(this.a[t])},t.set=function(t,e){return this.a[t]=e,ke()},t.U=function(t){return delete this.a[t],ke()},t.ca=function(){},t.ia=function(){},(t=zc.prototype).get=function(t){var e=this;return ke().then(function(){return zi(e.a.getItem(t))})},t.set=function(t,e){var n=this;return ke().then(function(){var i=Ni(e);null===i?n.U(t):n.a.setItem(t,i)})},t.U=function(t){var e=this;return ke().then(function(){e.a.removeItem(t)})},t.ca=function(t){s.window&&ln(s.window,"storage",t)},t.ia=function(t){s.window&&dn(s.window,"storage",t)},(t=Fc.prototype).get=function(){return ke(null)},t.set=function(){return ke()},t.U=function(){return ke()},t.ca=function(){},t.ia=function(){},(t=qc.prototype).get=function(t){var e=this;return ke().then(function(){return zi(e.a.getItem(t))})},t.set=function(t,e){var n=this;return ke().then(function(){var i=Ni(e);null===i?n.U(t):n.a.setItem(t,i)})},t.U=function(t){var e=this;return ke().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Hc,Vc,Wc={F:zc,bb:qc},Gc={F:zc,bb:qc},Qc={F:gc,bb:Fc},Yc={F:zc,bb:Fc},Kc={rd:"local",NONE:"none",td:"session"};function Xc(){var t=!(Fi(Ai())||!yi()),e=Di(),n=Si();this.m=t,this.h=e,this.l=n,this.a={},Hc||(Hc=new Uc),t=Hc;try{this.g=!li()&&Vi()||!s.indexedDB?new t.a.F:new Nc(Ci()?new Lc:new t.a.F)}catch(i){this.g=new Lc,this.h=!0}try{this.i=new t.a.bb}catch(i){this.i=new Lc}this.v=new Lc,this.f=C(this.Yb,this),this.b={}}function $c(){return Vc||(Vc=new Xc),Vc}function Jc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Zc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function tl(t,e,n){return n=Zc(e,n),"local"==e.F&&(t.b[n]=null),Jc(t,e.F).U(n)}function el(t){t.c&&(clearInterval(t.c),t.c=null)}function nl(t){this.a=t,this.b=$c()}(t=Xc.prototype).get=function(t,e){return Jc(this,t.F).get(Zc(t,e))},t.set=function(t,e,n){var i=Zc(t,n),r=this,o=Jc(this,t.F);return o.set(i,e).then(function(){return o.get(i)}).then(function(e){"local"==t.F&&(r.b[i]=e)})},t.addListener=function(t,e,n){t=Zc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ft(this.a)&&(Jc(this,"local").ca(this.f),this.h||(li()||!Vi())&&s.indexedDB||!this.l||function(t){el(t),t.c=setInterval(function(){for(var e in t.a){var n=s.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new $e({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Yb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Zc(t,e),this.a[t]&&(X(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ft(this.a)&&(Jc(this,"local").ia(this.f),el(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=s.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Jc(this,"local").ia(this.f):el(this),this.m)if(n=s.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?s.localStorage.setItem(e,i):s.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},Kt&&ae&&10==ae&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else V(t,C(this.mb,this))},t.mb=function(t){this.a[t]&&V(this.a[t],function(t){t()})};var il,rl={name:"authEvent",F:"local"};function ol(){this.a=$c()}function al(t,e){this.b=sl,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===il&&(il=s.Int32Array?new Int32Array(fl):fl),this.reset()}M(al,function(){this.b=-1});for(var sl=64,cl=sl-1,ll=[],ul=0;ul<cl;ul++)ll[ul]=0;var hl=$(128,ll);function dl(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){var o=(0|n[e-16])+(((r=0|n[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[e-7])+(((i=0|n[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+a|0}i=0|t.a[0],r=0|t.a[1];var s=0|t.a[2],c=0|t.a[3],l=0|t.a[4],u=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&u^~l&h)+(0|il[e])|0)+(0|n[e])|0)|0,o=h,h=u,u=l,l=c+a|0,c=s,s=r,r=i,i=a+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+u|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function pl(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"==typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(dl(t),r=0);else{if(!p(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(dl(t),r=0)}}t.c=r,t.g+=n}al.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var fl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gl(){al.call(this,8,ml)}M(gl,al);var ml=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vl(t,e,n,i,r,o){this.v=t,this.i=e,this.l=n,this.m=i||null,this.u=r||null,this.s=o,this.h=e+":"+n,this.C=new ol,this.g=new nl(this.h),this.f=null,this.b=[],this.a=this.c=null}function bl(t){return new P("invalid-cordova-configuration",t)}function _l(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(i){}}function yl(t){return t.f||(t.f=t.ma().then(function(){return new ye(function(e){t.Ea(function n(i){return e(i),t.Sa(n),!1}),function(t){function e(e){i=!0,r&&r.cancel(),Cl(t).then(function(i){var r=n;if(i&&e&&e.url){var o=null;-1!=(r=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=zi(jn(o=Fn(r),"firebaseError")||null))?k(o):null)?new Fo(i.c,i.b,null,null,o,null,i.T()):new Fo(i.c,i.b,r,i.f,null,null,i.T())),r=o||n}_l(t,r)})}var n=new Fo("unknown",null,null,null,new P("no-auth-event")),i=!1,r=Pn(500).then(function(){return Cl(t).then(function(){i||_l(t,n)})}),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ti("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Ho||(Ho=new Bo),function(t){var e=Ho;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ti("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)})})),t.f}function Cl(t){var e=null;return function(t){return t.b.get(rl,t.a).then(function(t){return qo(t)})}(t.g).then(function(n){return e=n,tl((n=t.g).b,rl,n.a)}).then(function(){return e})}function xl(t){this.a=t,this.b=$c()}(t=vl.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_i(void 0)?bi().then(function(){return new ye(function(t,e){var n=s.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Ti("universalLinks.subscribe",s))throw bl("cordova-universal-links-plugin-fix is not installed");if(void 0===Ti("BuildInfo.packageName",s))throw bl("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ti("cordova.plugins.browsertab.openUrl",s))throw bl("cordova-plugin-browsertab is not installed");if("function"!=typeof Ti("cordova.InAppBrowser.open",s))throw bl("cordova-plugin-inappbrowser is not installed")},function(){throw new P("cordova-not-ready")})},t.Ob=function(t,e){return e(new P("operation-not-supported-in-this-environment")),ke()},t.Mb=function(){return Ae(new P("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,i){if(this.c)return Ae(new P("redirect-operation-pending"));var r=this,o=s.document,a=null,c=null,l=null,u=null;return this.c=ke().then(function(){return jo(e),yl(r)}).then(function(){return function(t,e,n,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Fo(e,i,null,o,new P("no-auth-event"),null,r),c=Ti("BuildInfo.packageName",s);if("string"!=typeof c)throw new P("invalid-cordova-configuration");var l=Ti("BuildInfo.displayName",s),u={};if(Ai().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=c;else{if(!Ai().toLowerCase().match(/android/))return Ae(new P("operation-not-supported-in-this-environment"));u.apn=c}l&&(u.appDisplayName=l),o=function(t){var e=new gl;pl(e,t),t=[];var n=8*e.g;pl(e,hl,56>e.c?56-e.c:e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(dl(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),u.sessionId=o;var h=fc(t.v,t.i,t.l,e,n,null,i,t.m,u,t.u,r,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(rl,a.w(),e)}).then(function(){var e=Ti("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new P("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Ti("cordova.plugins.browsertab.openUrl",s)))throw new P("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ti("cordova.InAppBrowser.open",s)))throw new P("invalid-cordova-configuration");e=Ai(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(r,t,e,n,i)}).then(function(){return new ye(function(t,e){c=function(){var e=Ti("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ea(c),u=function(){Ui()&&l()},o.addEventListener("resume",l=function(){a||(a=Pn(2e3).then(function(){e(new P("redirect-cancelled-by-user"))}))},!1),Ai().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",u,!1)}).o(function(t){return Cl(r).then(function(){throw t})})}).oa(function(){l&&o.removeEventListener("resume",l,!1),u&&o.removeEventListener("visibilitychange",u,!1),a&&a.cancel(),c&&r.Sa(c),r.c=null})},t.Ea=function(t){this.b.push(t),yl(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Fo("unknown",null,null,null,new P("no-auth-event")),t(e))})},t.Sa=function(t){X(this.b,function(e){return e==t})};var wl={name:"pendingRedirect",F:"session"};function Ml(t){return tl(t.b,wl,t.a)}function Ol(t,e,n,i){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=i,this.h=[],this.f=!1,this.l=C(this.s,this),this.b=new ql,this.C=new Wl,this.g=new xl(jl(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Pl(this.D,this.v,this.m,A,this.J)}function Pl(t,e,n,r,o){var a=i.a.SDK_VERSION||null;return _i()?new vl(t,e,n,a,r,o):new uc(t,e,n,a,r,o)}function kl(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Al(t){t.a.Xb()&&kl(t).o(function(e){var n=new Fo("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));Dl(e)&&t.s(n)}),t.a.Tb()||Bl(t.b)}function Tl(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(wl,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Ml(t.g).then(function(){kl(t).o(function(e){var n=new Fo("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));Dl(e)&&t.s(n)})}):Al(t)}).o(function(){Al(t)})}function Sl(t,e){X(t.h,function(t){return t==e})}Ol.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Pl(this.D,this.v,this.m,null,this.J),this.i={}},Ol.prototype.s=function(t){if(!t)throw new P("invalid-auth-event");if(6e5<=w()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=w())),e=!0;break}}return Bl(this.b),e};var El=new Bi(2e3,1e4),Il=new Bi(3e4,6e4);function Rl(t,e,n,i,r,o,a){return t.a.Mb(e,n,i,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},r,o,a)}function Dl(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Nl(t,e,n,i,r){var o;return function(t){return t.b.set(wl,"pending",t.a)}(t.g).then(function(){return t.a.Nb(e,n,i,r).o(function(e){if(Dl(e))throw new P("operation-not-supported-in-this-environment");return o=e,Ml(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new ye(function(){}):Ml(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Ll(t,e,n,i,r){return t.a.Ob(i,function(t){e.na(n,null,t,r)},El.get())}Ol.prototype.qa=function(){return this.b.qa()};var zl={};function jl(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Fl(t,e,n,i){var r=jl(e,n,i);return zl[r]||(zl[r]=new Ol(t,e,n,i)),zl[r]}function ql(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Bl(t){t.g||(t.g=!0,Vl(t,!1,null,null))}function Ul(t){t.g&&!t.i&&Vl(t,!1,null,null)}function Hl(t,e){if(t.b=function(){return ke(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Vl(t,e,n,i){e?i?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Hl(t,n):Hl(t,{user:null}),t.f=[],t.c=[]}function Wl(){}function Gl(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Ql(t,e){this.a=e,Ki(this,"verificationId",t)}function Yl(t,e,n,i){return new No(t).fb(e,n).then(function(t){return new Ql(t,i)})}function Kl(t){var e=Hr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new P("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xi(this,{token:t,expirationTime:Hi(1e3*e.exp),authTime:Hi(1e3*e.auth_time),issuedAtTime:Hi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Xl(t,e,n){var i=e&&e[Jl];if(!i)throw new P("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new ro(null,i),this.b=[];var r=this;V(e[$l]||[],function(t){(t=tr(t))&&r.b.push(t)}),Ki(this,"auth",this.a),Ki(this,"session",this.c),Ki(this,"hints",this.b)}ql.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ql.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(Vl(this,!0,null,t.a),ke()):e.Fa(n,i)?function(t,e,n){n=n.Fa(e.c,e.b);var i=e.g,r=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(i,r,a,o).then(function(e){Vl(t,s,e,null)}).o(function(e){Vl(t,s,null,e)})}(this,t,e):Ae(new P("invalid-auth-event")):(Vl(this,!1,null,null),ke())}else Ae(new P("invalid-auth-event"))},ql.prototype.qa=function(){var t=this;return new ye(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new P("timeout");t.a&&t.a.cancel(),t.a=Pn(Il.get()).then(function(){t.b||(t.g=!0,Vl(t,!0,null,e))})}(t))})},Wl.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.na(t.c,null,t.a,t.b),ke()):e.Fa(n,i)?function(t,e){var n=t.b,i=t.c;e.Fa(i,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(i,t,null,n)}).o(function(t){e.na(i,null,t,n)})}(t,e):Ae(new P("invalid-auth-event"))}else Ae(new P("invalid-auth-event"))},Ql.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var $l="mfaInfo",Jl="mfaPendingCredential";function Zl(t,e,n,i){P.call(this,"multi-factor-auth-required",i,e),this.b=new Xl(t,e,n),Ki(this,"resolver",this.b)}function tu(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Zl(e,t.serverResponse,n,t.message)}catch(i){}return null}function eu(){}function nu(t){Ki(this,"factorId",t.fa),this.a=t}function iu(t){if(nu.call(this,t),this.a.fa!=No.PROVIDER_ID)throw new P("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ru(t,e){for(var n in Xe.call(this,t),e)this[n]=e[n]}function ou(t,e){this.a=t,this.b=[],this.c=C(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&V(e.multiFactor.enrolledFactors,function(t){var e=null,i={};if(t){t.uid&&(i[ir]=t.uid),t.displayName&&(i[er]=t.displayName),t.enrollmentTime&&(i[nr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(i[rr]=t.phoneNumber);try{e=new or(i)}catch(r){}t=e}else t=null;t&&n.push(t)}),au(this,n)}function au(t,e){t.b=e,Ki(t,"enrolledFactors",e)}function su(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function cu(t,e){t.stop(),t.b=Pn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=s.document,e=null;return Ui()||!t?ke():new ye(function(n){e=function(){Ui()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){cu(t,!0)}).o(function(e){t.i(e)&&cu(t,!1)})}function lu(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function uu(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function hu(t,e){t.b=Ur(e[Ka]||""),t.a=e.refreshToken,uu(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function du(t,e){this.a=t||null,this.b=e||null,Xi(this,{lastSignInTime:Hi(e||null),creationTime:Hi(t||null)})}function pu(t,e,n,i,r,o){Xi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function fu(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=i.a.SDK_VERSION?ki(i.a.SDK_VERSION):null;this.a=new Qa(this.l,I(A),r),t.emulatorConfig&&es(this.a,t.emulatorConfig),this.b=new lu(this.a),xu(this,e[Ka]),hu(this.b,e),Ki(this,"refreshToken",this.b.a),Ou(this,n||{}),Cn.call(this),this.R=!1,this.s&&Ei()&&(this.i=Fl(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new su(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.aa=C(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){es(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){vu(o,t.f)},this.ba=null,this.O=new ou(this,n),Ki(this,"multiFactor",this.O)}function gu(t,e){t.ja&&dn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&ln(e,"languageCodeChanged",t.Oa)}function mu(t,e){t.X&&dn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&ln(e,"emulatorConfigChanged",t.Aa)}function vu(t,e){t.$=e,is(t.a,i.a.SDK_VERSION?ki(i.a.SDK_VERSION,t.$):null)}function bu(t,e){t.ba&&dn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&ln(e,"frameworkChanged",t.Ba)}function _u(t){try{return i.a.app(t.m).auth()}catch(e){throw new P("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function yu(t){t.D||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.aa),ln(t,"tokenChanged",t.aa))}function Cu(t){dn(t,"tokenChanged",t.aa),t.u.stop()}function xu(t,e){t.za=e,Ki(t,"_lat",e)}function wu(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Se(e).then(function(){return t})}function Mu(t){t.i&&!t.R&&(t.R=!0,Tl(t.i,t))}function Ou(t,e){Xi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new du(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Pu(){}function ku(t){return ke().then(function(){if(t.D)throw new P("app-deleted")})}function Au(t){return G(t.providerData,function(t){return t.providerId})}function Tu(t,e){e&&(Su(t,e.providerId),t.providerData.push(e))}function Su(t,e){X(t.providerData,function(t){return t.providerId==e})}function Eu(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ki(t,e,n)}function Iu(t,e){t!=e&&(Xi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Ki(t,"metadata",e.metadata?function(t){return new du(t.a,t.b)}(e.metadata):new du),V(e.providerData,function(e){Tu(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Ki(t,"refreshToken",t.b.a),au(t.O,e.O.b))}function Ru(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return Zs(t.a,Ss,{idToken:e}).then(C(t.Kc,t))}(t,e).then(function(){return n||Eu(t,"isAnonymous",!1),e})})}function Du(t,e){e[Ka]&&t.za!=e[Ka]&&(hu(t.b,e),t.dispatchEvent(new ru("tokenChanged")),xu(t,e[Ka]),Eu(t,"refreshToken",t.b.a))}function Nu(t,e){return Ru(t).then(function(){if(Y(Au(t),e))return wu(t).then(function(){throw new P("provider-already-linked")})})}function Lu(t,e,n){return $i({user:t,credential:zo(e),additionalUserInfo:e=Yr(e),operationType:n})}function zu(t,e){return Du(t,e),t.reload().then(function(){return t})}function ju(t,e,n,r,o){if(!Ei())return Ae(new P("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ae(t.h);var a=Qr(n.providerId),s=ji(t.uid+":::"),c=null;(!Di()||yi())&&t.s&&n.isOAuthProvider&&(c=fc(t.s,t.l,t.m,e,n,null,s,i.a.SDK_VERSION||null,null,null,t.tenantId));var l=gi(c,a&&a.ua,a&&a.ta);return r=r().then(function(){if(qu(t),!o)return t.I().then(function(){})}).then(function(){return Rl(t.i,l,e,n,s,!!c,t.tenantId)}).then(function(){return new ye(function(n,i){t.na(e,null,new P("cancelled-popup-request"),t.g||null),t.f=n,t.C=i,t.g=s,t.c=Ll(t.i,t,e,l,s)})}).then(function(t){return l&&fi(l),t?$i(t):null}).o(function(t){throw l&&fi(l),t}),Bu(t,r,o)}function Fu(t,e,n,i,r){if(!Ei())return Ae(new P("operation-not-supported-in-this-environment"));if(t.h&&!r)return Ae(t.h);var o=null,a=ji(t.uid+":::");return i=i().then(function(){if(qu(t),!r)return t.I().then(function(){})}).then(function(){return t.ga=a,wu(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Vu,t.w(),e.a)),e}).then(function(){return Nl(t.i,e,n,a,t.tenantId)}).o(function(e){if(o=e,t.ha)return Wu(t.ha);throw o}).then(function(){if(o)throw o}),Bu(t,i,r)}function qu(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new P("internal-error");throw new P("auth-domain-config-required")}}function Bu(t,e,n){var i=function(t,e,n){return t.h&&!n?(e.cancel(),Ae(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ru("userInvalidated")),t.h=e),e})}(t,e,n);return t.J.push(i),i.oa(function(){K(t.J,i)}),i.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tu(e.w(),_u(t),C(t.jc,t))),n||e})}function Uu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ka]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=t.stsTokenManager.expirationTime;i&&(n.expiresIn=(i-Date.now())/1e3);var r=new fu(e,n,t);return t.providerData&&V(t.providerData,function(t){t&&Tu(r,$i(t))}),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Hu(t){this.a=t,this.b=$c()}Xl.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=gt(e.f);return delete n[$l],delete n[Jl],vt(n,t),e.g(n)})},M(Zl,P),eu.prototype.sb=function(t,e,n){return e.type==oo?function(t,e,n,i){return n.Ha().then(function(n){return n={idToken:n},void 0!==i&&(n.displayName=i),vt(n,{phoneVerificationInfo:Do(t.a)}),Zs(e,As,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),Zs(e,Ts,n)})}(this,t,e)},M(nu,eu),M(iu,nu),M(ru,Xe),(t=ou.prototype).yc=function(t){au(this,function(t){var e=[];return V(t.mfaInfo||[],function(t){(t=tr(t))&&e.push(t)}),e}(t.hd))},t.Rb=function(){return this.a.I().then(function(t){return new ro(t,null)})},t.fc=function(t,e){var n=this,i=this.a.a;return this.Rb().then(function(n){return t.sb(i,n,e)}).then(function(t){return Du(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,i=this.a.a;return this.a.I().then(function(t){return Zs(i,Js,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var i=W(e.b,function(t){return t.uid!=n});return au(e,i),Du(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},su.prototype.start=function(){this.a=this.c,cu(this,!0)},su.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},lu.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},lu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new P("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new ye(function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?rs(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?i(ec(t)):t.access_token&&t.refresh_token?n(t):i(new P("internal-error")):i(new P("network-request-failed"))},"POST",$n(e).toString(),t.g,t.m.get()):i(new P("internal-error"))})}(t.f,e).then(function(e){return t.b=Ur(e.access_token),t.a=e.refresh_token,uu(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})},du.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},M(fu,Cn),fu.prototype.wa=function(t){this.ya=t,ts(this.a,t)},fu.prototype.la=function(){return this.ya},fu.prototype.Ga=function(){return J(this.$)},fu.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Ki(fu.prototype,"providerId","firebase"),(t=fu.prototype).reload=function(){var t=this;return Bu(this,ku(this).then(function(){return Ru(t).then(function(){return wu(t)}).then(Pu)}))},t.oc=function(t){return this.I(t).then(function(t){return new Kl(t)})},t.I=function(t){var e=this;return Bu(this,ku(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new P("internal-error");return t.accessToken!=e.za&&(xu(e,t.accessToken),e.dispatchEvent(new ru("tokenChanged"))),Eu(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new P("internal-error");Ou(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new pu(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Tu(this,e[n]);Eu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ru("userReloaded",{hd:t}))},t.Lc=function(t){return Qi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Bu(this,t.c(this.a,this.uid).then(function(t){return Du(e,t),n=Lu(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Qi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Bu(this,Nu(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Lu(e,t,"link"),zu(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Bu(this,Nu(this,"phone").then(function(){return Yl(_u(n),t,e,C(n.qb,n))}))},t.Mc=function(t,e){var n=this;return Bu(this,ke().then(function(){return Yl(_u(n),t,e,C(n.tb,n))}),!0)},t.Bb=function(t){var e=this;return Bu(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return Du(e,t),e.reload()}))},t.ed=function(t){var e=this;return Bu(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Du(e,t),e.reload()}))},t.Cb=function(t){var e=this;return Bu(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Du(e,t),e.reload()}))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return ku(this);var e=this;return Bu(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Du(e,t),Eu(e,"displayName",t.displayName||null),Eu(e,"photoURL",t.photoUrl||null),V(e.providerData,function(t){"password"===t.providerId&&(Ki(t,"displayName",e.displayName),Ki(t,"photoURL",e.photoURL))}),wu(e)}).then(Pu))},t.cd=function(t){var e=this;return Bu(this,Ru(this).then(function(n){return Y(Au(e),t)?function(t,e,n){return Zs(t,Os,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return V(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),V(Au(e),function(t){n[t]||Su(e,t)}),n[No.PROVIDER_ID]||Ki(e,"phoneNumber",null),wu(e)}):wu(e).then(function(){throw new P("no-such-provider")})}))},t.delete=function(){var t=this;return Bu(this,this.I().then(function(e){return Zs(t.a,Ms,{idToken:e})}).then(function(){t.dispatchEvent(new ru("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");gu(t,null),mu(t,null),bu(t,null),t.J=[],t.D=!0,Cu(t),Ki(t,"refreshToken",null),t.i&&Sl(t.i,t)})},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?C(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?C(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?C(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?C(this.Lb,this):null},t.Ec=function(t){var e=this;return ju(this,"linkViaPopup",t,function(){return Nu(e,t.providerId).then(function(){return wu(e)})},!1)},t.Nc=function(t){return ju(this,"reauthViaPopup",t,function(){return ke()},!0)},t.Fc=function(t){var e=this;return Fu(this,"linkViaRedirect",t,function(){return Nu(e,t.providerId)},!1)},t.Oc=function(t){return Fu(this,"reauthViaRedirect",t,function(){return ke()},!0)},t.Kb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bu(this,this.I().then(function(n){return vs(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})}).then(function(t){return o=Lu(r,t,"link"),zu(r,t)}).then(function(){return o}))},t.Lb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bu(this,ke().then(function(){return co(bs(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)}).then(function(t){return o=Lu(r,t,"reauthenticate"),Du(r,t),r.h=null,r.reload()}).then(function(){return o}),!0)},t.ub=function(t){var e=this,n=null;return Bu(this,this.I().then(function(e){return n=e,void 0===t||ft(t)?{}:Fr(new Tr(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Eb=function(t,e){var n=this,i=null;return Bu(this,this.I().then(function(t){return i=t,void 0===e||ft(e)?{}:Fr(new Tr(e))}).then(function(e){return n.a.Eb(i,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Bu(this,t=co(ke(t),n.uid).then(function(t){return e=Lu(n,t,"reauthenticate"),Du(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),V(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),vt(t,this.O.w()),t};var Vu={name:"redirectUser",F:"session"};function Wu(t){return tl(t.b,Vu,t.a)}function Gu(t){this.a=t,this.b=$c(),this.c=null,this.f=function(t){var e=Ku("local"),n=Ku("session"),i=Ku("none");return function(t,e,n){var i=Zc(e,n),r=Jc(t,e.F);return t.get(e,n).then(function(o){var a=null;try{a=zi(s.localStorage.getItem(i))}catch(c){}if(a&&!o)return s.localStorage.removeItem(i),t.set(e,a,n);a&&o&&"localStorage"!=r.type&&s.localStorage.removeItem(i)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(r){return r?n:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Yu,t.a).then(function(t){return t?Ku(t):e})})})}).then(function(e){return t.c=e,Qu(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Ku("local"),this.a,C(this.g,this))}function Qu(t,e){var n,i=[];for(n in Kc)Kc[n]!==e&&i.push(tl(t.b,Ku(Kc[n]),t.a));return i.push(tl(t.b,Yu,t.a)),function(t){return new ye(function(e,n){var i=t.length,r=[];if(i)for(var o=function(t,n){i--,r[t]=n,0==i&&e(r)},a=function(t){n(t)},s=0;s<t.length;s++)Te(t[s],x(o,s),a);else e(r)})}(i)}Gu.prototype.g=function(){var t=this,e=Ku("local");Zu(this,function(){return ke().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Qu(t,"local").then(function(){t.c=e})})})};var Yu={name:"persistence",F:"session"};function Ku(t){return{name:"authUser",F:t}}function Xu(t,e){return Zu(t,function(){return t.b.set(t.c,e.w(),t.a)})}function $u(t){return Zu(t,function(){return tl(t.b,t.c,t.a)})}function Ju(t,e,n){return Zu(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Uu(t||{})})})}function Zu(t,e){return t.f=t.f.then(e,e),t.f}function th(t){if(this.l=!1,Ki(this,"settings",new Gl),Ki(this,"app",t),!ch(this).options||!ch(this).options.apiKey)throw new P("invalid-api-key");t=i.a.SDK_VERSION?ki(i.a.SDK_VERSION):null,this.a=new Qa(ch(this).options&&ch(this).options.apiKey,I(A),t),this.R=[],this.s=[],this.O=[],this.hb=i.a.INTERNAL.createSubscribe(C(this.zc,this)),this.X=void 0,this.bc=i.a.INTERNAL.createSubscribe(C(this.Ac,this)),ah(this,null),this.i=new Gu(ch(this).options.apiKey+":"+ch(this).name),this.D=new Hu(ch(this).options.apiKey+":"+ch(this).name),this.$=dh(this,function(t){var e=ch(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Vu,t.a).then(function(t){return t&&e&&(t.authDomain=e),Uu(t||{})})}(t.D,ch(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Wu(t.D)});return dh(t,e)}(t).then(function(){return Ju(t.i,e,t.P)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Xu(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:$u(t.i)})):null}).then(function(e){ah(t,e||null)});return dh(t,n)}(this)),this.h=dh(this,function(t){return t.$.then(function(){return oh(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Ku("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=C(this.Zc,this),this.Ba=C(this.da,this),this.ya=C(this.mc,this),this.za=C(this.wc,this),this.Aa=C(this.xc,this),this.b=null,function(t){var e=ch(t).options.authDomain,n=ch(t).options.apiKey;e&&Ei()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Fl(e,n,ch(t).name,t.P),Tl(t.b,t),lh(t)&&Mu(lh(t)),t.m){Mu(t.m);var i=t.m;i.wa(t.la()),gu(i,t),vu(i=t.m,t.J),bu(i,t),es((i=t.m).a,t.P),mu(i,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.Gc,this),this.u=0,Cn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Fn(this.P.url);t=$i({protocol:t.c,host:t.a,port:t.g,options:$i({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function eh(t){Xe.call(this,"languageCodeChanged"),this.h=t}function nh(t){Xe.call(this,"emulatorConfigChanged"),this.c=t}function ih(t){Xe.call(this,"frameworkChanged"),this.f=t}function rh(t){return t.Oa||Ae(new P("auth-domain-config-required"))}function oh(t){if(!Ei())return Ae(new P("operation-not-supported-in-this-environment"));var e=rh(t).then(function(){return t.b.qa()}).then(function(t){return t?$i(t):null});return dh(t,e)}function ah(t,e){lh(t)&&(function(t,e){X(t.S,function(t){return t==e})}(lh(t),t.Ba),dn(lh(t),"tokenChanged",t.ya),dn(lh(t),"userDeleted",t.za),dn(lh(t),"userInvalidated",t.Aa),Cu(lh(t))),e&&(e.S.push(t.Ba),ln(e,"tokenChanged",t.ya),ln(e,"userDeleted",t.za),ln(e,"userInvalidated",t.Aa),0<t.u&&yu(e)),Ki(t,"currentUser",e),e&&(e.wa(t.la()),gu(e,t),vu(e,t.J),bu(e,t),es(e.a,t.P),mu(e,t))}function sh(t,e){var n=null,i=null;return dh(t,e.then(function(e){return n=zo(e),i=Yr(e),function(t,e){var n={};return n.apiKey=ch(t).options.apiKey,n.authDomain=ch(t).options.authDomain,n.appName=ch(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then(function(){return function(t,e,n,i){var r=new fu(t,e);return n&&(r.ha=n),i&&vu(r,i),r.reload().then(function(){return r})}(n,e,t.D,t.Ga())}).then(function(e){return lh(t)&&e.uid==lh(t).uid?(Iu(lh(t),e),t.da(e)):(ah(t,e),Mu(e),t.da(e))}).then(function(){hh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tu(e.w(),t,C(t.kc,t))),n||e}).then(function(){return $i({user:lh(t),credential:n,additionalUserInfo:i,operationType:"signIn"})}))}function ch(t){return t.app}function lh(t){return t.currentUser}function uh(t){return lh(t)&&lh(t)._lat||null}function hh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](uh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](uh(t))}}function dh(t,e){return t.R.push(e),e.oa(function(){K(t.R,e)}),e}function ph(){}function fh(){this.a={},this.b=1e12}Gu.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new P("invalid-persistence-type"),n=new P("unsupported-persistence-type");t:{for(i in Kc)if(Kc[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(xi()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ac()&&"none"!==t)throw n;break;default:if(!Si()&&"none"!==t)throw n}}(t),Zu(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(i){return e=i,Qu(n,t)}).then(function(){if(n.c=Ku(t),e)return n.b.set(n.c,e,n.a)}):ke()})},M(th,Cn),M(eh,Xe),M(nh,Xe),M(ih,Xe),(t=th.prototype).xb=function(t){return dh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ts(this.a,this.aa),this.dispatchEvent(new eh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new P("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&bi().then(function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,es(this.a,this.P),this.dispatchEvent(new nh(this.P))}},t.Gc=function(t){this.J.push(t),is(this.a,i.a.SDK_VERSION?ki(i.a.SDK_VERSION,this.J):null),this.dispatchEvent(new ih(this.J))},t.Ga=function(){return J(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:ch(this).options.apiKey,authDomain:ch(this).options.authDomain,appName:ch(this).name,currentUser:lh(this)&&lh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?C(this.ic,this):null},t.ic=function(t,e,n,i){var r=this,o={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.$.then(function(){return sh(r,ms(r.a,o))})},t.Xc=function(t){if(!Ei())return Ae(new P("operation-not-supported-in-this-environment"));var e=this,n=Qr(t.providerId),r=ji(),o=null;(!Di()||yi())&&ch(this).options.authDomain&&t.isOAuthProvider&&(o=fc(ch(this).options.authDomain,ch(this).options.apiKey,ch(this).name,"signInViaPopup",t,null,r,i.a.SDK_VERSION||null,null,null,this.T(),this.P));var a=gi(o,n&&n.ua,n&&n.ta);return dh(this,n=rh(this).then(function(n){return Rl(n,a,"signInViaPopup",t,r,!!o,e.T())}).then(function(){return new ye(function(t,n){e.na("signInViaPopup",null,new P("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Ll(e.b,e,"signInViaPopup",a,r)})}).then(function(t){return a&&fi(a),t?$i(t):null}).o(function(t){throw a&&fi(a),t}))},t.Yc=function(t){if(!Ei())return Ae(new P("operation-not-supported-in-this-environment"));var e=this;return dh(this,rh(this).then(function(){return function(t){return Zu(t,function(){return t.b.set(Yu,t.c.F,t.a)})}(e.i)}).then(function(){return Nl(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.qa=function(){var t=this;return oh(this).then(function(e){return t.b&&Ul(t.b.b),e}).o(function(e){throw t.b&&Ul(t.b.b),e})},t.dd=function(t){if(!t)return Ae(new P("null-user"));if(this.S!=t.tenantId)return Ae(new P("tenant-id-mismatch"));var e=this,n={};n.apiKey=ch(this).options.apiKey,n.authDomain=ch(this).options.authDomain,n.appName=ch(this).name;var i=function(t,e,n,i){var r=t.b,o={};return o[Ka]=r.b&&r.b.toString(),o.refreshToken=r.a,e=new fu(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),i&&vu(e,i),Iu(e,t),e}(t,n,e.D,e.Ga());return dh(this,this.h.then(function(){if(ch(e).options.apiKey!=t.l)return i.reload()}).then(function(){return lh(e)&&t.uid==lh(e).uid?(Iu(lh(e),t),e.da(t)):(ah(e,i),Mu(i),e.da(i))}).then(function(){hh(e)}))},t.Ab=function(){var t=this;return dh(this,this.h.then(function(){return t.b&&Ul(t.b.b),lh(t)?(ah(t,null),$u(t.i).then(function(){hh(t)})):ke()}))},t.Zc=function(){var t=this;return Ju(this.i,ch(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=lh(t)&&e){n=lh(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return Iu(lh(t),e),lh(t).I();(lh(t)||e)&&(ah(t,e),e&&(Mu(e),e.ha=t.D),t.b&&Tl(t.b,t),hh(t))}})},t.da=function(t){return Xu(this.i,t)},t.mc=function(){hh(this),this.da(lh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then(function(){return sh(e,ke(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(lh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),dh(t,t.h.then(function(){!t.l&&Y(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(uh(t)))}))}(this,function(){t.next(lh(e))})},t.Ic=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(lh(i)):"function"==typeof t.next&&t.next(lh(i))}),this.hb(t,e,n)},t.Hc=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then(function(){i.X=i.getUid(),"function"==typeof t?t(lh(i)):"function"==typeof t.next&&t.next(lh(i))}),this.bc(t,e,n)},t.nc=function(t){var e=this;return dh(this,this.h.then(function(){return lh(e)?lh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return sh(e,Zs(e.a,Qs,{token:t}))}).then(function(t){var n=t.user;return Eu(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return sh(n,Zs(n.a,Ys,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return sh(n,Zs(n.a,xs,{email:t,password:e}))})},t.$a=function(t){var e=this;return this.h.then(function(){return sh(e,t.ka(e.a))})},t.Sc=function(t){return Qi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then(function(){var e=lh(t);if(e&&e.isAnonymous){var n=$i({providerId:null,isNewUser:!1});return $i({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return sh(t,t.a.zb()).then(function(e){var n=e.user;return Eu(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return lh(this)&&lh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&lh(this)&&yu(lh(this))},t.Pc=function(t){var e=this;V(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&lh(this)&&Cu(lh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),dh(this,this.h.then(function(){e.l||Y(e.s,t)&&t(uh(e))}))},t.removeAuthTokenListener=function(t){X(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Ku("local"),t.a,this.ja),this.b&&(Sl(this.b,this),Ul(this.b.b)),Promise.resolve()},t.hc=function(t){return dh(this,function(t,e){return Zs(t,ws,{identifier:e,continueUri:Ii()?ui():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!Eo(t)},t.wb=function(t,e){var n=this;return dh(this,ke().then(function(){var t=new Tr(e);if(!t.c)throw new P("argument-error",Ir+" must be true when sending sign in link to email");return Fr(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},t.nb=function(t,e){return dh(this,this.a.nb(t,e).then(function(){}))},t.Ra=function(t){return dh(this,this.a.Ra(t).then(function(t){return new ar(t)}))},t.jb=function(t){return dh(this,this.a.jb(t).then(function(){}))},t.vb=function(t,e){var n=this;return dh(this,ke().then(function(){return void 0===e||ft(e)?{}:Fr(new Tr(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},t.Wc=function(t,e){return dh(this,Yl(this,t,e,C(this.$a,this)))},t.Vc=function(t,e){var n=this;return dh(this,ke().then(function(){var i=e||ui(),r=So(t,i);if(!(i=Eo(i)))throw new P("argument-error","Invalid email link!");if(i.tenantId!==n.T())throw new P("tenant-id-mismatch");return n.$a(r)}))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var gh=null;function mh(t,e){return(e=vh(e))&&t.a[e]||null}function vh(t){return(t=void 0===t?1e12:t)?t.toString():null}function bh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ce(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function _h(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function yh(){}function Ch(){}fh.prototype.render=function(t,e){return this.a[this.b.toString()]=new bh(t,e),this.b++},fh.prototype.reset=function(t){var e=mh(this,t);t=vh(t),e&&t&&(e.delete(),delete this.a[t])},fh.prototype.getResponse=function(t){return(t=mh(this,t))?t.getResponse():null},fh.prototype.execute=function(t){(t=mh(this,t))&&t.execute()},bh.prototype.getResponse=function(){return _h(this),this.b},bh.prototype.execute=function(){_h(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(i){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(i){}t.h&&t.execute()},6e4)},500))},bh.prototype.delete=function(){_h(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Ki(yh,"FACTOR_ID","phone"),Ch.prototype.g=function(){return gh||(gh=new fh),ke(gh)},Ch.prototype.c=function(){};var xh=null;function wh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Mh=new _t(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Oh=new Bi(3e4,6e4);wh.prototype.g=function(t){var e=this;return new ye(function(n,i){var r=setTimeout(function(){i(new P("network-request-failed"))},Oh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(r),n(s.grecaptcha)}else clearTimeout(r),i(new P("internal-error"));delete s[e.a]},ke(qa(kt(Mh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(r),i(new P("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(r),n(s.grecaptcha))})},wh.prototype.c=function(){this.b--};var Ph=null;function kh(t,e,n,i,r,o,a){if(Ki(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(xh||(xh=new Ch),a=xh):(Ph||(Ph=new wh),a=Ph),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Sh])throw new P("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Eh],!s.document)throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ce(e)||!this.i&&ce(e).hasChildNodes())throw new P("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qa(t,o||null,r||null),this.u=i||function(){return null};var c=this;this.l=[];var l=this.a[Ah];this.a[Ah]=function(t){if(Ih(c,t),"function"==typeof l)l(t);else if("string"==typeof l){var e=Ti(l,s);"function"==typeof e&&e(t)}};var u=this.a[Th];this.a[Th]=function(){if(Ih(c,null),"function"==typeof u)u();else if("string"==typeof u){var t=Ti(u,s);"function"==typeof t&&t()}}}var Ah="callback",Th="expired-callback",Sh="sitekey",Eh="size";function Ih(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(i){}}function Rh(t,e){return t.h.push(e),e.oa(function(){K(t.h,e)}),e}function Dh(t){if(t.D)throw new P("internal-error","RecaptchaVerifier instance has been destroyed.")}function Nh(t,e,n){var r=!1;try{this.b=n||i.a.app()}catch(s){throw new P("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new P("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=i.a.SDK_VERSION?ki(i.a.SDK_VERSION,a):null,kh.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},a,I(A),r)}function Lh(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new P("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].M(n[r])&&!o){if(e=e[r],0>r||r>=zh.length)throw new P("internal-error","Argument validator received an unsupported number of arguments.");n=zh[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}i=null}}if(i)throw new P("argument-error",t+" failed: "+i)}(t=kh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Rh(this,ke().then(function(){if(Ii()&&!Ci())return bi();throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,Zs(t.s,Ls,{})}).then(function(e){t.a[Sh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Dh(this);var t=this;return Rh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ce(e);e=function(t,e,n){var i=arguments,r=document,o=String(i[0]),a=i[1];if(!se&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Vt(a.name),'"'),a.type){o.push(' type="',Vt(a.type),'"');var s={};vt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=fe(r,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):le(o,a)),2<i.length&&pe(r,o,i),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Dh(this);var t=this;return Rh(this,this.render().then(function(e){return new ye(function(n){var i=t.g.getResponse(e);if(i)n(i);else{t.l.push(function e(i){i&&(function(t,e){X(t.l,function(t){return t==e})}(t,e),n(i))}),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Dh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Dh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ce(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},M(Nh,kh);var zh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function jh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Fh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function qh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function Bh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Uh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Hh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Vh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Wh(t){return g(t)&&"string"==typeof t.uid}function Gh(t,e,n,i){return{name:n||"",K:t.K+" or "+e.K,optional:!!i,M:function(n){return t.M(n)||e.M(n)}}}function Qh(t,e){for(var n in e){var i=e[n].name;t[i]=Xh(i,t[n],e[n].j)}}function Yh(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:x(function(t){return this[t]},n),set:x(function(t,e,n,i){Lh(t,[n],[i],!0),this[e]=i},i,n,e[n].kb),enumerable:!0})}}function Kh(t,e,n,i){t[e]=Xh(e,n,i)}function Xh(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Lh(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}Qh(th.prototype,{jb:{name:"applyActionCode",j:[jh("code")]},Ra:{name:"checkActionCode",j:[jh("code")]},nb:{name:"confirmPasswordReset",j:[jh("code"),jh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[jh("email"),jh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[jh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[jh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Gh(qh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Gh(qh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[jh("email"),Gh(qh("opt_actionCodeSettings",!0),Uh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[jh("email"),qh("actionCodeSettings")]},xb:{name:"setPersistence",j:[jh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Hh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Hh()]},Tc:{name:"signInWithCustomToken",j:[jh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[jh("email"),jh("password")]},Vc:{name:"signInWithEmailLink",j:[jh("email"),jh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Gh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof fu)}},Uh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[jh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[jh("url"),qh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[jh("code")]}}),Yh(th.prototype,{lc:{name:"languageCode",kb:Gh(jh(),Uh(),"languageCode")},ti:{name:"tenantId",kb:Gh(jh(),Uh(),"tenantId")}}),(th.Persistence=Kc).LOCAL="local",th.Persistence.SESSION="session",th.Persistence.NONE="none",Qh(fu.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Fh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Fh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Hh()]},qb:{name:"linkWithCredential",j:[Hh()]},Dc:{name:"linkWithPhoneNumber",j:[jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hh()]},tb:{name:"reauthenticateWithCredential",j:[Hh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Gh(qh("opt_actionCodeSettings",!0),Uh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[jh(null,!0)]},cd:{name:"unlink",j:[jh("provider")]},Bb:{name:"updateEmail",j:[jh("email")]},Cb:{name:"updatePassword",j:[jh("password")]},ed:{name:"updatePhoneNumber",j:[Hh("phone")]},Db:{name:"updateProfile",j:[qh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[jh("email"),Gh(qh("opt_actionCodeSettings",!0),Uh(null,!0),"opt_actionCodeSettings",!0)]}}),Qh(fh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(ye.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Yh(Gl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Fh("appVerificationDisabledForTesting")}}),Qh(Ql.prototype,{confirm:{name:"confirm",j:[jh("verificationCode")]}}),Kh(so,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,Ao,Ro,ho],i=0;i<n.length;i++)if(e=n[i](t))return e;return null},[Gh(jh(),qh(),"json")]),Kh(To,"credential",function(t,e){return new ko(t,e)},[jh("email"),jh("password")]),Qh(ko.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Qh(_o.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Kh(_o,"credential",yo,[Gh(jh(),qh(),"token")]),Kh(To,"credentialWithLink",So,[jh("email"),jh("emailLink")]),Qh(Co.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Kh(Co,"credential",xo,[Gh(jh(),qh(),"token")]),Qh(wo.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Kh(wo,"credential",Mo,[Gh(jh(),Gh(qh(),Uh()),"idToken"),Gh(jh(),Uh(),"accessToken",!0)]),Qh(Oo.prototype,{Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Kh(Oo,"credential",Po,[Gh(jh(),qh(),"token"),jh("secret",!0)]),Qh(bo.prototype,{Ca:{name:"addScope",j:[jh("scope")]},credential:{name:"credential",j:[Gh(jh(),Gh(qh(),Uh()),"optionsOrIdToken"),Gh(jh(),Uh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Qh(po.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Qh(lo.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Kh(No,"credential",Lo,[jh("verificationId"),jh("verificationCode")]),Qh(No.prototype,{fb:{name:"verifyPhoneNumber",j:[Gh(jh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Vh(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Vh(t.session,ao)&&Wh(t.multiFactorHint):t.session&&t.multiFactorUid?Vh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Qh(Io.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Qh(P.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Qh(Wo.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Qh(Vo.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Qh(Zl.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Qh(Xl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Qh(ou.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},jh("displayName",!0)]},bd:{name:"unenroll",j:[Gh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Wh},jh(),"multiFactorInfoIdentifier")]}}),Qh(Nh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Kh(yr,"parseLink",Ar,[jh("link")]),Kh(yh,"assertion",function(t){return new iu(t)},[Hh("phone")]),function(){if(void 0===i.a||!i.a.INTERNAL||!i.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:sr,VERIFY_AND_CHANGE_EMAIL:lr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:th,AuthCredential:so,Error:P};Kh(t,"EmailAuthProvider",To,[]),Kh(t,"FacebookAuthProvider",_o,[]),Kh(t,"GithubAuthProvider",Co,[]),Kh(t,"GoogleAuthProvider",wo,[]),Kh(t,"TwitterAuthProvider",Oo,[]),Kh(t,"OAuthProvider",bo,[jh("providerId")]),Kh(t,"SAMLAuthProvider",vo,[jh("providerId")]),Kh(t,"PhoneAuthProvider",No,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof th)}}]),Kh(t,"RecaptchaVerifier",Nh,[Gh(jh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),qh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof i.a.app.App)}}]),Kh(t,"ActionCodeURL",yr,[]),Kh(t,"PhoneMultiFactorGenerator",yh,[]),i.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new th(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),i.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:C((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:C(t.nc,t),addAuthTokenListener:C(t.cc,t),removeAuthTokenListener:C(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),i.a.registerVersion("@firebase/auth","0.16.4"),i.a.INTERNAL.extendNamespace({User:fu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("HDdC"),r=n("7Hc7"),o=n("Y7HM"),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.delayTime=a,i.scheduler=s,(!Object(o.a)(a)||a<0)&&(i.delayTime=0),s&&"function"==typeof s.schedule||(i.scheduler=r.a),i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a;return new n(t,e,i)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(i.a);function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new c(t,e))}}var c=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new a(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("7o/Q"),r=n("KqfI"),o=n("n6bG");function a(t,e,n){return function(i){return i.lift(new s(t,e,n))}}var s=function(){function t(e,n,i){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,a,s){var c;return _classCallCheck(this,n),(c=e.call(this,t))._tapNext=r.a,c._tapError=r.a,c._tapComplete=r.a,c._tapError=a||r.a,c._tapComplete=s||r.a,Object(o.a)(i)?(c._context=_assertThisInitialized(c),c._tapNext=i):i&&(c._context=i,c._tapNext=i.next||r.a,c._tapError=i.error||r.a,c._tapComplete=i.complete||r.a),c}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(i.a)},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n("XNiG"),r=n("HDdC"),o=n("7o/Q"),a=n("quSY");function s(){return function(t){return t.lift(new l(t))}}var c,l=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var i=new u(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).connectable=i,r}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(o.a),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t}},{key:"refCount",value:function(){return s()(this)}}]),n}(r.a),d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(c=h.prototype)._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).connectable=i,r}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(i.b);function f(){return new i.a}function g(){return function(t){return s()((e=f,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,d);return i.source=t,i.subjectFactory=n,i})(t));var e}}},xOOu:function(t,e,n){t.exports=function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return r(e[a][1][t]||t)},l,l.exports,t,e,n,i)}return n[a].exports}for(var o=!1,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){(function(i){!function(t){"object"==typeof n&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(n,i,r){function o(s,c){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};n[s][0].call(h.exports,function(t){return o(n[s][1][t]||t)},h,h.exports,e,n,i,r)}return i[s].exports}for(var a="function"==typeof t&&t,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){(function(i){!function(t){"object"==typeof n&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(n,i,r){function o(s,c){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};n[s][0].call(h.exports,function(t){return o(n[s][1][t]||t)},h,h.exports,e,n,i,r)}return i[s].exports}for(var a="function"==typeof t&&t,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){(function(i){!function(t){"object"==typeof n&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(n,i,r){function o(s,c){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};n[s][0].call(h.exports,function(t){return o(n[s][1][t]||t)},h,h.exports,e,n,i,r)}return i[s].exports}for(var a="function"==typeof t&&t,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){(function(i){!function(t){"object"==typeof n&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(n,i,r){function o(s,c){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};n[s][0].call(h.exports,function(t){return o(n[s][1][t]||t)},h,h.exports,e,n,i,r)}return i[s].exports}for(var a="function"==typeof t&&t,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){(function(i){!function(t){"object"==typeof n&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=t()}(function(){return function e(n,i,r){function o(s,c){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};n[s][0].call(h.exports,function(t){return o(n[s][1][t]||t)},h,h.exports,e,n,i,r)}return i[s].exports}for(var a="function"==typeof t&&t,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){"use strict";var i=t("./utils"),r=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,r,a,s,c,l=[],u=0,h=t.length,d=h,p="string"!==i.getTypeOf(t);u<t.length;)d=h-u,r=p?(e=t[u++],n=u<h?t[u++]:0,u<h?t[u++]:0):(e=t.charCodeAt(u++),n=u<h?t.charCodeAt(u++):0,u<h?t.charCodeAt(u++):0),a=(3&e)<<4|n>>4,s=1<d?(15&n)<<2|r>>6:64,c=2<d?63&r:64,l.push(o.charAt(e>>2)+o.charAt(a)+o.charAt(s)+o.charAt(c));return l.join("")},n.decode=function(t){var e,n,i,a,s,c,l=0,u=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var h,d=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&d--,t.charAt(t.length-2)===o.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=r.uint8array?new Uint8Array(0|d):new Array(0|d);l<t.length;)e=o.indexOf(t.charAt(l++))<<2|(a=o.indexOf(t.charAt(l++)))>>4,n=(15&a)<<4|(s=o.indexOf(t.charAt(l++)))>>2,i=(3&s)<<6|(c=o.indexOf(t.charAt(l++))),h[u++]=e,64!==s&&(h[u++]=n),64!==c&&(h[u++]=i);return h}},{"./support":30,"./utils":32}],2:[function(t,e,n){"use strict";var i=t("./external"),r=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");function s(t,e,n,i,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=r}s.prototype={getContentWorker:function(){var t=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,n){return t.pipe(new o).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){"use strict";var i=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){"use strict";var i=t("./utils"),r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,n){var i=r,o=0+n;t^=-1;for(var a=0;a<o;a++)t=t>>>8^i[255&(t^e[a])];return-1^t}(0|e,t,t.length):function(t,e,n){var i=r,o=0+n;t^=-1;for(var a=0;a<o;a++)t=t>>>8^i[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length):0}},{"./utils":32}],5:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){"use strict";var i;i="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=t("pako"),o=t("./utils"),a=t("./stream/GenericWorker"),s=i?"uint8array":"array";function c(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}n.magic="\b\0",o.inherits(c,a),c.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,t.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},n.compressWorker=function(t){return new c("Deflate",t)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,n){"use strict";function i(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i}function r(t,e,n,r,a,u){var h,d,p=t.file,f=t.compression,g=u!==s.utf8encode,m=o.transformTo("string",u(p.name)),v=o.transformTo("string",s.utf8encode(p.name)),b=p.comment,_=o.transformTo("string",u(b)),y=o.transformTo("string",s.utf8encode(b)),C=v.length!==p.name.length,x=y.length!==b.length,w="",M="",O="",P=p.dir,k=p.date,A={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(A.crc32=t.crc32,A.compressedSize=t.compressedSize,A.uncompressedSize=t.uncompressedSize);var T=0;e&&(T|=8),g||!C&&!x||(T|=2048);var S,E=0,I=0;P&&(E|=16),"UNIX"===a?(I=798,E|=((S=p.unixPermissions)||(S=P?16893:33204),(65535&S)<<16)):(I=20,E|=63&(p.dosPermissions||0)),h=k.getUTCHours(),h<<=6,h|=k.getUTCMinutes(),h<<=5,h|=k.getUTCSeconds()/2,d=k.getUTCFullYear()-1980,d<<=4,d|=k.getUTCMonth()+1,d<<=5,d|=k.getUTCDate(),C&&(w+="up"+i((M=i(1,1)+i(c(m),4)+v).length,2)+M),x&&(w+="uc"+i((O=i(1,1)+i(c(_),4)+y).length,2)+O);var R="";return R+="\n\0",R+=i(T,2),R+=f.magic,R+=i(h,2),R+=i(d,2),R+=i(A.crc32,4),R+=i(A.compressedSize,4),R+=i(A.uncompressedSize,4),R+=i(m.length,2),R+=i(w.length,2),{fileRecord:l.LOCAL_FILE_HEADER+R+m+w,dirRecord:l.CENTRAL_FILE_HEADER+i(I,2)+R+i(_.length,2)+"\0\0\0\0"+i(E,4)+i(r,4)+m+w+_}}var o=t("../utils"),a=t("../stream/GenericWorker"),s=t("../utf8"),c=t("../crc32"),l=t("../signature");function u(t,e,n,i){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,a),u.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,a.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},u.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=r(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(t){this.accumulate=!1;var e,n=this.streamFiles&&!t.file.dir,o=r(t,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),n)this.push({data:(e=t,l.DATA_DESCRIPTOR+i(e.crc32,4)+i(e.compressedSize,4)+i(e.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n,r,a,s,c=(n=this.dirRecords.length,r=this.bytesWritten-t,a=t,s=o.transformTo("string",(0,this.encodeFileName)(this.zipComment)),l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(n,2)+i(n,2)+i(r,4)+i(a,4)+i(s.length,2)+s);this.push({data:c,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},u.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(t){var e=this._sources;if(!a.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},u.prototype.lock=function(){a.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){"use strict";var i=t("../compressions"),r=t("./ZipFileWorker");n.generateWorker=function(t,e,n){var o=new r(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach(function(t,n){a++;var r=function(t,e){var n=t||e,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,e.compression),s=n.dir,c=n.date;n._compressWorker(r,n.options.compressionOptions||e.compressionOptions||{}).withStreamInfo("file",{name:t,dir:s,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)}),o.entriesCount=a}catch(t){o.error(t)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.5.0",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){"use strict";var i=t("./utils"),r=t("./external"),o=t("./utf8"),a=t("./zipEntries"),s=t("./stream/Crc32Probe"),c=t("./nodejsUtils");function l(t){return new r.Promise(function(e,n){var i=t.decompressed.getContentWorker().pipe(new s);i.on("error",function(t){n(t)}).on("end",function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}e.exports=function(t,e){var n=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(t)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var n=new a(e);return n.load(t),n}).then(function(t){var n=[r.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var o=0;o<i.length;o++)n.push(l(i[o]));return r.Promise.all(n)}).then(function(t){for(var i=t.shift(),r=i.files,o=0;o<r.length;o++){var a=r[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){"use strict";var i=t("../utils"),r=t("../stream/GenericWorker");function o(t,e){r.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(o,r),o.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){"use strict";var i=t("readable-stream").Readable;function r(t,e,n){i.call(this,e),this._helper=t;var r=this;t.on("data",function(t,e){r.push(t)||r._helper.pause(),n&&n(e)}).on("error",function(t){r.emit("error",t)}).on("end",function(){r.push(null)})}t("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},e.exports=r},{"../utils":32,"readable-stream":16}],14:[function(t,e,n){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){"use strict";function i(t,e,n){var i,o,c=a.getTypeOf(e),d=a.extend(n||{},l);d.date=d.date||new Date,null!==d.compression&&(d.compression=d.compression.toUpperCase()),"string"==typeof d.unixPermissions&&(d.unixPermissions=parseInt(d.unixPermissions,8)),d.unixPermissions&&16384&d.unixPermissions&&(d.dir=!0),d.dosPermissions&&16&d.dosPermissions&&(d.dir=!0),d.dir&&(t=r(t)),d.createFolders&&(i=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""}(t))&&g.call(this,i,!0),n&&void 0!==n.binary||(d.binary=!("string"===c&&!1===d.binary&&!1===d.base64)),(e instanceof u&&0===e.uncompressedSize||d.dir||!e||0===e.length)&&(d.base64=!1,d.binary=!0,e="",d.compression="STORE",c="string"),o=e instanceof u||e instanceof s?e:p.isNode&&p.isStream(e)?new f(t,e):a.prepareContent(t,e,d.binary,d.optimizedBinaryString,d.base64);var m=new h(t,o,d);this.files[t]=m}function r(t){return"/"!==t.slice(-1)&&(t+="/"),t}var o=t("./utf8"),a=t("./utils"),s=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),l=t("./defaults"),u=t("./compressedObject"),h=t("./zipObject"),d=t("./generate"),p=t("./nodejsUtils"),f=t("./nodejs/NodejsStreamInputAdapter"),g=function(t,e){return e=void 0!==e?e:l.createFolders,t=r(t),this.files[t]||i.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function m(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i))},filter:function(t){var e=[];return this.forEach(function(n,i){t(n,i)&&e.push(i)}),e},file:function(t,e,n){if(1!==arguments.length)return i.call(this,t=this.root+t,e,n),this;if(m(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}var o=this.files[this.root+t];return o&&!o.dir?o:null},folder:function(t){if(!t)return this;if(m(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=g.call(this,this.root+t),n=this.clone();return n.root=e.name,n},remove:function(t){var e=this.files[t=this.root+t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=a.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");a.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS"),e=d.generateWorker(this,n,n.comment||this.comment||"")}catch(t){(e=new s("error")).error(t)}return new c(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){"use strict";var i=t("./DataReader");function r(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(r,i),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){"use strict";var i=t("../utils");function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=r},{"../utils":32}],19:[function(t,e,n){"use strict";var i=t("./Uint8ArrayReader");function r(t){i.call(this,t)}t("../utils").inherits(r,i),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){"use strict";var i=t("./DataReader");function r(t){i.call(this,t)}t("../utils").inherits(r,i),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){"use strict";var i=t("./ArrayReader");function r(t){i.call(this,t)}t("../utils").inherits(r,i),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){"use strict";var i=t("../utils"),r=t("../support"),o=t("./ArrayReader"),a=t("./StringReader"),s=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||r.uint8array?"nodebuffer"===e?new s(t):r.uint8array?new c(i.transformTo("uint8array",t)):new o(i.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,e,n){"use strict";var i=t("./GenericWorker"),r=t("../utils");function o(t){i.call(this,"ConvertWorker to "+t),this.destType=t}r.inherits(o,i),o.prototype.processChunk=function(t){this.push({data:r.transformTo(this.destType,t.data),meta:t.meta})},e.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){"use strict";var i=t("./GenericWorker"),r=t("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,i),o.prototype.processChunk=function(t){this.streamInfo.crc32=r(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){"use strict";var i=t("../utils"),r=t("./GenericWorker");function o(t){r.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(o,r),o.prototype.processChunk=function(t){t&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+t.data.length),r.prototype.processChunk.call(this,t)},e.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){"use strict";var i=t("../utils"),r=t("./GenericWorker");function o(t){r.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){"use strict";function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=i},{}],29:[function(t,e,n){"use strict";var i=t("../utils"),r=t("./ConvertWorker"),o=t("./GenericWorker"),a=t("../base64"),s=t("../support"),c=t("../external"),l=null;if(s.nodestream)try{l=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function u(t,e,n){var a=e;switch(e){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=e,this._mimeType=n,i.checkSupport(a),this._worker=t.pipe(new r(a)),t.lock()}catch(t){this._worker=new o("error"),this._worker.error(t)}}u.prototype={accumulate:function(t){return e=this,n=t,new c.Promise(function(t,r){var o=[],s=e._internalType,c=e._outputType,l=e._mimeType;e.on("data",function(t,e){o.push(t),n&&n(e)}).on("error",function(t){o=[],r(t)}).on("end",function(){try{var e=function(t,e,n){switch(t){case"blob":return i.newBlob(i.transformTo("arraybuffer",e),n);case"base64":return a.encode(e);default:return i.transformTo(t,e)}}(c,function(t,e){var n,i=0,r=null,o=0;for(n=0;n<e.length;n++)o+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(r=new Uint8Array(o),n=0;n<e.length;n++)r.set(e[n],i),i+=e[n].length;return r;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(s,o),l);t(e)}catch(e){r(e)}o=[]}).resume()});var e,n},on:function(t,e){var n=this;return this._worker.on(t,"data"===t?function(t){e.call(n,t.data,t.meta)}:function(){i.delay(e,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(t){n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch(t){n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){"use strict";for(var i=t("./utils"),r=t("./support"),o=t("./nodejsUtils"),a=t("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function l(){a.call(this,"utf-8 decode"),this.leftOver=null}function u(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(t){return r.nodebuffer?o.newBufferFrom(t,"utf-8"):function(t){var e,n,i,o,a,s=t.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=r.uint8array?new Uint8Array(c):new Array(c),o=a=0;a<c;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e}(t)},n.utf8decode=function(t){return r.nodebuffer?i.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,r,o,a=t.length,c=new Array(2*a);for(e=n=0;e<a;)if((r=t[e++])<128)c[n++]=r;else if(4<(o=s[r]))c[n++]=65533,e+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&e<a;)r=r<<6|63&t[e++],o--;1<o?c[n++]=65533:r<65536?c[n++]=r:(c[n++]=55296|(r-=65536)>>10&1023,c[n++]=56320|1023&r)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),i.applyFromCharCode(c)}(t=i.transformTo(r.uint8array?"uint8array":"array",t))},i.inherits(l,a),l.prototype.processChunk=function(t){var e=i.transformTo(r.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=e;(e=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),e.set(o,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+s[t[n]]>e?n:e}(e),c=e;a!==e.length&&(r.uint8array?(c=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(c=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:n.utf8decode(c),meta:t.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,i.inherits(u,a),u.prototype.processChunk=function(t){this.push({data:n.utf8encode(t.data),meta:t.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,n){"use strict";var i=t("./support"),r=t("./base64"),o=t("./nodejsUtils"),a=t("set-immediate-shim"),s=t("./external");function c(t){return t}function l(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}n.newBlob=function(e,i){n.checkSupport("blob");try{return new Blob([e],{type:i})}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(i)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(t,e,n){var i=[],r=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;r<o;)i.push(String.fromCharCode.apply(null,"array"===e||"nodebuffer"===e?t.slice(r,Math.min(r+n,o)):t.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(t){return!1}}()}};function h(t){var e=65536,i=n.getTypeOf(t),r=!0;if("uint8array"===i?r=u.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=u.applyCanBeUsed.nodebuffer),r)for(;1<e;)try{return u.stringifyByChunk(t,i,e)}catch(t){e=Math.floor(e/2)}return u.stringifyByChar(t)}function d(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}n.applyFromCharCode=h;var p={};p.string={string:c,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,o.allocBuffer(t.length))}},p.array={string:h,array:c,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(t)}},p.arraybuffer={string:function(t){return h(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:c,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:h,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:c,nodebuffer:function(t){return o.newBufferFrom(t)}},p.nodebuffer={string:h,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:c},n.transformTo=function(t,e){if(e=e||"",!t)return e;n.checkSupport(t);var i=n.getTypeOf(e);return p[i][t](e)},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":i.nodebuffer&&o.isBuffer(t)?"nodebuffer":i.uint8array&&t instanceof Uint8Array?"uint8array":i.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!i[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},n.delay=function(t,e,n){a(function(){t.apply(n||null,e||[])})},n.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},n.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},n.prepareContent=function(t,e,o,a,c){return s.Promise.resolve(e).then(function(t){return i.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new s.Promise(function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)}):t}).then(function(e){var u,h=n.getTypeOf(e);return h?("arraybuffer"===h?e=n.transformTo("uint8array",e):"string"===h&&(c?e=r.decode(e):o&&!0!==a&&(e=l(u=e,i.uint8array?new Uint8Array(u.length):new Array(u.length)))),e):s.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e,n){"use strict";var i=t("./reader/readerFor"),r=t("./utils"),o=t("./signature"),a=t("./zipEntry"),s=(t("./utf8"),t("./support"));function c(t){this.files=[],this.loadOptions=t}c.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(e)+", expected "+r.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=r.transformTo(s.uint8array?"uint8array":"array",t);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)this.reader.setIndex((e=this.files[t]).localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(0<i)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){"use strict";var i=t("./reader/readerFor"),r=t("./utils"),o=t("./compressedObject"),a=t("./crc32"),s=t("./utf8"),c=t("./compressions"),l=t("./support");function u(t,e){this.options=t,this.loadOptions=e}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in c)if(c.hasOwnProperty(e)&&c[e].magic===t)return c[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<r;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i};t.setIndex(r)},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=r.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)||a(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)||a(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},e.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){"use strict";function i(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var r=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),a=t("./utf8"),s=t("./compressedObject"),c=t("./stream/GenericWorker");i.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var o=!this._dataBinary;o&&!i&&(e=e.pipe(new a.Utf8EncodeWorker)),!o&&i&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new c("error")).error(t)}return new r(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<l.length;h++)i.prototype[l[h]]=u;e.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,n){(function(t){"use strict";var n,i,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,a=new r(u),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var c=new t.MessageChannel;c.port1.onmessage=u,n=function(){c.port2.postMessage(0)}}var l=[];function u(){var t,e;i=!0;for(var n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}i=!1}e.exports=function(t){1!==l.push(t)||i||n()}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,n){"use strict";var i=t("immediate");function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==r&&p(this,t)}function u(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,e,n){i(function(){var i;try{i=e(n)}catch(i){return o.reject(t,i)}i===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,i)})}function d(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function p(t,e){var n=!1;function i(e){n||(n=!0,o.reject(t,e))}function r(e){n||(n=!0,o.resolve(t,e))}var a=f(function(){e(r,i)});"error"===a.status&&i(a.value)}function f(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=l).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(r);return this.state!==c?h(n,this.state===s?t:e,this.outcome):this.queue.push(new u(n,t,e)),n},u.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},u.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},u.prototype.callRejected=function(t){o.reject(this.promise,t)},u.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=f(d,e);if("error"===n.status)return o.reject(t,n.value);var i=n.value;if(i)p(t,i);else{t.state=s,t.outcome=e;for(var r=-1,a=t.queue.length;++r<a;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},l.resolve=function(t){return t instanceof this?t:o.resolve(new this(r),t)},l.reject=function(t){var e=new this(r);return o.reject(e,t)},l.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,l=new this(r);++c<n;)u(t[c],c);return l;function u(t,r){e.resolve(t).then(function(t){a[r]=t,++s!==n||i||(i=!0,o.resolve(l,a))},function(t){i||(i=!0,o.reject(l,t))})}},l.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var i=-1,a=new this(r);++i<e;)this.resolve(t[i]).then(function(t){n||(n=!0,o.resolve(a,t))},function(t){n||(n=!0,o.reject(a,t))});return a}},{immediate:36}],38:[function(t,e,n){"use strict";var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){"use strict";var i=t("./zlib/deflate"),r=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/messages"),s=t("./zlib/zstream"),c=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(a[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var u;if(u="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=i.deflateSetDictionary(this.strm,u)))throw new Error(a[n]);this._dict_set=!0}}function u(t,e){var n=new l(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}l.prototype.push=function(t,e){var n,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,s.input="string"==typeof t?o.string2buf(t):"[object ArrayBuffer]"===c.call(t)?new Uint8Array(t):t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=i.deflate(s,a))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||this.onData("string"===this.options.to?o.buf2binstring(r.shrinkBuf(s.output,s.next_out)):r.shrinkBuf(s.output,s.next_out))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),!(s.avail_out=0))},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){0===t&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=l,n.deflate=u,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,u(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,u(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){"use strict";var i=t("./zlib/inflate"),r=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/constants"),s=t("./zlib/messages"),c=t("./zlib/zstream"),l=t("./zlib/gzheader"),u=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new l,i.inflateGetHeader(this.strm,this.header)}function d(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(t,e){var n,s,c,l,h,d,p=this.strm,f=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,p.input="string"==typeof t?o.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?new Uint8Array(t):t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new r.Buf8(f),p.next_out=0,p.avail_out=f),(n=i.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(d="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===u.call(g)?new Uint8Array(g):g,n=i.inflateSetDictionary(this.strm,d)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&n!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(p.output,p.next_out),l=p.next_out-c,h=o.buf2string(p.output,c),p.next_out=l,p.avail_out=f-l,l&&r.arraySet(p.output,p.output,c,l,0),this.onData(h)):this.onData(r.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((0<p.avail_in||0===p.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(p.avail_out=0))},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===a.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=h,n.inflate=d,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,a;for(e=i=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),e=r=0,n=t.length;e<n;e++)a.set(o=t[e],r),r+=o.length;return a}},o={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],42:[function(t,e,n){"use strict";var i=t("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,n.string2buf=function(t){var e,n,r,o,a,s=t.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(c),o=a=0;a<c;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e},n.buf2binstring=function(t){return c(t,t.length)},n.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,i,r,o,s=e||t.length,l=new Array(2*s);for(n=i=0;n<s;)if((r=t[n++])<128)l[i++]=r;else if(4<(o=a[r]))l[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&n<s;)r=r<<6|63&t[n++],o--;1<o?l[i++]=65533:r<65536?l[i++]=r:(l[i++]=55296|(r-=65536)>>10&1023,l[i++]=56320|1023&r)}return c(l,i)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},{"./common":41}],43:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(r=r+e[i++]|0)|0,--a;);r%=65521,o%=65521}return r|o<<16|0}},{}],44:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},{}],46:[function(t,e,n){"use strict";var i,r=t("../utils/common"),o=t("./trees"),a=t("./adler32"),s=t("./crc32"),c=t("./messages"),l=-2,u=258,h=262,d=113;function p(t,e){return t.msg=c[e],e}function f(t){return(t<<1)-(4<t?9:0)}function g(t){for(var e=t.length;0<=--e;)t[e]=0}function m(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function v(t,e){o._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,m(t.strm)}function b(t,e){t.pending_buf[t.pending++]=e}function _(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function y(t,e){var n,i,r=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,c=t.strstart>t.w_size-h?t.strstart-(t.w_size-h):0,l=t.window,d=t.w_mask,p=t.prev,f=t.strstart+u,g=l[o+a-1],m=l[o+a];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(n=e)+a]===m&&l[n+a-1]===g&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<f);if(i=u-(f-o),o=f-u,a<i){if(t.match_start=e,s<=(a=i))break;g=l[o+a-1],m=l[o+a]}}}while((e=p[e&d])>c&&0!=--r);return a<=t.lookahead?a:t.lookahead}function C(t){var e,n,i,o,c,l,u,d,p,f,g=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=g+(g-h)){for(r.arraySet(t.window,t.window,g,g,0),t.match_start-=g,t.strstart-=g,t.block_start-=g,e=n=t.hash_size;i=t.head[--e],t.head[e]=g<=i?i-g:0,--n;);for(e=n=g;i=t.prev[--e],t.prev[e]=g<=i?i-g:0,--n;);o+=g}if(0===t.strm.avail_in)break;if(u=t.window,d=t.strstart+t.lookahead,f=void 0,(p=o)<(f=(l=t.strm).avail_in)&&(f=p),n=0===f?0:(l.avail_in-=f,r.arraySet(u,l.input,l.next_in,f,d),1===l.state.wrap?l.adler=a(l.adler,u,f,d):2===l.state.wrap&&(l.adler=s(l.adler,u,f,d)),l.next_in+=f,l.total_in+=f,f),t.lookahead+=n,t.lookahead+t.insert>=3)for(t.ins_h=t.window[c=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+3-1])&t.hash_mask,t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<h&&0!==t.strm.avail_in)}function x(t,e){for(var n,i;;){if(t.lookahead<h){if(C(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-h&&(t.match_length=y(t,n)),t.match_length>=3)if(i=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}function w(t,e){for(var n,i,r;;){if(t.lookahead<h){if(C(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-h&&(t.match_length=y(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){for(r=t.strstart+t.lookahead-3,i=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(v(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=o._tr_tally(t,0,t.window[t.strstart-1]))&&v(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}function M(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function P(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:d,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):p(t,l)}function k(t){var e,n=P(t);return 0===n&&((e=t.state).window_size=2*e.w_size,g(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function A(t,e,n,i,o,a){if(!t)return l;var s=1;if(-1===e&&(e=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),o<1||9<o||8!==n||i<8||15<i||e<0||9<e||a<0||4<a)return p(t,l);8===i&&(i=9);var c=new O;return(t.state=c).strm=t,c.wrap=s,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new r.Buf8(2*c.w_size),c.head=new r.Buf16(c.hash_size),c.prev=new r.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new r.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=a,c.method=n,k(t)}i=[new M(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(C(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,v(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-h&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(v(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&v(t,!1),1)}),new M(4,4,8,4,x),new M(4,5,16,8,x),new M(4,6,32,32,x),new M(4,4,16,16,w),new M(8,16,32,32,w),new M(8,16,128,128,w),new M(8,32,128,256,w),new M(32,128,258,1024,w),new M(32,258,258,4096,w)],n.deflateInit=function(t,e){return A(t,e,8,15,8,0)},n.deflateInit2=A,n.deflateReset=k,n.deflateResetKeep=P,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?l:(t.state.gzhead=e,0):l},n.deflate=function(t,e){var n,r,a,c;if(!t||!t.state||5<e||e<0)return t?p(t,l):l;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&4!==e)return p(t,0===t.avail_out?-5:l);if(r.strm=t,n=r.last_flush,r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,b(r,31),b(r,139),b(r,8),r.gzhead?(b(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),b(r,255&r.gzhead.time),b(r,r.gzhead.time>>8&255),b(r,r.gzhead.time>>16&255),b(r,r.gzhead.time>>24&255),b(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),b(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(b(r,255&r.gzhead.extra.length),b(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=s(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(b(r,0),b(r,0),b(r,0),b(r,0),b(r,0),b(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),b(r,3),r.status=d);else{var h=8+(r.w_bits-8<<4)<<8;h|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=d,_(r,h),0!==r.strstart&&(_(r,t.adler>>>16),_(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),m(t),a=r.pending,r.pending!==r.pending_buf_size));)b(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),m(t),a=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,b(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),0===c&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),m(t),a=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,b(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),0===c&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&m(t),r.pending+2<=r.pending_buf_size&&(b(r,255&t.adler),b(r,t.adler>>8&255),t.adler=0,r.status=d)):r.status=d),0!==r.pending){if(m(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&f(e)<=f(n)&&4!==e)return p(t,-5);if(666===r.status&&0!==t.avail_in)return p(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&666!==r.status){var y=2===r.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(C(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var n,i,r,a,s=t.window;;){if(t.lookahead<=u){if(C(t),t.lookahead<=u&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(i=s[r=t.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=t.strstart+u;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);t.match_length=u-(a-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(v(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(v(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(v(t,!1),0===t.strm.avail_out)?1:2}(r,e):i[r.level].func(r,e);if(3!==y&&4!==y||(r.status=666),1===y||3===y)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===y&&(1===e?o._tr_align(r):5!==e&&(o._tr_stored_block(r,0,0,!1),3===e&&(g(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),m(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(b(r,255&t.adler),b(r,t.adler>>8&255),b(r,t.adler>>16&255),b(r,t.adler>>24&255),b(r,255&t.total_in),b(r,t.total_in>>8&255),b(r,t.total_in>>16&255),b(r,t.total_in>>24&255)):(_(r,t.adler>>>16),_(r,65535&t.adler)),m(t),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?0:1)},n.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&e!==d&&666!==e?p(t,l):(t.state=null,e===d?p(t,-3):0):l},n.deflateSetDictionary=function(t,e){var n,i,o,s,c,u,h,d,p=e.length;if(!t||!t.state)return l;if(2===(s=(n=t.state).wrap)||1===s&&42!==n.status||n.lookahead)return l;for(1===s&&(t.adler=a(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(g(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new r.Buf8(n.w_size),r.arraySet(d,e,p-n.w_size,n.w_size,0),e=d,p=n.w_size),c=t.avail_in,u=t.next_in,h=t.input,t.avail_in=p,t.next_in=0,t.input=e,C(n);n.lookahead>=3;){for(i=n.strstart,o=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--o;);n.strstart=i,n.lookahead=2,C(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=u,t.input=h,t.avail_in=c,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,r,o,a,s,c,l,u,h,d,p,f,g,m,v,b,_,y,C,x,w,M,O,P;O=t.input,r=(i=t.next_in)+(t.avail_in-5),P=t.output,a=(o=t.next_out)-(e-t.avail_out),s=o+(t.avail_out-257),c=(n=t.state).dmax,l=n.wsize,u=n.whave,h=n.wnext,d=n.window,p=n.hold,f=n.bits,g=n.lencode,m=n.distcode,v=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;t:do{f<15&&(p+=O[i++]<<f,p+=O[i++]<<(f+=8),f+=8),_=g[p&v];e:for(;;){if(p>>>=y=_>>>24,f-=y,0==(y=_>>>16&255))P[o++]=65535&_;else{if(!(16&y)){if(0==(64&y)){_=g[(65535&_)+(p&(1<<y)-1)];continue e}if(32&y){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}C=65535&_,(y&=15)&&(f<y&&(p+=O[i++]<<f,f+=8),C+=p&(1<<y)-1,p>>>=y,f-=y),f<15&&(p+=O[i++]<<f,p+=O[i++]<<(f+=8),f+=8),_=m[p&b];n:for(;;){if(p>>>=y=_>>>24,f-=y,!(16&(y=_>>>16&255))){if(0==(64&y)){_=m[(65535&_)+(p&(1<<y)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&_,f<(y&=15)&&(p+=O[i++]<<f,(f+=8)<y&&(p+=O[i++]<<f,f+=8)),c<(x+=p&(1<<y)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=y,f-=y,(y=o-a)<x){if(u<(y=x-y)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(M=d,(w=0)===h){if(w+=l-y,y<C){for(C-=y;P[o++]=d[w++],--y;);w=o-x,M=P}}else if(h<y){if(w+=l+h-y,(y-=h)<C){for(C-=y;P[o++]=d[w++],--y;);if(w=0,h<C){for(C-=y=h;P[o++]=d[w++],--y;);w=o-x,M=P}}}else if(w+=h-y,y<C){for(C-=y;P[o++]=d[w++],--y;);w=o-x,M=P}for(;2<C;)P[o++]=M[w++],P[o++]=M[w++],P[o++]=M[w++],C-=3;C&&(P[o++]=M[w++],1<C&&(P[o++]=M[w++]))}else{for(w=o-x;P[o++]=P[w++],P[o++]=P[w++],P[o++]=P[w++],2<(C-=3););C&&(P[o++]=P[w++],1<C&&(P[o++]=P[w++]))}break}}break}}while(i<r&&o<s);i-=C=f>>3,p&=(1<<(f-=C<<3))-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=p,n.bits=f}},{}],49:[function(t,e,n){"use strict";var i=t("../utils/common"),r=t("./adler32"),o=t("./crc32"),a=t("./inffast"),s=t("./inftrees"),c=-2;function l(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(t){var e;return t&&t.state?(t.total_in=t.total_out=(e=t.state).total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(852),e.distcode=e.distdyn=new i.Buf32(592),e.sane=1,e.back=-1,0):c}function d(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,h(t)):c}function p(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?c:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,d(t))):c}function f(t,e){var n,i;return t?(i=new u,(t.state=i).window=null,0!==(n=p(t,e))&&(t.state=null),n):c}var g,m,v=!0;function b(t){if(v){var e;for(g=new i.Buf32(512),m=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,m,0,t.work,{bits:5}),v=!1}t.lencode=g,t.lenbits=9,t.distcode=m,t.distbits=5}function _(t,e,n,r){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(r<(o=a.wsize-a.wnext)&&(o=r),i.arraySet(a.window,e,n-r,o,a.wnext),(r-=o)?(i.arraySet(a.window,e,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=d,n.inflateReset2=p,n.inflateResetKeep=h,n.inflateInit=function(t){return f(t,15)},n.inflateInit2=f,n.inflate=function(t,e){var n,u,h,d,p,f,g,m,v,y,C,x,w,M,O,P,k,A,T,S,E,I,R,D,N=0,L=new i.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return c;12===(n=t.state).mode&&(n.mode=13),p=t.next_out,h=t.output,d=t.next_in,u=t.input,m=n.hold,v=n.bits,y=f=t.avail_in,C=g=t.avail_out,I=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;v<16;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}if(2&n.wrap&&35615===m){L[n.check=0]=255&m,L[1]=m>>>8&255,n.check=o(n.check,L,2,0),v=m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){t.msg="unknown compression method",n.mode=30;break}if(v-=4,E=8+(15&(m>>>=4)),0===n.wbits)n.wbits=E;else if(E>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<E,t.adler=n.check=1,n.mode=512&m?10:12,v=m=0;break;case 2:for(;v<16;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}if(n.flags=m,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,n.check=o(n.check,L,2,0)),v=m=0,n.mode=3;case 3:for(;v<32;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}n.head&&(n.head.time=m),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,L[2]=m>>>16&255,L[3]=m>>>24&255,n.check=o(n.check,L,4,0)),v=m=0,n.mode=4;case 4:for(;v<16;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,n.check=o(n.check,L,2,0)),v=m=0,n.mode=5;case 5:if(1024&n.flags){for(;v<16;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(L[0]=255&m,L[1]=m>>>8&255,n.check=o(n.check,L,2,0)),v=m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(f<(x=n.length)&&(x=f),x&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,u,d,x,E)),512&n.flags&&(n.check=o(n.check,u,x,d)),f-=x,d+=x,n.length-=x),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===f)break t;for(x=0;E=u[d+x++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E)),E&&x<f;);if(512&n.flags&&(n.check=o(n.check,u,x,d)),f-=x,d+=x,E)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===f)break t;for(x=0;E=u[d+x++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E)),E&&x<f;);if(512&n.flags&&(n.check=o(n.check,u,x,d)),f-=x,d+=x,E)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;v<16;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}if(m!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}v=m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;v<32;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}t.adler=n.check=l(m),v=m=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=p,t.avail_out=g,t.next_in=d,t.avail_in=f,n.hold=m,n.bits=v,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){m>>>=7&v,v-=7&v,n.mode=27;break}for(;v<3;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}switch(n.last=1&m,v-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(b(n),n.mode=20,6!==e)break;m>>>=2,v-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}m>>>=2,v-=2;break;case 14:for(m>>>=7&v,v-=7&v;v<32;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,v=m=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(x=n.length){if(f<x&&(x=f),g<x&&(x=g),0===x)break t;i.arraySet(h,u,d,x,p),f-=x,d+=x,g-=x,p+=x,n.length-=x;break}n.mode=12;break;case 17:for(;v<14;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}if(n.nlen=257+(31&m),v-=5,n.ndist=1+(31&(m>>>=5)),v-=5,n.ncode=4+(15&(m>>>=5)),m>>>=4,v-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;v<3;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}n.lens[z[n.have++]]=7&m,m>>>=3,v-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I=s(0,n.lens,0,19,n.lencode,0,n.work,R={bits:n.lenbits}),n.lenbits=R.bits,I){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;P=(N=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,k=65535&N,!((O=N>>>24)<=v);){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}if(k<16)m>>>=O,v-=O,n.lens[n.have++]=k;else{if(16===k){for(D=O+2;v<D;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}if(m>>>=O,v-=O,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}E=n.lens[n.have-1],x=3+(3&m),m>>>=2,v-=2}else if(17===k){for(D=O+3;v<D;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}v-=O,E=0,x=3+(7&(m>>>=O)),m>>>=3,v-=3}else{for(D=O+7;v<D;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}v-=O,E=0,x=11+(127&(m>>>=O)),m>>>=7,v-=7}if(n.have+x>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;x--;)n.lens[n.have++]=E}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,I=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,R={bits:n.lenbits}),n.lenbits=R.bits,I){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,I=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R={bits:n.distbits}),n.distbits=R.bits,I){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=f&&258<=g){t.next_out=p,t.avail_out=g,t.next_in=d,t.avail_in=f,n.hold=m,n.bits=v,a(t,C),p=t.next_out,h=t.output,g=t.avail_out,d=t.next_in,u=t.input,f=t.avail_in,m=n.hold,v=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;P=(N=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,k=65535&N,!((O=N>>>24)<=v);){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}if(P&&0==(240&P)){for(A=O,T=P,S=k;P=(N=n.lencode[S+((m&(1<<A+T)-1)>>A)])>>>16&255,k=65535&N,!(A+(O=N>>>24)<=v);){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}m>>>=A,v-=A,n.back+=A}if(m>>>=O,v-=O,n.back+=O,n.length=k,0===P){n.mode=26;break}if(32&P){n.back=-1,n.mode=12;break}if(64&P){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&P,n.mode=22;case 22:if(n.extra){for(D=n.extra;v<D;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;P=(N=n.distcode[m&(1<<n.distbits)-1])>>>16&255,k=65535&N,!((O=N>>>24)<=v);){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}if(0==(240&P)){for(A=O,T=P,S=k;P=(N=n.distcode[S+((m&(1<<A+T)-1)>>A)])>>>16&255,k=65535&N,!(A+(O=N>>>24)<=v);){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}m>>>=A,v-=A,n.back+=A}if(m>>>=O,v-=O,n.back+=O,64&P){t.msg="invalid distance code",n.mode=30;break}n.offset=k,n.extra=15&P,n.mode=24;case 24:if(n.extra){for(D=n.extra;v<D;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break t;if(n.offset>(x=C-g)){if((x=n.offset-x)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}w=x>n.wnext?n.wsize-(x-=n.wnext):n.wnext-x,x>n.length&&(x=n.length),M=n.window}else M=h,w=p-n.offset,x=n.length;for(g<x&&(x=g),g-=x,n.length-=x;h[p++]=M[w++],--x;);0===n.length&&(n.mode=21);break;case 26:if(0===g)break t;h[p++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;v<32;){if(0===f)break t;f--,m|=u[d++]<<v,v+=8}if(t.total_out+=C-=g,n.total+=C,C&&(t.adler=n.check=n.flags?o(n.check,h,C,p-C):r(n.check,h,C,p-C)),C=g,(n.flags?m:l(m))!==n.check){t.msg="incorrect data check",n.mode=30;break}v=m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;v<32;){if(0===f)break t;f--,m+=u[d++]<<v,v+=8}if(m!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}v=m=0}n.mode=29;case 29:I=1;break t;case 30:I=-3;break t;case 31:return-4;case 32:default:return c}return t.next_out=p,t.avail_out=g,t.next_in=d,t.avail_in=f,n.hold=m,n.bits=v,(n.wsize||C!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&_(t,t.output,t.next_out,C-t.avail_out)?(n.mode=31,-4):(C-=t.avail_out,t.total_in+=y-=t.avail_in,t.total_out+=C,n.total+=C,n.wrap&&C&&(t.adler=n.check=n.flags?o(n.check,h,C,t.next_out-C):r(n.check,h,C,t.next_out-C)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==y&&0===C||4===e)&&0===I&&(I=-5),I)},n.inflateEnd=function(t){if(!t||!t.state)return c;var e=t.state;return e.window&&(e.window=null),t.state=null,0},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?c:((n.head=e).done=!1,0):c},n.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?c:11===n.mode&&r(1,e,i,0)!==n.check?-3:_(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,0):c},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,n){"use strict";var i=t("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,c,l,u,h,d){var p,f,g,m,v,b,_,y,C,x=d.bits,w=0,M=0,O=0,P=0,k=0,A=0,T=0,S=0,E=0,I=0,R=null,D=0,N=new i.Buf16(16),L=new i.Buf16(16),z=null,j=0;for(w=0;w<=15;w++)N[w]=0;for(M=0;M<c;M++)N[e[n+M]]++;for(k=x,P=15;1<=P&&0===N[P];P--);if(P<k&&(k=P),0===P)return l[u++]=20971520,l[u++]=20971520,d.bits=1,0;for(O=1;O<P&&0===N[O];O++);for(k<O&&(k=O),w=S=1;w<=15;w++)if(S<<=1,(S-=N[w])<0)return-1;if(0<S&&(0===t||1!==P))return-1;for(L[1]=0,w=1;w<15;w++)L[w+1]=L[w]+N[w];for(M=0;M<c;M++)0!==e[n+M]&&(h[L[e[n+M]]++]=M);if(b=0===t?(R=z=h,19):1===t?(R=r,D-=257,z=o,j-=257,256):(R=a,z=s,-1),w=O,v=u,T=M=I=0,g=-1,m=(E=1<<(A=k))-1,1===t&&852<E||2===t&&592<E)return 1;for(;;){for(_=w-T,C=h[M]<b?(y=0,h[M]):h[M]>b?(y=z[j+h[M]],R[D+h[M]]):(y=96,0),p=1<<w-T,O=f=1<<A;l[v+(I>>T)+(f-=p)]=_<<24|y<<16|C|0,0!==f;);for(p=1<<w-1;I&p;)p>>=1;if(0!==p?(I&=p-1,I+=p):I=0,M++,0==--N[w]){if(w===P)break;w=e[n+h[M]]}if(k<w&&(I&m)!==g){for(0===T&&(T=k),v+=O,S=1<<(A=w-T);A+T<P&&!((S-=N[A+T])<=0);)A++,S<<=1;if(E+=1<<A,1===t&&852<E||2===t&&592<E)return 1;l[g=I&m]=k<<24|A<<16|v-u|0}}return 0!==I&&(l[v+I]=w-T<<24|64<<16|0),d.bits=k,0}},{"../utils/common":41}],51:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){"use strict";var i=t("../utils/common");function r(t){for(var e=t.length;0<=--e;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);r(l);var u=new Array(60);r(u);var h=new Array(512);r(h);var d=new Array(256);r(d);var p=new Array(29);r(p);var f,g,m,v=new Array(30);function b(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function _(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function y(t){return t<256?h[t]:h[256+(t>>>7)]}function C(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function x(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,C(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function w(t,e,n){x(t,n[2*e],n[2*e+1])}function M(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function O(t,e,n){var i,r,o=new Array(16),a=0;for(i=1;i<=15;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=M(o[s]++,s))}}function P(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function k(t){8<t.bi_valid?C(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function A(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function T(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&A(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!A(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function S(t,e,n){var i,r,s,c,l=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],r=t.pending_buf[t.l_buf+l],l++,0===i?w(t,r,e):(w(t,(s=d[r])+256+1,e),0!==(c=o[s])&&x(t,r-=p[s],c),w(t,s=y(--i),n),0!==(c=a[s])&&x(t,i-=v[s],c)),l<t.last_lit;);w(t,256,e)}function E(t,e){var n,i,r,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,c=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=a[2*r+1]);for(e.max_code=l,n=t.heap_len>>1;1<=n;n--)T(t,o,n);for(r=c;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],T(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,T(t,o,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,a,s,c=e.dyn_tree,l=e.max_code,u=e.stat_desc.static_tree,h=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,f=e.stat_desc.max_length,g=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)f<(o=c[2*c[2*(i=t.heap[n])+1]+1]+1)&&(o=f,g++),c[2*i+1]=o,l<i||(t.bl_count[o]++,a=0,p<=i&&(a=d[i-p]),t.opt_len+=(s=c[2*i])*(o+a),h&&(t.static_len+=s*(u[2*i+1]+a)));if(0!==g){do{for(o=f-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[f]--,g-=2}while(0<g);for(o=f;0!==o;o--)for(i=t.bl_count[o];0!==i;)l<(r=t.heap[--n])||(c[2*r+1]!==o&&(t.opt_len+=(o-c[2*r+1])*c[2*r],c[2*r+1]=o),i--)}}(t,e),O(o,l,t.bl_count)}function I(t,e,n){var i,r,o=-1,a=e[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=e[2*(i+1)+1],++s<c&&r===a||(s<l?t.bl_tree[2*r]+=s:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=r,l=(s=0)===a?(c=138,3):r===a?(c=6,3):(c=7,4))}function R(t,e,n){var i,r,o=-1,a=e[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),i=0;i<=n;i++)if(r=a,a=e[2*(i+1)+1],!(++s<c&&r===a)){if(s<l)for(;w(t,r,t.bl_tree),0!=--s;);else 0!==r?(r!==o&&(w(t,r,t.bl_tree),s--),w(t,16,t.bl_tree),x(t,s-3,2)):s<=10?(w(t,17,t.bl_tree),x(t,s-3,3)):(w(t,18,t.bl_tree),x(t,s-11,7));o=r,l=(s=0)===a?(c=138,3):r===a?(c=6,3):(c=7,4)}}r(v);var D=!1;function N(t,e,n,r){var o,a,s;x(t,0+(r?1:0),3),a=e,s=n,k(o=t),C(o,s),C(o,~s),i.arraySet(o.pending_buf,o.window,a,s,o.pending),o.pending+=s}n._tr_init=function(t){D||(function(){var t,e,n,i,r,c=new Array(16);for(i=n=0;i<28;i++)for(p[i]=n,t=0;t<1<<o[i];t++)d[n++]=i;for(d[n-1]=i,i=r=0;i<16;i++)for(v[i]=r,t=0;t<1<<a[i];t++)h[r++]=i;for(r>>=7;i<30;i++)for(v[i]=r<<7,t=0;t<1<<a[i]-7;t++)h[256+r++]=i;for(e=0;e<=15;e++)c[e]=0;for(t=0;t<=143;)l[2*t+1]=8,t++,c[8]++;for(;t<=255;)l[2*t+1]=9,t++,c[9]++;for(;t<=279;)l[2*t+1]=7,t++,c[7]++;for(;t<=287;)l[2*t+1]=8,t++,c[8]++;for(O(l,287,c),t=0;t<30;t++)u[2*t+1]=5,u[2*t]=M(t,5);f=new b(l,o,257,286,15),g=new b(u,a,0,30,15),m=new b(new Array(0),s,0,19,7)}(),D=!0),t.l_desc=new _(t.dyn_ltree,f),t.d_desc=new _(t.dyn_dtree,g),t.bl_desc=new _(t.bl_tree,m),t.bi_buf=0,t.bi_valid=0,P(t)},n._tr_stored_block=N,n._tr_flush_block=function(t,e,n,i){var r,o,a=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),E(t,t.l_desc),E(t,t.d_desc),a=function(t){var e;for(I(t,t.dyn_ltree,t.l_desc.max_code),I(t,t.dyn_dtree,t.d_desc.max_code),E(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*c[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(o=t.static_len+3+7>>>3)<=(r=t.opt_len+3+7>>>3)&&(r=o)):r=o=n+5,n+4<=r&&-1!==e?N(t,e,n,i):4===t.strategy||o===r?(x(t,2+(i?1:0),3),S(t,l,u)):(x(t,4+(i?1:0),3),function(t,e,n,i){var r;for(x(t,e-257,5),x(t,n-1,5),x(t,i-4,4),r=0;r<i;r++)x(t,t.bl_tree[2*c[r]+1],3);R(t,t.dyn_ltree,e-1),R(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),S(t,t.dyn_ltree,t.dyn_dtree)),P(t),i&&k(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(d[n]+256+1)]++,t.dyn_dtree[2*y(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){var e;x(t,2,3),w(t,256,l),16===(e=t).bi_valid?(C(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":41}],53:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,n){"use strict";e.exports="function"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new i.a(Object(r.a)(t))}},"z+Ro":function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return i})},zIRd:function(t,e,n){"use strict";var i,r,o=n("mrSG"),a=n("qOnz"),s=n("/6Yf"),c=n("q/0M"),l=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),u=new a.b("app","Firebase",l),h="@firebase/app",d=((r={})[h]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),p=new c.b("@firebase/app"),f=function(){function t(t,e,n){var i=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.m)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return i._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw u.create("bad-app-name",{appName:String(s)});if(Object(a.k)(e,s))throw u.create("duplicate-app",{appName:s});var c=new t(n,o,i);return e[s]=c,c},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=d[t])&&void 0!==i?i:t;n&&(r+="-"+n);var a=r.match(/\s|\//),c=e.match(/\s|\//);if(a||c){var l=['Unable to register library "'+r+'" with version "'+e+'":'];return a&&l.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),a&&c&&l.push("and"),c&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(l.join(" "))}o(new s.a(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw u.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(t=t||"[DEFAULT]",!Object(a.k)(e,t))throw u.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?i[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[s])throw u.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.n)(c,o.serviceProps),i[s]=c,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var l=0,h=Object.keys(e);l<h.length;l++)e[h[l]]._addComponent(o);return"PUBLIC"===o.type?i[s]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),r.App=t,i}(f);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.n)(e,t)},createSubscribe:a.l,ErrorFactory:a.b,deepExtend:a.n}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(a.r)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.y)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",function(t){return new m(t)},"PRIVATE")),t.registerVersion(h,"0.6.17",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var i=n("fXoL"),r={apiKey:"AIzaSyAHOfy6gT0qsUNUr2IBKmCUhwTGgItV66E",authDomain:"structural-engine.firebaseapp.com",databaseURL:"https://structural-engine-default-rtdb.firebaseio.com",projectId:"structural-engine",storageBucket:"structural-engine.appspot.com",messagingSenderId:"1025085303069"},o=null;function a(){return o}var s,c=new i.q("DocumentToken"),l=((s=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||s)},s.\u0275prov=Object(i.Ib)({factory:u,token:s,providedIn:"platform"}),s);function u(){return Object(i.Yb)(p)}var h,d=new i.q("Location Initialized"),p=((h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._doc=t,i._init(),i}return _createClass(n,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(l)).\u0275fac=function(t){return new(t||h)(i.Yb(c))},h.\u0275prov=Object(i.Ib)({factory:g,token:h,providedIn:"platform"}),h);function f(){return!!window.history.pushState}function g(){return new p(Object(i.Yb)(c))}function m(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function v(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}var _,y=((_=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||_)},_.\u0275prov=Object(i.Ib)({factory:C,token:_,providedIn:"root"}),_);function C(t){var e=Object(i.Yb)(c).location;return new P(Object(i.Yb)(l),e&&e.origin||"")}var x,w,M,O=new i.q("appBaseHref"),P=((M=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;if(_classCallCheck(this,n),(r=e.call(this))._platformLocation=t,null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,_possibleConstructorReturn(r)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return m(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+b(i));this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+b(i));this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(y)).\u0275fac=function(t){return new(t||M)(i.Yb(l),i.Yb(O,8))},M.\u0275prov=i.Ib({token:M,factory:M.\u0275fac}),M),k=((w=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this))._platformLocation=t,r._baseHref="",null!=i&&(r._baseHref=i),r}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=m(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+b(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+b(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(y)).\u0275fac=function(t){return new(t||w)(i.Yb(l),i.Yb(O,8))},w.\u0275prov=i.Ib({token:w,factory:w.\u0275fac}),w),A=((x=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._subject=new i.n,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=v(S(o)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+b(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||x)(i.Yb(y),i.Yb(l))},x.normalizeQueryParams=b,x.joinWithSlash=m,x.stripTrailingSlash=v,x.\u0275prov=Object(i.Ib)({factory:T,token:x,providedIn:"root"}),x);function T(){return new A(Object(i.Yb)(y),Object(i.Yb)(l))}function S(t){return t.replace(/\/index.html$/,"")}var E,I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),R=i.nb,D=function t(){_classCallCheck(this,t)},N=((E=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).locale=t,i}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(R(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}]),n}(D)).\u0275fac=function(t){return new(t||E)(i.Yb(i.u))},E.\u0275prov=i.Ib({token:E,factory:E.\u0275fac}),E);function L(t,e){e=encodeURIComponent(e);var n,i=_createForOfIteratorHelper(t.split(";"));try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.indexOf("="),a=_slicedToArray(-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)],2),s=a[0],c=a[1];if(s.trim()===e)return decodeURIComponent(c)}}catch(l){i.e(l)}finally{i.f()}return null}var z,j,F=function(){function t(e,n,i,r){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),q=((z=function(){function t(e,n,i){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,i,r){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new F(null,e._ngForOf,-1,-1),null===r?void 0:r),a=new B(t,o);n.push(a)}else if(null==r)e._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=e._viewContainer.get(i);e._viewContainer.move(s,r);var c=new B(t,s);n.push(c)}});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var a=this._viewContainer.get(r);a.context.index=r,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||z)(i.Mb(i.Q),i.Mb(i.L),i.Mb(i.s))},z.\u0275dir=i.Hb({type:z,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),z),B=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},U=((j=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new H,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){V("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){V("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||j)(i.Mb(i.Q),i.Mb(i.L))},j.\u0275dir=i.Hb({type:j,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),j),H=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function V(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(i.vb)(e),"'."))}var W,G,Q,Y,K=function(){function t(e,n){_classCallCheck(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return _createClass(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),X=((G=function(){function t(){_classCallCheck(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(t,[{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}]),t}()).\u0275fac=function(t){return new(t||G)},G.\u0275dir=i.Hb({type:G,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),G),$=((W=function(){function t(e,n,i){_classCallCheck(this,t),this.ngSwitch=i,i._addCase(),this._view=new K(e,n)}return _createClass(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}()).\u0275fac=function(t){return new(t||W)(i.Mb(i.Q),i.Mb(i.L),i.Mb(X,1))},W.\u0275dir=i.Hb({type:W,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),W),J=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),Z=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.then(e,function(t){throw t})}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),tt=new J,et=((Y=function(){function t(e){_classCallCheck(this,t),this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})}},{key:"_selectStrategy",value:function(e){if(Object(i.sb)(e))return Z;if(Object(i.rb)(e))return tt;throw n=t,Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Object(i.vb)(n),"'"));var n}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}()).\u0275fac=function(t){return new(t||Y)(i.ac())},Y.\u0275pipe=i.Lb({name:"async",type:Y,pure:!1}),Y),nt=((Q=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Q}),Q.\u0275inj=i.Jb({factory:function(t){return new(t||Q)},providers:[{provide:D,useClass:N}]}),Q);function it(t){return"server"===t}var rt,ot=((rt=function t(){_classCallCheck(this,t)}).\u0275prov=Object(i.Ib)({token:rt,providedIn:"root",factory:function(){return new at(Object(i.Yb)(c),window)}}),rt),at=function(){function t(e,n){_classCallCheck(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){var e;if(this.supportsScrolling()){var n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=st(this.window.history)||st(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function st(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var ct,lt,ut,ht,dt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=pt||(pt=document.querySelector("base"))?pt.getAttribute("href"):null;return null==n?null:(e=n,ct||(ct=document.createElement("a")),ct.setAttribute("href",e),"/"===ct.pathname.charAt(0)?ct.pathname:"/"+ct.pathname)}},{key:"resetBaseElement",value:function(){pt=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return L(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,o||(o=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())),pt=null,ft=new i.q("TRANSITION_ID"),gt=[{provide:i.d,useFactory:function(t,e,n){return function(){n.get(i.e).donePromise.then(function(){var n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[ft,c,i.r],multi:!0}],mt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){i.pb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},i.pb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},i.pb.getAllAngularRootElements=function(){return t.getAllRootElements()},i.pb.frameworkStabilizers||(i.pb.frameworkStabilizers=[]),i.pb.frameworkStabilizers.push(function(t){var e=i.pb.getAllAngularTestabilities(),n=e.length,r=!1,o=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(o)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(i.Y)(new t)}}]),t}(),vt=new i.q("EventManagerPlugins"),bt=((lt=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=i}),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||lt)(i.Yb(vt),i.Yb(i.z))},lt.\u0275prov=i.Ib({token:lt,factory:lt.\u0275fac}),lt),_t=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var i=a().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(e));return this.addEventListener(i,e,n)}}]),t}(),yt=((ht=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||ht)},ht.\u0275prov=i.Ib({token:ht,factory:ht.\u0275fac}),ht),Ct=((ut=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._doc=t,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(t.head),i}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return a().remove(t)})}}]),n}(yt)).\u0275fac=function(t){return new(t||ut)(i.Yb(c))},ut.\u0275prov=i.Ib({token:ut,factory:ut.\u0275fac}),ut),xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},wt=/%COMP%/g;function Mt(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?Mt(t,r,n):(r=r.replace(wt,t),n.push(r))}return n}function Ot(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Pt,kt,At,Tt,St=((Pt=function(){function t(e,n,i){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Et(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.R.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new It(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case i.R.ShadowDom:return new Rt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Mt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Pt)(i.Yb(bt),i.Yb(Ct),i.Yb(i.c))},Pt.\u0275prov=i.Ib({token:Pt,factory:Pt.\u0275fac}),Pt),Et=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(xt[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,i){if(i){e=i+":"+e;var r=xt[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var i=xt[n];i?t.removeAttributeNS(i,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(i.G.DashCase|i.G.Important)?t.style.setProperty(e,n,r&i.G.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&i.G.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ot(n)):this.eventManager.addEventListener(t,e,Ot(n))}}]),t}(),It=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).component=r;var s=Mt(o+"-"+r.id,r.styles,[]);return i.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(wt,o+"-"+r.id),a.hostAttr="_nghost-%COMP%".replace(wt,o+"-"+r.id),a}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var i=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(Et),Rt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).sharedStylesHost=i,a.hostEl=r,a.shadowRoot=r.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=Mt(o.id,o.styles,[]),c=0;c<s.length;c++){var l=document.createElement("style");l.textContent=s[c],a.shadowRoot.appendChild(l)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,i){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,i)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Et),Dt=((kt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var i=this;return t.addEventListener(e,n,!1),function(){return i.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(_t)).\u0275fac=function(t){return new(t||kt)(i.Yb(c))},kt.\u0275prov=i.Ib({token:kt,factory:kt.\u0275fac}),kt),Nt=["alt","control","meta","shift"],Lt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Ft=((At=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,i){var r=n.parseEventName(e),o=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return a().onAndCancel(t,r.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),i=e.shift();if(0===e.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(e.pop()),o="";if(Nt.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=r,0!=e.length||0===r.length)return null;var a={};return a.domEventName=i,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&zt.hasOwnProperty(e)&&(e=zt[e]))}return Lt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Nt.forEach(function(i){i!=n&&(0,jt[i])(t)&&(e+=i+".")}),e+=n}},{key:"eventCallback",value:function(t,e,i){return function(r){n.getEventFullKey(r)===t&&i.runGuarded(function(){return e(r)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(_t)).\u0275fac=function(t){return new(t||At)(i.Yb(c))},At.\u0275prov=i.Ib({token:At,factory:At.\u0275fac}),At),qt=[{provide:i.B,useValue:"browser"},{provide:i.C,useValue:function(){dt.makeCurrent(),mt.init()},multi:!0},{provide:c,useFactory:function(){return Object(i.ub)(document),document},deps:[]}],Bt=Object(i.S)(i.X,"browser",qt),Ut=[[],{provide:i.ab,useValue:"root"},{provide:i.m,useFactory:function(){return new i.m},deps:[]},{provide:vt,useClass:Dt,multi:!0,deps:[c,i.z,i.B]},{provide:vt,useClass:Ft,multi:!0,deps:[c]},[],{provide:St,useClass:St,deps:[bt,Ct,i.c]},{provide:i.F,useExisting:St},{provide:yt,useExisting:Ct},{provide:Ct,useClass:Ct,deps:[c]},{provide:i.M,useClass:i.M,deps:[i.z]},{provide:bt,useClass:bt,deps:[vt,i.z]},[]],Ht=((Tt=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:ft,useExisting:i.c},gt]}}}]),t}()).\u0275mod=i.Kb({type:Tt}),Tt.\u0275inj=i.Jb({factory:function(t){return new(t||Tt)(i.Yb(Tt,12))},providers:Ut,imports:[nt,i.f]}),Tt);"undefined"!=typeof window&&window;var Vt=n("HDdC"),Wt=n("DH7j"),Gt=n("lJxs"),Qt=n("XoHu"),Yt=n("Cfvw");function Kt(t,e){return new Vt.a(function(n){var i=t.length;if(0!==i)for(var r=new Array(i),o=0,a=0,s=function(s){var c=Object(Yt.a)(t[s]),l=!1;n.add(c.subscribe({next:function(t){l||(l=!0,a++),r[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==i&&l||(a===i&&n.next(e?e.reduce(function(t,e,n){return t[e]=r[n],t},{}):r),n.complete())}}))},c=0;c<i;c++)s(c);else n.complete()})}var Xt,$t,Jt=new i.q("NgValueAccessor"),Zt={provide:Jt,useExisting:Object(i.U)(function(){return te}),multi:!0},te=((Xt=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Xt)(i.Mb(i.E),i.Mb(i.l))},Xt.\u0275dir=i.Hb({type:Xt,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&i.bc("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[i.zb([Zt])]}),Xt),ee={provide:Jt,useExisting:Object(i.U)(function(){return ie}),multi:!0},ne=new i.q("CompositionEventMode"),ie=(($t=function(){function t(e,n,i){var r;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=i,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=a()?a().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||$t)(i.Mb(i.E),i.Mb(i.l),i.Mb(ne,8))},$t.\u0275dir=i.Hb({type:$t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.bc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[i.zb([ee])]}),$t);function re(t){return null==t||0===t.length}function oe(t){return null!=t&&"number"==typeof t.length}var ae=new i.q("NgValidators"),se=new i.q("NgAsyncValidators"),ce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,le=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(re(e.value)||re(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(re(e.value)||re(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return re(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return re(t.value)||ce.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return re(e.value)||!oe(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return oe(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(re(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}):t.nullValidator;var n,i}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(ue);return 0==e.length?null:function(t){return de(pe(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(ue);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var i=e[0];if(Object(Wt.a)(i))return Kt(i,null);if(Object(Qt.a)(i)&&Object.getPrototypeOf(i)===Object.prototype){var r=Object.keys(i);return Kt(r.map(function(t){return i[t]}),r)}}if("function"==typeof e[e.length-1]){var o=e.pop();return Kt(e=1===e.length&&Object(Wt.a)(e[0])?e[0]:e,null).pipe(Object(Gt.a)(function(t){return o.apply(void 0,_toConsumableArray(t))}))}return Kt(e,null)}(pe(t,e).map(he)).pipe(Object(Gt.a)(de))}}}]),t}();function ue(t){return null!=t}function he(t){var e=Object(i.sb)(t)?Object(Yt.a)(t):t;return Object(i.rb)(e),e}function de(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function pe(t,e){return e.map(function(e){return e(t)})}function fe(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function ge(t){return null!=t?le.compose(fe(t)):null}function me(t){return null!=t?le.composeAsync(fe(t)):null}function ve(t,e){return null===t?[e]:Array.isArray(t)?[].concat(_toConsumableArray(t),[e]):[t,e]}function be(t){return t._rawValidators}function _e(t){return t._rawAsyncValidators}var ye,Ce,xe,we,Me,Oe,Pe,ke,Ae,Te,Se=((Ce=function(){function t(){_classCallCheck(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return _createClass(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=ge(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=me(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}()).\u0275fac=function(t){return new(t||Ce)},Ce.\u0275dir=i.Hb({type:Ce}),Ce),Ee=((ye=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Se)).\u0275fac=function(t){return Ie(t||ye)},ye.\u0275dir=i.Hb({type:ye,features:[i.xb]}),ye),Ie=i.Tb(Ee),Re=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return n}(Se),De=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}},{key:"ngClassTouched",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}},{key:"ngClassPristine",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}},{key:"ngClassDirty",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}},{key:"ngClassValid",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}},{key:"ngClassInvalid",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}},{key:"ngClassPending",get:function(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}]),t}(),Ne=((we=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(De)).\u0275fac=function(t){return new(t||we)(i.Mb(Re,2))},we.\u0275dir=i.Hb({type:we,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.xb]}),we),Le=((xe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(De)).\u0275fac=function(t){return new(t||xe)(i.Mb(Ee,10))},xe.\u0275dir=i.Hb({type:xe,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Eb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.xb]}),xe),ze={provide:Jt,useExisting:Object(i.U)(function(){return je}),multi:!0},je=((Me=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Me)(i.Mb(i.E),i.Mb(i.l))},Me.\u0275dir=i.Hb({type:Me,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&i.bc("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[i.zb([ze])]}),Me),Fe={provide:Jt,useExisting:Object(i.U)(function(){return Be}),multi:!0},qe=((Pe=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||Pe)},Pe.\u0275prov=i.Ib({token:Pe,factory:Pe.\u0275fac}),Pe),Be=((Oe=function(){function t(e,n,i,r){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=i,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Re),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),t}()).\u0275fac=function(t){return new(t||Oe)(i.Mb(i.E),i.Mb(i.l),i.Mb(qe),i.Mb(i.r))},Oe.\u0275dir=i.Hb({type:Oe,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&i.bc("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.zb([Fe])]}),Oe),Ue={provide:Jt,useExisting:Object(i.U)(function(){return He}),multi:!0},He=((ke=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||ke)(i.Mb(i.E),i.Mb(i.l))},ke.\u0275dir=i.Hb({type:ke,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&i.bc("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[i.zb([Ue])]}),ke),Ve={provide:Jt,useExisting:Object(i.U)(function(){return We}),multi:!0},We=((Ae=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return _createClass(t,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i),t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}]),t}()).\u0275fac=function(t){return new(t||Ae)(i.Mb(i.E),i.Mb(i.l))},Ae.\u0275dir=i.Hb({type:Ae,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&i.bc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.zb([Ve])]}),Ae),Ge={provide:Jt,useExisting:Object(i.U)(function(){return Qe}),multi:!0},Qe=((Te=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return _createClass(t,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var i=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(i.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var i=[];if(void 0!==n.selectedOptions)for(var r=n.selectedOptions,o=0;o<r.length;o++){var a=r.item(o),s=e._getOptionValue(a.value);i.push(s)}else for(var c=n.options,l=0;l<c.length;l++){var u=c.item(l);if(u.selected){var h=e._getOptionValue(u.value);i.push(h)}}e.value=i,t(i)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i)._value,t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}]),t}()).\u0275fac=function(t){return new(t||Te)(i.Mb(i.E),i.Mb(i.l))},Te.\u0275dir=i.Hb({type:Te,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&i.bc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.zb([Ge])]}),Te);function Ye(t,e){Xe(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Je(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Je(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function Ke(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Xe(t,e,n){var i=be(t);null!==e.validator?t.setValidators(ve(i,e.validator)):"function"==typeof i&&t.setValidators([i]);var r=_e(t);if(null!==e.asyncValidator?t.setAsyncValidators(ve(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]),n){var o=function(){return t.updateValueAndValidity()};Ke(e._rawValidators,o),Ke(e._rawAsyncValidators,o)}}function $e(t,e,n){if(null!==t){if(null!==e.validator){var i=be(t);Array.isArray(i)&&i.length>0&&t.setValidators(i.filter(function(t){return t!==e.validator}))}if(null!==e.asyncValidator){var r=_e(t);Array.isArray(r)&&r.length>0&&t.setAsyncValidators(r.filter(function(t){return t!==e.asyncValidator}))}}if(n){var o=function(){};Ke(e._rawValidators,o),Ke(e._rawAsyncValidators,o)}}function Je(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ze(t,e){Xe(t,e,!1)}var tn=[te,He,je,We,Qe,Be];function en(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function nn(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function rn(t){return(cn(t)?t.validators:t)||null}function on(t){return Array.isArray(t)?ge(t):t||null}function an(t,e){return(cn(e)?e.asyncValidators:t)||null}function sn(t){return Array.isArray(t)?me(t):t||null}function cn(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var ln,un,hn,dn,pn,fn,gn,mn,vn,bn,_n=function(){function t(e,n){_classCallCheck(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=on(this._rawValidators),this._composedAsyncValidatorFn=sn(this._rawAsyncValidators)}return _createClass(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=on(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=sn(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=he(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var i=t;return e.forEach(function(t){i=i instanceof Cn?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof xn&&i.at(t)||null}),i}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new i.n,this.statusChanges=new i.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){cn(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),yn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,rn(r),an(o,r)))._onChange=[],t._applyFormState(i),t._setUpdateStrategy(r),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){nn(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){nn(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(_n),Cn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,rn(i),an(r,i))).controls=t,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(i){e._throwIfControlMissing(i),e.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach(function(i){e.controls[i]&&e.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof yn?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var i=n[e],r=this.controls[i];if(this.contains(i)&&t(r))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,i){n=e(n,t,i)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(_n),xn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,rn(i),an(r,i))).controls=t,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,i){e._throwIfControlMissing(i),e.at(i).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach(function(t,i){e.at(i)&&e.at(i).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof yn?t.value:t.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),n}(_n),wn={provide:Ee,useExisting:Object(i.U)(function(){return On})},Mn=Promise.resolve(null),On=((un=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var o;return _classCallCheck(this,n),(o=e.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new i.n,o.form=new Cn({},ge(t),me(r)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(t){var e=this;Mn.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Ye(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;Mn.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),nn(e._directives,t)})}},{key:"addFormGroup",value:function(t){var e=this;Mn.then(function(){var n=e._findContainer(t.path),i=new Cn({});Ze(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(t){var e=this;Mn.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;Mn.then(function(){n.form.get(t.path).setValue(e)})}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,en(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}}]),n}(Ee)).\u0275fac=function(t){return new(t||un)(i.Mb(ae,10),i.Mb(se,10))},un.\u0275dir=i.Hb({type:un,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.zb([wn]),i.xb]}),un),Pn=((ln=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||ln)},ln.\u0275dir=i.Hb({type:ln,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ln),kn=new i.q("NgModelWithFormControlWarning"),An={provide:Ee,useExisting:Object(i.U)(function(){return Tn})},Tn=((hn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var o;return _classCallCheck(this,n),(o=e.call(this)).validators=t,o.asyncValidators=r,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new i.n,o._setValidators(t),o._setAsyncValidators(r),o}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return Ye(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){nn(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);Ze(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);Ze(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,en(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){var n=function(){};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),$e(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(function(){}))}(e.control||null,e),n&&Ye(n,e),e.control=n)}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){Xe(this.form,this,!1),this._oldForm&&$e(this._oldForm,this,!1)}},{key:"_checkFormPresent",value:function(){}}]),n}(Ee)).\u0275fac=function(t){return new(t||hn)(i.Mb(ae,10),i.Mb(se,10))},hn.\u0275dir=i.Hb({type:hn,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.zb([An]),i.xb,i.yb]}),hn),Sn={provide:Re,useExisting:Object(i.U)(function(){return En})},En=((dn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o,a,s){var c;return _classCallCheck(this,n),(c=e.call(this))._ngModelWarningConfig=s,c._added=!1,c.update=new i.n,c._ngModelWarningSent=!1,c._parent=t,c._setValidators(r),c._setAsyncValidators(o),c.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);var n=void 0,i=void 0,r=void 0;return e.forEach(function(t){var e;t.constructor===ie?n=t:(e=t,tn.some(function(t){return e.constructor===t})?i=t:r=t)}),r||i||n||null}(0,a),c}return _createClass(n,[{key:"isDisabled",set:function(t){}},{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"path",get:function(){return t=null==this.name?this.name:this.name.toString(),[].concat(_toConsumableArray(this._parent.path),[t]);var t}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(Re)).\u0275fac=function(t){return new(t||dn)(i.Mb(Ee,13),i.Mb(ae,10),i.Mb(se,10),i.Mb(Jt,10),i.Mb(kn,8))},dn.\u0275dir=i.Hb({type:dn,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.zb([Sn]),i.xb,i.yb]}),dn._ngModelWarningSentOnce=!1,dn),In={provide:ae,useExisting:Object(i.U)(function(){return Rn}),multi:!0},Rn=((pn=function(){function t(){_classCallCheck(this,t),this._required=!1}return _createClass(t,[{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}},{key:"validate",value:function(t){return this.required?le.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}}]),t}()).\u0275fac=function(t){return new(t||pn)},pn.\u0275dir=i.Hb({type:pn,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&i.Bb("required",e.required?"":null)},inputs:{required:"required"},features:[i.zb([In])]}),pn),Dn={provide:ae,useExisting:Object(i.U)(function(){return Nn}),multi:!0},Nn=((bn=function(){function t(){_classCallCheck(this,t),this._enabled=!1}return _createClass(t,[{key:"email",set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}},{key:"validate",value:function(t){return this._enabled?le.email(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}}]),t}()).\u0275fac=function(t){return new(t||bn)},bn.\u0275dir=i.Hb({type:bn,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[i.zb([Dn])]}),bn),Ln=((vn=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:vn}),vn.\u0275inj=i.Jb({factory:function(t){return new(t||vn)}}),vn),zn=((mn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),i=null,r=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new Cn(n,{asyncValidators:r,updateOn:o,validators:i})}},{key:"control",value:function(t,e,n){return new yn(t,e,n)}},{key:"array",value:function(t,e,n){var i=this,r=t.map(function(t){return i._createControl(t)});return new xn(r,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach(function(i){n[i]=e._createControl(t[i])}),n}},{key:"_createControl",value:function(t){return t instanceof yn||t instanceof Cn||t instanceof xn?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||mn)},mn.\u0275prov=i.Ib({token:mn,factory:mn.\u0275fac}),mn),jn=((gn=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:gn}),gn.\u0275inj=i.Jb({factory:function(t){return new(t||gn)},providers:[qe],imports:[Ln]}),gn),Fn=((fn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:kn,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=i.Kb({type:fn}),fn.\u0275inj=i.Jb({factory:function(t){return new(t||fn)},providers:[zn,qe],imports:[Ln]}),fn),qn=n("LRne"),Bn=n("5+tZ");function Un(t,e){return Object(Bn.a)(t,e,1)}var Hn=n("7o/Q");function Vn(t,e){return function(n){return n.lift(new Wn(t,e))}}var Wn=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Gn(t,this.predicate,this.thisArg))}}]),t}(),Gn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=i,o.thisArg=r,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(Hn.a),Qn=function t(){_classCallCheck(this,t)},Yn=function t(){_classCallCheck(this,t)},Kn=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),r=i.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(o):n.headers.set(r,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var i=e[t],r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(t,r))})}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,_toConsumableArray(n)),this.headers.set(e,i);break;case"d":var r=t.value;if(r){var o=this.headers.get(e);if(!o)return;0===(o=o.filter(function(t){return-1===r.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),Xn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return $n(t)}},{key:"encodeValue",value:function(t){return $n(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function $n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Jn=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Xn,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach(function(t){var i=t.indexOf("="),r=_slicedToArray(-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],2),o=r[0],a=r[1],s=n.get(o)||[];s.push(a),n.set(o,s)}),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(t){var i=n.fromObject[t];e.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var i=t.map.get(e.param)||[],r=i.indexOf(e.value);-1!==r&&i.splice(r,1),i.length>0?t.map.set(e.param,i):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function Zn(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ti(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ei(t){return"undefined"!=typeof FormData&&t instanceof FormData}var ni=function(){function t(e,n,i,r){var o;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Kn),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new Jn,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:Zn(this.body)||ti(this.body)||ei(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jn?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||ei(this.body)?null:ti(this.body)?this.body.type||null:Zn(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jn?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},c)),e.setParams&&(l=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},l)),new t(n,i,o,{params:l,headers:c,reportProgress:s,responseType:r,withCredentials:a})}}]),t}(),ii=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),ri=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new Kn,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},oi=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,i)).type=ii.ResponseHeader,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(ri),ai=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,i)).type=ii.Response,t.body=void 0!==i.body?i.body:null,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(ri),si=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),i.error=t.error||null,i}return n}(ri);function ci(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var li,ui,hi,di,pi,fi,gi,mi,vi,bi=((li=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof ni)n=t;else{var o=void 0;o=r.headers instanceof Kn?r.headers:new Kn(r.headers);var a=void 0;r.params&&(a=r.params instanceof Jn?r.params:new Jn({fromObject:r.params})),n=new ni(t,e,void 0!==r.body?r.body:null,{headers:o,params:a,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}var s=Object(qn.a)(n).pipe(Un(function(t){return i.handler.handle(t)}));if(t instanceof ni||"events"===r.observe)return s;var c=s.pipe(Vn(function(t){return t instanceof ai}));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return c.pipe(Object(Gt.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return c.pipe(Object(Gt.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return c.pipe(Object(Gt.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return c.pipe(Object(Gt.a)(function(t){return t.body}))}case"response":return c;default:throw new Error("Unreachable: unhandled observe type ".concat(r.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new Jn).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,ci(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,ci(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,ci(n,e))}}]),t}()).\u0275fac=function(t){return new(t||li)(i.Yb(Qn))},li.\u0275prov=i.Ib({token:li,factory:li.\u0275fac}),li),_i=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),yi=new i.q("HTTP_INTERCEPTORS"),Ci=((ui=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||ui)},ui.\u0275prov=i.Ib({token:ui,factory:ui.\u0275fac}),ui),xi=/^\)\]\}',?\n/,wi=function t(){_classCallCheck(this,t)},Mi=((di=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||di)},di.\u0275prov=i.Ib({token:di,factory:di.\u0275fac}),di),Oi=((hi=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Vt.a(function(n){var i=e.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach(function(t,e){return i.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var r=t.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(t.responseType){var o=t.responseType.toLowerCase();i.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,c=function(){if(null!==s)return s;var e=1223===i.status?204:i.status,n=i.statusText||"OK",r=new Kn(i.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new oi({headers:r,status:e,statusText:n,url:o})},l=function(){var e=c(),r=e.headers,o=e.status,a=e.statusText,s=e.url,l=null;204!==o&&(l=void 0===i.response?i.responseText:i.response),0===o&&(o=l?200:0);var u=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof l){var h=l;l=l.replace(xi,"");try{l=""!==l?JSON.parse(l):null}catch(d){l=h,u&&(u=!1,l={error:d,text:l})}}u?(n.next(new ai({body:l,headers:r,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new si({error:l,headers:r,status:o,statusText:a,url:s||void 0}))},u=function(t){var e=c().url,r=new si({error:t,status:i.status||0,statusText:i.statusText||"Unknown Error",url:e||void 0});n.error(r)},h=!1,d=function(e){h||(n.next(c()),h=!0);var r={type:ii.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===t.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},p=function(t){var e={type:ii.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return i.addEventListener("load",l),i.addEventListener("error",u),t.reportProgress&&(i.addEventListener("progress",d),null!==a&&i.upload&&i.upload.addEventListener("progress",p)),i.send(a),n.next({type:ii.Sent}),function(){i.removeEventListener("error",u),i.removeEventListener("load",l),t.reportProgress&&(i.removeEventListener("progress",d),null!==a&&i.upload&&i.upload.removeEventListener("progress",p)),i.readyState!==i.DONE&&i.abort()}})}}]),t}()).\u0275fac=function(t){return new(t||hi)(i.Yb(wi))},hi.\u0275prov=i.Ib({token:hi,factory:hi.\u0275fac}),hi),Pi=new i.q("XSRF_COOKIE_NAME"),ki=new i.q("XSRF_HEADER_NAME"),Ai=function t(){_classCallCheck(this,t)},Ti=((vi=function(){function t(e,n,i){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=L(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||vi)(i.Yb(c),i.Yb(i.B),i.Yb(Pi))},vi.\u0275prov=i.Ib({token:vi,factory:vi.\u0275fac}),vi),Si=((mi=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||mi)(i.Yb(Ai),i.Yb(ki))},mi.\u0275prov=i.Ib({token:mi,factory:mi.\u0275fac}),mi),Ei=((gi=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(yi,[]);this.chain=e.reduceRight(function(t,e){return new _i(t,e)},this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||gi)(i.Yb(Yn),i.Yb(i.r))},gi.\u0275prov=i.Ib({token:gi,factory:gi.\u0275fac}),gi),Ii=((fi=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Si,useClass:Ci}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Pi,useValue:e.cookieName}:[],e.headerName?{provide:ki,useValue:e.headerName}:[]]}}}]),t}()).\u0275mod=i.Kb({type:fi}),fi.\u0275inj=i.Jb({factory:function(t){return new(t||fi)},providers:[Si,{provide:yi,useExisting:Si,multi:!0},{provide:Ai,useClass:Ti},{provide:Pi,useValue:"XSRF-TOKEN"},{provide:ki,useValue:"X-XSRF-TOKEN"}]}),fi),Ri=((pi=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:pi}),pi.\u0275inj=i.Jb({factory:function(t){return new(t||pi)},providers:[bi,{provide:Qn,useClass:Ei},Oi,{provide:Yn,useExisting:Oi},Mi,{provide:wi,useExisting:Mi}],imports:[[Ii.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),pi);function Di(t){return null!=t&&""+t!="false"}function Ni(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Li(t){return t instanceof i.l?t.nativeElement:t}var zi=n("XNiG"),ji=n("n6bG");function Fi(t,e,n,i){return Object(ji.a)(n)&&(i=n,n=void 0),i?Fi(t,e,n).pipe(Object(Gt.a)(function(t){return Object(Wt.a)(t)?i.apply(void 0,_toConsumableArray(t)):i(t)})):new Vt.a(function(i){qi(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function qi(t,e,n,i,r){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,r),o=function(){return a.removeEventListener(e,n,r)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var c=t;t.addListener(e,n),o=function(){return c.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,u=t.length;l<u;l++)qi(t[l],e,n,i,r)}i.add(o)}var Bi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),Ui=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(Bi);n("7Hc7");var Hi=n("quSY"),Vi=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Wi(t,this.compare,this.keySelector))}}]),t}(),Wi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=r,o.hasKey=!1,"function"==typeof i&&(o.compare=i),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}]),n}(Hn.a),Gi=n("D0XW"),Qi=n("zx2A"),Yi=function(){function t(e){_classCallCheck(this,t),this.durationSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ki(t,this.durationSelector))}}]),t}(),Ki=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).durationSelector=i,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=Object(Qi.c)(e,new Qi.a(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(Qi.b),Xi=n("Y7HM"),$i=n("z+Ro");function Ji(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return Object(Xi.a)(e)?i=Number(e)<1?1:Number(e):Object($i.a)(e)&&(n=e),Object($i.a)(n)||(n=Gi.a),new Vt.a(function(e){var r=Object(Xi.a)(t)?t:+t-n.now();return n.schedule(Zi,r,{index:0,period:i,subscriber:e})})}function Zi(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function tr(t){return function(e){return e.lift(new er(t))}}var er=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new nr(t),i=Object(Qi.c)(this.notifier,new Qi.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}]),t}(),nr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).seenValue=!1,i}return _createClass(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(Qi.b),ir=n("bHdf");function rr(){return Object(ir.a)(1)(Object(qn.a).apply(void 0,arguments))}function or(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return Object($i.a)(i)?(e.pop(),function(t){return rr(e,t,i)}):function(t){return rr(e,t)}}function ar(){return function(t){return t.lift(new sr)}}var sr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new cr(t))}}]),t}(),cr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).hasPrev=!1,i}return _createClass(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(Hn.a);function lr(t,e){return"function"==typeof e?function(n){return n.pipe(lr(function(n,i){return Object(Yt.a)(t(n,i)).pipe(Object(Gt.a)(function(t,r){return e(n,t,i,r)}))}))}:function(e){return e.lift(new hr(t))}}var ur,hr=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new dr(t,this.project))}}]),t}(),dr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).project=i,r.index=0,r}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new Qi.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(Qi.c)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(Qi.b),pr=n("qgXg"),fr=n("pxpQ"),gr=n("9ppp"),mr=n("Ylt2"),vr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=i<1?1:i,t._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new br(this._getNow(),t)),this._trimBufferThenGetEvents()),_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new gr.a;if(this.isStopped||this.hasError?e=Hi.a.EMPTY:(this.observers.push(t),e=new mr.a(this,t)),r&&t.add(t=new fr.a(t,r)),n)for(var a=0;a<o&&!t.closed;a++)t.next(i[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(i[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||pr.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}]),n}(zi.a),br=function t(e,n){_classCallCheck(this,t),this.time=e,this.value=n};function _r(t,e,n){var i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,i=t.bufferSize,r=void 0===i?Number.POSITIVE_INFINITY:i,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,c=t.scheduler,l=0,u=!1,h=!1;return function(t){var i;l++,!e||u?(u=!1,e=new vr(r,a,c),i=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){u=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}),h&&(n=void 0)):i=e.subscribe(this),this.add(function(){l--,i.unsubscribe(),i=void 0,n&&!h&&s&&0===l&&(n.unsubscribe(),n=void 0,e=void 0)})}}(i))}}try{ur="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(a2){ur=!1}var yr,Cr,xr,wr,Mr,Or=((xr=function t(e){_classCallCheck(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ur)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(t){return new(t||xr)(i.Yb(i.B))},xr.\u0275prov=Object(i.Ib)({factory:function(){return new xr(Object(i.Yb)(i.B))},token:xr,providedIn:"root"}),xr),Pr=((Cr=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Cr}),Cr.\u0275inj=i.Jb({factory:function(t){return new(t||Cr)}}),Cr),kr=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ar(){if(yr)return yr;if("object"!=typeof document||!document)return yr=new Set(kr);var t=document.createElement("input");return yr=new Set(kr.filter(function(e){return t.setAttribute("type",e),t.type===e}))}function Tr(t){return function(){if(null==wr&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return wr=!0}}))}finally{wr=wr||!1}return wr}()?t:!!t.capture}function Sr(t){if(function(){if(null==Mr){var t="undefined"!=typeof document?document.head:null;Mr=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Mr}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}var Er,Ir,Rr,Dr,Nr=new i.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.V)(c)}}),Lr=((Dr=function(){function t(e){if(_classCallCheck(this,t),this.value="ltr",this.change=new i.n,e){var n=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||n;this.value="ltr"===r||"rtl"===r?r:"ltr"}}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||Dr)(i.Yb(Nr,8))},Dr.\u0275prov=Object(i.Ib)({factory:function(){return new Dr(Object(i.Yb)(Nr,8))},token:Dr,providedIn:"root"}),Dr),zr=((Rr=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Rr}),Rr.\u0275inj=i.Jb({factory:function(t){return new(t||Rr)}}),Rr),jr=((Ir=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this._platform=e,this._change=new zi.a,this._changeListener=function(t){r._change.next(t)},this._document=i,n.runOutsideAngular(function(){if(e.isBrowser){var t=r._getWindow();t.addEventListener("resize",r._changeListener),t.addEventListener("orientationchange",r._changeListener)}r.change().subscribe(function(){return r._updateViewportSize()})})}return _createClass(t,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gi.a;return e=function(){return Ji(t,n)},function(t){return t.lift(new Yi(e))}}(t)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||Ir)(i.Yb(Or),i.Yb(i.z),i.Yb(c,8))},Ir.\u0275prov=Object(i.Ib)({factory:function(){return new Ir(Object(i.Yb)(Or),Object(i.Yb)(i.z),Object(i.Yb)(c,8))},token:Ir,providedIn:"root"}),Ir),Fr=((Er=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Er}),Er.\u0275inj=i.Jb({factory:function(t){return new(t||Er)}}),Er);function qr(t){var e=t.subscriber,n=t.counter,i=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var Br=n("VRyK"),Ur=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Hr=n("EY2u");function Vr(t){return function(e){return 0===t?Object(Hr.b)():e.lift(new Wr(t))}}var Wr=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Ur}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Gr(t,this.total))}}]),t}(),Gr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).total=i,r.count=0,r}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(Hn.a),Qr=n("vkgz");function Yr(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Kr(t,e){var n=e?"":"none";Yr(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Xr(t,e){var n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function $r(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function Jr(t,e){return t.getPropertyValue(e).split(",").map(function(t){return t.trim()})}function Zr(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function to(t,e,n){var i=t.top,r=t.bottom,o=t.left,a=t.right;return n>=i&&n<=r&&e>=o&&e<=a}function eo(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function no(t,e,n,i){var r=t.top,o=t.right,a=t.bottom,s=t.left,c=t.width*e,l=t.height*e;return i>r-l&&i<a+l&&n>s-c&&n<o+c}var io=function(){function t(e,n){_classCallCheck(this,t),this._document=e,this._viewportRuler=n,this.positions=new Map}return _createClass(t,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(t){var e=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(function(t){e.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Zr(t)})})}},{key:"handleScroll",value:function(t){var e=t.target,n=this.positions.get(e);if(!n)return null;var i,r,o=e===this._document?e.documentElement:e,a=n.scrollPosition;if(e===this._document){var s=this._viewportRuler.getViewportScrollPosition();i=s.top,r=s.left}else i=e.scrollTop,r=e.scrollLeft;var c=a.top-i,l=a.left-r;return this.positions.forEach(function(t,n){t.clientRect&&e!==n&&o.contains(n)&&eo(t.clientRect,c,l)}),a.top=i,a.left=r,{top:c,left:l}}}]),t}();function ro(t){var e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();e.removeAttribute("id");for(var r=0;r<n.length;r++)n[r].removeAttribute("id");return"canvas"===i?co(t,e):"input"!==i&&"select"!==i&&"textarea"!==i||so(t,e),oo("canvas",t,e,co),oo("input, textarea, select",t,e,so),e}function oo(t,e,n,i){var r=e.querySelectorAll(t);if(r.length)for(var o=n.querySelectorAll(t),a=0;a<r.length;a++)i(r[a],o[a])}var ao=0;function so(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name="mat-clone-".concat(e.name,"-").concat(ao++))}function co(t,e){var n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(a2){}}var lo=Tr({passive:!0}),uo=Tr({passive:!1}),ho=function(){function t(e,n,i,r,o,a){var s=this;_classCallCheck(this,t),this._config=n,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new zi.a,this._pointerMoveSubscription=Hi.a.EMPTY,this._pointerUpSubscription=Hi.a.EMPTY,this._scrollSubscription=Hi.a.EMPTY,this._resizeSubscription=Hi.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new zi.a,this.started=new zi.a,this.released=new zi.a,this.ended=new zi.a,this.entered=new zi.a,this.exited=new zi.a,this.dropped=new zi.a,this.moved=this._moveEvents,this._pointerDown=function(t){if(s.beforeStarted.next(),s._handles.length){var e=s._handles.find(function(e){var n=t.target;return!!n&&(n===e||e.contains(n))});!e||s._disabledHandles.has(e)||s.disabled||s._initializeDragSequence(e,t)}else s.disabled||s._initializeDragSequence(s._rootElement,t)},this._pointerMove=function(t){var e=s._getPointerPositionOnPage(t);if(s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect())),t.preventDefault();var n=s._getConstrainedPointerPosition(e);if(s._hasMoved=!0,s._lastKnownPointerPosition=e,s._updatePointerDirectionDelta(n),s._dropContainer)s._updateActiveDropContainer(n,e);else{var i=s._activeTransform;i.x=n.x-s._pickupPositionOnPage.x+s._passiveTransform.x,i.y=n.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(i.x,i.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate(".concat(i.x," ").concat(i.y,")"))}s._moveEvents.observers.length&&s._ngZone.run(function(){s._moveEvents.next({source:s,pointerPosition:n,event:t,distance:s._getDragDistance(n),delta:s._pointerDirectionDelta})})}else if(Math.abs(e.x-s._pickupPositionOnPage.x)+Math.abs(e.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){var r=Date.now()>=s._dragStartTime+s._getDragStartDelay(t),o=s._dropContainer;if(!r)return void s._endDragSequence(t);o&&(o.isDragging()||o.isReceiving())||(s._hasStartedDragging=!0,s._ngZone.run(function(){return s._startDragSequence(t)}))}},this._pointerUp=function(t){s._endDragSequence(t)},this.withRootElement(e),this._parentPositions=new io(i,o),a.registerDragItem(this)}return _createClass(t,[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=Di(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(function(t){return Kr(t,e)}))}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(t){var e=this;this._handles=t.map(function(t){return Li(t)}),this._handles.forEach(function(t){return Kr(t,e.disabled)}),this._toggleNativeDragInteractions();var n=new Set;return this._disabledHandles.forEach(function(t){e._handles.indexOf(t)>-1&&n.add(t)}),this._disabledHandles=n,this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=this,n=Li(t);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(function(){n.addEventListener("mousedown",e._pointerDown,uo),n.addEventListener("touchstart",e._pointerDown,lo)}),this._initialTransform=void 0,this._rootElement=n),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?Li(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return e._containInsideBoundaryOnResize()})),this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&go(this._rootElement),go(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Kr(t,!0))}},{key:"enableHandle",value:function(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Kr(t,this.disabled))}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&go(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&go(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){e.ended.next({source:e,distance:e._getDragDistance(e._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(t){mo(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var e=this._dropContainer;if(e){var n=this._rootElement,i=n.parentNode,r=this._preview=this._createPreviewElement(),o=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();i.insertBefore(a,n),Xr(n,!1),this._document.body.appendChild(i.replaceChild(o,n)),function(t,e){return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}(this._document,s).appendChild(r),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(t,e){var n=this;this._config.parentDragRef&&e.stopPropagation();var i=this.isDragging(),r=mo(e),o=!r&&0!==e.button,a=this._rootElement,s=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(i||o||s)){this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor||"",a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(function(t){n._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=Zr(this._boundaryElement));var c=this._previewTemplate;this._pickupPositionInElement=c&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);var l=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;Xr(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(function(){var n=e._dropContainer,i=n.getItemIndex(e),r=e._getPointerPositionOnPage(t),o=e._getDragDistance(e._getPointerPositionOnPage(t)),a=n._isOverContainer(r.x,r.y);e.ended.next({source:e,distance:o}),e.dropped.next({item:e,currentIndex:i,previousIndex:e._initialIndex,container:n,previousContainer:e._initialContainer,isPointerOverContainer:a,distance:o}),n.drop(e,i,e._initialIndex,e._initialContainer,a,o),e._dropContainer=e._initialContainer})}},{key:"_updateActiveDropContainer",value:function(t,e){var n=this,i=t.x,r=t.y,o=e.x,a=e.y,s=this._initialContainer._getSiblingContainerFromPosition(this,i,r);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,r)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(function(){n.exited.next({item:n,container:n._dropContainer}),n._dropContainer.exit(n),n._dropContainer=s,n._dropContainer.enter(n,i,r,s===n._initialContainer&&s.sortingDisabled?n._initialIndex:void 0),n.entered.next({item:n,container:s,currentIndex:s.getItemIndex(n)})}),this._dropContainer._startScrollingIfNecessary(o,a),this._dropContainer._sortItem(this,i,r,this._pointerDirectionDelta),this._preview.style.transform=po(i-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var t,e=this._previewTemplate,n=this.previewClass,i=e?e.template:null;if(i&&e){var r=e.matchSize?this._rootElement.getBoundingClientRect():null,o=e.viewContainer.createEmbeddedView(i,e.context);o.detectChanges(),t=vo(o,this._document),this._previewRef=o,e.matchSize?bo(t,r):t.style.transform=po(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var a=this._rootElement;bo(t=ro(a),a.getBoundingClientRect())}return Yr(t.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),Kr(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(function(e){return t.classList.add(e)}):t.classList.add(n)),t}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=po(e.left,e.top);var n=function(t){var e=getComputedStyle(t),n=Jr(e,"transition-property"),i=n.find(function(t){return"transform"===t||"all"===t});if(!i)return 0;var r=n.indexOf(i),o=Jr(e,"transition-duration"),a=Jr(e,"transition-delay");return $r(o[r])+$r(a[r])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(e){var i=function n(i){(!i||i.target===t._preview&&"transform"===i.propertyName)&&(t._preview.removeEventListener("transitionend",n),e(),clearTimeout(r))},r=setTimeout(i,1.5*n);t._preview.addEventListener("transitionend",i)})})}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,n=e?e.template:null;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),t=vo(this._placeholderRef,this._document)):t=ro(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,r=i?i.getBoundingClientRect():n,o=mo(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:r.left-n.left+(o.pageX-r.left-a.left),y:r.top-n.top+(o.pageY-r.top-a.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=this._getViewportScrollPosition(),n=mo(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=n.pageX-e.left,r=n.pageY-e.top;if(this._ownerSVGElement){var o=this._ownerSVGElement.getScreenCTM();if(o){var a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=r,a.matrixTransform(o.inverse())}}return{x:i,y:r}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this._dropContainer?this._dropContainer.lockAxis:null,n=this.constrainPosition?this.constrainPosition(t,this):t,i=n.x,r=n.y;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(i=this._pickupPositionOnPage.x),this._boundaryRect){var o=this._pickupPositionInElement,a=o.x,s=o.y,c=this._boundaryRect,l=this._previewRect,u=c.top+s,h=c.bottom-(l.height-s);i=fo(i,c.left+a,c.right-(l.width-a)),r=fo(r,u,h)}return{x:i,y:r}}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,n=t.y,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),a=Math.abs(n-r.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),a>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Kr(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,uo),t.removeEventListener("touchstart",this._pointerDown,lo)}},{key:"_applyRootElementTransform",value:function(t,e){var n=po(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,n=t.y;if(!(0===e&&0===n||this.isDragging())&&this._boundaryElement){var i=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(!(0===i.width&&0===i.height||0===r.width&&0===r.height)){var o=i.left-r.left,a=r.right-i.right,s=i.top-r.top,c=r.bottom-i.bottom;i.width>r.width?(o>0&&(e+=o),a>0&&(e-=a)):e=0,i.height>r.height?(s>0&&(n+=s),c>0&&(n-=c)):n=0,e===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:mo(t)?e.touch:e?e.mouse:0}},{key:"_updateOnScroll",value:function(t){var e=this._parentPositions.handleScroll(t);if(e){var n=t.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&eo(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Sr(this._rootElement)),this._cachedShadowRoot}}]),t}();function po(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function fo(t,e,n){return Math.max(e,Math.min(n,t))}function go(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function mo(t){return"t"===t.type[0]}function vo(t,e){var n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];var i=e.createElement("div");return n.forEach(function(t){return i.appendChild(t)}),i}function bo(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=po(e.left,e.top)}function _o(t,e){return Math.max(0,Math.min(e,t))}var yo=function(){function t(e,n,i,r,o){var a=this;_classCallCheck(this,t),this._dragDropRegistry=n,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.beforeStarted=new zi.a,this.entered=new zi.a,this.exited=new zi.a,this.dropped=new zi.a,this.sorted=new zi.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Hi.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new zi.a,this._cachedShadowRoot=null,this._startScrollInterval=function(){a._stopScrolling(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gi.a;return(!Object(Xi.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Gi.a),new Vt.a(function(n){return n.add(e.schedule(qr,t,{subscriber:n,counter:0,period:t})),n})}(0,Ui).pipe(tr(a._stopScrollTimers)).subscribe(function(){var t=a._scrollNode;1===a._verticalScrollDirection?xo(t,-2):2===a._verticalScrollDirection&&xo(t,2),1===a._horizontalScrollDirection?wo(t,-2):2===a._horizontalScrollDirection&&wo(t,2)})},this.element=Li(e),this._document=i,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new io(i,o)}return _createClass(t,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){this._draggingStarted(),this._notifyReceivingSiblings()}},{key:"enter",value:function(t,e,n,i){var r;this._draggingStarted(),null==i?-1===(r=this.sortingDisabled?this._draggables.indexOf(t):-1)&&(r=this._getItemIndexFromPointerPosition(t,e,n)):r=i;var o=this._activeDraggables,a=o.indexOf(t),s=t.getPlaceholderElement(),c=o[r];if(c===t&&(c=o[r+1]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){var l=c.getRootElement();l.parentElement.insertBefore(s,l),o.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){var u=o[0].getRootElement();u.parentNode.insertBefore(s,u),o.unshift(t)}else Li(this.element).appendChild(s),o.push(t);s.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,n,i,r,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:r,distance:o})}},{key:"withItems",value:function(t){var e=this,n=this._draggables;return this._draggables=t,t.forEach(function(t){return t._withDropContainer(e)}),this.isDragging()&&(n.filter(function(t){return t.isDragging()}).every(function(e){return-1===t.indexOf(e)})?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._orientation=t,this}},{key:"withScrollableParents",value:function(t){var e=Li(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e].concat(_toConsumableArray(t)):t.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(t){return this._isDragging?Co("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,function(e){return e.drag===t}):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,n,i){if(!this.sortingDisabled&&this._clientRect&&no(this._clientRect,.05,e,n)){var r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,i);if(!(-1===o&&r.length>0)){var a="horizontal"===this._orientation,s=Co(r,function(e){return e.drag===t}),c=r[o],l=c.clientRect,u=s>o?1:-1,h=this._getItemOffsetPx(r[s].clientRect,l,u),d=this._getSiblingOffsetPx(s,r,u),p=r.slice();!function(t,e,n){var i=_o(e,t.length-1),r=_o(n,t.length-1);if(i!==r){for(var o=t[i],a=r<i?-1:1,s=i;s!==r;s+=a)t[s]=t[s+a];t[r]=o}}(r,s,o),this.sorted.next({previousIndex:s,currentIndex:o,container:this,item:t}),r.forEach(function(e,n){if(p[n]!==e){var i=e.drag===t,r=i?h:d,o=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,a?(o.style.transform="translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),eo(e.clientRect,0,r)):(o.style.transform="translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),eo(e.clientRect,r,0))}}),this._previousSwap.overlaps=to(l,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?i.x:i.y}}}},{key:"_startScrollingIfNecessary",value:function(t,e){var n=this;if(!this.autoScrollDisabled){var i,r=0,o=0;if(this._parentPositions.positions.forEach(function(a,s){var c;s!==n._document&&a.clientRect&&!i&&no(a.clientRect,.05,t,e)&&(c=_slicedToArray(function(t,e,n,i){var r=Mo(e,i),o=Oo(e,n),a=0,s=0;if(r){var c=t.scrollTop;1===r?c>0&&(a=1):t.scrollHeight-c>t.clientHeight&&(a=2)}if(o){var l=t.scrollLeft;1===o?l>0&&(s=1):t.scrollWidth-l>t.clientWidth&&(s=2)}return[a,s]}(s,a.clientRect,t,e),2),r=c[0],o=c[1],(r||o)&&(i=s))}),!r&&!o){var a=this._viewportRuler.getViewportSize(),s=a.width,c=a.height,l={width:s,height:c,top:0,right:s,bottom:c,left:0};r=Mo(l,e),o=Oo(l,t),i=window}!i||r===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_draggingStarted",value:function(){var t=Li(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"_cacheParentPositions",value:function(){var t=Li(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}},{key:"_cacheItemPositions",value:function(){var t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(t){var e=t.getVisibleElement();return{drag:t,offset:0,clientRect:Zr(e)}}).sort(function(e,n){return t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top})}},{key:"_reset",value:function(){var t=this;this._isDragging=!1;var e=Li(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(function(t){var e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(function(e){return e._stopReceiving(t)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(t,e,n){var i="horizontal"===this._orientation,r=e[t].clientRect,o=e[t+-1*n],a=r[i?"width":"height"]*n;if(o){var s=i?"left":"top",c=i?"right":"bottom";-1===n?a-=o.clientRect[s]-r[c]:a+=r[s]-o.clientRect[c]}return a}},{key:"_getItemOffsetPx",value:function(t,e,n){var i="horizontal"===this._orientation,r=i?e.left-t.left:e.top-t.top;return-1===n&&(r+=i?e.width-t.width:e.height-t.height),r}},{key:"_shouldEnterAsFirstChild",value:function(t,e){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var r=n[n.length-1].clientRect;return i?t>=r.right:e>=r.bottom}var o=n[0].clientRect;return i?t<=o.left:e<=o.top}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,n,i){var r=this,o="horizontal"===this._orientation,a=Co(this._itemPositions,function(a,s,c){var l=a.drag,u=a.clientRect;if(l===t)return c.length<2;if(i){var h=o?i.x:i.y;if(l===r._previousSwap.drag&&r._previousSwap.overlaps&&h===r._previousSwap.delta)return!1}return o?e>=Math.floor(u.left)&&e<Math.floor(u.right):n>=Math.floor(u.top)&&n<Math.floor(u.bottom)});return-1!==a&&this.sortPredicate(a,t,this)?a:-1}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(t,e){return null!=this._clientRect&&to(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,n){return this._siblings.find(function(i){return i._canReceive(t,e,n)})}},{key:"_canReceive",value:function(t,e,n){if(!this._clientRect||!to(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;var i=this._getShadowRoot().elementFromPoint(e,n);if(!i)return!1;var r=Li(this.element);return i===r||r.contains(i)}},{key:"_startReceiving",value:function(t,e){var n=this,i=this._activeSiblings;!i.has(t)&&e.every(function(t){return n.enterPredicate(t,n)||n._draggables.indexOf(t)>-1})&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(function(e){if(t.isDragging()){var n=t._parentPositions.handleScroll(e);n&&(t._itemPositions.forEach(function(t){eo(t.clientRect,n.top,n.left)}),t._itemPositions.forEach(function(e){var n=e.drag;t._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()}))}else t.isReceiving()&&t._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var t=Sr(Li(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}},{key:"_notifyReceivingSiblings",value:function(){var t=this,e=this._activeDraggables.filter(function(t){return t.isDragging()});this._siblings.forEach(function(n){return n._startReceiving(t,e)})}}]),t}();function Co(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function xo(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function wo(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Mo(t,e){var n=t.top,i=t.bottom,r=.05*t.height;return e>=n-r&&e<=n+r?1:e>=i-r&&e<=i+r?2:0}function Oo(t,e){var n=t.left,i=t.right,r=.05*t.width;return e>=n-r&&e<=n+r?1:e>=i-r&&e<=i+r?2:0}var Po,ko,Ao,To,So=Tr({passive:!1,capture:!0}),Eo=((Po=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=function(t){return t.isDragging()},this.pointerMove=new zi.a,this.pointerUp=new zi.a,this.scroll=new zi.a,this._preventDefaultWhileDragging=function(t){i._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=function(t){i._activeDragInstances.length>0&&(i._activeDragInstances.some(i._draggingPredicate)&&t.preventDefault(),i.pointerMove.next(t))},this._document=n}return _createClass(t,[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){e._document.addEventListener("touchmove",e._persistentTouchmoveListener,So)})}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,So)}},{key:"startDragging",value:function(t,e){var n=this;if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){var i=e.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:function(t){return n.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return n.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:So}),i||this._globalListeners.set("mousemove",{handler:function(t){return n.pointerMove.next(t)},options:So}),this._ngZone.runOutsideAngular(function(){n._globalListeners.forEach(function(t,e){n._document.addEventListener(e,t.handler,t.options)})})}}},{key:"stopDragging",value:function(t){var e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}},{key:"isDragging",value:function(t){return this._activeDragInstances.indexOf(t)>-1}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach(function(e){return t.removeDragItem(e)}),this._dropInstances.forEach(function(e){return t.removeDropContainer(e)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach(function(e,n){t._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}}]),t}()).\u0275fac=function(t){return new(t||Po)(i.Yb(i.z),i.Yb(c))},Po.\u0275prov=Object(i.Ib)({factory:function(){return new Po(Object(i.Yb)(i.z),Object(i.Yb)(c))},token:Po,providedIn:"root"}),Po),Io={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Ro=((ko=function(){function t(e,n,i,r){_classCallCheck(this,t),this._document=e,this._ngZone=n,this._viewportRuler=i,this._dragDropRegistry=r}return _createClass(t,[{key:"createDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Io;return new ho(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new yo(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),t}()).\u0275fac=function(t){return new(t||ko)(i.Yb(c),i.Yb(i.z),i.Yb(jr),i.Yb(Eo))},ko.\u0275prov=Object(i.Ib)({factory:function(){return new ko(Object(i.Yb)(c),Object(i.Yb)(i.z),Object(i.Yb)(jr),Object(i.Yb)(Eo))},token:ko,providedIn:"root"}),ko),Do=new i.q("CDK_DRAG_PARENT"),No=new i.q("CDK_DRAG_CONFIG"),Lo=new i.q("CdkDropList"),zo=new i.q("CdkDragHandle"),jo=((Ao=function(){function t(e,n){_classCallCheck(this,t),this.element=e,this._stateChanges=new zi.a,this._disabled=!1,this._parentDrag=n}return _createClass(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Di(t),this._stateChanges.next(this)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),t}()).\u0275fac=function(t){return new(t||Ao)(i.Mb(i.l),i.Mb(Do,12))},Ao.\u0275dir=i.Hb({type:Ao,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[i.zb([{provide:zo,useExisting:Ao}])]}),Ao),Fo=new i.q("CdkDragPlaceholder"),qo=new i.q("CdkDragPreview"),Bo=((To=function(){function t(e,n,r,o,a,s,c,l,u,h,d){var p=this;_classCallCheck(this,t),this.element=e,this.dropContainer=n,this._ngZone=o,this._viewContainerRef=a,this._dir=c,this._changeDetectorRef=u,this._selfHandle=h,this._destroyed=new zi.a,this.started=new i.n,this.released=new i.n,this.ended=new i.n,this.entered=new i.n,this.exited=new i.n,this.dropped=new i.n,this.moved=new Vt.a(function(t){var e=p._dragRef.moved.pipe(Object(Gt.a)(function(t){return{source:p,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}})).subscribe(t);return function(){e.unsubscribe()}}),this._dragRef=l.createDrag(e,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex,parentDragRef:null==d?void 0:d._dragRef}),this._dragRef.data=this,s&&this._assignDefaults(s),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return _createClass(t,[{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=Di(t),this._dragRef.disabled=this._disabled}},{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.onStable.pipe(Vr(1),tr(this._destroyed)).subscribe(function(){t._updateRootElement(),t._handles.changes.pipe(or(t._handles),Object(Qr.a)(function(e){var n=e.filter(function(e){return e._parentDrag===t}).map(function(t){return t.element});t._selfHandle&&t.rootElementSelector&&n.push(t.element),t._dragRef.withHandles(n)}),lr(function(t){return Object(Br.a).apply(void 0,_toConsumableArray(t.map(function(t){return t._stateChanges.pipe(or(t))})))}),tr(t._destroyed)).subscribe(function(e){var n=t._dragRef,i=e.element.nativeElement;e.disabled?n.disableHandle(i):n.enableHandle(i)}),t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)})}},{key:"ngOnChanges",value:function(t){var e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var t=this.element.nativeElement,e=this.rootElementSelector?Uo(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}},{key:"_getBoundaryElement",value:function(){var t=this.boundaryElement;return t?"string"==typeof t?Uo(this.element.nativeElement,t):Li(t):null}},{key:"_syncInputs",value:function(t){var e=this;t.beforeStarted.subscribe(function(){if(!t.isDragging()){var n=e._dir,i=e.dragStartDelay,r=e._placeholderTemplate?{template:e._placeholderTemplate.templateRef,context:e._placeholderTemplate.data,viewContainer:e._viewContainerRef}:null,o=e._previewTemplate?{template:e._previewTemplate.templateRef,context:e._previewTemplate.data,matchSize:e._previewTemplate.matchSize,viewContainer:e._viewContainerRef}:null;t.disabled=e.disabled,t.lockAxis=e.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:Ni(i),t.constrainPosition=e.constrainPosition,t.previewClass=e.previewClass,t.withBoundaryElement(e._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(o),n&&t.withDirection(n.value)}})}},{key:"_handleEvents",value:function(t){var e=this;t.started.subscribe(function(){e.started.emit({source:e}),e._changeDetectorRef.markForCheck()}),t.released.subscribe(function(){e.released.emit({source:e})}),t.ended.subscribe(function(t){e.ended.emit({source:e,distance:t.distance}),e._changeDetectorRef.markForCheck()}),t.entered.subscribe(function(t){e.entered.emit({container:t.container.data,item:e,currentIndex:t.currentIndex})}),t.exited.subscribe(function(t){e.exited.emit({container:t.container.data,item:e})}),t.dropped.subscribe(function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:e,distance:t.distance})})}},{key:"_assignDefaults",value:function(t){var e=t.lockAxis,n=t.dragStartDelay,i=t.constrainPosition,r=t.previewClass,o=t.boundaryElement,a=t.draggingDisabled,s=t.rootElementSelector;this.disabled=null!=a&&a,this.dragStartDelay=n||0,e&&(this.lockAxis=e),i&&(this.constrainPosition=i),r&&(this.previewClass=r),o&&(this.boundaryElement=o),s&&(this.rootElementSelector=s)}}]),t}()).\u0275fac=function(t){return new(t||To)(i.Mb(i.l),i.Mb(Lo,12),i.Mb(c),i.Mb(i.z),i.Mb(i.Q),i.Mb(No,8),i.Mb(Lr,8),i.Mb(Ro),i.Mb(i.h),i.Mb(zo,10),i.Mb(Do,12))},To.\u0275dir=i.Hb({type:To,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var r;1&t&&(i.Fb(n,qo,!0),i.Fb(n,Fo,!0),i.Fb(n,zo,!0)),2&t&&(i.oc(r=i.cc())&&(e._previewTemplate=r.first),i.oc(r=i.cc())&&(e._placeholderTemplate=r.first),i.oc(r=i.cc())&&(e._handles=r))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&i.Eb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[i.zb([{provide:Do,useExisting:To}]),i.yb]}),To);function Uo(t,e){for(var n=t.parentElement;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}var Ho,Vo=((Ho=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Ho}),Ho.\u0275inj=i.Jb({factory:function(t){return new(t||Ho)},providers:[Ro],imports:[Fr]}),Ho),Wo=function t(){_classCallCheck(this,t)};function Go(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function Qo(t){return{type:6,styles:t,offset:null}}function Yo(t){Promise.resolve(null).then(t)}var Ko=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;Yo(function(){return t._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){this._position=this.totalTime?t*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),Xo=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var i=0,r=0,o=0,a=this.players.length;0==a?Yo(function(){return n._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++i==a&&n._onFinish()}),t.onDestroy(function(){++r==a&&n._onDestroy()}),t.onStart(function(){++o==a&&n._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(t){return t.init()})}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})}},{key:"pause",value:function(){this.players.forEach(function(t){return t.pause()})}},{key:"restart",value:function(){this.players.forEach(function(t){return t.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}},{key:"getPosition",value:function(){var t=this.players.reduce(function(t,e){return null===t||e.totalTime>t.totalTime?e:t},null);return null!=t?t.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}();function $o(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Jo(t){switch(t.length){case 0:return new Ko;case 1:return t[0];default:return new Xo(t)}}function Zo(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],c=-1,l=null;if(i.forEach(function(t){var n=t.offset,i=n==c,u=i&&l||{};Object.keys(t).forEach(function(n){var i=n,s=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,a),s){case"!":s=r[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,i,s,a)}u[i]=s}),i||s.push(u),l=u,c=n}),a.length){var u="\n - ";throw new Error("Unable to animate due to the following errors:".concat(u).concat(a.join(u)))}return s}function ta(t,e,n,i){switch(e){case"start":t.onStart(function(){return i(n&&ea(n,"start",t))});break;case"done":t.onDone(function(){return i(n&&ea(n,"done",t))});break;case"destroy":t.onDestroy(function(){return i(n&&ea(n,"destroy",t))})}}function ea(t,e,n){var i=n.totalTime,r=na(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function na(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function ia(t,e,n){var i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function ra(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var oa=function(t,e){return!1},aa=function(t,e){return!1},sa=function(t,e,n){return[]},ca=$o();(ca||"undefined"!=typeof Element)&&(oa=function(t,e){return t.contains(e)},aa=function(){if(ca||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:aa}(),sa=function(t,e,n){var i=[];if(n)for(var r=t.querySelectorAll(e),o=0;o<r.length;o++)i.push(r[o]);else{var a=t.querySelector(e);a&&i.push(a)}return i});var la=null,ua=!1;function ha(t){la||(la=("undefined"!=typeof document?document.body:null)||{},ua=!!la.style&&"WebkitAppearance"in la.style);var e=!0;return la.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in la.style)&&ua)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in la.style),e}var da=aa,pa=oa,fa=sa;function ga(t){var e={};return Object.keys(t).forEach(function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}var ma,va=((ma=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return ha(t)}},{key:"matchesElement",value:function(t,e){return da(t,e)}},{key:"containsElement",value:function(t,e){return pa(t,e)}},{key:"query",value:function(t,e,n){return fa(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,i,r){return new Ko(n,i)}}]),t}()).\u0275fac=function(t){return new(t||ma)},ma.\u0275prov=i.Ib({token:ma,factory:ma.\u0275fac}),ma),ba=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new va,t}();function _a(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ya(parseFloat(e[1]),e[2])}function ya(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Ca(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var i,r=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};i=ya(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(r=ya(parseFloat(s),a[4]));var c=a[5];c&&(o=c)}else i=t;if(!n){var l=!1,u=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(u,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:i,delay:r,easing:o}}(t,e,n)}function xa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function wa(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var i in t)n[i]=t[i];else xa(t,n);return n}function Ma(t,e,n){return n?e+":"+n+";":""}function Oa(t){for(var e="",n=0;n<t.style.length;n++){var i=t.style.item(n);e+=Ma(0,i,t.style.getPropertyValue(i))}for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=Ma(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function Pa(t,e,n){t.style&&(Object.keys(e).forEach(function(i){var r=Da(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),$o()&&Oa(t))}function ka(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=Da(e);t.style[n]=""}),$o()&&Oa(t))}function Aa(t){return Array.isArray(t)?1==t.length?t[0]:Go(t):t}var Ta=new RegExp("{{\\s*(.+?)\\s*}}","g");function Sa(t){var e=[];if("string"==typeof t){for(var n;n=Ta.exec(t);)e.push(n[1]);Ta.lastIndex=0}return e}function Ea(t,e,n){var i=t.toString(),r=i.replace(Ta,function(t,i){var r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?t:r}function Ia(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var Ra=/-+([a-z0-9])/g;function Da(t){return t.replace(Ra,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function Na(t,e){return 0===t||0===e}function La(t,e,n){var i=Object.keys(n);if(i.length&&e.length){var r=e[0],o=[];if(i.forEach(function(t){r.hasOwnProperty(t)||o.push(t),r[t]=n[t]}),o.length)for(var a=function(){var n=e[s];o.forEach(function(e){n[e]=ja(t,e)})},s=1;s<e.length;s++)a()}return e}function za(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function ja(t,e){return window.getComputedStyle(t)[e]}var Fa=new Set(["true","1"]),qa=new Set(["false","0"]);function Ba(t,e){var n=Fa.has(t)||qa.has(t),i=Fa.has(e)||qa.has(e);return function(r,o){var a="*"==t||t==r,s="*"==e||e==o;return!a&&n&&"boolean"==typeof r&&(a=r?Fa.has(t):qa.has(t)),!s&&i&&"boolean"==typeof o&&(s=o?Fa.has(e):qa.has(e)),a&&s}}var Ua=new RegExp("s*:selfs*,?","g");function Ha(t,e,n){return new Va(t).build(e,n)}var Va=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new Wa(e);return this._resetContextStyleTimingState(n),za(this,Aa(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,i=e.queryCount=0,r=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,c=s.name;c.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=c}else if(1==t.type){var l=n.visitTransition(t,e);i+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){var r=new Set,o=i||{};if(n.styles.forEach(function(t){if(Ga(t)){var e=t;Object.keys(e).forEach(function(t){Sa(e[t]).forEach(function(t){o.hasOwnProperty(t)||r.add(t)})})}}),r.size){var a=Ia(r.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,i,r,o=za(this,Aa(t.animation),e);return{type:1,matchers:(n=t.expr,i=e.errors,r=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}var r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=r[1],a=r[2],s=r[3];e.push(Ba(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(Ba(s,o))}(t,r,i)}):r.push(n),r),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:Qa(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return za(n,t,e)}),options:Qa(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,i=e.currentTime,r=0,o=t.steps.map(function(t){e.currentTime=i;var o=za(n,t,e);return r=Math.max(r,e.currentTime),o});return e.currentTime=r,{type:3,steps:o,options:Qa(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,i=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Ya(Ca(t,e).duration,0,"");var i=t;if(i.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var r=Ya(0,0,"");return r.dynamic=!0,r.strValue=i,r}return Ya((n=n||Ca(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;var r=t.styles?t.styles:Qo({});if(5==r.type)n=this.visitKeyframes(r,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};i.easing&&(s.easing=i.easing),o=Qo(s)}e.currentTime+=i.duration+i.delay;var c=this.visitStyle(o,e);c.isEmptyStep=a,n=c}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)}):n.push(t.styles);var i=!1,r=null;return n.forEach(function(t){if(Ga(t)){var e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(var o in e)if(e[o].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(i){if(n._driver.validateStyleProperty(i)){var a,s,c,l,u,h=e.collectedStyles[e.currentQuerySelector],d=h[i],p=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(d.startTime,'ms" and "').concat(d.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(r,'ms"')),p=!1),o=d.startTime),p&&(h[i]={startTime:o,endTime:r}),e.options&&(a=t[i],s=e.options,c=e.errors,l=s.params||{},(u=Sa(a)).length&&u.forEach(function(t){l.hasOwnProperty(t)||c.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))}))}else e.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(t,e){var n=this,i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,o=[],a=!1,s=!1,c=0,l=t.steps.map(function(t){var i=n._makeStyleAst(t,e),l=null!=i.offset?i.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(Ga(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(Ga(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(i.styles),u=0;return null!=l&&(r++,u=i.offset=l),s=s||u<0||u>1,a=a||u<c,c=u,o.push(u),i});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var u=t.steps.length,h=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(u-1));var d=u-1,p=e.currentTime,f=e.currentAnimateTimings,g=f.duration;return l.forEach(function(t,r){var a=h>0?r==d?1:h*r:o[r],s=a*g;e.currentTime=p+f.delay+s,f.duration=s,n._validateStyleAst(t,e),t.offset=a,i.styles.push(t)}),i}},{key:"visitReference",value:function(t,e){return{type:8,animation:za(this,Aa(t.animation),e),options:Qa(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:Qa(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Qa(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;var r=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(Ua,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=r[0],a=r[1];e.currentQuerySelector=n.length?n+" "+o:o,ia(e.collectedStyles,e.currentQuerySelector,{});var s=za(this,Aa(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:Qa(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ca(t.timings,e.errors,!0);return{type:12,animation:za(this,Aa(t.animation),e),timings:n,options:null}}}]),t}(),Wa=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Ga(t){return!Array.isArray(t)&&"object"==typeof t}function Qa(t){var e;return t?(t=xa(t)).params&&(t.params=(e=t.params)?xa(e):null):t={},t}function Ya(t,e,n){return{duration:t,delay:e,easing:n}}function Ka(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var Xa=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,i=this._map.get(t);i||this._map.set(t,i=[]),(n=i).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),$a=new RegExp(":enter","g"),Ja=new RegExp(":leave","g");function Za(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new ts).buildKeyframes(t,e,n,i,r,o,a,s,c,l)}var ts=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,i,r,o,a,s,c){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];c=c||new Xa;var u=new ns(t,e,c,i,r,l,[]);u.options=s,u.currentTimeline.setStyles([o],null,u.errors,s),za(this,n,u);var h=u.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([a],null,u.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[Ka(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var i=e.currentTimeline.currentTime,r=null!=n.duration?_a(n.duration):null,o=null!=n.delay?_a(n.delay):null;return 0!==r&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)}),i}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),za(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&((r=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=es);var a=_a(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return za(n,t,r)}),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?_a(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),za(n,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(r),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return Ca(e.params?Ea(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());var r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?_a(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=es);var a=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;var c=null;s.forEach(function(i,r){e.currentQueryIndex=r;var s=e.createSubContext(t.options,i);o&&s.delayNextStep(o),i===e.element&&(c=s.currentTimeline),za(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var c=e.currentTimeline;s&&c.delayNextStep(s);var l=c.currentTime;za(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}]),t}(),es={},ns=function(){function t(e,n,i,r,o,a,s,c){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=es,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new is(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(t,e){var n=this;if(t){var i=t,r=this.options;null!=i.duration&&(r.duration=_a(i.duration)),null!=i.delay&&(r.delay=_a(i.delay));var o=i.params;if(o){var a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=Ea(o[t],a,n.errors))})}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=es,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new rs(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,i,r,o){var a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace($a,"."+this._enterClassName)).replace(Ja,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return r||0!=a.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}}]),t}(),is=function(){function t(e,n,i,r){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,i){var r=this;e&&(this._previousKeyframe.easing=e);var o=i&&i.params||{},a=function(t,e){var n,i={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){i[t]="*"}):wa(t,!1,i)}),i}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=Ea(a[t],o,n);r._pendingStyles[t]=e,r._localTimelineStyles.hasOwnProperty(t)||(r._backFill[t]=r._globalTimelineStyles.hasOwnProperty(t)?r._globalTimelineStyles[t]:"*"),r._updateStyle(t,e)})}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var i=e._styleSummary[n],r=t._styleSummary[n];(!i||r.time>i.time)&&e._updateStyle(n,r.value)})}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach(function(o,a){var s=wa(o,!0);Object.keys(s).forEach(function(t){var i=s[t];"!"==i?e.add(t):"*"==i&&n.add(t)}),i||(s.offset=a/t.duration),r.push(s)});var o=e.size?Ia(e.values()):[],a=n.size?Ia(n.values()):[];if(i){var s=r[0],c=xa(s);s.offset=0,c.offset=1,r=[s,c]}return Ka(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}]),t}(),rs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a,s){var c,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(c=e.call(this,t,i,s.delay)).element=i,c.keyframes=r,c.preStyleProps=o,c.postStyleProps=a,c._stretchStartingKeyframe=l,c.timings={duration:s.duration,delay:s.delay,easing:s.easing},c}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,i=e.duration,r=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=i+n,s=n/a,c=wa(t[0],!1);c.offset=0,o.push(c);var l=wa(t[0],!1);l.offset=os(s),o.push(l);for(var u=t.length-1,h=1;h<=u;h++){var d=wa(t[h],!1);d.offset=os((n+d.offset*i)/a),o.push(d)}i=a,n=0,r="",t=o}return Ka(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}(is);function os(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var as=function t(){_classCallCheck(this,t)},ss=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(t,e){return Da(t)}},{key:"normalizeStyleValue",value:function(t,e,n,i){var r="",o=n.toString().trim();if(cs[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+r}}]),n}(as),cs=function(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function ls(t,e,n,i,r,o,a,s,c,l,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}var us={},hs=function(){function t(e,n,i){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=i}return _createClass(t,[{key:"match",value:function(t,e,n,i){return function(t,e,n,i,r){return t.some(function(t){return t(e,n,i,r)})}(this.ast.matchers,t,e,n,i)}},{key:"buildStyles",value:function(t,e,n){var i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,i,r,o,a,s,c,l){var u=[],h=this.ast.options&&this.ast.options.params||us,d=this.buildStyles(n,a&&a.params||us,u),p=s&&s.params||us,f=this.buildStyles(i,p,u),g=new Set,m=new Map,v=new Map,b="void"===i,_={params:Object.assign(Object.assign({},h),p)},y=l?[]:Za(t,e,this.ast.animation,r,o,d,f,_,c,u),C=0;if(y.forEach(function(t){C=Math.max(t.duration+t.delay,C)}),u.length)return ls(e,this._triggerName,n,i,b,d,f,[],[],m,v,C,u);y.forEach(function(t){var n=t.element,i=ia(m,n,{});t.preStyleProps.forEach(function(t){return i[t]=!0});var r=ia(v,n,{});t.postStyleProps.forEach(function(t){return r[t]=!0}),n!==e&&g.add(n)});var x=Ia(g.values());return ls(e,this._triggerName,n,i,b,d,f,y,x,m,v,C)}}]),t}(),ds=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},i=xa(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var r=t;Object.keys(r).forEach(function(t){var o=r[t];o.length>1&&(o=Ea(o,i,e)),n[t]=o})}}),n}}]),t}(),ps=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(t){i.states[t.name]=new ds(t.style,t.options&&t.options.params||{})}),fs(this.states,"true","1"),fs(this.states,"false","0"),n.transitions.forEach(function(t){i.transitionFactories.push(new hs(e,t,i.states))}),this.fallbackTransition=new hs(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(t,e,n,i){return this.transitionFactories.find(function(r){return r.match(t,e,n,i)})||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}]),t}();function fs(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var gs=new Xa,ms=function(){function t(e,n,i){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],i=Ha(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=i}},{key:"_buildPlayer",value:function(t,e,n){var i=t.element,r=Zo(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=Za(this._driver,e,a,"ng-enter","ng-leave",{},{},r,gs,o)).forEach(function(t){var e=ia(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=i._driver.computeStyle(e,n,"*")})});var c=Jo(n.map(function(t){var e=s.get(t.element);return i._buildPlayer(t,{},e)}));return this._playersById[t]=c,c.onDestroy(function(){return i.destroy(t)}),this.players.push(c),c}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,i){var r=na(e,"","","");return ta(this._getPlayer(t),n,r,i),function(){}}},{key:"command",value:function(t,e,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,i[0]||{});else this.register(t,i[0])}}]),t}(),vs=[],bs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_s={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ys=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var i,r=e&&e.hasOwnProperty("value");if(this.value=null!=(i=r?e.value:e)?i:null,r){var o=xa(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}}}]),t}(),Cs=new ys("void"),xs=function(){function t(e,n,i){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ts(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,i){var r,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=ia(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};a.push(s);var c=ia(this._engine.statesByElement,t,{});return c.hasOwnProperty(e)||(Ts(t,"ng-trigger"),Ts(t,"ng-trigger-"+e),c[e]=Cs),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete c[e]})}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new Ms(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Ts(t,"ng-trigger"),Ts(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var c=s[e],l=new ys(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),s[e]=l,c||(c=Cs),"void"===l.value||c.value!==l.value){var u=ia(this._engine.playersByElement,t,[]);u.forEach(function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(c.value,l.value,t,l.params),d=!1;if(!h){if(!r)return;h=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:c,toState:l,player:a,isFallbackTransition:d}),d||(Ts(t,"ng-animate-queued"),a.onStart(function(){Ss(t,"ng-animate-queued")})),a.onDone(function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}}),this.players.push(a),u.push(a),a}if(!function(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(c.params,l.params)){var p=[],f=o.matchStyles(c.value,c.params,p),g=o.matchStyles(l.value,l.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(function(){ka(t,f),Pa(t,g)})}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,i){e._elementListeners.set(i,n.filter(function(e){return e.name!=t}))})}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,i=this._engine.driver.query(t,".ng-trigger",!0);i.forEach(function(t){if(!t.__ng_removed){var i=n._engine.fetchNamespacesByElement(t);i.size?i.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):n.clearElementCache(t)}}),this._engine.afterFlushAnimationsDone(function(){return i.forEach(function(t){return n.clearElementCache(t)})})}},{key:"triggerLeaveAnimation",value:function(t,e,n,i){var r=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(r._triggers[e]){var n=r.trigger(t,e,"void",i);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Jo(a).onDone(function(){return r._engine.processLeaveNode(t)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var i=new Set;n.forEach(function(n){var r=n.name;if(!i.has(r)){i.add(r);var o=e._triggers[r].fallbackTransition,a=e._engine.statesByElement.get(t)[r]||Cs,s=new ys("void"),c=new Ms(e.id,r,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:r,transition:o,fromState:a,toState:s,player:c,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(t,e){var n=this,i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var r=!1;if(i.totalAnimations){var o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else for(var a=t;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==bs||(i.afterFlush(function(){return n.clearElementCache(t)}),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){Ts(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach(function(i){var r=i.player;if(!r.destroyed){var o=i.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==i.triggerName){var n=na(o,i.triggerName,i.fromState.value,i.toState.value);n._data=t,ta(i.player,e.phase,n,e.callback)}}),r.markedForDestroy?e._engine.afterFlush(function(){r.destroy()}):n.push(i)}}),this._queue=[],n.sort(function(t,n){var i=t.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:e._engine.driver.containsElement(t.element,n.element)?1:-1})}},{key:"destroy",value:function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(function(e){return e.element===t})||e}}]),t}(),ws=function(){function t(e,n,i){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t}},{key:"createNamespace",value:function(t,e){var n=new xs(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var i=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(i);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return i.destroy(e)})}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=n[i[r]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,i){if(Os(e)){var r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}},{key:"insertNode",value:function(t,e,n,i){if(Os(e)){var r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}i&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ts(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ss(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,i){if(Os(e)){var r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}}else this._onRemovalComplete(e,i)}},{key:"markElementAsRemoved",value:function(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,i,r){return Os(e)?this._fetchNamespace(t).listen(e,n,i,r):function(){}}},{key:"_buildInstruction",value:function(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise(function(e){if(t.players.length)return Jo(t.players).onDone(function(){return e()});e()})}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=bs,n.namespaceId){this.destroyInnerAnimations(t);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(t){e.markElementAsDisabled(t,!1)})}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,n){return t._balanceNamespaceList(e,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)Ts(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,e)}finally{for(var o=0;o<r.length;o++)r[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?Jo(n).onDone(function(){s.forEach(function(t){return t()})}):s.forEach(function(t){return t()})}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,e){var n=this,i=new Xa,r=[],o=new Map,a=[],s=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(function(t){u.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),i=0;i<e.length;i++)u.add(e[i])});var h=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=As(d,this.collectedEnterElements),f=new Map,g=0;p.forEach(function(t,e){var n="ng-enter"+g++;f.set(e,n),t.forEach(function(t){return Ts(t,n)})});for(var m=[],v=new Set,b=new Set,_=0;_<this.collectedLeaveElements.length;_++){var y=this.collectedLeaveElements[_],C=y.__ng_removed;C&&C.setForRemoval&&(m.push(y),v.add(y),C.hasAnimation?this.driver.query(y,".ng-star-inserted",!0).forEach(function(t){return v.add(t)}):b.add(y))}var x=new Map,w=As(d,Array.from(v));w.forEach(function(t,e){var n="ng-leave"+g++;x.set(e,n),t.forEach(function(t){return Ts(t,n)})}),t.push(function(){p.forEach(function(t,e){var n=f.get(e);t.forEach(function(t){return Ss(t,n)})}),w.forEach(function(t,e){var n=x.get(e);t.forEach(function(t){return Ss(t,n)})}),m.forEach(function(t){n.processLeaveNode(t)})});for(var M=[],O=[],P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(e).forEach(function(t){var e=t.player,o=t.element;if(M.push(e),n.collectedEnterElements.length){var u=o.__ng_removed;if(u&&u.setForMove)return void e.destroy()}var d=!h||!n.driver.containsElement(h,o),p=x.get(o),g=f.get(o),m=n._buildInstruction(t,i,g,p,d);if(m.errors&&m.errors.length)O.push(m);else{if(d)return e.onStart(function(){return ka(o,m.fromStyles)}),e.onDestroy(function(){return Pa(o,m.toStyles)}),void r.push(e);if(t.isFallbackTransition)return e.onStart(function(){return ka(o,m.fromStyles)}),e.onDestroy(function(){return Pa(o,m.toStyles)}),void r.push(e);m.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),i.append(o,m.timelines),a.push({instruction:m,player:e,element:o}),m.queriedElements.forEach(function(t){return ia(s,t,[]).push(e)}),m.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var i=c.get(e);i||c.set(e,i=new Set),n.forEach(function(t){return i.add(t)})}}),m.postStyleProps.forEach(function(t,e){var n=Object.keys(t),i=l.get(e);i||l.set(e,i=new Set),n.forEach(function(t){return i.add(t)})})}});if(O.length){var k=[];O.forEach(function(t){k.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach(function(t){return k.push("- ".concat(t,"\n"))})}),M.forEach(function(t){return t.destroy()}),this.reportError(k)}var A=new Map,T=new Map;a.forEach(function(t){var e=t.element;i.has(e)&&(T.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,A))}),r.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){ia(A,e,[]).push(t),t.destroy()})});var S=m.filter(function(t){return Rs(t,c,l)}),E=new Map;ks(E,this.driver,b,l,"*").forEach(function(t){Rs(t,c,l)&&S.push(t)});var I=new Map;p.forEach(function(t,e){ks(I,n.driver,new Set(t),c,"!")}),S.forEach(function(t){var e=E.get(t),n=I.get(t);E.set(t,Object.assign(Object.assign({},e),n))});var R=[],D=[],N={};a.forEach(function(t){var e=t.element,a=t.player,s=t.instruction;if(i.has(e)){if(u.has(e))return a.onDestroy(function(){return Pa(e,s.toStyles)}),a.disabled=!0,a.overrideTotalTime(s.totalTime),void r.push(a);var c=N;if(T.size>1){for(var l=e,h=[];l=l.parentNode;){var d=T.get(l);if(d){c=d;break}h.push(l)}h.forEach(function(t){return T.set(t,c)})}var p=n._buildAnimation(a.namespaceId,s,A,o,I,E);if(a.setRealPlayer(p),c===N)R.push(a);else{var f=n.playersByElement.get(c);f&&f.length&&(a.parentPlayer=Jo(f)),r.push(a)}}else ka(e,s.fromStyles),a.onDestroy(function(){return Pa(e,s.toStyles)}),D.push(a),u.has(e)&&r.push(a)}),D.forEach(function(t){var e=o.get(t.element);if(e&&e.length){var n=Jo(e);t.setRealPlayer(n)}}),r.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var L=0;L<m.length;L++){var z=m[L],j=z.__ng_removed;if(Ss(z,"ng-leave"),!j||!j.hasAnimation){var F=[];if(s.size){var q=s.get(z);q&&q.length&&F.push.apply(F,_toConsumableArray(q));for(var B=this.driver.query(z,".ng-animating",!0),U=0;U<B.length;U++){var H=s.get(B[U]);H&&H.length&&F.push.apply(F,_toConsumableArray(H))}}var V=F.filter(function(t){return!t.destroyed});V.length?Es(this,z,V):this.processLeaveNode(z)}}return m.length=0,R.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),R}},{key:"elementContainsData",value:function(t,e){var n=!1,i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,i,r){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var c=!r||"void"==r;s.forEach(function(t){t.queued||(c||t.triggerName==i)&&o.push(t)})}}return(n||i)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||i&&i!=t.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var i,r=this,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,c=_createForOfIteratorHelper(e.timelines);try{var l=function(){var t=i.value.element,c=t!==o,l=ia(n,t,[]);r._getPreviousPlayers(t,c,a,s,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})};for(c.s();!(i=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}ka(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,i,r,o){var a=this,s=e.triggerName,c=e.element,l=[],u=new Set,h=new Set,d=e.timelines.map(function(e){var d=e.element;u.add(d);var p=d.__ng_removed;if(p&&p.removedBeforeQueried)return new Ko(e.duration,e.delay);var f,g,m=d!==c,v=(f=(n.get(d)||vs).map(function(t){return t.getRealPlayer()}),g=[],Is(f,g),g).filter(function(t){return!!t.element&&t.element===d}),b=r.get(d),_=o.get(d),y=Zo(0,a._normalizer,0,e.keyframes,b,_),C=a._buildPlayer(e,y,v);if(e.subTimeline&&i&&h.add(d),m){var x=new Ms(t,s,d);x.setRealPlayer(C),l.push(x)}return C});l.forEach(function(t){ia(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var i;if(t instanceof Map){if(i=t.get(e)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){var o=i.indexOf(n);i.splice(o,1)}0==i.length&&delete t[e]}return i}(a.playersByQueriedElement,t.element,t)})}),u.forEach(function(t){return Ts(t,"ng-animating")});var p=Jo(d);return p.onDestroy(function(){u.forEach(function(t){return Ss(t,"ng-animating")}),Pa(c,e.toStyles)}),h.forEach(function(t){ia(i,t,[]).push(p)}),p}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ko(t.duration,t.delay)}}]),t}(),Ms=function(){function t(e,n,i){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Ko,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return ta(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})}},{key:"_queueEvent",value:function(t,e){ia(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function Os(t){return t&&1===t.nodeType}function Ps(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function ks(t,e,n,i,r){var o=[];n.forEach(function(t){return o.push(Ps(t))});var a=[];i.forEach(function(n,i){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=_s,a.push(i))}),t.set(i,o)});var s=0;return n.forEach(function(t){return Ps(t,o[s++])}),a}function As(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var i=new Set(e),r=new Map;function o(t){if(!t)return 1;var e=r.get(t);if(e)return e;var a=t.parentNode;return e=n.has(a)?a:i.has(a)?1:o(a),r.set(t,e),e}return e.forEach(function(t){var e=o(t);1!==e&&n.get(e).push(t)}),n}function Ts(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ss(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function Es(t,e,n){Jo(n).onDone(function(){return t.processLeaveNode(e)})}function Is(t,e){for(var n=0;n<t.length;n++){var i=t[n];i instanceof Xo?Is(i.players,e):e.push(i)}}function Rs(t,e,n){var i=n.get(t);if(!i)return!1;var r=e.get(t);return r?i.forEach(function(t){return r.add(t)}):e.set(t,i),n.delete(t),!0}var Ds=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new ws(e,n,i),this._timelineEngine=new ms(e,n,i),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,i,r){var o=t+"-"+i,a=this._triggerCache[o];if(!a){var s=[],c=Ha(this._driver,r,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new ps(t,e)}(i,c),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,i,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}},{key:"onRemove",value:function(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,i){if("@"==n.charAt(0)){var r=_slicedToArray(ra(n),2),o=r[0],a=r[1];this._timelineEngine.command(o,e,a,i)}else this._transitionEngine.trigger(t,e,n,i)}},{key:"listen",value:function(t,e,n,i,r){if("@"==n.charAt(0)){var o=_slicedToArray(ra(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,e,s,r)}return this._transitionEngine.listen(t,e,n,i,r)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function Ns(t,e){var n=null,i=null;return Array.isArray(e)&&e.length?(n=zs(e[0]),e.length>1&&(i=zs(e[e.length-1]))):e&&(n=zs(e)),n||i?new Ls(t,n,i):null}var Ls=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Pa(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Pa(this._element,this._initialStyles),this._endStyles&&(Pa(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ka(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ka(this._element,this._endStyles),this._endStyles=null),Pa(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function zs(t){for(var e=null,n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];js(r)&&((e=e||{})[r]=t[r])}return e}function js(t){return"display"===t||"position"===t}var Fs=function(){function t(e,n,i,r,o,a,s){var c=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=i,this._delay=r,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return c._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Ws(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),Vs(t,"",e),Hs(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){qs(this._element,this._name,"paused")}},{key:"resume",value:function(){qs(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=Bs(this._element,this._name);this._position=t*this._duration,Vs(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Hs(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var t,e,n,i;this._destroyed||(this._destroyed=!0,this.finish(),t=this._element,e=this._name,n=Ws(t,"").split(","),(i=Us(n,e))>=0&&(n.splice(i,1),Vs(t,"",n.join(","))))}}]),t}();function qs(t,e,n){Vs(t,"PlayState",n,Bs(t,e))}function Bs(t,e){var n=Ws(t,"");return n.indexOf(",")>0?Us(n.split(","),e):Us([n],e)}function Us(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Hs(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Vs(t,e,n,i){var r="animation"+e;if(null!=i){var o=t.style[r];if(o.length){var a=o.split(",");a[i]=n,n=a.join(",")}}t.style[r]=n}function Ws(t,e){return t.style["animation"+e]||""}var Gs=function(){function t(e,n,i,r,o,a,s,c){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=s,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=r+o,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new Fs(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(i){"offset"!=i&&(e[i]=n?t._finalStyles[i]:ja(t.element,i))})}this.currentSnapshot=e}}]),t}(),Qs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).element=t,r._startingStyles={},r.__initialized=!1,r._styles=ga(i),r}return _createClass(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)}),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(Ko),Ys=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head")}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return ha(t)}},{key:"matchesElement",value:function(t,e){return da(t,e)}},{key:"containsElement",value:function(t,e){return pa(t,e)}},{key:"query",value:function(t,e,n){return fa(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map(function(t){return ga(t)});var i="@keyframes ".concat(e," {\n"),r="";n.forEach(function(t){r=" ";var e=parseFloat(t.offset);i+="".concat(r).concat(100*e,"% {\n"),r+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(e,": ").concat(n,";\n"))}}),i+=r+"}\n"}),i+="}\n";var o=document.createElement("style");return o.textContent=i,o}},{key:"animate",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=o.filter(function(t){return t instanceof Gs}),s={};Na(n,i)&&a.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return s[t]=e[t]})});var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=La(t,e,s));if(0==n)return new Qs(t,c);var l="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(u);var h=Ns(t,e),d=new Gs(t,e,l,n,i,r,c,h);return d.onDestroy(function(){var t;(t=u).parentNode.removeChild(t)}),d}}]),t}(),Ks=function(){function t(e,n,i,r){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:ja(t.element,n))}),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),Xs=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test($s().toString()),this._cssKeyframesDriver=new Ys}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return ha(t)}},{key:"matchesElement",value:function(t,e){return da(t,e)}},{key:"containsElement",value:function(t,e){return pa(t,e)}},{key:"query",value:function(t,e,n){return fa(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);var s={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(s.easing=r);var c={},l=o.filter(function(t){return t instanceof Ks});Na(n,i)&&l.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return c[t]=e[t]})});var u=Ns(t,e=La(t,e=e.map(function(t){return wa(t,!1)}),c));return new Ks(t,e,s,u)}}]),t}();function $s(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var Js,Zs=((Js=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var o;return _classCallCheck(this,n),(o=e.call(this))._nextAnimationId=0,o._renderer=t.createRenderer(r.body,{id:"0",encapsulation:i.R.None,styles:[],data:{animation:[]}}),o}return _createClass(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Go(t):t;return nc(this._renderer,null,e,"register",[n]),new tc(e,this._renderer)}}]),n}(Wo)).\u0275fac=function(t){return new(t||Js)(i.Yb(i.F),i.Yb(c))},Js.\u0275prov=i.Ib({token:Js,factory:Js.\u0275fac}),Js),tc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this))._id=t,r._renderer=i,r}return _createClass(n,[{key:"create",value:function(t,e){return new ec(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),ec=function(){function t(e,n,i,r){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return nc(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}]),t}();function nc(t,e,n,i,r){return t.setProperty(e,"@@".concat(n,":").concat(i),r)}var ic,rc,oc,ac=((ic=function(){function t(e,n,i){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var r=this._rendererCache.get(i);return r||(r=new sc("",i,this.engine),this._rendererCache.set(i,r)),r}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function e(i){Array.isArray(i)?i.forEach(e):n.engine.registerTrigger(o,a,t,i.name,i)}),new cc(this,a,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then(function(){t._microtaskId++})}},{key:"scheduleListenerCallback",value:function(t,e,n){var i=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return e(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||ic)(i.Yb(i.F),i.Yb(Ds),i.Yb(i.z))},ic.\u0275prov=i.Ib({token:ic,factory:ic.\u0275fac}),ic),sc=function(){function t(e,n,i){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,i){this.delegate.setStyle(t,e,n,i)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}}]),t}(),cc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this,i,r,o)).factory=t,a.namespaceId=i,a}return _createClass(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var i,r,o=this;if("@"==e.charAt(0)){var a,s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),c=e.substr(1),l="";return"@"!=c.charAt(0)&&(r=(i=c).indexOf("."),c=(a=_slicedToArray([i.substring(0,r),i.substr(r+1)],2))[0],l=a[1]),this.engine.listen(this.namespaceId,s,c,l,function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}]),n}(sc),lc=((rc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){return _classCallCheck(this,n),e.call(this,t.body,i,r)}return n}(Ds)).\u0275fac=function(t){return new(t||rc)(i.Yb(c),i.Yb(ba),i.Yb(as))},rc.\u0275prov=i.Ib({token:rc,factory:rc.\u0275fac}),rc),uc=new i.q("AnimationModuleType"),hc=[{provide:ba,useFactory:function(){return"function"==typeof $s()?new Xs:new Ys}},{provide:uc,useValue:"BrowserAnimations"},{provide:Wo,useClass:Zs},{provide:as,useFactory:function(){return new ss}},{provide:Ds,useClass:lc},{provide:i.F,useFactory:function(t,e,n){return new ac(t,e,n)},deps:[St,Ds,i.z]}],dc=((oc=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:oc}),oc.\u0275inj=i.Jb({factory:function(t){return new(t||oc)},providers:hc,imports:[Ht]}),oc),pc=n("yCtX"),fc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(Hn.a),gc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=i,o.outerIndex=r,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(Hn.a),mc=n("SeVD");function vc(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new gc(t,n,i);if(!r.closed)return e instanceof Vt.a?e.subscribe(r):Object(mc.a)(e)(r)}function bc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){if(!Object(Wt.a)(e[0]))return e[0];e=e[0]}return Object(pc.a)(e,void 0).lift(new _c)}var _c=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new yc(t))}}]),t}(),yc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).hasFirst=!1,i.observables=[],i.subscriptions=[],i}return _createClass(n,[{key:"_next",value:function(t){this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var i=vc(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}},{key:"notifyNext",value:function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==n){var r=this.subscriptions[i];r.unsubscribe(),this.remove(r)}this.subscriptions=null}this.destination.next(e)}}]),n}(fc),Cc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._value=t,i}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new gr.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}}]),n}(zi.a),xc={},wc=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Mc(t,this.resultSelector))}}]),t}(),Mc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return _createClass(n,[{key:"_next",value:function(t){this.values.push(xc),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(vc(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var i=this.values,r=this.toRespond?i[n]===xc?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(fc);n("KqfI");var Oc=n("Lhse");function Pc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return"function"==typeof i&&e.pop(),Object(pc.a)(e,void 0).lift(new kc(i))}var kc=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ac(t,this.resultSelector))}}]),t}(),Ac=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return _classCallCheck(this,n),(r=e.call(this,t)).resultSelector=i,r.iterators=[],r.active=0,r.resultSelector="function"==typeof i?i:void 0,r}return _createClass(n,[{key:"_next",value:function(t){var e=this.iterators;Object(Wt.a)(t)?e.push(new Sc(t)):e.push("function"==typeof t[Oc.a]?new Tc(t[Oc.a]()):new Ec(this.destination,this,t))}},{key:"_complete",value:function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var i=t[n];i.stillUnsubscribed?this.destination.add(i.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var t=this.iterators,e=t.length,n=this.destination,i=0;i<e;i++){var r=t[i];if("function"==typeof r.hasValue&&!r.hasValue())return}for(var o=!1,a=[],s=0;s<e;s++){var c=t[s],l=c.next();if(c.hasCompleted()&&(o=!0),l.done)return void n.complete();a.push(l.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()}},{key:"_tryresultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Hn.a),Tc=function(){function t(e){_classCallCheck(this,t),this.iterator=e,this.nextResult=e.next()}return _createClass(t,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t}},{key:"hasCompleted",value:function(){var t=this.nextResult;return Boolean(t&&t.done)}}]),t}(),Sc=function(){function t(e){_classCallCheck(this,t),this.array=e,this.index=0,this.length=0,this.length=e.length}return _createClass(t,[{key:Oc.a,value:function(){return this}},{key:"next",value:function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),t}(),Ec=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).parent=i,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return _createClass(n,[{key:Oc.a,value:function(){return this}},{key:"next",value:function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(t){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(){return Object(Qi.c)(this.observable,new Qi.a(this))}}]),n}(Qi.b);function Ic(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Rc(e,n))}}var Rc=function(){function t(e,n){_classCallCheck(this,t),this.observables=e,this.project=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Dc(t,this.observables,this.project))}}]),t}(),Dc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;_classCallCheck(this,n),(o=e.call(this,t)).observables=i,o.project=r,o.toRespond=[];var a=i.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var c=0;c<a;c++)o.add(vc(_assertThisInitialized(o),i[c],void 0,c));return o}return _createClass(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var i=this.toRespond;if(i.length>0){var r=i.indexOf(n);-1!==r&&i.splice(r,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(_toConsumableArray(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(fc),Nc=n("WMd4"),Lc=function(){function t(e,n){_classCallCheck(this,t),this.delay=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new zc(t,this.delay,this.scheduler))}}]),t}(),zc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).delay=i,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return _createClass(n,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new jc(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(Nc.a.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(Nc.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,i=t.scheduler,r=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}}]),n}(Hn.a),jc=function t(e,n){_classCallCheck(this,t),this.time=e,this.notification=n};n("w1tV");var Fc=["*"],qc=["dialog"];function Bc(t){return null!=t}function Uc(t){return(t||document.body).offsetHeight}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var Hc,Vc,Wc,Gc,Qc,Yc,Kc=!0,Xc=5,$c=((Hc=function t(){_classCallCheck(this,t),this.animation=Kc}).\u0275fac=function(t){return new(t||Hc)},Hc.\u0275prov=Object(i.Ib)({factory:function(){return new Hc},token:Hc,providedIn:"root"}),Hc),Jc=function(){},Zc=Xc,tl=new Map,el=function(t,e,n,i){var r=i.context||{},o=tl.get(e);if(o)switch(i.runningTransition){case"continue":return Hr.a;case"stop":t.run(function(){return o.transition$.complete()}),r=Object.assign(o.context,r),tl.delete(e)}var a=n(e,i.animation,r)||Jc;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(function(){return a()}),Object(qn.a)(void 0).pipe(function(t){return function(e){return new Vt.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}}(t));var s=new zi.a,c=new zi.a,l=s.pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return rr(t,Object(qn.a).apply(void 0,e))}}(!0));tl.set(e,{transition$:s,complete:function(){c.next(),c.complete()},context:r});var u=function(t){var e=window.getComputedStyle(t),n=e.transitionDelay,i=e.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(i))}(e);return t.runOutsideAngular(function(){var n=Fi(e,"transitionend").pipe(tr(l),Vn(function(t){return t.target===e}));bc(Ji(u+Zc).pipe(tr(l)),n,c).pipe(tr(l)).subscribe(function(){tl.delete(e),t.run(function(){a(),s.next(),s.complete()})})}),s.asObservable()},nl=((Yc=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Yc}),Yc.\u0275inj=i.Jb({factory:function(t){return new(t||Yc)},imports:[[nt]]}),Yc),il=((Qc=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Qc}),Qc.\u0275inj=i.Jb({factory:function(t){return new(t||Qc)},imports:[[nt]]}),Qc),rl=((Gc=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Gc}),Gc.\u0275inj=i.Jb({factory:function(t){return new(t||Gc)}}),Gc),ol=((Wc=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Wc}),Wc.\u0275inj=i.Jb({factory:function(t){return new(t||Wc)},imports:[[nt]]}),Wc),al=((Vc=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Vc}),Vc.\u0275inj=i.Jb({factory:function(t){return new(t||Vc)}}),Vc),sl=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({}),cl=function(t,e){return!!e&&e.some(function(e){return e.contains(t)})},ll=function(t,e){return!e||null!=function(t,e){return e?void 0===t.closest?null:t.closest(e):null}(t,e)},ul="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)),hl=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function dl(t){var e=Array.from(t.querySelectorAll(hl)).filter(function(t){return-1!==t.tabIndex});return[e[0],e[e.length-1]]}var pl=/\s+/,fl=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getAllStyles",value:function(t){return window.getComputedStyle(t)}},{key:"getStyle",value:function(t,e){return this.getAllStyles(t)[e]}},{key:"isStaticPositioned",value:function(t){return"static"===(this.getStyle(t,"position")||"static")}},{key:"offsetParent",value:function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}},{key:"position",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e={top:(e=t.getBoundingClientRect()).top,bottom:e.bottom,left:e.left,right:e.right,height:e.height,width:e.width};else{var r=this.offsetParent(t);e=this.offset(t,!1),r!==document.documentElement&&(i=this.offset(r,!1)),i.top+=r.clientTop,i.left+=r.clientLeft}return e.top-=i.top,e.bottom-=i.top,e.left-=i.left,e.right-=i.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e}},{key:"offset",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,r=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+r,right:n.right+r};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(t,e,n,i){var r=_slicedToArray(n.split("-"),2),o=r[0],a=void 0===o?"top":o,s=r[1],c=void 0===s?"center":s,l=i?this.offset(t,!1):this.position(t,!1),u=this.getAllStyles(e),h=parseFloat(u.marginTop),d=parseFloat(u.marginBottom),p=parseFloat(u.marginLeft),f=parseFloat(u.marginRight),g=0,m=0;switch(a){case"top":g=l.top-(e.offsetHeight+h+d);break;case"bottom":g=l.top+l.height;break;case"left":m=l.left-(e.offsetWidth+p+f);break;case"right":m=l.left+l.width}switch(c){case"top":g=l.top;break;case"bottom":g=l.top+l.height-e.offsetHeight;break;case"left":m=l.left;break;case"right":m=l.left+l.width-e.offsetWidth;break;case"center":"top"===a||"bottom"===a?m=l.left+l.width/2-e.offsetWidth/2:g=l.top+l.height/2-e.offsetHeight/2}e.style.transform="translate(".concat(Math.round(m),"px, ").concat(Math.round(g),"px)");var v=e.getBoundingClientRect(),b=document.documentElement,_=window.innerHeight||b.clientHeight,y=window.innerWidth||b.clientWidth;return v.left>=0&&v.top>=0&&v.right<=y&&v.bottom<=_}}]),t}());new Date(1882,10,12),new Date(2174,10,25);var gl,ml,vl,bl,_l,yl,Cl,xl,wl,Ml,Ol,Pl,kl,Al,Tl,Sl,El,Il,Rl,Dl,Nl,Ll,zl,jl,Fl=((Ml=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Ml}),Ml.\u0275inj=i.Jb({factory:function(t){return new(t||Ml)},imports:[[nt,jn]]}),Ml),ql=((wl=function t(){_classCallCheck(this,t),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}).\u0275fac=function(t){return new(t||wl)},wl.\u0275prov=Object(i.Ib)({factory:function(){return new wl},token:wl,providedIn:"root"}),wl),Bl=((xl=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||xl)},xl.\u0275dir=i.Hb({type:xl,selectors:[["",8,"navbar"]]}),xl),Ul=((Cl=function(){function t(e){_classCallCheck(this,t),this.elementRef=e,this._disabled=!1}return _createClass(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=""===t||!0===t}}]),t}()).\u0275fac=function(t){return new(t||Cl)(i.Mb(i.l))},Cl.\u0275dir=i.Hb({type:Cl,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(t,e){2&t&&i.Eb("disabled",e.disabled)},inputs:{disabled:"disabled"}}),Cl),Hl=((yl=function t(e,n){_classCallCheck(this,t),this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=n.nativeElement}).\u0275fac=function(t){return new(t||yl)(i.Mb(Object(i.U)(function(){return Gl})),i.Mb(i.l))},yl.\u0275dir=i.Hb({type:yl,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,e,n){var r;1&t&&i.Fb(n,Ul,!1),2&t&&i.oc(r=i.cc())&&(e.menuItems=r)},hostVars:5,hostBindings:function(t,e){1&t&&i.bc("keydown.ArrowUp",function(t){return e.dropdown.onKeyDown(t)})("keydown.ArrowDown",function(t){return e.dropdown.onKeyDown(t)})("keydown.Home",function(t){return e.dropdown.onKeyDown(t)})("keydown.End",function(t){return e.dropdown.onKeyDown(t)})("keydown.Enter",function(t){return e.dropdown.onKeyDown(t)})("keydown.Space",function(t){return e.dropdown.onKeyDown(t)})("keydown.Tab",function(t){return e.dropdown.onKeyDown(t)})("keydown.Shift.Tab",function(t){return e.dropdown.onKeyDown(t)}),2&t&&(i.Bb("x-placement",e.placement),i.Eb("dropdown-menu",!0)("show",e.dropdown.isOpen()))}}),yl),Vl=((_l=function t(e,n){_classCallCheck(this,t),this.dropdown=e,this.nativeElement=n.nativeElement}).\u0275fac=function(t){return new(t||_l)(i.Mb(Object(i.U)(function(){return Gl})),i.Mb(i.l))},_l.\u0275dir=i.Hb({type:_l,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,e){2&t&&i.Bb("aria-expanded",e.dropdown.isOpen())}}),_l),Wl=((bl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){return _classCallCheck(this,n),e.call(this,t,i)}return n}(Vl)).\u0275fac=function(t){return new(t||bl)(i.Mb(Object(i.U)(function(){return Gl})),i.Mb(i.l))},bl.\u0275dir=i.Hb({type:bl,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,e){1&t&&i.bc("click",function(){return e.dropdown.toggle()})("keydown.ArrowUp",function(t){return e.dropdown.onKeyDown(t)})("keydown.ArrowDown",function(t){return e.dropdown.onKeyDown(t)})("keydown.Home",function(t){return e.dropdown.onKeyDown(t)})("keydown.End",function(t){return e.dropdown.onKeyDown(t)})("keydown.Tab",function(t){return e.dropdown.onKeyDown(t)})("keydown.Shift.Tab",function(t){return e.dropdown.onKeyDown(t)}),2&t&&i.Bb("aria-expanded",e.dropdown.isOpen())},features:[i.zb([{provide:Vl,useExisting:Object(i.U)(function(){return bl})}]),i.xb]}),bl),Gl=((vl=function(){function t(e,n,r,o,a,s,c){var l=this;_classCallCheck(this,t),this._changeDetector=e,this._document=r,this._ngZone=o,this._elementRef=a,this._renderer=s,this._closed$=new zi.a,this._bodyContainer=null,this._open=!1,this.openChange=new i.n,this.placement=n.placement,this.container=n.container,this.autoClose=n.autoClose,this.display=c?"static":"dynamic",this._zoneSubscription=o.onStable.subscribe(function(){l._positionMenu()})}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._ngZone.onStable.pipe(Vr(1)).subscribe(function(){t._applyPlacementClasses(),t._open&&t._setCloseHandlers()})}},{key:"ngOnChanges",value:function(t){t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.isFirstChange&&this._applyPlacementClasses()}},{key:"isOpen",value:function(){return this._open}},{key:"open",value:function(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}},{key:"_setCloseHandlers",value:function(){var t=this;!function(e,n,i,r,o,a,s,c){var l;i&&e.runOutsideAngular((l=function(){var r=Fi(n,"keydown").pipe(tr(o),Vn(function(t){return t.which===sl.Escape}),Object(Qr.a)(function(t){return t.preventDefault()})),l=Fi(n,"mousedown").pipe(Object(Gt.a)(function(t){var e=t.target;return 2!==t.button&&!cl(e,s)&&("inside"===i?cl(e,a)&&ll(e,c):"outside"===i?!cl(e,a):ll(e,c)||!cl(e,a))}),tr(o)),u=Fi(n,"mouseup").pipe(Ic(l),Vn(function(t){var e=_slicedToArray(t,2);return e[0],e[1]}),function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gi.a,i=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new Lc(i,n))}}(0),tr(o));bc([r.pipe(Object(Gt.a)(function(t){return 0})),u.pipe(Object(Gt.a)(function(t){return 1}))]).subscribe(function(n){return e.run(function(){return function(e){t.close(),0===e&&t._anchor.nativeElement.focus()}(n)})})},ul?function(){return setTimeout(function(){return l()},100)}:l))}(this._ngZone,this._document,this.autoClose,0,this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}},{key:"close",value:function(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this.isOpen()?this.close():this.open()}},{key:"ngOnDestroy",value:function(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}},{key:"onKeyDown",value:function(t){var e=this,n=t.which,i=this._getMenuElements(),r=-1,o=null,a=this._isEventFromToggle(t);if(!a&&i.length&&i.forEach(function(n,i){n.contains(t.target)&&(o=n),n===e._document.activeElement&&(r=i)}),n!==sl.Space&&n!==sl.Enter){if(n!==sl.Tab){if(a||o){if(this.open(),i.length){switch(n){case sl.ArrowDown:r=Math.min(r+1,i.length-1);break;case sl.ArrowUp:if(this._isDropup()&&-1===r){r=i.length-1;break}r=Math.max(r-1,0);break;case sl.Home:r=0;break;case sl.End:r=i.length-1}i[r].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){var s=this._menu.nativeElement.querySelectorAll(hl);t.shiftKey&&t.target===s[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):t.shiftKey||t.target!==s[s.length-1]||(this._anchor.nativeElement.focus(),this.close())}else Fi(t.target,"focusout").pipe(Vr(1)).subscribe(function(t){var n=t.relatedTarget;e._elementRef.nativeElement.contains(n)||e.close()})}}else!o||!0!==this.autoClose&&"inside"!==this.autoClose||Fi(o,"click").pipe(Vr(1)).subscribe(function(){return e.close()})}},{key:"_isDropup",value:function(){return this._elementRef.nativeElement.classList.contains("dropup")}},{key:"_isEventFromToggle",value:function(t){return this._anchor.nativeElement.contains(t.target)}},{key:"_getMenuElements",value:function(){var t=this._menu;return null==t?[]:t.menuItems.filter(function(t){return!t.disabled}).map(function(t){return t.elementRef.nativeElement})}},{key:"_positionMenu",value:function(){var t=this._menu;this.isOpen()&&t&&this._applyPlacementClasses("dynamic"===this.display?function(t,e,n,i,r){var o=Array.isArray(n)?n:n.split(pl),a=function(t){var e=_slicedToArray(t.split("-"),2);return e[0],e[1],[]},s=o.findIndex(function(t){return"auto"===t});s>=0&&["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].forEach(function(t){null==o.find(function(e){return-1!==e.search("^"+t)})&&o.splice(s++,1,t)});var c=e.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";var l,u=null,h=!1,d=_createForOfIteratorHelper(o);try{for(d.s();!(l=d.n()).done;)if(a(u=l.value),fl.positionElements(t,e,u,i)){h=!0;break}}catch(p){d.e(p)}finally{d.f()}return h||(a(u=o[0]),fl.positionElements(t,e,u,i)),u}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}},{key:"_getFirstPlacement",value:function(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}},{key:"_resetContainer",value:function(){var t=this._renderer;if(this._menu){var e=this._menu.nativeElement;t.appendChild(this._elementRef.nativeElement,e),t.removeStyle(e,"position"),t.removeStyle(e,"transform")}this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}},{key:"_applyContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._resetContainer(),"body"===t){var e=this._renderer,n=this._menu.nativeElement,i=this._bodyContainer=this._bodyContainer||e.createElement("div");e.setStyle(i,"position","absolute"),e.setStyle(n,"position","static"),e.setStyle(i,"z-index","1050"),e.appendChild(i,n),e.appendChild(this._document.body,i)}}},{key:"_applyPlacementClasses",value:function(t){var e=this._menu;if(e){t||(t=this._getFirstPlacement(this.placement));var n=this._renderer,i=this._elementRef.nativeElement;n.removeClass(i,"dropup"),n.removeClass(i,"dropdown"),e.placement="static"===this.display?null:t;var r=-1!==t.search("^top")?"dropup":"dropdown";n.addClass(i,r);var o=this._bodyContainer;o&&(n.removeClass(o,"dropup"),n.removeClass(o,"dropdown"),n.addClass(o,r))}}}]),t}()).\u0275fac=function(t){return new(t||vl)(i.Mb(i.h),i.Mb(ql),i.Mb(c),i.Mb(i.z),i.Mb(i.l),i.Mb(i.E),i.Mb(Bl,8))},vl.\u0275dir=i.Hb({type:vl,selectors:[["","ngbDropdown",""]],contentQueries:function(t,e,n){var r;1&t&&(i.Fb(n,Hl,!0),i.Fb(n,Vl,!0)),2&t&&(i.oc(r=i.cc())&&(e._menu=r.first),i.oc(r=i.cc())&&(e._anchor=r.first))},hostVars:2,hostBindings:function(t,e){2&t&&i.Eb("show",e.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[i.yb]}),vl),Ql=((ml=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:ml}),ml.\u0275inj=i.Jb({factory:function(t){return new(t||ml)}}),ml),Yl=((gl=function(){function t(e){_classCallCheck(this,t),this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}return _createClass(t,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(t){this._animation=t}}]),t}()).\u0275fac=function(t){return new(t||gl)(i.Yb($c))},gl.\u0275prov=Object(i.Ib)({factory:function(){return new gl(Object(i.Yb)($c))},token:gl,providedIn:"root"}),gl),Kl=function t(e,n,i){_classCallCheck(this,t),this.nodes=e,this.viewRef=n,this.componentRef=i},Xl=function(){},$l=((Pl=function(){function t(e){_classCallCheck(this,t),this._document=e}return _createClass(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Xl}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,i=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=i+t+"px",function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}()).\u0275fac=function(t){return new(t||Pl)(i.Yb(c))},Pl.\u0275prov=Object(i.Ib)({factory:function(){return new Pl(Object(i.Yb)(c))},token:Pl,providedIn:"root"}),Pl),Jl=((Ol=function(){function t(e,n){_classCallCheck(this,t),this._el=e,this._zone=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._zone.onStable.asObservable().pipe(Vr(1)).subscribe(function(){el(t._zone,t._el.nativeElement,function(t,e){e&&Uc(t),t.classList.add("show")},{animation:t.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return el(this._zone,this._el.nativeElement,function(t){return t.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),t}()).\u0275fac=function(t){return new(t||Ol)(i.Mb(i.l),i.Mb(i.z))},Ol.\u0275cmp=i.Gb({type:Ol,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(i.Cb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),i.Eb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),Ol),Zl=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),tu=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new zi.a,this._dismissed=new zi.a,this._hidden=new zi.a,e.instance.dismissEvent.subscribe(function(t){o.dismiss(t)}),this.result=new Promise(function(t,e){o._resolve=t,o._reject=e}),this.result.then(null,function(){})}return _createClass(t,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(tr(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(tr(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&e._dismiss(t)},function(){}):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this,e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(qn.a)(void 0);e.subscribe(function(){var e=t._windowCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._windowCmptRef.destroy(),t._contentRef&&t._contentRef.viewRef&&t._contentRef.viewRef.destroy(),t._windowCmptRef=null,t._contentRef=null}),n.subscribe(function(){if(t._backdropCmptRef){var e=t._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._backdropCmptRef.destroy(),t._backdropCmptRef=null}}),Pc(e,n).subscribe(function(){t._hidden.next(),t._hidden.complete()})}}]),t}(),eu=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),nu=((jl=function(){function t(e,n,r){_classCallCheck(this,t),this._document=e,this._elRef=n,this._zone=r,this._closed$=new zi.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.n,this.shown=new zi.a,this.hidden=new zi.a}return _createClass(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){this._show()}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var t=this,e=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},i=Pc(el(this._zone,e,function(){return e.classList.remove("show")},n),el(this._zone,this._dialogEl.nativeElement,function(){},n));return i.subscribe(function(){t.hidden.next(),t.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),i}},{key:"_show",value:function(){var t=this,e={animation:this.animation,runningTransition:"continue"};Pc(el(this._zone,this._elRef.nativeElement,function(t,e){e&&Uc(t),t.classList.add("show")},e),el(this._zone,this._dialogEl.nativeElement,function(){},e)).subscribe(function(){t.shown.next(),t.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var t=this,e=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){Fi(e,"keydown").pipe(tr(t._closed$),Vn(function(t){return t.which===sl.Escape})).subscribe(function(e){t.keyboard?requestAnimationFrame(function(){e.defaultPrevented||t._zone.run(function(){return t.dismiss(eu.ESC)})}):"static"===t.backdrop&&t._bumpBackdrop()});var n=!1;Fi(t._dialogEl.nativeElement,"mousedown").pipe(tr(t._closed$),Object(Qr.a)(function(){return n=!1}),lr(function(){return Fi(e,"mouseup").pipe(tr(t._closed$),Vr(1))}),Vn(function(t){var n=t.target;return e===n})).subscribe(function(){n=!0}),Fi(e,"click").pipe(tr(t._closed$)).subscribe(function(i){var r=i.target;e===r&&("static"===t.backdrop?t._bumpBackdrop():!0!==t.backdrop||n||t._zone.run(function(){return t.dismiss(eu.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var t=this._elRef.nativeElement;if(!t.contains(document.activeElement)){var e=t.querySelector("[ngbAutofocus]"),n=dl(t)[0];(e||n||t).focus()}}},{key:"_restoreFocus",value:function(){var t,e=this,n=this._document.body,i=this._elWithFocus;t=i&&i.focus&&n.contains(i)?i:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return t.focus()}),e._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&el(this._zone,this._elRef.nativeElement,function(t){var e=t.classList;return e.add("modal-static"),function(){return e.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),t}()).\u0275fac=function(t){return new(t||jl)(i.Mb(c),i.Mb(i.l),i.Mb(i.z))},jl.\u0275cmp=i.Gb({type:jl,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&i.wc(qc,!0),2&t&&i.oc(n=i.cc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(i.Bb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),i.Cb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),i.Eb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Fc,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(i.hc(),i.Rb(0,"div",0,1),i.Rb(2,"div",2),i.gc(3),i.Qb(),i.Qb()),2&t&&i.Cb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),jl),iu=((zl=function(){function t(e,n,r,o,a,s){var c=this;_classCallCheck(this,t),this._applicationRef=e,this._injector=n,this._document=r,this._scrollBar=o,this._rendererFactory=a,this._ngZone=s,this._activeWindowCmptHasChanged=new zi.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new i.n,this._activeWindowCmptHasChanged.subscribe(function(){if(c._windowCmpts.length){var t=c._windowCmpts[c._windowCmpts.length-1];(function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];c._ngZone.runOutsideAngular(function(){var t=Fi(e,"focusin").pipe(tr(n),Object(Gt.a)(function(t){return t.target}));Fi(e,"keydown").pipe(tr(n),Vn(function(t){return t.which===sl.Tab}),Ic(t)).subscribe(function(t){var n=_slicedToArray(t,2),i=n[0],r=n[1],o=_slicedToArray(dl(e),2),a=o[0],s=o[1];r!==a&&r!==e||!i.shiftKey||(s.focus(),i.preventDefault()),r!==s||i.shiftKey||(a.focus(),i.preventDefault())}),i&&Fi(e,"click").pipe(tr(n),Ic(t),Object(Gt.a)(function(t){return t[1]})).subscribe(function(t){return t.focus()})})})(0,t.location.nativeElement,c._activeWindowCmptHasChanged),c._revertAriaHidden(),c._setAriaHidden(t.location.nativeElement)}})}return _createClass(t,[{key:"open",value:function(t,e,n,i){var r=this,o=i.container instanceof HTMLElement?i.container:Bc(i.container)?this._document.querySelector(i.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),c=function(){r._modalRefs.length||(a.removeClass(r._document.body,"modal-open"),r._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(i.container||"body",'" was not found in the DOM.'));var l=new Zl,u=this._getContentRef(t,i.injector||e,n,l,i),h=!1!==i.backdrop?this._attachBackdrop(t,o):void 0,d=this._attachWindowComponent(t,o,u),p=new tu(d,u,h,i.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(d),p.result.then(s,s),p.result.then(c,c),l.close=function(t){p.close(t)},l.dismiss=function(t){p.dismiss(t)},this._applyWindowOptions(d.instance,i),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&this._applyBackdropOptions(h.instance,i),p}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(t){this._modalRefs.forEach(function(e){return e.dismiss(t)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(Jl).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var i=t.resolveComponentFactory(nu).create(this._injector,n.nodes);return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach(function(n){Bc(e[n])&&(t[n]=e[n])})}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach(function(n){Bc(e[n])&&(t[n]=e[n])})}},{key:"_getContentRef",value:function(t,e,n,r,o){return n?n instanceof i.L?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,o):new Kl([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Kl([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode(""+t);return new Kl([[e]])}},{key:"_createFromComponent",value:function(t,e,n,r,o){var a=t.resolveComponentFactory(n),s=i.r.create({providers:[{provide:Zl,useValue:r}],parent:e}),c=a.create(s),l=c.location.nativeElement;return o.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Kl([[l]],c.hostView,c)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&(e._modalRefs.splice(n,1),e._activeInstances.emit(e._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())})}}]),t}()).\u0275fac=function(t){return new(t||zl)(i.Yb(i.g),i.Yb(i.r),i.Yb(c),i.Yb($l),i.Yb(i.F),i.Yb(i.z))},zl.\u0275prov=Object(i.Ib)({factory:function(){return new zl(Object(i.Yb)(i.g),Object(i.Yb)(i.o),Object(i.Yb)(c),Object(i.Yb)($l),Object(i.Yb)(i.F),Object(i.Yb)(i.z))},token:zl,providedIn:"root"}),zl),ru=((Ll=function(){function t(e,n,i,r){_classCallCheck(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=i,this._config=r}return _createClass(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),t}()).\u0275fac=function(t){return new(t||Ll)(i.Yb(i.j),i.Yb(i.r),i.Yb(iu),i.Yb(Yl))},Ll.\u0275prov=Object(i.Ib)({factory:function(){return new Ll(Object(i.Yb)(i.j),Object(i.Yb)(i.o),Object(i.Yb)(iu),Object(i.Yb)(Yl))},token:Ll,providedIn:"root"}),Ll),ou=((Nl=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Nl}),Nl.\u0275inj=i.Jb({factory:function(t){return new(t||Nl)},providers:[ru]}),Nl),au=((Dl=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Dl}),Dl.\u0275inj=i.Jb({factory:function(t){return new(t||Dl)},imports:[[nt]]}),Dl),su=((Rl=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Rl}),Rl.\u0275inj=i.Jb({factory:function(t){return new(t||Rl)},imports:[[nt]]}),Rl),cu=((Il=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Il}),Il.\u0275inj=i.Jb({factory:function(t){return new(t||Il)},imports:[[nt]]}),Il),lu=((El=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:El}),El.\u0275inj=i.Jb({factory:function(t){return new(t||El)},imports:[[nt]]}),El),uu=((Sl=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Sl}),Sl.\u0275inj=i.Jb({factory:function(t){return new(t||Sl)},imports:[[nt]]}),Sl),hu=((Tl=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Tl}),Tl.\u0275inj=i.Jb({factory:function(t){return new(t||Tl)},imports:[[nt]]}),Tl),du=((Al=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:Al}),Al.\u0275inj=i.Jb({factory:function(t){return new(t||Al)},imports:[[nt]]}),Al),pu=((kl=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:kl}),kl.\u0275inj=i.Jb({factory:function(t){return new(t||kl)}}),kl);new i.q("live announcer delay",{providedIn:"root",factory:function(){return 100}});var fu,gu,mu=((fu=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:fu}),fu.\u0275inj=i.Jb({factory:function(t){return new(t||fu)},imports:[[nt]]}),fu),vu=[nl,il,rl,ol,al,Fl,Ql,ou,au,su,cu,lu,uu,hu,du,pu,mu],bu=((gu=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:gu}),gu.\u0275inj=i.Jb({factory:function(t){return new(t||gu)},imports:[vu,nl,il,rl,ol,al,Fl,Ql,ou,au,su,cu,lu,uu,hu,du,pu,mu]}),gu),_u=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function yu(t){return new Vt.a(function(e){var n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(Yt.a)(n):Object(Hr.b)()).subscribe(e)})}function Cu(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new xu(t,e,n))}}var xu=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new wu(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),wu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).accumulator=i,a._seed=r,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)}}]),n}(Hn.a);function Mu(t){return function(e){var n=new Ou(t),i=e.lift(n);return n.caught=i}}var Ou=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Pu(t,this.selector,this.caught))}}]),t}(),Pu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=i,o.caught=r,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var i=new Qi.a(this);this.add(i);var r=Object(Qi.c)(e,i);r!==i&&this.add(r)}}}]),n}(Qi.b);function ku(t){return function(e){return 0===t?Object(Hr.b)():e.lift(new Au(t))}}var Au=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Ur}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Tu(t,this.total))}}]),t}(),Tu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).total=i,r.ring=new Array,r.count=0,r}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=e++%n;t.next(i[o])}t.complete()}}]),n}(Hn.a);function Su(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ru;return function(e){return e.lift(new Eu(t))}}var Eu=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Iu(t,this.errorFactory))}}]),t}(),Iu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).errorFactory=i,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(UF){t=UF}this.destination.error(t)}}]),n}(Hn.a);function Ru(){return new _u}function Du(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Nu(t))}}var Nu=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Lu(t,this.defaultValue))}}]),t}(),Lu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).defaultValue=i,r.isEmpty=!0,r}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(Hn.a),zu=n("SpAZ");function ju(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?Vn(function(e,n){return t(e,n,i)}):zu.a,Vr(1),n?Du(e):Su(function(){return new _u}))}}var Fu=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new qu(t,this.callback))}}]),t}(),qu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).add(new Hi.a(i)),r}return n}(Hn.a),Bu=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},Uu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(r=e.call(this,t,i)).navigationTrigger=o,r.restoredState=a,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Bu),Hu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).urlAfterRedirects=r,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Bu),Vu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).reason=r,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Bu),Wu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).error=r,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Bu),Gu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Bu),Qu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Bu),Yu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,i)).urlAfterRedirects=r,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Bu),Ku=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Bu),Xu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Bu),$u=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Ju=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Zu=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),th=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),eh=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),nh=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ih=function(){function t(e,n,i){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=i}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),rh=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function oh(t){return new rh(t)}function ah(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function sh(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},o=0;o<i.length;o++){var a=i[o],s=t[o];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function ch(t,e){var n,i=Object.keys(t),r=Object.keys(e);if(!i||!r||i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(!lh(t[n=i[o]],e[n]))return!1;return!0}function lh(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=_toConsumableArray(t).sort(),i=_toConsumableArray(e).sort();return n.every(function(t,e){return i[e]===t})}return t===e}function uh(t){return Array.prototype.concat.apply([],t)}function hh(t){return t.length>0?t[t.length-1]:null}function dh(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ph(t){return Object(i.rb)(t)?t:Object(i.sb)(t)?Object(Yt.a)(Promise.resolve(t)):Object(qn.a)(t)}function fh(t,e,n){return n?function(t,e){return ch(t,e)}(t.queryParams,e.queryParams)&&gh(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return lh(t[n],e[n])})}(t.queryParams,e.queryParams)&&mh(t.root,e.root)}function gh(t,e){if(!Ch(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!gh(t.children[n],e.children[n]))return!1}return!0}function mh(t,e){return vh(t,e,e.segments)}function vh(t,e,n){if(t.segments.length>n.length)return!!Ch(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Ch(t.segments,n))return!1;for(var i in e.children){if(!t.children[i])return!1;if(!mh(t.children[i],e.children[i]))return!1}return!0}var r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Ch(t.segments,r)&&!!t.children.primary&&vh(t.children.primary,e,o)}var bh=function(){function t(e,n,i){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=i}return _createClass(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=oh(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Mh.serialize(this)}}]),t}(),_h=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,dh(n,function(t,e){return t.parent=i})}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Oh(this)}}]),t}(),yh=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=oh(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Ih(this)}}]),t}();function Ch(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var xh=function t(){_classCallCheck(this,t)},wh=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new zh(t);return new bh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+Ph(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return"".concat(Ah(t),"=").concat(Ah(e))}).join("&"):"".concat(Ah(t),"=").concat(Ah(n))}),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Mh=new wh;function Oh(t){return t.segments.map(function(t){return Ih(t)}).join("/")}function Ph(t,e){if(!t.hasChildren())return Oh(t);if(e){var n=t.children.primary?Ph(t.children.primary,!1):"",i=[];return dh(t.children,function(t,e){"primary"!==e&&i.push("".concat(e,":").concat(Ph(t,!1)))}),i.length>0?"".concat(n,"(").concat(i.join("//"),")"):n}var r=function(t,e){var n=[];return dh(t.children,function(t,i){"primary"===i&&(n=n.concat(e(t,i)))}),dh(t.children,function(t,i){"primary"!==i&&(n=n.concat(e(t,i)))}),n}(t,function(e,n){return"primary"===n?[Ph(t.children.primary,!1)]:["".concat(n,":").concat(Ph(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(Oh(t),"/").concat(r[0]):"".concat(Oh(t),"/(").concat(r.join("//"),")")}function kh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ah(t){return kh(t).replace(/%3B/gi,";")}function Th(t){return kh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sh(t){return decodeURIComponent(t)}function Eh(t){return Sh(t.replace(/\+/g,"%20"))}function Ih(t){return"".concat(Th(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(Th(t),"=").concat(Th(e[t]))}).join("")));var e}var Rh=/^[^\/()?;=#]+/;function Dh(t){var e=t.match(Rh);return e?e[0]:""}var Nh=/^[^=?&#]+/,Lh=/^[^?&#]+/,zh=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _h([],{}):new _h([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new _h(t,e)),n}},{key:"parseSegment",value:function(){var t=Dh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new yh(Sh(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Dh(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=Dh(this.remaining);i&&(n=i,this.capture(n))}t[Sh(e)]=Sh(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Nh);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(Lh);return e?e[0]:""}(this.remaining);i&&(n=i,this.capture(n))}var r=Eh(e),o=Eh(n);if(t.hasOwnProperty(r)){var a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Dh(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");var o=this.parseChildren();e[r]=1===Object.keys(o).length?o.primary:new _h([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),jh=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Fh(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=Fh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=qh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return qh(t,this._root).map(function(t){return t.value})}}]),t}();function Fh(t,e){if(t===e.value)return e;var n,i=_createForOfIteratorHelper(e.children);try{for(i.s();!(n=i.n()).done;){var r=Fh(t,n.value);if(r)return r}}catch(o){i.e(o)}finally{i.f()}return null}function qh(t,e){if(t===e.value)return[e];var n,i=_createForOfIteratorHelper(e.children);try{for(i.s();!(n=i.n()).done;){var r=qh(t,n.value);if(r.length)return r.unshift(e),r}}catch(o){i.e(o)}finally{i.f()}return[]}var Bh=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Uh(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Hh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).snapshot=i,Kh(_assertThisInitialized(r),t),r}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(jh);function Vh(t,e){var n=function(t,e){var n=new Qh([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Yh("",new Bh(n,[]))}(t,e),i=new Cc([new yh("",{})]),r=new Cc({}),o=new Cc({}),a=new Cc({}),s=new Cc(""),c=new Wh(i,r,a,s,o,"primary",e,n.root);return c.snapshot=n.root,new Hh(new Bh(c,[]),n)}var Wh=function(){function t(e,n,i,r,o,a,s,c){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=c}return _createClass(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Gt.a)(function(t){return oh(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Gt.a)(function(t){return oh(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function Gh(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var Qh=function(){function t(e,n,i,r,o,a,s,c,l,u,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=h}return _createClass(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=oh(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=oh(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),Yh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,i)).url=t,Kh(_assertThisInitialized(r),i),r}return _createClass(n,[{key:"toString",value:function(){return Xh(this._root)}}]),n}(jh);function Kh(t,e){e.value._routerState=t,e.children.forEach(function(e){return Kh(t,e)})}function Xh(t){var e=t.children.length>0?" { ".concat(t.children.map(Xh).join(", ")," } "):"";return"".concat(t.value).concat(e)}function $h(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ch(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ch(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!ch(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ch(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jh(t,e){return ch(t.params,e.params)&&function(t,e){return Ch(t,e)&&t.every(function(t,n){return ch(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Jh(t.parent,e.parent))}function Zh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var i=n.value;i._futureSnapshot=e.value;var r=function(t,e,n){return e.children.map(function(e){var i,r=_createForOfIteratorHelper(n.children);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return Zh(t,e,o)}}catch(a){r.e(a)}finally{r.f()}return Zh(t,e)})}(t,e,n);return new Bh(i,r)}var o=t.retrieve(e.value);if(o){var a=o.route;return td(e,a),a}var s,c=new Wh(new Cc((s=e.value).url),new Cc(s.params),new Cc(s.queryParams),new Cc(s.fragment),new Cc(s.data),s.outlet,s.component,s),l=e.children.map(function(e){return Zh(t,e)});return new Bh(c,l)}function td(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)td(t.children[n],e.children[n])}function ed(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function nd(t){return"object"==typeof t&&null!=t&&t.outlets}function id(t,e,n,i,r){var o={};return i&&dh(i,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new bh(n.root===t?e:rd(n.root,t,e),o,r)}function rd(t,e,n){var i={};return dh(t.children,function(t,r){i[r]=t===e?n:rd(t,e,n)}),new _h(t.segments,i)}var od=function(){function t(e,n,i){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&ed(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find(nd);if(r&&r!==hh(i))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),ad=function t(e,n,i){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=i};function sd(t,e,n){if(t||(t=new _h([],{})),0===t.segments.length&&t.hasChildren())return cd(t,e,n);var i=function(t,e,n){for(var i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(i>=n.length)return o;var a=t.segments[r],s=n[i];if(nd(s))break;var c=""+s,l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!dd(c,l,a))return o;i+=2}else{if(!dd(c,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var o=new _h(t.segments.slice(0,i.pathIndex),{});return o.children.primary=new _h(t.segments.slice(i.pathIndex),t.children),cd(o,0,r)}return i.match&&0===r.length?new _h(t.segments,{}):i.match&&!t.hasChildren()?ld(t,e,n):i.match?cd(t,0,r):ld(t,e,n)}function cd(t,e,n){if(0===n.length)return new _h(t.segments,{});var i=function(t){return nd(t[0])?t[0].outlets:{primary:t}}(n),r={};return dh(i,function(n,i){"string"==typeof n&&(n=[n]),null!==n&&(r[i]=sd(t.children[i],e,n))}),dh(t.children,function(t,e){void 0===i[e]&&(r[e]=t)}),new _h(t.segments,r)}function ld(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){var o=n[r];if(nd(o)){var a=ud(o.outlets);return new _h(i,a)}if(0===r&&ed(n[0]))i.push(new yh(t.segments[e].path,n[0])),r++;else{var s=nd(o)?o.outlets.primary:""+o,c=r<n.length-1?n[r+1]:null;s&&c&&ed(c)?(i.push(new yh(s,hd(c))),r+=2):(i.push(new yh(s,{})),r++)}}return new _h(i,{})}function ud(t){var e={};return dh(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ld(new _h([],{}),0,t))}),e}function hd(t){var e={};return dh(t,function(t,n){return e[n]=""+t}),e}function dd(t,e,n){return t==n.path&&ch(e,n.parameters)}var pd=function(){function t(e,n,i,r){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),$h(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var i=this,r=Uh(e);t.children.forEach(function(t){var e=t.value.outlet;i.deactivateRoutes(t,r[e],n),delete r[e]}),dh(r,function(t,e){i.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=Uh(t),o=0,a=Object.keys(r);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(r[s],i)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},{key:"activateChildRoutes",value:function(t,e,n){var i=this,r=Uh(e);t.children.forEach(function(t){i.activateRoutes(t,r[t.value.outlet],n),i.forwardEvent(new nh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new th(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if($h(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component){var a=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),fd(s.route)}else{var c=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),l=c?c.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=l,a.outlet&&a.outlet.activateWith(i,l),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function fd(t){$h(t.value),t.children.forEach(fd)}var gd=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function md(t){return"function"==typeof t}function vd(t){return t instanceof bh}var bd=Symbol("INITIAL_VALUE");function _d(){return lr(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=void 0,r=void 0;return Object($i.a)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(i=e.pop()),1===e.length&&Object(Wt.a)(e[0])&&(e=e[0]),Object(pc.a)(e,r).lift(new wc(i))}(t.map(function(t){return t.pipe(Vr(1),or(bd))})).pipe(Cu(function(t,e){var n=!1;return e.reduce(function(t,i,r){if(t!==bd)return t;if(i===bd&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||vd(i))return i}return t},t)},bd),Vn(function(t){return t!==bd}),Object(Gt.a)(function(t){return vd(t)?t:!0===t}),Vr(1))})}var yd,Cd=((yd=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||yd)},yd.\u0275cmp=i.Gb({type:yd,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Nb(0,"router-outlet")},directives:function(){return[xp]},encapsulation:2}),yd);function xd(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var i=t[n];wd(i,Md(e,i))}}function wd(t,e){t.children&&xd(t.children,e)}function Md(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Od(t){var e=t.children&&t.children.map(Od),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Cd),n}function Pd(t){return t.outlet||"primary"}function kd(t,e){var n=t.filter(function(t){return Pd(t)===e});return n.push.apply(n,_toConsumableArray(t.filter(function(t){return Pd(t)!==e}))),n}var Ad={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Td(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ad):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var r=(e.matcher||sh)(n,t,e);if(!r)return Object.assign({},Ad);var o={};dh(r.posParams,function(t,e){o[e]=t.path});var a=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function Sd(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(t,e,n){return n.some(function(n){return Ed(t,e,n)&&"primary"!==Pd(n)})}(t,n,i)){var o=new _h(e,function(t,e,n,i){var r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==Pd(s)){var c=new _h([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,r[Pd(s)]=c}}}catch(l){a.e(l)}finally{a.f()}return r}(t,e,i,new _h(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return Ed(t,e,n)})}(t,n,i)){var a=new _h(t.segments,function(t,e,n,i,r,o){var a,s={},c=_createForOfIteratorHelper(i);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(Ed(t,n,l)&&!r[Pd(l)]){var u=new _h([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Pd(l)]=u}}}catch(h){c.e(h)}finally{c.f()}return Object.assign(Object.assign({},r),s)}(t,e,n,i,t.children,r));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new _h(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ed(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Id(t,e,n,i){return!!(Pd(t)===i||"primary"!==i&&Ed(e,n,t))&&("**"===t.path||Td(e,t,n).matched)}function Rd(t,e,n){return 0===e.length&&!t.children[n]}var Dd=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},Nd=function t(e){_classCallCheck(this,t),this.urlTree=e};function Ld(t){return new Vt.a(function(e){return e.error(new Dd(t))})}function zd(t){return new Vt.a(function(e){return e.error(new Nd(t))})}function jd(t){return new Vt.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var Fd=function(){function t(e,n,r,o,a){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(i.x)}return _createClass(t,[{key:"apply",value:function(){var t=this,e=Sd(this.urlTree.root,[],[],this.config).segmentGroup,n=new _h(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(Object(Gt.a)(function(e){return t.createUrlTree(qd(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Mu(function(e){if(e instanceof Nd)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Dd)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Gt.a)(function(n){return e.createUrlTree(qd(n),t.queryParams,t.fragment)})).pipe(Mu(function(t){if(t instanceof Dd)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var i=t.segments.length>0?new _h([],{primary:t}):t;return new bh(i,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Gt.a)(function(t){return new _h([],t)})):this.expandSegment(t,n,e,n.segments,i,!0)}},{key:"expandChildren",value:function(t,e,n){for(var i=this,r=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?r.unshift(s):r.push(s)}return Object(Yt.a)(r).pipe(Un(function(r){var o=n.children[r],a=kd(e,r);return i.expandSegmentGroup(t,a,o,r).pipe(Object(Gt.a)(function(t){return{segment:t,outlet:r}}))}),Cu(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?Vn(function(e,n){return t(e,n,i)}):zu.a,ku(1),n?Du(e):Su(function(){return new _u}))}}())}},{key:"expandSegment",value:function(t,e,n,i,r,o){var a=this;return Object(Yt.a)(n).pipe(Un(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe(Mu(function(t){if(t instanceof Dd)return Object(qn.a)(null);throw t}))}),ju(function(t){return!!t}),Mu(function(t,n){if(t instanceof _u||"EmptyError"===t.name){if(Rd(e,i,r))return Object(qn.a)(new _h([],{}));throw new Dd(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,i,r,o,a){return Id(i,e,r,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):Ld(e):Ld(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?zd(o):this.lineralizeSegments(n,o).pipe(Object(Bn.a)(function(n){var o=new _h(n,{});return r.expandSegment(t,o,e,n,i,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,o){var a=this,s=Td(e,i,r),c=s.matched,l=s.consumedSegments,u=s.lastChild,h=s.positionalParamSegments;if(!c)return Ld(e);var d=this.applyRedirectCommands(l,i.redirectTo,h);return i.redirectTo.startsWith("/")?zd(d):this.lineralizeSegments(i,d).pipe(Object(Bn.a)(function(i){return a.expandSegment(t,e,n,i.concat(r.slice(u)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,i,r){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Gt.a)(function(t){return n._loadedConfig=t,new _h(i,{})})):Object(qn.a)(new _h(i,{}));var a=Td(e,n,i),s=a.matched,c=a.consumedSegments,l=a.lastChild;if(!s)return Ld(e);var u=i.slice(l);return this.getChildConfig(t,n,i).pipe(Object(Bn.a)(function(t){var i=t.module,a=t.routes,s=Sd(e,c,u,a),l=s.segmentGroup,h=s.slicedSegments,d=new _h(l.segments,l.children);if(0===h.length&&d.hasChildren())return o.expandChildren(i,a,d).pipe(Object(Gt.a)(function(t){return new _h(c,t)}));if(0===a.length&&0===h.length)return Object(qn.a)(new _h(c,{}));var p=Pd(n)===r;return o.expandSegment(i,d,a,h,p?"primary":r,!0).pipe(Object(Gt.a)(function(t){return new _h(c.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var i=this;return e.children?Object(qn.a)(new gd(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(qn.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Bn.a)(function(n){return n?i.configLoader.load(t.injector,e).pipe(Object(Gt.a)(function(t){return e._loadedConfig=t,t})):function(t){return new Vt.a(function(e){return e.error(ah("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Object(qn.a)(new gd([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var i=this,r=e.canLoad;if(!r||0===r.length)return Object(qn.a)(!0);var o=r.map(function(i){var r,o=t.get(i);if(function(t){return t&&md(t.canLoad)}(o))r=o.canLoad(e,n);else{if(!md(o))throw new Error("Invalid CanLoad guard");r=o(e,n)}return ph(r)});return Object(qn.a)(o).pipe(_d(),Object(Qr.a)(function(t){if(vd(t)){var e=ah('Redirecting to "'.concat(i.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),Object(Gt.a)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(qn.a)(n);if(i.numberOfChildren>1||!i.children.primary)return jd(t.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new bh(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return dh(t,function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,i){var r=this,o=this.createSegments(t,e.segments,n,i),a={};return dh(e.children,function(e,o){a[o]=r.createSegmentGroup(t,e,n,i)}),new _h(o,a)}},{key:"createSegments",value:function(t,e,n,i){var r=this;return e.map(function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return i}},{key:"findOrReturn",value:function(t,e){var n,i=0,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(i),o;i++}}catch(a){r.e(a)}finally{r.f()}return t}}]),t}();function qd(t){for(var e={},n=0,i=Object.keys(t.children);n<i.length;n++){var r=i[n],o=qd(t.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new _h(t.segments.concat(e.segments),e.children)}return t}(new _h(t.segments,e))}var Bd=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Ud=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Hd(t,e,n){var i=t._root;return Wd(i,e?e._root:null,n,[i.value])}function Vd(t,e,n){var i=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Wd(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Uh(e);return t.children.forEach(function(t){!function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ch(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ch(t.url,e.url)||!ch(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jh(t,e)||!ch(t.queryParams,e.queryParams);case"paramsChange":default:return!Jh(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Bd(i)):(o.data=a.data,o._resolvedData=a._resolvedData),Wd(t,e,o.component?s?s.children:null:n,i,r),c&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new Ud(s.outlet.component,a))}else a&&Gd(e,s,r),r.canActivateChecks.push(new Bd(i)),Wd(t,null,o.component?s?s.children:null:n,i,r)}(t,o[t.value.outlet],n,i.concat([t.value]),r),delete o[t.value.outlet]}),dh(o,function(t,e){return Gd(t,n.getContext(e),r)}),r}function Gd(t,e,n){var i=Uh(t),r=t.value;dh(i,function(t,i){Gd(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Ud(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}var Qd=function t(){_classCallCheck(this,t)};function Yd(t){return new Vt.a(function(e){return e.error(t)})}var Kd=function(){function t(e,n,i,r,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){var t=Sd(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new Qh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Bh(n,e),r=new Yh(this.url,i);return this.inheritParamsAndData(r._root),r}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,i=Gh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],i=0,r=Object.keys(e.children);i<r.length;i++){var o=r[i],a=e.children[o],s=kd(t,o),c=this.processSegmentGroup(s,a,o);if(null===c)return null;n.push.apply(n,_toConsumableArray(c))}var l=function(t){var e,n=[],i=_createForOfIteratorHelper(t);try{var r=function(){var t,i=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(i))return n.push(i),"continue";var r=n.find(function(t){return i.value.routeConfig===t.value.routeConfig});void 0!==r?(t=r.children).push.apply(t,_toConsumableArray(i.children)):n.push(i)};for(i.s();!(e=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}return n}(n);return l.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),l}},{key:"processSegment",value:function(t,e,n,i){var r,o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=this.processSegmentAgainstRoute(a,e,n,i);if(null!==s)return s}}catch(c){o.e(c)}finally{o.f()}return Rd(e,n,i)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,i){if(t.redirectTo||!Id(t,e,n,i))return null;var r,o=[],a=[];if("**"===t.path){var s=n.length>0?hh(n).parameters:{};r=new Qh(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jd(t),Pd(t),t.component,t,Xd(e),$d(e)+n.length,Zd(t))}else{var c=Td(e,t,n);if(!c.matched)return null;o=c.consumedSegments,a=n.slice(c.lastChild),r=new Qh(o,c.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jd(t),Pd(t),t.component,t,Xd(e),$d(e)+o.length,Zd(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),u=Sd(e,o,a,l.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),h=u.segmentGroup,d=u.slicedSegments;if(0===d.length&&h.hasChildren()){var p=this.processChildren(l,h);return null===p?null:[new Bh(r,p)]}if(0===l.length&&0===d.length)return[new Bh(r,[])];var f=Pd(t)===i,g=this.processSegment(l,h,d,f?"primary":i);return null===g?null:[new Bh(r,g)]}}]),t}();function Xd(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function $d(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Jd(t){return t.data||{}}function Zd(t){return t.resolve||{}}function tp(t){return lr(function(e){var n=t(e);return n?Object(Yt.a)(n).pipe(Object(Gt.a)(function(){return e})):Object(qn.a)(e)})}var ep=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),np=new i.q("ROUTES"),ip=function(){function t(e,n,i,r){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Gt.a)(function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var r=i.create(t);return new gd(uh(r.injector.get(np)).map(Od),r)}))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(Yt.a)(this.loader.load(t)):ph(t()).pipe(Object(Bn.a)(function(t){return t instanceof i.v?Object(qn.a)(t):Object(Yt.a)(e.compiler.compileModuleAsync(t))}))}}]),t}(),rp=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new op,this.attachRef=null},op=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new rp,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),ap=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function sp(t){throw t}function cp(t,e,n){return e.parse("/")}function lp(t,e){return Object(qn.a)(null)}var up,hp,dp,pp=((dp=function(){function t(e,n,r,o,a,s,c,l){var u=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new zi.a,this.errorHandler=sp,this.malformedUriErrorHandler=cp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:lp,afterPreactivation:lp},this.urlHandlingStrategy=new ap,this.routeReuseStrategy=new ep,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=a.get(i.x),this.console=a.get(i.Z);var h=a.get(i.z);this.isNgZoneEnabled=h instanceof i.z&&i.z.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new bh(new _h([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ip(s,c,function(t){return u.triggerEvent(new $u(t))},function(t){return u.triggerEvent(new Ju(t))}),this.routerState=Vh(this.currentUrlTree,this.rootComponentType),this.transitions=new Cc({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Vn(function(t){return 0!==t.id}),Object(Gt.a)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),lr(function(t){var i,r,o,a,s=!1,c=!1;return Object(qn.a)(t).pipe(Object(Qr.a)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),lr(function(t){var i,r,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(qn.a)(t).pipe(lr(function(t){var i=e.transitions.getValue();return n.next(new Uu(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==e.transitions.getValue()?Hr.a:Promise.resolve(t)}),(i=e.ngModule.injector,r=e.configLoader,o=e.urlSerializer,a=e.config,lr(function(t){return function(t,e,n,i,r){return new Fd(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,a).pipe(Object(Gt.a)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),Object(Qr.a)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,i,r,o){return Object(Bn.a)(function(i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new Kd(t,e,n,i,r,o).recognize();return null===a?Yd(new Qd):Object(qn.a)(a)}catch(UF){return Yd(UF)}}(t,n,i.urlAfterRedirects,(a=i.urlAfterRedirects,e.serializeUrl(a)),r,o).pipe(Object(Gt.a)(function(t){return Object.assign(Object.assign({},i),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Qr.a)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var i=new Gu(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(i)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var c=t.id,l=t.extractedUrl,u=t.source,h=t.restoredState,d=t.extras,p=new Uu(c,e.serializeUrl(l),u,h);n.next(p);var f=Vh(l,e.rootComponentType).snapshot;return Object(qn.a)(Object.assign(Object.assign({},t),{targetSnapshot:f,urlAfterRedirects:l,extras:Object.assign(Object.assign({},d),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Hr.a}),tp(function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,c=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!c})}),Object(Qr.a)(function(t){var n=new Qu(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(Gt.a)(function(t){return Object.assign(Object.assign({},t),{guards:Hd(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return Object(Bn.a)(function(n){var i=n.targetSnapshot,r=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(qn.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return Object(Yt.a)(t).pipe(Object(Bn.a)(function(t){return function(t,e,n,i,r){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(qn.a)(!0);var a=o.map(function(o){var a,s=Vd(o,e,r);if(function(t){return t&&md(t.canDeactivate)}(s))a=ph(s.canDeactivate(t,e,n,i));else{if(!md(s))throw new Error("Invalid CanDeactivate guard");a=ph(s(t,e,n,i))}return a.pipe(ju())});return Object(qn.a)(a).pipe(_d())}(t.component,t.route,n,e,i)}),ju(function(t){return!0!==t},!0))}(s,i,r,t).pipe(Object(Bn.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,i){return Object(Yt.a)(e).pipe(Un(function(e){return rr(function(t,e){return null!==t&&e&&e(new Zu(t)),Object(qn.a)(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new eh(t)),Object(qn.a)(!0)}(e.route,i),function(t,e,n){var i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return yu(function(){var r=e.guards.map(function(r){var o,a=Vd(r,e.node,n);if(function(t){return t&&md(t.canActivateChild)}(a))o=ph(a.canActivateChild(i,t));else{if(!md(a))throw new Error("Invalid CanActivateChild guard");o=ph(a(i,t))}return o.pipe(ju())});return Object(qn.a)(r).pipe(_d())})});return Object(qn.a)(r).pipe(_d())}(t,e.path,n),function(t,e,n){var i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(qn.a)(!0);var r=i.map(function(i){return yu(function(){var r,o=Vd(i,e,n);if(function(t){return t&&md(t.canActivate)}(o))r=ph(o.canActivate(e,t));else{if(!md(o))throw new Error("Invalid CanActivate guard");r=ph(o(e,t))}return r.pipe(ju())})});return Object(qn.a)(r).pipe(_d())}(t,e.route,n))}),ju(function(t){return!0!==t},!0))}(i,a,t,e):Object(qn.a)(n)}),Object(Gt.a)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Object(Qr.a)(function(t){if(vd(t.guardsResult)){var n=ah('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var i=new Yu(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(i)}),Vn(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var i=new Vu(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(i),t.resolve(!1),!1}return!0}),tp(function(t){if(t.guards.canActivateChecks.length)return Object(qn.a)(t).pipe(Object(Qr.a)(function(t){var n=new Ku(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),lr(function(t){var i,r,o=!1;return Object(qn.a)(t).pipe((i=e.paramsInheritanceStrategy,r=e.ngModule.injector,Object(Bn.a)(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(qn.a)(t);var o=0;return Object(Yt.a)(n).pipe(Un(function(t){return function(t,e,n,i){return function(t,e,n,i){var r=Object.keys(t);if(0===r.length)return Object(qn.a)({});var o={};return Object(Yt.a)(r).pipe(Object(Bn.a)(function(r){return function(t,e,n,i){var r=Vd(t,e,i);return ph(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(Object(Qr.a)(function(t){o[r]=t}))}),ku(1),Object(Bn.a)(function(){return Object.keys(o).length===r.length?Object(qn.a)(o):Hr.a}))}(t._resolve,t,e,i).pipe(Object(Gt.a)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Gh(t,n).resolve),null}))}(t.route,e,i,r)}),Object(Qr.a)(function(){return o++}),ku(1),Object(Bn.a)(function(e){return o===n.length?Object(qn.a)(t):Hr.a}))})),Object(Qr.a)({next:function(){return o=!0},complete:function(){if(!o){var i=new Vu(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(i),t.resolve(!1)}}}))}),Object(Qr.a)(function(t){var n=new Xu(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),tp(function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,c=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!c})}),Object(Gt.a)(function(t){var n=function(t,e,n){var i=Zh(t,e._root,n?n._root:void 0);return new Hh(i,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),Object(Qr.a)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(r=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(Gt.a)(function(t){return new pd(o,t.targetRouterState,t.currentRouterState,a).activate(r),t})),Object(Qr.a)({next:function(){s=!0},complete:function(){s=!0}}),(i=function(){if(!s&&!c){e.resetUrlToCurrentUrlTree();var i=new Vu(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(i),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Fu(i))}),Mu(function(i){if(c=!0,(s=i)&&s.ngNavigationCancelingError){var r=vd(i.url);r||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Vu(t.id,e.serializeUrl(t.extractedUrl),i.message);n.next(o),r?setTimeout(function(){var n=e.urlHandlingStrategy.merge(i.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new Wu(t.id,e.serializeUrl(t.extractedUrl),i);n.next(a);try{t.resolve(e.errorHandler(i))}catch(oE){t.reject(oE)}}var s;return Hr.a}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,i=n.state,r=n.urlTree,o={replaceUrl:!0};if(i){var a=Object.assign({},i);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(r,e,i,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){xd(t),this.config=t.map(Od),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,r=e.fragment,o=e.queryParamsHandling,a=e.preserveFragment,s=n||this.routerState.root,c=a?this.currentUrlTree.fragment:r,l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,i,r){if(0===n.length)return id(e.root,e.root,e,i,r);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new od(!0,0,t);var e=0,n=!1,i=t.reduce(function(t,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var o={};return dh(i.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),[].concat(_toConsumableArray(t),[{outlets:o}])}if(i.segmentPath)return[].concat(_toConsumableArray(t),[i.segmentPath])}return"string"!=typeof i?[].concat(_toConsumableArray(t),[i]):0===r?(i.split("/").forEach(function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[].concat(_toConsumableArray(t),[i])},[]);return new od(n,e,i)}(n);if(o.toRoot())return id(e.root,new _h([],{}),e,i,r);var a=function(t,e,n){if(t.isAbsolute)return new ad(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var i=n.snapshot._urlSegment;return new ad(i,i===e.root,0)}var r=ed(t.commands[0])?0:1;return function(t,e,n){for(var i=t,r=e,o=n;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new ad(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?cd(a.segmentGroup,a.index,o.commands):sd(a.segmentGroup,a.index,o.commands);return id(a.segmentGroup,s,e,i,r)}(s,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=vd(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(UF){e=this.malformedUriErrorHandler(UF,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(vd(t))return fh(this.currentUrlTree,t,e);var n=this.parseUrl(t);return fh(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var i=t[n];return null!=i&&(e[n]=i),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Hu(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,i,r){var o,a,s,c=this.getTransition(),l="imperative"!==e&&"imperative"===(null==c?void 0:c.source),u=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===t.toString();if(l&&u)return Promise.resolve(!0);r?(o=r.resolve,a=r.reject,s=r.promise):s=new Promise(function(t,e){o=t,a=e});var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,i){var r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){return new(t||dp)(i.Yb(i.N),i.Yb(xh),i.Yb(op),i.Yb(A),i.Yb(i.r),i.Yb(i.w),i.Yb(i.i),i.Yb(void 0))},dp.\u0275prov=i.Ib({token:dp,factory:dp.\u0275fac}),dp),fp=((hp=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new zi.a,null==i&&r.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"onClick",value:function(){var t={skipLocationChange:mp(this.skipLocationChange),replaceUrl:mp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:mp(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||hp)(i.Mb(pp),i.Mb(Wh),i.Zb("tabindex"),i.Mb(i.E),i.Mb(i.l))},hp.\u0275dir=i.Hb({type:hp,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.bc("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.yb]}),hp),gp=((up=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.router=e,this.route=n,this.locationStrategy=i,this.commands=[],this.onChanges=new zi.a,this.subscription=e.events.subscribe(function(t){t instanceof Hu&&r.updateTargetUrlAndHref()})}return _createClass(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,i,r){if(0!==t||e||n||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:mp(this.skipLocationChange),replaceUrl:mp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:mp(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||up)(i.Mb(pp),i.Mb(Wh),i.Mb(y))},up.\u0275dir=i.Hb({type:up,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.bc("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(i.Ub("href",e.href,i.sc),i.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.yb]}),up);function mp(t){return""===t||!!t}var vp,bp,_p,yp,Cp=((bp=function(){function t(e,n,i,r,o,a){var s=this;_classCallCheck(this,t),this.router=e,this.element=n,this.renderer=i,this.cdr=r,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(function(t){t instanceof Hu&&s.update()})}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;Object(qn.a)(this.links.changes,this.linksWithHrefs.changes,Object(qn.a)(null)).pipe(Object(ir.a)()).subscribe(function(e){t.update(),t.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var t,e=this;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();var n=[].concat(_toConsumableArray(this.links.toArray()),_toConsumableArray(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(t){return!!t}).map(function(t){return t.onChanges});this.linkInputChangesSubscription=Object(Yt.a)(n).pipe(Object(ir.a)()).subscribe(function(t){e.isActive!==e.isLinkActive(e.router)(t)&&e.update()})}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.cdr.markForCheck(),t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}]),t}()).\u0275fac=function(t){return new(t||bp)(i.Mb(pp),i.Mb(i.l),i.Mb(i.E),i.Mb(i.h),i.Mb(fp,8),i.Mb(gp,8))},bp.\u0275dir=i.Hb({type:bp,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(i.Fb(n,fp,!0),i.Fb(n,gp,!0)),2&t&&(i.oc(r=i.cc())&&(e.links=r),i.oc(r=i.cc())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.yb]}),bp),xp=((vp=function(){function t(e,n,r,o,a){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=o||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new wp(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||vp)(i.Mb(op),i.Mb(i.Q),i.Mb(i.j),i.Zb("name"),i.Mb(i.h))},vp.\u0275dir=i.Hb({type:vp,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),vp),wp=function(){function t(e,n,i){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=i}return _createClass(t,[{key:"get",value:function(t,e){return t===Wh?this.route:t===op?this.childContexts:this.parent.get(t,e)}}]),t}(),Mp=function t(){_classCallCheck(this,t)},Op=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(qn.a)(null)}}]),t}(),Pp=((yp=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new ip(n,i,function(t){return e.triggerEvent(new $u(t))},function(t){return e.triggerEvent(new Ju(t))})}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Vn(function(t){return t instanceof Hu}),Un(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(i.x);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,i=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(t,o)):o.children&&i.push(this.processRoutes(t,o.children))}}catch(s){r.e(s)}finally{r.f()}return Object(Yt.a)(i).pipe(Object(ir.a)(),Object(Gt.a)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(Bn.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||yp)(i.Yb(pp),i.Yb(i.w),i.Yb(i.i),i.Yb(i.r),i.Yb(Mp))},yp.\u0275prov=i.Ib({token:yp,factory:yp.\u0275fac}),yp),kp=((_p=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Uu?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Hu&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof ih&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new ih(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||_p)(i.Yb(pp),i.Yb(ot),i.Yb(void 0))},_p.\u0275prov=i.Ib({token:_p,factory:_p.\u0275fac}),_p),Ap=new i.q("ROUTER_CONFIGURATION"),Tp=new i.q("ROUTER_FORROOT_GUARD"),Sp=[A,{provide:xh,useClass:wh},{provide:pp,useFactory:function(t,e,n,i,r,o,s){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,h=new pp(null,t,e,n,i,r,o,uh(s));if(l&&(h.urlHandlingStrategy=l),u&&(h.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){var d=a();h.events.subscribe(function(t){d.logGroup("Router Event: "+t.constructor.name),d.log(t.toString()),d.log(t),d.logGroupEnd()})}return h},deps:[xh,op,A,i.r,i.w,i.i,np,Ap,[function(){return function t(){_classCallCheck(this,t)}}(),new i.A],[function(){return function t(){_classCallCheck(this,t)}}(),new i.A]]},op,{provide:Wh,useFactory:function(t){return t.routerState.root},deps:[pp]},{provide:i.w,useClass:i.K},Pp,Op,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(Mu(function(){return Object(qn.a)(null)}))}}]),t}(),{provide:Ap,useValue:{enableTracing:!1}}];function Ep(){return new i.y("Router",pp)}var Ip,Rp=((Ip=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Sp,zp(e),{provide:Tp,useFactory:Lp,deps:[[pp,new i.A,new i.J]]},{provide:Ap,useValue:n||{}},{provide:y,useFactory:Np,deps:[l,[new i.p(O),new i.A],Ap]},{provide:kp,useFactory:Dp,deps:[pp,ot,Ap]},{provide:Mp,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Op},{provide:i.y,multi:!0,useFactory:Ep},[Fp,{provide:i.d,multi:!0,useFactory:qp,deps:[Fp]},{provide:Gp,useFactory:Bp,deps:[Fp]},{provide:i.b,multi:!0,useExisting:Gp}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[zp(e)]}}}]),t}()).\u0275mod=i.Kb({type:Ip}),Ip.\u0275inj=i.Jb({factory:function(t){return new(t||Ip)(i.Yb(Tp,8),i.Yb(pp,8))}}),Ip);function Dp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new kp(t,e,n)}function Np(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new k(t,e):new P(t,e)}function Lp(t){return"guarded"}function zp(t){return[{provide:i.a,multi:!0,useValue:t},{provide:np,multi:!0,useValue:t}]}var jp,Fp=((jp=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new zi.a}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(d,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),i=t.injector.get(pp),r=t.injector.get(Ap);return"disabled"===r.initialNavigation?(i.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(i.hooks.afterPreactivation=function(){return t.initNavigation?Object(qn.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Ap),n=this.injector.get(Pp),r=this.injector.get(kp),o=this.injector.get(pp),a=this.injector.get(i.g);t===a.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||jp)(i.Yb(i.r))},jp.\u0275prov=i.Ib({token:jp,factory:jp.\u0275fac}),jp);function qp(t){return t.appInitializer.bind(t)}function Bp(t){return t.bootstrapListener.bind(t)}var Up,Hp,Vp,Wp,Gp=new i.q("Router Initializer"),Qp=n("NsTc"),Yp=n("/+4+"),Kp=((Hp=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.combine=new Array}},{key:"getCombineDataColumns",value:function(t,e){for(var n=null,i=0;i<this.combine.length;i++){var r=this.combine[i];if(r.row===t){n=r;for(var o=1;o<=e;o++)0===n["C"+o]&&(n["C"+o]=null);break}}if(null==n){(n={row:t}).name=this.getCombineName(t);for(var a=1;a<=e;a++)n["C"+a]=null;this.combine.push(n)}return n}},{key:"setCombineJson",value:function(t){if("combine"in t)for(var e=t.combine,n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if(null!=r){for(var o=e[r],a=0,s=Object.keys(o);a<s.length;a++){var c=s[a];if("C"===c.charAt(0)){var l=this.helper.toNumber(o[c]);o[c]=0===l?null:l}}this.combine.push(o)}}}},{key:"getCombineJson",value:function(){var t,e={},n=_createForOfIteratorHelper(this.combine);try{for(n.s();!(t=n.n()).done;){var i=t.value,r={},o=i.row,a=!1;for(var s in i)if("row"===s||"name"===s)r[s]=i[s];else if("C"===s.charAt(0)){var c=i[s];null!=this.helper.toNumber(c)&&(a=!0,r[s]=c)}!0===a&&(e[o]=r)}}catch(l){n.e(l)}finally{n.f()}return e}},{key:"getCombineCaseCount",value:function(){var t=this.getCombineJson();return Object.keys(t).length}},{key:"getCombineName",value:function(t){if(t<1)return"";if(t>this.combine.length)return"";var e=this.combine[t-1],n="";return"name"in e&&(n=e.name),n}}]),t}()).\u0275fac=function(t){return new(t||Hp)(i.Yb(Yp.a))},Hp.\u0275prov=i.Ib({token:Hp,factory:Hp.\u0275fac,providedIn:"root"}),Hp),Xp=((Up=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.define=new Array}},{key:"getDefineDataColumns",value:function(t,e){for(var n=null,i=0;i<this.define.length;i++){var r=this.define[i];if(r.row===t){n=r;break}}if(null==n){n={row:t};for(var o=1;o<=e;o++)n["C"+o]="";this.define.push(n)}return n}},{key:"setDefineJson",value:function(t){if("define"in t)for(var e=t.define,n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if(null!=r){for(var o=e[r],a=0,s=Object.keys(o);a<s.length;a++){var c=s[a],l=this.helper.toNumber(o[c]);o[c]=0===l?null:l}this.define.push(o)}}}},{key:"getDefineJson",value:function(){for(var t={},e=0;e<this.define.length;e++){var n={},i=this.define[e],r=i.row,o=!1;for(var a in i)if("row"===a||"name"===a)n[a]=i[a];else if("C"===a.charAt(0)){var s=i[a];null!=this.helper.toNumber(s)&&(o=!0,n[a]=s)}!0===o&&(t[r]=n)}return t}},{key:"getDefineCaseCount",value:function(){var t=this.getDefineJson();return Object.keys(t).length}}]),t}()).\u0275fac=function(t){return new(t||Up)(i.Yb(Yp.a))},Up.\u0275prov=i.Ib({token:Up,factory:Up.\u0275fac,providedIn:"root"}),Up),$p=n("ZW/g"),Jp=((Wp=function(){function t(e,n){_classCallCheck(this,t),this.member=e,this.helper=n,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.load_name=new Array,this.load={}}},{key:"getLoadNameColumns",value:function(t){var e=t.toString(),n=this.load_name.find(function(t){return t.id===e});return void 0===n&&(n={id:e,rate:"",symbol:"",name:"",fix_node:"",fix_member:"",element:"",joint:""},this.load_name.push(n)),n}},{key:"getLoadColumns",value:function(t,e){var n,i=t.toString(),r=void 0;return void 0===(r=(n=this.load[i]?this.load[i]:new Array).find(function(t){return t.row===e}))&&(r={row:e,m1:"",m2:"",direction:"",mark:"",L1:"",L2:"",P1:"",P2:"",n:"",tx:"",ty:"",tz:"",rx:"",ry:"",rz:""},n.push(r),this.load[i]=n),r}},{key:"setLoadJson",value:function(t){if("load"in t){this.clear();for(var e=t.load,n=0,i=Object.keys(e);n<i.length;n++){var r=i[n],o={},a={},s=e[r];if(this.load_name.push({id:r,rate:"rate"in s?s.rate:"",symbol:"symbol"in s?s.symbol:"",name:"name"in s?s.name:"",fix_node:"fix_node"in s?s.fix_node:"",fix_member:"fix_member"in s?s.fix_member:"",element:"element"in s?s.element:"",joint:"joint"in s?s.joint:""}),"load_node"in s)for(var c=s.load_node,l=0;l<c.length;l++){var u=c[l],h="row"in u?u.row:l+1;o[h]={row:h,n:"n"in u?u.n:"",tx:"tx"in u?u.tx:"",ty:"ty"in u?u.ty:"",tz:"tz"in u?u.tz:"",rx:"rx"in u?u.rx:"",ry:"ry"in u?u.ry:"",rz:"rz"in u?u.rz:""}}if("load_member"in s)for(var d=s.load_member,p=0;p<d.length;p++){var f=d[p],g="row"in f?f.row:(p+1).toString();a[g]={row:g,m1:"m1"in f?f.m1:"",m2:"m2"in f?f.m2:"",direction:"direction"in f?f.direction:"",mark:"mark"in f?f.mark:"",L1:"L1"in f?f.L1:"",L2:"L2"in f?f.L2:"",P1:"P1"in f?f.P1:"",P2:"P2"in f?f.P2:""}}for(var m=new Array,v=0,b=Object.keys(o);v<b.length;v++){var _=b[v],y=o[_];if(_ in a){var C=a[_];y.m1=C.m1,y.m2=C.m2,y.direction=C.direction,y.mark=C.mark,y.L1=C.L1,y.L2=C.L2,y.P1=C.P1,y.P2=C.P2,delete a[_]}m.push(y)}for(var x=0,w=Object.keys(a);x<w.length;x++){var M=w[x];m.push(a[M])}this.load[r]=m}}}},{key:"getLoadJson",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={},n=this.getLoadNameJson(t),i=this.getNodeLoadJson(t),r=this.getMemberLoadJson(t);if(null===t)for(var o=0,a=Object.keys(n);o<a.length;o++){var s=a[o],c=n[s];s in i&&(c.load_node=i[s],delete i[s]),s in r&&(c.load_member=r[s],delete r[s]),e[s]=c,delete n[s]}for(var l=0,u=Object.keys(i);l<u.length;l++){var h=u[l],d={};(d=h in n?n[h]:{fix_node:1,fix_member:1,element:1,joint:1}).load_node=i[h],h in r&&(d.load_member=r[h],delete r[h]),e[h]=d,delete n[h]}for(var p=0,f=Object.keys(r);p<f.length;p++){var g=f[p],m={};(m=g in n?n[g]:{fix_node:1,fix_member:1,element:1,joint:1}).load_member=r[g],e[g]=m,delete r[g]}if(0===t){for(var v=Array(),b=0,_=Object.keys(e);b<_.length;b++){for(var y=_[b],C=e[y],x=!1,w=0,M=["fix_node","fix_member","element","joint"];w<M.length;w++){var O=M[w];if(C[O]!==t){x=!0;break}}(!1===x||("load_node"in C?C.load_node:[]).length+("load_member"in C?C.load_member:[]).length===0)&&v.push(y)}for(var P=0,k=v;P<k.length;P++){var A=k[P];delete e[A]}}return e}},{key:"getLoadNameJson",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={},i=0;i<this.load_name.length;i++){var r=this.load_name[i],o=r.id;if(!(e.length>0&&o!==e)&&null!=this.helper.toNumber(o)){var a=this.helper.toNumber(r.rate),s=r.symbol,c=r.name,l=this.helper.toNumber(r.fix_node),u=this.helper.toNumber(r.fix_member),h=this.helper.toNumber(r.element),d=this.helper.toNumber(r.joint);if(null!=a||""!==s||""!==c||null!=l||null!=u||null!=h||null!=d){var p=(i+1).toString(),f={fix_node:null==l?t:l,fix_member:null==u?t:u,element:null==h?t:h,joint:null==d?t:d};null===t&&(f.rate=null==a?t:a,f.symbol=s,f.name=c),n[p]=f}}}return n}},{key:"getLoadName",value:function(t){if(t<1)return"";if(t>this.load_name.length)return"";var e=this.load_name[t-1],n="";return"name"in e&&(n=e.name),n}},{key:"getNodeLoadJson",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={},i=0,r=Object.keys(this.load);i<r.length;i++){var o=r[i];if(!(e.length>0&&o!==e)){var a,s=new Array,c=_createForOfIteratorHelper(this.load[o]);try{for(c.s();!(a=c.n()).done;){var l=a.value,u=this.helper.toNumber(l.n),h=this.helper.toNumber(l.tx),d=this.helper.toNumber(l.ty),p=this.helper.toNumber(l.tz),f=this.helper.toNumber(l.rx),g=this.helper.toNumber(l.ry),m=this.helper.toNumber(l.rz);if(null!=u&&(null!=h||null!=d||null!=p||null!=f||null!=g||null!=m)){var v={n:l.n,tx:null==h?t:h,ty:null==d?t:d,tz:null==p?t:p,rx:null==f?t:f,ry:null==g?t:g,rz:null==m?t:m};v.row=l.row,s.push(v)}}}catch(b){c.e(b)}finally{c.f()}s.length>0&&(n[o]=s)}}return n}},{key:"getMemberLoadJson",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={},i=0,r=Object.keys(this.load);i<r.length;i++){var o=r[i];if(!(e.length>0&&o!==e)){var a=this.load[o];if(0!==a.length){var s=new Array;if(null===t)for(var c=0;c<a.length;c++){var l=a[c],u=this.helper.toNumber(l.m1),h=this.helper.toNumber(l.m2),d=this.helper.toNumber(l.mark),p=this.helper.toNumber(l.L1),f=this.helper.toNumber(l.L2),g=this.helper.toNumber(l.P1),m=this.helper.toNumber(l.P2);if(!(null==u&&null==h||null==d||null==p&&null==f&&null==g&&null==m)){var v={m1:l.m1,m2:l.m2,direction:l.direction,mark:l.mark,L1:l.L1,L2:l.L2,P1:g,P2:m};v.row=l.row,s.push(v)}}else for(var b=this.convertMemberLoads(a),_=0;_<b.length;_++){var y=b[_],C={m:y.m1,direction:y.direction,mark:y.mark,L1:this.helper.toNumber(y.L1,3),L2:this.helper.toNumber(y.L2,3),P1:this.helper.toNumber(y.P1,2),P2:this.helper.toNumber(y.P2,2)};C.row=y.row,s.push(C)}s.length>0&&(n[o]=s)}}}return n}},{key:"convertMemberLoads",value:function(t){for(var e=new Array,n=0;n<t.length;n++){var i=t[n],r=i.row,o=this.helper.toNumber(i.m1),a=this.helper.toNumber(i.m2),s=i.direction;null===s&&(s="");var c=this.helper.toNumber(i.mark),l=this.helper.toNumber(i.L1),u=this.helper.toNumber(i.L2),h=this.helper.toNumber(i.P1),d=this.helper.toNumber(i.P2);if(!(null==o&&null==a||""===s||null==c||null==l&&null==u&&null==h&&null==d)){o=null==o?0:o,a=null==a?0:a,s=s.trim();var p=null==l?"0":i.L1.toString();u=null==u?0:u,h=null==h?0:h,d=null==d?0:d,e.push({row:r,m1:o,m2:a,direction:s,mark:c,L1:p,L2:u,P1:h,P2:d})}}if(0===e.length)return new Array;for(var f=0;f<e.length;f++){var g=e[f];0===g.m1&&(g.m1=g.m2,e[f]=g),0===g.m2&&(g.m2=g.m1,e[f]=g)}var m=0,v=-1,b=0;do{var _=e[m];if(_.m2<0){var y=this.getMemberGroupLoad(_,v,b),C=y.loads;v=y.curNo,b=y.curPos,e.splice(m,1);for(var x=0;x<C.length;x++)e.push(C[x])}else m+=1}while(m<e.length);m=0;do{var w=e[m];if(this.helper.toNumber(w.m1)<this.helper.toNumber(w.m2)){var M=this.getMemberRepeatLoad(w);e.splice(m,1);for(var O=0;O<M.length;O++)e.push(M)}else m+=1}while(m<e.length);v=-1,b=0;for(var P=0;P<e.length;P++){var k=e[P];if(k.L1.toString().indexOf("-")>=0||k.L2<0){var A=this.setMemberLoadAddition(k,v,b),T=A.loads;v=A.curNo,b=A.curPos,e.splice(P,1);for(var S=0;S<T.length;S++)e.push(T[S])}}return e}},{key:"getMemberGroupLoad",value:function(t,e,n){var i,r,o,a,s,c={},l=Math.abs(t.m1),u=Math.abs(t.m2),h=Math.abs(t.m1),d=Math.abs(t.m2),p=Math.abs(this.helper.toNumber(t.L1));t.L1.toString().indexOf("-")>=0&&h<=e&&e<=d&&(h=e,p=n+p,t.m1=h,t.L1=p.toString());for(var f=h;f<=d;f++){var g=this.member.getMemberLength(f.toString());if(!(p>g))break;p-=g,t.m1=f+1,t.L1=p.toString()}e=t.m1,n=this.helper.toNumber(t.L1),h=Math.abs(t.m1),d=Math.abs(t.m2);var m=Math.abs(t.L2);switch(t.mark){case 1:case 11:t.L2<0&&(m=p+m);for(var v=h;v<=d&&m>(o=this.member.getMemberLength(v.toString()));v++)m-=o,t.m2=v+1,t.L2=m;e=Math.abs(t.m2),n=t.L2;break;default:if(t.L2<0){a=0;for(var b=h;b<=d;b++)a+=this.member.getMemberLength(b.toString());(m=a-(n+m))<0&&(m=0),t.m2=d,t.L2=m}for(var _=d;_>=l&&m>(o=this.member.getMemberLength(_.toString()));_--)m-=o,t.m2=_-1,t.L2=m;e=Math.abs(t.m2),n=o-t.L2}n>=o-1e-4&&u>e&&(e+=1,n=0);var y=new Array;h=Math.abs(t.m1),d=Math.abs(t.m2),a=0;for(var C=h;C<=d;C++)a+=this.member.getMemberLength(C.toString());switch(p=this.helper.toNumber(t.L1),m=t.L2,t.mark){case 1:case 11:if(h=d){var x={};x.direction=t.direction,x.mark=t.mark,x.m1=h,x.m2=d,x.L1=t.L1,x.L2=t.L2,x.P1=t.P1,x.P2=t.P2,y.push(x)}else{var w={};w.direction=t.direction,w.mark=t.mark,w.m1=h,w.m2=h,w.L1=t.L1,w.L2=0,w.P1=t.P1,w.P2=0,y.push(w);var M={};M.direction=t.direction,M.mark=t.mark,M.m1=d,M.m2=d,M.L1=t.L2,M.L2=0,M.P1=t.P2,M.P2=0,y.push(M)}break;case 9:for(var O=h;O<=d;O++){var P={};P.direction=t.direction,P.mark=t.mark,P.m1=O.toString(),P.m2=O.toString(),P.L1="0",P.L2=0,P.P1=t.P1,P.P2=t.P1,y.push(P)}break;default:s=a-p-m,r=(t.P2-t.P1)/s,i=t.P1;for(var k=h;k<=d;k++){var A={};switch(A.direction=t.direction,A.mark=t.mark,A.m1=k.toString(),A.m2=k.toString(),o=this.member.getMemberLength(A.m1),k){case h:o-=p;break;case d:o-=m}A.L1="0",A.L2=0,A.P1=i,i+=r*o,A.P2=i,k===h&&(A.L1=t.L1,A.P1=t.P1),k===d&&(A.L2=t.L2,A.P2=t.P2),y.push(A)}}if("row"in t)for(var T=0;T<y.length;T++)y[T].row=t.row;return c.loads=y,c.curNo=e,c.curPos=n,c}},{key:"getMemberRepeatLoad",value:function(t){for(var e=new Array,n=Math.abs(t.m1),i=Math.abs(t.m2),r=n;r<=i;r++){var o={};o.direction=t.direction,o.m1=r,o.m2=r,o.L1=t.L1,o.L2=t.L2,o.mark=t.mark,o.P1=t.P1,o.P2=t.P2,e.push(o)}return e}},{key:"setMemberLoadAddition",value:function(t,e,n){var i,r,o=Math.abs(t.m1),a=Math.abs(t.m2),s=Math.abs(t.L1),c=Math.abs(t.L2);if(t.L1.toString().indexOf("-")>=0&&(o<=e&&e<=a&&(o=e,s=n+s,t.m1=o,t.L1=s.toString()),e=t.m1,n=this.helper.toNumber(t.L1)),t.L2<0){r=0;for(var l=o;l<=a;l++)r+=this.member.getMemberLength(l.toString());(c=r-(n+c))<0&&(c=0),t.m2=Math.sign(t.m2)*a,t.L2=c,i=this.member.getMemberLength(a.toString()),e=Math.abs(t.m2),n=i-t.L2}return n>=i-1e-4&&a>e&&(e+=1,n=0),{loads:t,curNo:e,curPos:n}}},{key:"getLoadCaseCount",value:function(){var t=new Array;t.push(this.getLoadJson()),t.push(this.getNodeLoadJson()),t.push(this.getMemberLoadJson());for(var e=0,n=0;n<t.length;n++)for(var i=t[n],r=0,o=Object.keys(i);r<o.length;r++){var a=o[r],s=this.helper.toNumber(a);e<s&&(e=s)}return e}}]),t}()).\u0275fac=function(t){return new(t||Wp)(i.Yb($p.a),i.Yb(Yp.a))},Wp.\u0275prov=i.Ib({token:Wp,factory:Wp.\u0275fac,providedIn:"root"}),Wp),Zp=((Vp=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.pickup=new Array}},{key:"getPickUpDataColumns",value:function(t,e){for(var n=null,i=0;i<this.pickup.length;i++){var r=this.pickup[i];if(r.row===t){n=r;break}}if(null==n){(n={row:t}).name=this.getPickUpName(t);for(var o=1;o<e;o++)n["C"+o]="";this.pickup.push(n)}return n}},{key:"setPickUpJson",value:function(t){if("pickup"in t)for(var e=t.pickup,n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if(null!=r){for(var o=e[r],a=0,s=Object.keys(o);a<s.length;a++){var c=s[a];if("C"===c.charAt(0)){var l=this.helper.toNumber(o[c]);o[c]=0===l?null:l}}this.pickup.push(o)}}}},{key:"getPickUpJson",value:function(){for(var t={},e=0;e<this.pickup.length;e++){var n={},i=this.pickup[e],r=i.row,o=!1;for(var a in i)if("row"===a||"name"===a)n[a]=i[a];else{var s=i[a];null!=this.helper.toNumber(s)&&(o=!0,n[a]=s)}!0===o&&(t[r]=n)}return t}},{key:"getPickUpName",value:function(t){if(t<1)return"";if(t>this.pickup.length)return"";var e=this.pickup[t-1],n="";return"name"in e&&(n=e.name),n}},{key:"getPickupCaseCount",value:function(){var t=this.getPickUpJson();return Object.keys(t).length}}]),t}()).\u0275fac=function(t){return new(t||Vp)(i.Yb(Yp.a))},Vp.\u0275prov=i.Ib({token:Vp,factory:Vp.\u0275fac,providedIn:"root"}),Vp),tf=n("mD1l"),ef=n("H+DU"),nf=n("4KcU"),rf=n("6jd5"),of=n("C289"),af=n("3WO2"),sf=n("fF1W"),cf=n("Qs6e"),lf=n("924u");function uf(){}Object.assign(uf.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,t)}}}});for(var hf=[],df=0;df<256;df++)hf[df]=(df<16?"0":"")+df.toString(16);var pf,ff=1234567,gf={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(hf[255&t]+hf[t>>8&255]+hf[t>>16&255]+hf[t>>24&255]+"-"+hf[255&e]+hf[e>>8&255]+"-"+hf[e>>16&15|64]+hf[e>>24&255]+"-"+hf[63&n|128]+hf[n>>8&255]+"-"+hf[n>>16&255]+hf[n>>24&255]+hf[255&i]+hf[i>>8&255]+hf[i>>16&255]+hf[i>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(ff=t%2147483647),((ff=16807*ff%2147483647)-1)/2147483646},degToRad:function(t){return t*gf.DEG2RAD},radToDeg:function(t){return t*gf.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,r){var o=Math.cos,a=Math.sin,s=o(n/2),c=a(n/2),l=o((e+i)/2),u=a((e+i)/2),h=o((e-i)/2),d=a((e-i)/2),p=o((i-e)/2),f=a((i-e)/2);switch(r){case"XYX":t.set(s*u,c*h,c*d,s*l);break;case"YZY":t.set(c*d,s*u,c*h,s*l);break;case"ZXZ":t.set(c*h,c*d,s*u,s*l);break;case"XZX":t.set(s*u,c*f,c*p,s*l);break;case"YXY":t.set(c*p,s*u,c*f,s*l);break;case"ZYZ":t.set(c*f,c*p,s*u,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}},mf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),Object.defineProperty(this,"isVector2",{value:!0}),this.x=e,this.y=n}return _createClass(t,[{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){return Math.atan2(-this.y,-this.x)+Math.PI}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}},{key:"rotateAround",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*i+t.x,this.y=r*i+o*n+t.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}}]),t}(),vf=function(){function t(){_classCallCheck(this,t),Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return _createClass(t,[{key:"set",value:function(t,e,n,i,r,o,a,s,c){var l=this.elements;return l[0]=t,l[1]=i,l[2]=a,l[3]=e,l[4]=r,l[5]=s,l[6]=n,l[7]=o,l[8]=c,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,o=n[0],a=n[3],s=n[6],c=n[1],l=n[4],u=n[7],h=n[2],d=n[5],p=n[8],f=i[0],g=i[3],m=i[6],v=i[1],b=i[4],_=i[7],y=i[2],C=i[5],x=i[8];return r[0]=o*f+a*v+s*y,r[3]=o*g+a*b+s*C,r[6]=o*m+a*_+s*x,r[1]=c*f+l*v+u*y,r[4]=c*g+l*b+u*C,r[7]=c*m+l*_+u*x,r[2]=h*f+d*v+p*y,r[5]=h*g+d*b+p*C,r[8]=h*m+d*_+p*x,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],c=t[7],l=t[8];return e*o*l-e*a*c-n*r*l+n*a*s+i*r*c-i*o*s}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],c=t[7],l=t[8],u=l*o-a*c,h=a*s-l*r,d=c*r-o*s,p=e*u+n*h+i*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);var f=1/p;return t[0]=u*f,t[1]=(i*c-l*n)*f,t[2]=(a*n-i*o)*f,t[3]=h*f,t[4]=(l*e-i*s)*f,t[5]=(i*r-a*e)*f,t[6]=d*f,t[7]=(n*s-c*e)*f,t[8]=(o*e-n*r)*f,this}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(t){return this.setFromMatrix4(t).copy(this).invert().transpose()}},{key:"transposeIntoArray",value:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}},{key:"setUvTransform",value:function(t,e,n,i,r,o,a){var s=Math.cos(r),c=Math.sin(r);return this.set(n*s,n*c,-n*(s*o+c*a)+o+t,-i*c,i*s,-i*(-c*o+s*a)+a+e,0,0,1),this}},{key:"scale",value:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}},{key:"rotate",value:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],o=i[3],a=i[6],s=i[1],c=i[4],l=i[7];return i[0]=e*r+n*s,i[3]=e*o+n*c,i[6]=e*a+n*l,i[1]=-n*r+e*s,i[4]=-n*o+e*c,i[7]=-n*a+e*l,this}},{key:"translate",value:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}]),t}(),bf={getDataURL:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;var e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===pf&&(pf=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),pf.width=t.width,pf.height=t.height;var n=pf.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=pf}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},_f=0;function yf(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yf.DEFAULT_IMAGE,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yf.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1001,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1001,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1006,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1008,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1023,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1009,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:3e3;Object.defineProperty(this,"id",{value:_f++}),this.uuid=gf.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=s,this.offset=new mf(0,0),this.repeat=new mf(1,1),this.center=new mf(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new vf,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=l,this.version=0,this.onUpdate=null}function Cf(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?bf.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}yf.DEFAULT_IMAGE=void 0,yf.DEFAULT_MAPPING=300,yf.prototype=Object.assign(Object.create(uf.prototype),{constructor:yf,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=gf.generateUUID()),!e&&void 0===t.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var o=0,a=i.length;o<a;o++)r.push(Cf(i[o].isDataTexture?i[o].image:i[o]))}else r=Cf(i);t.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case 1001:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case 1001:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(yf.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}});var xf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,t),Object.defineProperty(this,"isVector4",{value:!0}),this.x=e,this.y=n,this.z=i,this.w=r}return _createClass(t,[{key:"width",get:function(){return this.z},set:function(t){this.z=t}},{key:"height",get:function(){return this.w},set:function(t){this.w=t}},{key:"set",value:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*e+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*e+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*e+o[7]*n+o[11]*i+o[15]*r,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"setAxisAngleFromQuaternion",value:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}},{key:"setAxisAngleFromRotationMatrix",value:function(t){var e,n,i,r,o=t.elements,a=o[0],s=o[4],c=o[8],l=o[1],u=o[5],h=o[9],d=o[2],p=o[6],f=o[10];if(Math.abs(s-l)<.01&&Math.abs(c-d)<.01&&Math.abs(h-p)<.01){if(Math.abs(s+l)<.1&&Math.abs(c+d)<.1&&Math.abs(h+p)<.1&&Math.abs(a+u+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var g=(a+1)/2,m=(u+1)/2,v=(f+1)/2,b=(s+l)/4,_=(c+d)/4,y=(h+p)/4;return g>m&&g>v?g<.01?(n=0,i=.707106781,r=.707106781):(i=b/(n=Math.sqrt(g)),r=_/n):m>v?m<.01?(n=.707106781,i=0,r=.707106781):(n=b/(i=Math.sqrt(m)),r=y/i):v<.01?(n=.707106781,i=.707106781,r=0):(n=_/(r=Math.sqrt(v)),i=y/r),this.set(n,i,r,e),this}var C=Math.sqrt((p-h)*(p-h)+(c-d)*(c-d)+(l-s)*(l-s));return Math.abs(C)<.001&&(C=1),this.x=(p-h)/C,this.y=(c-d)/C,this.z=(l-s)/C,this.w=Math.acos((a+u+f-1)/2),this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}]),t}();function wf(t,e,n){this.width=t,this.height=e,this.scissor=new xf(0,0,t,e),this.scissorTest=!1,this.viewport=new xf(0,0,t,e),this.texture=new yf(void 0,(n=n||{}).mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:1006,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Mf(t,e,n){wf.call(this,t,e,n),this.samples=4}wf.prototype=Object.assign(Object.create(uf.prototype),{constructor:wf,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Mf.prototype=Object.assign(Object.create(wf.prototype),{constructor:Mf,isWebGLMultisampleRenderTarget:!0,copy:function(t){return wf.prototype.copy.call(this,t),this.samples=t.samples,this}});var Of=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,t),Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=e,this._y=n,this._z=i,this._w=r}return _createClass(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,i=t._y,r=t._z,o=t._order,a=Math.cos,s=Math.sin,c=a(n/2),l=a(i/2),u=a(r/2),h=s(n/2),d=s(i/2),p=s(r/2);switch(o){case"XYZ":this._x=h*l*u+c*d*p,this._y=c*d*u-h*l*p,this._z=c*l*p+h*d*u,this._w=c*l*u-h*d*p;break;case"YXZ":this._x=h*l*u+c*d*p,this._y=c*d*u-h*l*p,this._z=c*l*p-h*d*u,this._w=c*l*u+h*d*p;break;case"ZXY":this._x=h*l*u-c*d*p,this._y=c*d*u+h*l*p,this._z=c*l*p+h*d*u,this._w=c*l*u-h*d*p;break;case"ZYX":this._x=h*l*u-c*d*p,this._y=c*d*u+h*l*p,this._z=c*l*p-h*d*u,this._w=c*l*u+h*d*p;break;case"YZX":this._x=h*l*u+c*d*p,this._y=c*d*u+h*l*p,this._z=c*l*p-h*d*u,this._w=c*l*u-h*d*p;break;case"XZY":this._x=h*l*u-c*d*p,this._y=c*d*u-h*l*p,this._z=c*l*p+h*d*u,this._w=c*l*u+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==e&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=t.elements,n=e[0],i=e[4],r=e[8],o=e[1],a=e[5],s=e[9],c=e[2],l=e[6],u=e[10],h=n+a+u;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(l-s)*d,this._y=(r-c)*d,this._z=(o-i)*d}else if(n>a&&n>u){var p=2*Math.sqrt(1+n-a-u);this._w=(l-s)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(r+c)/p}else if(a>u){var f=2*Math.sqrt(1+a-n-u);this._w=(r-c)/f,this._x=(i+o)/f,this._y=.25*f,this._z=(s+l)/f}else{var g=2*Math.sqrt(1+u-n-a);this._w=(o-i)/g,this._x=(r+c)/g,this._y=(s+l)/g,this._z=.25*g}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,e){var n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(gf.clamp(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,e){var n=this.angleTo(t);if(0===n)return this;var i=Math.min(1,e/n);return this.slerp(t,i),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,e){var n=t._x,i=t._y,r=t._z,o=t._w,a=e._x,s=e._y,c=e._z,l=e._w;return this._x=n*l+o*a+i*c-r*s,this._y=i*l+o*s+r*a-n*c,this._z=r*l+o*c+n*s-i*a,this._w=o*l-n*a-i*s-r*c,this._onChangeCallback(),this}},{key:"slerp",value:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,o=this._w,a=o*t._w+n*t._x+i*t._y+r*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;var s=1-a*a;if(s<=Number.EPSILON){var c=1-e;return this._w=c*o+e*this._w,this._x=c*n+e*this._x,this._y=c*i+e*this._y,this._z=c*r+e*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),u=Math.atan2(l,a),h=Math.sin((1-e)*u)/l,d=Math.sin(e*u)/l;return this._w=o*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=r*h+this._z*d,this._onChangeCallback(),this}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}},{key:"fromBufferAttribute",value:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(t,e,n,i){return n.copy(t).slerp(e,i)}},{key:"slerpFlat",value:function(t,e,n,i,r,o,a){var s=n[i+0],c=n[i+1],l=n[i+2],u=n[i+3],h=r[o+0],d=r[o+1],p=r[o+2],f=r[o+3];if(u!==f||s!==h||c!==d||l!==p){var g=1-a,m=s*h+c*d+l*p+u*f,v=m>=0?1:-1,b=1-m*m;if(b>Number.EPSILON){var _=Math.sqrt(b),y=Math.atan2(_,m*v);g=Math.sin(g*y)/_,a=Math.sin(a*y)/_}var C=a*v;if(s=s*g+h*C,c=c*g+d*C,l=l*g+p*C,u=u*g+f*C,g===1-a){var x=1/Math.sqrt(s*s+c*c+l*l+u*u);s*=x,c*=x,l*=x,u*=x}}t[e]=s,t[e+1]=c,t[e+2]=l,t[e+3]=u}},{key:"multiplyQuaternionsFlat",value:function(t,e,n,i,r,o){var a=n[i],s=n[i+1],c=n[i+2],l=n[i+3],u=r[o],h=r[o+1],d=r[o+2],p=r[o+3];return t[e]=a*p+l*u+s*d-c*h,t[e+1]=s*p+l*h+c*u-a*d,t[e+2]=c*p+l*d+a*h-s*u,t[e+3]=l*p-a*u-s*h-c*d,t}}]),t}(),Pf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,t),Object.defineProperty(this,"isVector3",{value:!0}),this.x=e,this.y=n,this.z=i}return _createClass(t,[{key:"set",value:function(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}},{key:"applyEuler",value:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Af.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return this.applyQuaternion(Af.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,o=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*o,this}},{key:"applyQuaternion",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,o=t.y,a=t.z,s=t.w,c=s*e+o*i-a*n,l=s*n+a*e-r*i,u=s*i+r*n-o*e,h=-r*e-o*n-a*i;return this.x=c*s+h*-r+l*-a-u*-o,this.y=l*s+h*-o+u*-r-c*-a,this.z=u*s+h*-a+c*-o-l*-r,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}},{key:"cross",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,e){var n=t.x,i=t.y,r=t.z,o=e.x,a=e.y,s=e.z;return this.x=i*s-r*a,this.y=r*o-n*s,this.z=n*a-i*o,this}},{key:"projectOnVector",value:function(t){var e=t.lengthSq();if(0===e)return this.set(0,0,0);var n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}},{key:"projectOnPlane",value:function(t){return kf.copy(this).projectOnVector(t),this.sub(kf)}},{key:"reflect",value:function(t){return this.sub(kf.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var n=this.dot(t)/e;return Math.acos(gf.clamp(n,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,e,n){var i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"setFromMatrix3Column",value:function(t,e){return this.fromArray(t.elements,3*e)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),t}(),kf=new Pf,Af=new Of,Tf=function(){function t(e,n){_classCallCheck(this,t),Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==e?e:new Pf(1/0,1/0,1/0),this.max=void 0!==n?n:new Pf(-1/0,-1/0,-1/0)}return _createClass(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromArray",value:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,c=t.length;s<c;s+=3){var l=t[s],u=t[s+1],h=t[s+2];l<e&&(e=l),u<n&&(n=u),h<i&&(i=h),l>r&&(r=l),u>o&&(o=u),h>a&&(a=h)}return this.min.set(e,n,i),this.max.set(r,o,a),this}},{key:"setFromBufferAttribute",value:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,c=t.count;s<c;s++){var l=t.getX(s),u=t.getY(s),h=t.getZ(s);l<e&&(e=l),u<n&&(n=u),h<i&&(i=h),l>r&&(r=l),u>o&&(o=u),h>a&&(a=h)}return this.min.set(e,n,i),this.max.set(r,o,a),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=If.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"setFromObject",value:function(t){return this.makeEmpty(),this.expandByObject(t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new Pf),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new Pf),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"expandByObject",value:function(t){t.updateWorldMatrix(!1,!1);var e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),Rf.copy(e.boundingBox),Rf.applyMatrix4(t.matrixWorld),this.union(Rf));for(var n=t.children,i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}},{key:"getParameter",value:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Pf),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}},{key:"intersectsSphere",value:function(t){return this.clampPoint(t.center,If),If.distanceToSquared(t.center)<=t.radius*t.radius}},{key:"intersectsPlane",value:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}},{key:"intersectsTriangle",value:function(t){if(this.isEmpty())return!1;this.getCenter(qf),Bf.subVectors(this.max,qf),Df.subVectors(t.a,qf),Nf.subVectors(t.b,qf),Lf.subVectors(t.c,qf),zf.subVectors(Nf,Df),jf.subVectors(Lf,Nf),Ff.subVectors(Df,Lf);var e=[0,-zf.z,zf.y,0,-jf.z,jf.y,0,-Ff.z,Ff.y,zf.z,0,-zf.x,jf.z,0,-jf.x,Ff.z,0,-Ff.x,-zf.y,zf.x,0,-jf.y,jf.x,0,-Ff.y,Ff.x,0];return!!Sf(e,Df,Nf,Lf,Bf)&&(!!Sf(e=[1,0,0,0,1,0,0,0,1],Df,Nf,Lf,Bf)&&(Uf.crossVectors(zf,jf),Sf(e=[Uf.x,Uf.y,Uf.z],Df,Nf,Lf,Bf)))}},{key:"clampPoint",value:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Pf),e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return If.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"getBoundingSphere",value:function(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(If).length(),t}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"applyMatrix4",value:function(t){return this.isEmpty()||(Ef[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Ef[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Ef[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Ef[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Ef[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Ef[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Ef[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Ef[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Ef)),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}();function Sf(t,e,n,i,r){for(var o=0,a=t.length-3;o<=a;o+=3){Hf.fromArray(t,o);var s=r.x*Math.abs(Hf.x)+r.y*Math.abs(Hf.y)+r.z*Math.abs(Hf.z),c=e.dot(Hf),l=n.dot(Hf),u=i.dot(Hf);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>s)return!1}return!0}var Ef=[new Pf,new Pf,new Pf,new Pf,new Pf,new Pf,new Pf,new Pf],If=new Pf,Rf=new Tf,Df=new Pf,Nf=new Pf,Lf=new Pf,zf=new Pf,jf=new Pf,Ff=new Pf,qf=new Pf,Bf=new Pf,Uf=new Pf,Hf=new Pf,Vf=new Tf,Wf=function(){function t(e,n){_classCallCheck(this,t),this.center=void 0!==e?e:new Pf,this.radius=void 0!==n?n:-1}return _createClass(t,[{key:"set",value:function(t,e){return this.center.copy(t),this.radius=e,this}},{key:"setFromPoints",value:function(t,e){var n=this.center;void 0!==e?n.copy(e):Vf.setFromPoints(t).getCenter(n);for(var i=0,r=0,o=t.length;r<o;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.center.copy(t.center),this.radius=t.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(t){return t.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}},{key:"intersectsBox",value:function(t){return t.intersectsSphere(this)}},{key:"intersectsPlane",value:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new Pf),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}},{key:"getBoundingBox",value:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new Tf),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}},{key:"applyMatrix4",value:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}},{key:"translate",value:function(t){return this.center.add(t),this}},{key:"equals",value:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}]),t}(),Gf=new Pf,Qf=new Pf,Yf=new Pf,Kf=new Pf,Xf=new Pf,$f=new Pf,Jf=new Pf,Zf=function(){function t(e,n){_classCallCheck(this,t),this.origin=void 0!==e?e:new Pf,this.direction=void 0!==n?n:new Pf(0,0,-1)}return _createClass(t,[{key:"set",value:function(t,e){return this.origin.copy(t),this.direction.copy(e),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}},{key:"at",value:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new Pf),e.copy(this.direction).multiplyScalar(t).add(this.origin)}},{key:"lookAt",value:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this}},{key:"recast",value:function(t){return this.origin.copy(this.at(t,Gf)),this}},{key:"closestPointToPoint",value:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new Pf),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(t){return Math.sqrt(this.distanceSqToPoint(t))}},{key:"distanceSqToPoint",value:function(t){var e=Gf.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Gf.copy(this.direction).multiplyScalar(e).add(this.origin),Gf.distanceToSquared(t))}},{key:"distanceSqToSegment",value:function(t,e,n,i){Qf.copy(t).add(e).multiplyScalar(.5),Yf.copy(e).sub(t).normalize(),Kf.copy(this.origin).sub(Qf);var r,o,a,s,c=.5*t.distanceTo(e),l=-this.direction.dot(Yf),u=Kf.dot(this.direction),h=-Kf.dot(Yf),d=Kf.lengthSq(),p=Math.abs(1-l*l);if(p>0)if(o=l*u-h,s=c*p,(r=l*h-u)>=0)if(o>=-s)if(o<=s){var f=1/p;a=(r*=f)*(r+l*(o*=f)+2*u)+o*(l*r+o+2*h)+d}else o=c,a=-(r=Math.max(0,-(l*o+u)))*r+o*(o+2*h)+d;else o=-c,a=-(r=Math.max(0,-(l*o+u)))*r+o*(o+2*h)+d;else o<=-s?a=-(r=Math.max(0,-(-l*c+u)))*r+(o=r>0?-c:Math.min(Math.max(-c,-h),c))*(o+2*h)+d:o<=s?(r=0,a=(o=Math.min(Math.max(-c,-h),c))*(o+2*h)+d):a=-(r=Math.max(0,-(l*c+u)))*r+(o=r>0?c:Math.min(Math.max(-c,-h),c))*(o+2*h)+d;else o=l>0?-c:c,a=-(r=Math.max(0,-(l*o+u)))*r+o*(o+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(Yf).multiplyScalar(o).add(Qf),a}},{key:"intersectSphere",value:function(t,e){Gf.subVectors(t.center,this.origin);var n=Gf.dot(this.direction),i=Gf.dot(Gf)-n*n,r=t.radius*t.radius;if(i>r)return null;var o=Math.sqrt(r-i),a=n-o,s=n+o;return a<0&&s<0?null:this.at(a<0?s:a,e)}},{key:"intersectsSphere",value:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}},{key:"distanceToPlane",value:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}},{key:"intersectPlane",value:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}},{key:"intersectsPlane",value:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}},{key:"intersectBox",value:function(t,e){var n,i,r,o,a,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(n=(t.min.x-h.x)*c,i=(t.max.x-h.x)*c):(n=(t.max.x-h.x)*c,i=(t.min.x-h.x)*c),l>=0?(r=(t.min.y-h.y)*l,o=(t.max.y-h.y)*l):(r=(t.max.y-h.y)*l,o=(t.min.y-h.y)*l),n>o||r>i?null:((r>n||n!=n)&&(n=r),(o<i||i!=i)&&(i=o),u>=0?(a=(t.min.z-h.z)*u,s=(t.max.z-h.z)*u):(a=(t.max.z-h.z)*u,s=(t.min.z-h.z)*u),n>s||a>i?null:((a>n||n!=n)&&(n=a),(s<i||i!=i)&&(i=s),i<0?null:this.at(n>=0?n:i,e)))}},{key:"intersectsBox",value:function(t){return null!==this.intersectBox(t,Gf)}},{key:"intersectTriangle",value:function(t,e,n,i,r){Xf.subVectors(e,t),$f.subVectors(n,t),Jf.crossVectors(Xf,$f);var o,a=this.direction.dot(Jf);if(a>0){if(i)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Kf.subVectors(this.origin,t);var s=o*this.direction.dot($f.crossVectors(Kf,$f));if(s<0)return null;var c=o*this.direction.dot(Xf.cross(Kf));if(c<0)return null;if(s+c>a)return null;var l=-o*Kf.dot(Jf);return l<0?null:this.at(l/a,r)}},{key:"applyMatrix4",value:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}},{key:"equals",value:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}]),t}(),tg=function(){function t(){_classCallCheck(this,t),Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return _createClass(t,[{key:"set",value:function(t,e,n,i,r,o,a,s,c,l,u,h,d,p,f,g){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=i,m[1]=r,m[5]=o,m[9]=a,m[13]=s,m[2]=c,m[6]=l,m[10]=u,m[14]=h,m[3]=d,m[7]=p,m[11]=f,m[15]=g,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new t).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,n=t.elements,i=1/eg.setFromMatrixColumn(t,0).length(),r=1/eg.setFromMatrixColumn(t,1).length(),o=1/eg.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,i=t.y,r=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(i),c=Math.sin(i),l=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){var h=o*l,d=o*u,p=a*l,f=a*u;e[0]=s*l,e[4]=-s*u,e[8]=c,e[1]=d+p*c,e[5]=h-f*c,e[9]=-a*s,e[2]=f-h*c,e[6]=p+d*c,e[10]=o*s}else if("YXZ"===t.order){var g=s*l,m=s*u,v=c*l,b=c*u;e[0]=g+b*a,e[4]=v*a-m,e[8]=o*c,e[1]=o*u,e[5]=o*l,e[9]=-a,e[2]=m*a-v,e[6]=b+g*a,e[10]=o*s}else if("ZXY"===t.order){var _=s*l,y=s*u,C=c*l,x=c*u;e[0]=_-x*a,e[4]=-o*u,e[8]=C+y*a,e[1]=y+C*a,e[5]=o*l,e[9]=x-_*a,e[2]=-o*c,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){var w=o*l,M=o*u,O=a*l,P=a*u;e[0]=s*l,e[4]=O*c-M,e[8]=w*c+P,e[1]=s*u,e[5]=P*c+w,e[9]=M*c-O,e[2]=-c,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var k=o*s,A=o*c,T=a*s,S=a*c;e[0]=s*l,e[4]=S-k*u,e[8]=T*u+A,e[1]=u,e[5]=o*l,e[9]=-a*l,e[2]=-c*l,e[6]=A*u+T,e[10]=k-S*u}else if("XZY"===t.order){var E=o*s,I=o*c,R=a*s,D=a*c;e[0]=s*l,e[4]=-u,e[8]=c*l,e[1]=E*u+D,e[5]=o*l,e[9]=I*u-R,e[2]=R*u-I,e[6]=a*l,e[10]=D*u+E}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(t){return this.compose(ig,t,rg)}},{key:"lookAt",value:function(t,e,n){var i=this.elements;return sg.subVectors(t,e),0===sg.lengthSq()&&(sg.z=1),sg.normalize(),og.crossVectors(n,sg),0===og.lengthSq()&&(1===Math.abs(n.z)?sg.x+=1e-4:sg.z+=1e-4,sg.normalize(),og.crossVectors(n,sg)),og.normalize(),ag.crossVectors(sg,og),i[0]=og.x,i[4]=ag.x,i[8]=sg.x,i[1]=og.y,i[5]=ag.y,i[9]=sg.y,i[2]=og.z,i[6]=ag.z,i[10]=sg.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,o=n[0],a=n[4],s=n[8],c=n[12],l=n[1],u=n[5],h=n[9],d=n[13],p=n[2],f=n[6],g=n[10],m=n[14],v=n[3],b=n[7],_=n[11],y=n[15],C=i[0],x=i[4],w=i[8],M=i[12],O=i[1],P=i[5],k=i[9],A=i[13],T=i[2],S=i[6],E=i[10],I=i[14],R=i[3],D=i[7],N=i[11],L=i[15];return r[0]=o*C+a*O+s*T+c*R,r[4]=o*x+a*P+s*S+c*D,r[8]=o*w+a*k+s*E+c*N,r[12]=o*M+a*A+s*I+c*L,r[1]=l*C+u*O+h*T+d*R,r[5]=l*x+u*P+h*S+d*D,r[9]=l*w+u*k+h*E+d*N,r[13]=l*M+u*A+h*I+d*L,r[2]=p*C+f*O+g*T+m*R,r[6]=p*x+f*P+g*S+m*D,r[10]=p*w+f*k+g*E+m*N,r[14]=p*M+f*A+g*I+m*L,r[3]=v*C+b*O+_*T+y*R,r[7]=v*x+b*P+_*S+y*D,r[11]=v*w+b*k+_*E+y*N,r[15]=v*M+b*A+_*I+y*L,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],o=t[1],a=t[5],s=t[9],c=t[13],l=t[2],u=t[6],h=t[10],d=t[14];return t[3]*(+r*s*u-i*c*u-r*a*h+n*c*h+i*a*d-n*s*d)+t[7]*(+e*s*d-e*c*h+r*o*h-i*o*d+i*c*l-r*s*l)+t[11]*(+e*c*u-e*a*d-r*o*u+n*o*d+r*a*l-n*c*l)+t[15]*(-i*a*l-e*s*u+e*a*h+i*o*u-n*o*h+n*s*l)}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(t,e,n){var i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],c=t[7],l=t[8],u=t[9],h=t[10],d=t[11],p=t[12],f=t[13],g=t[14],m=t[15],v=u*g*c-f*h*c+f*s*d-a*g*d-u*s*m+a*h*m,b=p*h*c-l*g*c-p*s*d+o*g*d+l*s*m-o*h*m,_=l*f*c-p*u*c+p*a*d-o*f*d-l*a*m+o*u*m,y=p*u*s-l*f*s-p*a*h+o*f*h+l*a*g-o*u*g,C=e*v+n*b+i*_+r*y;if(0===C)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var x=1/C;return t[0]=v*x,t[1]=(f*h*r-u*g*r-f*i*d+n*g*d+u*i*m-n*h*m)*x,t[2]=(a*g*r-f*s*r+f*i*c-n*g*c-a*i*m+n*s*m)*x,t[3]=(u*s*r-a*h*r-u*i*c+n*h*c+a*i*d-n*s*d)*x,t[4]=b*x,t[5]=(l*g*r-p*h*r+p*i*d-e*g*d-l*i*m+e*h*m)*x,t[6]=(p*s*r-o*g*r-p*i*c+e*g*c+o*i*m-e*s*m)*x,t[7]=(o*h*r-l*s*r+l*i*c-e*h*c-o*i*d+e*s*d)*x,t[8]=_*x,t[9]=(p*u*r-l*f*r-p*n*d+e*f*d+l*n*m-e*u*m)*x,t[10]=(o*f*r-p*a*r+p*n*c-e*f*c-o*n*m+e*a*m)*x,t[11]=(l*a*r-o*u*r-l*n*c+e*u*c+o*n*d-e*a*d)*x,t[12]=y*x,t[13]=(l*f*i-p*u*i+p*n*h-e*f*h-l*n*g+e*u*g)*x,t[14]=(p*a*i-o*f*i-p*n*s+e*f*s+o*n*g-e*a*g)*x,t[15]=(o*u*i-l*a*i+l*n*s-e*u*s-o*n*h+e*a*h)*x,this}},{key:"scale",value:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}},{key:"makeTranslation",value:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,o=t.x,a=t.y,s=t.z,c=r*o,l=r*a;return this.set(c*o+n,c*a-i*s,c*s+i*a,0,c*a+i*s,l*a+n,l*s-i*o,0,c*s-i*a,l*s+i*o,r*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,n){var i=this.elements,r=e._x,o=e._y,a=e._z,s=e._w,c=r+r,l=o+o,u=a+a,h=r*c,d=r*l,p=r*u,f=o*l,g=o*u,m=a*u,v=s*c,b=s*l,_=s*u,y=n.x,C=n.y,x=n.z;return i[0]=(1-(f+m))*y,i[1]=(d+_)*y,i[2]=(p-b)*y,i[3]=0,i[4]=(d-_)*C,i[5]=(1-(h+m))*C,i[6]=(g+v)*C,i[7]=0,i[8]=(p+b)*x,i[9]=(g-v)*x,i[10]=(1-(h+f))*x,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}},{key:"decompose",value:function(t,e,n){var i=this.elements,r=eg.set(i[0],i[1],i[2]).length(),o=eg.set(i[4],i[5],i[6]).length(),a=eg.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],ng.copy(this);var s=1/r,c=1/o,l=1/a;return ng.elements[0]*=s,ng.elements[1]*=s,ng.elements[2]*=s,ng.elements[4]*=c,ng.elements[5]*=c,ng.elements[6]*=c,ng.elements[8]*=l,ng.elements[9]*=l,ng.elements[10]*=l,e.setFromRotationMatrix(ng),n.x=r,n.y=o,n.z=a,this}},{key:"makePerspective",value:function(t,e,n,i,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*r/(n-i),c=(e+t)/(e-t),l=(n+i)/(n-i),u=-(o+r)/(o-r),h=-2*o*r/(o-r);return a[0]=2*r/(e-t),a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=s,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}},{key:"makeOrthographic",value:function(t,e,n,i,r,o){var a=this.elements,s=1/(e-t),c=1/(n-i),l=1/(o-r),u=(e+t)*s,h=(n+i)*c,d=(o+r)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}]),t}(),eg=new Pf,ng=new tg,ig=new Pf(0,0,0),rg=new Pf(1,1,1),og=new Pf,ag=new Pf,sg=new Pf,cg=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;_classCallCheck(this,t),Object.defineProperty(this,"isEuler",{value:!0}),this._x=e,this._y=n,this._z=i,this._order=r}return _createClass(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t,e,n){var i=gf.clamp,r=t.elements,o=r[0],a=r[4],s=r[8],c=r[1],l=r[5],u=r[9],h=r[2],d=r[6],p=r[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(i(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(t,e,n){return lg.makeRotationFromQuaternion(t),this.setFromRotationMatrix(lg,e,n)}},{key:"setFromVector3",value:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)}},{key:"reorder",value:function(t){return ug.setFromEuler(this),this.setFromQuaternion(ug,t)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}},{key:"fromArray",value:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}},{key:"toVector3",value:function(t){return t?t.set(this._x,this._y,this._z):new Pf(this._x,this._y,this._z)}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}}]),t}();cg.DefaultOrder="XYZ",cg.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var lg=new tg,ug=new Of,hg=function(){function t(){_classCallCheck(this,t),this.mask=1}return _createClass(t,[{key:"set",value:function(t){this.mask=1<<t|0}},{key:"enable",value:function(t){this.mask|=1<<t|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(t){this.mask^=1<<t|0}},{key:"disable",value:function(t){this.mask&=~(1<<t|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(t){return 0!=(this.mask&t.mask)}}]),t}(),dg=0,pg=new Pf,fg=new Of,gg=new tg,mg=new Pf,vg=new Pf,bg=new Pf,_g=new Of,yg=new Pf(1,0,0),Cg=new Pf(0,1,0),xg=new Pf(0,0,1),wg={type:"added"},Mg={type:"removed"};function Og(){Object.defineProperty(this,"id",{value:dg++}),this.uuid=gf.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Og.DefaultUp.clone();var t=new Pf,e=new cg,n=new Of,i=new Pf(1,1,1);e._onChange(function(){n.setFromEuler(e,!1)}),n._onChange(function(){e.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new tg},normalMatrix:{value:new vf}}),this.matrix=new tg,this.matrixWorld=new tg,this.matrixAutoUpdate=Og.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new hg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Og.DefaultUp=new Pf(0,1,0),Og.DefaultMatrixAutoUpdate=!0,Og.prototype=Object.assign(Object.create(uf.prototype),{constructor:Og,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return fg.setFromAxisAngle(t,e),this.quaternion.multiply(fg),this},rotateOnWorldAxis:function(t,e){return fg.setFromAxisAngle(t,e),this.quaternion.premultiply(fg),this},rotateX:function(t){return this.rotateOnAxis(yg,t)},rotateY:function(t){return this.rotateOnAxis(Cg,t)},rotateZ:function(t){return this.rotateOnAxis(xg,t)},translateOnAxis:function(t,e){return pg.copy(t).applyQuaternion(this.quaternion),this.position.add(pg.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(yg,t)},translateY:function(t){return this.translateOnAxis(Cg,t)},translateZ:function(t){return this.translateOnAxis(xg,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(gg.copy(this.matrixWorld).invert())},lookAt:function(t,e,n){t.isVector3?mg.copy(t):mg.set(t,e,n);var i=this.parent;this.updateWorldMatrix(!0,!1),vg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?gg.lookAt(vg,mg,this.up):gg.lookAt(mg,vg,this.up),this.quaternion.setFromRotationMatrix(gg),i&&(gg.extractRotation(i.matrixWorld),fg.setFromRotationMatrix(gg),this.quaternion.premultiply(fg.invert()))},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(wg)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(Mg)),this},clear:function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];e.parent=null,e.dispatchEvent(Mg)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),gg.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),gg.multiply(t.parent.matrixWorld)),t.applyMatrix4(gg),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Pf),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new Of),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vg,t,bg),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new Pf),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vg,_g,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new Pf),this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,r=0,o=i.length;r<o;r++)i[r].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,c=a.length;s<c;s++)r(t.shapes,a[s]);else r(t.shapes,a)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var l=[],u=0,h=this.material.length;u<h;u++)l.push(r(t.materials,this.material[u]));i.material=l}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(var d=0;d<this.children.length;d++)i.children.push(this.children[d].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(var p=0;p<this.animations.length;p++)i.animations.push(r(t.animations,this.animations[p]))}if(e){var f=C(t.geometries),g=C(t.materials),m=C(t.textures),v=C(t.images),b=C(t.shapes),_=C(t.skeletons),y=C(t.animations);f.length>0&&(n.geometries=f),g.length>0&&(n.materials=g),m.length>0&&(n.textures=m),v.length>0&&(n.images=v),b.length>0&&(n.shapes=b),_.length>0&&(n.skeletons=_),y.length>0&&(n.animations=y)}return n.object=i,n;function C(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++)this.add(t.children[n].clone());return this}});var Pg=new Pf,kg=new Pf,Ag=new vf,Tg=function(){function t(e,n){_classCallCheck(this,t),Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==e?e:new Pf(1,0,0),this.constant=void 0!==n?n:0}return _createClass(t,[{key:"set",value:function(t,e){return this.normal.copy(t),this.constant=e,this}},{key:"setComponents",value:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}},{key:"setFromNormalAndCoplanarPoint",value:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(t,e,n){var i=Pg.subVectors(n,e).cross(kg.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this}},{key:"normalize",value:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(t){return this.normal.dot(t)+this.constant}},{key:"distanceToSphere",value:function(t){return this.distanceToPoint(t.center)-t.radius}},{key:"projectPoint",value:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Pf),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}},{key:"intersectLine",value:function(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new Pf);var n=t.delta(Pg),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;var r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:e.copy(n).multiplyScalar(r).add(t.start)}},{key:"intersectsLine",value:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}},{key:"intersectsBox",value:function(t){return t.intersectsPlane(this)}},{key:"intersectsSphere",value:function(t){return t.intersectsPlane(this)}},{key:"coplanarPoint",value:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new Pf),t.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(t,e){var n=e||Ag.getNormalMatrix(t),i=this.coplanarPoint(Pg).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}},{key:"translate",value:function(t){return this.constant-=t.dot(this.normal),this}},{key:"equals",value:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}]),t}(),Sg=new Pf,Eg=new Pf,Ig=new Pf,Rg=new Pf,Dg=new Pf,Ng=new Pf,Lg=new Pf,zg=new Pf,jg=new Pf,Fg=new Pf,qg=function(){function t(e,n,i){_classCallCheck(this,t),this.a=void 0!==e?e:new Pf,this.b=void 0!==n?n:new Pf,this.c=void 0!==i?i:new Pf}return _createClass(t,[{key:"set",value:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}},{key:"getArea",value:function(){return Sg.subVectors(this.c,this.b),Eg.subVectors(this.a,this.b),.5*Sg.cross(Eg).length()}},{key:"getMidpoint",value:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new Pf),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(e){return t.getNormal(this.a,this.b,this.c,e)}},{key:"getPlane",value:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Tg),t.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(e,n){return t.getBarycoord(e,this.a,this.b,this.c,n)}},{key:"getUV",value:function(e,n,i,r,o){return t.getUV(e,this.a,this.b,this.c,n,i,r,o)}},{key:"containsPoint",value:function(e){return t.containsPoint(e,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(e){return t.isFrontFacing(this.a,this.b,this.c,e)}},{key:"intersectsBox",value:function(t){return t.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new Pf);var n,i,r=this.a,o=this.b,a=this.c;Dg.subVectors(o,r),Ng.subVectors(a,r),zg.subVectors(t,r);var s=Dg.dot(zg),c=Ng.dot(zg);if(s<=0&&c<=0)return e.copy(r);jg.subVectors(t,o);var l=Dg.dot(jg),u=Ng.dot(jg);if(l>=0&&u<=l)return e.copy(o);var h=s*u-l*c;if(h<=0&&s>=0&&l<=0)return n=s/(s-l),e.copy(r).addScaledVector(Dg,n);Fg.subVectors(t,a);var d=Dg.dot(Fg),p=Ng.dot(Fg);if(p>=0&&d<=p)return e.copy(a);var f=d*c-s*p;if(f<=0&&c>=0&&p<=0)return i=c/(c-p),e.copy(r).addScaledVector(Ng,i);var g=l*p-d*u;if(g<=0&&u-l>=0&&d-p>=0)return Lg.subVectors(a,o),i=(u-l)/(u-l+(d-p)),e.copy(o).addScaledVector(Lg,i);var m=1/(g+f+h);return n=f*m,i=h*m,e.copy(r).addScaledVector(Dg,n).addScaledVector(Ng,i)}},{key:"equals",value:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}],[{key:"getNormal",value:function(t,e,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Pf),i.subVectors(n,e),Sg.subVectors(t,e),i.cross(Sg);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}},{key:"getBarycoord",value:function(t,e,n,i,r){Sg.subVectors(i,e),Eg.subVectors(n,e),Ig.subVectors(t,e);var o=Sg.dot(Sg),a=Sg.dot(Eg),s=Sg.dot(Ig),c=Eg.dot(Eg),l=Eg.dot(Ig),u=o*c-a*a;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new Pf),0===u)return r.set(-2,-1,-1);var h=1/u,d=(c*s-a*l)*h,p=(o*l-a*s)*h;return r.set(1-d-p,p,d)}},{key:"containsPoint",value:function(t,e,n,i){return this.getBarycoord(t,e,n,i,Rg),Rg.x>=0&&Rg.y>=0&&Rg.x+Rg.y<=1}},{key:"getUV",value:function(t,e,n,i,r,o,a,s){return this.getBarycoord(t,e,n,i,Rg),s.set(0,0),s.addScaledVector(r,Rg.x),s.addScaledVector(o,Rg.y),s.addScaledVector(a,Rg.z),s}},{key:"isFrontFacing",value:function(t,e,n,i){return Sg.subVectors(n,e),Eg.subVectors(t,e),Sg.cross(Eg).dot(i)<0}}]),t}(),Bg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ug={h:0,s:0,l:0},Hg={h:0,s:0,l:0};function Vg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function Wg(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Gg(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}var Qg=function(){function t(e,n,i){return _classCallCheck(this,t),Object.defineProperty(this,"isColor",{value:!0}),void 0===n&&void 0===i?this.set(e):this.setRGB(e,n,i)}return _createClass(t,[{key:"set",value:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}},{key:"setScalar",value:function(t){return this.r=t,this.g=t,this.b=t,this}},{key:"setHex",value:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}},{key:"setRGB",value:function(t,e,n){return this.r=t,this.g=e,this.b=n,this}},{key:"setHSL",value:function(t,e,n){if(t=gf.euclideanModulo(t,1),e=gf.clamp(e,0,1),n=gf.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=Vg(r,i,t+1/3),this.g=Vg(r,i,t),this.b=Vg(r,i,t-1/3)}return this}},{key:"setStyle",value:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var i,r=n[2];switch(n[1]){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,e(i[4]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,e(i[4]),this;break;case"hsl":case"hsla":if(i=/^(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r)){var o=parseFloat(i[1])/360,a=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100;return e(i[4]),this.setHSL(o,a,s)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){var c=n[1],l=c.length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}},{key:"setColorName",value:function(t){var e=Bg[t];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}},{key:"copyGammaToLinear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}},{key:"copyLinearToGamma",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}},{key:"convertGammaToLinear",value:function(t){return this.copyGammaToLinear(this,t),this}},{key:"convertLinearToGamma",value:function(t){return this.copyLinearToGamma(this,t),this}},{key:"copySRGBToLinear",value:function(t){return this.r=Wg(t.r),this.g=Wg(t.g),this.b=Wg(t.b),this}},{key:"copyLinearToSRGB",value:function(t){return this.r=Gg(t.r),this.g=Gg(t.g),this.b=Gg(t.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,i=this.r,r=this.g,o=this.b,a=Math.max(i,r,o),s=Math.min(i,r,o),c=(s+a)/2;if(s===a)e=0,n=0;else{var l=a-s;switch(n=c<=.5?l/(a+s):l/(2-a-s),a){case i:e=(r-o)/l+(r<o?6:0);break;case r:e=(o-i)/l+2;break;case o:e=(i-r)/l+4}e/=6}return t.h=e,t.s=n,t.l=c,t}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(t,e,n){return this.getHSL(Ug),Ug.h+=t,Ug.s+=e,Ug.l+=n,this.setHSL(Ug.h,Ug.s,Ug.l),this}},{key:"add",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}},{key:"addColors",value:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}},{key:"addScalar",value:function(t){return this.r+=t,this.g+=t,this.b+=t,this}},{key:"sub",value:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}},{key:"multiply",value:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}},{key:"multiplyScalar",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this}},{key:"lerp",value:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}},{key:"lerpHSL",value:function(t,e){this.getHSL(Ug),t.getHSL(Hg);var n=gf.lerp(Ug.h,Hg.h,e),i=gf.lerp(Ug.s,Hg.s,e),r=gf.lerp(Ug.l,Hg.l,e);return this.setHSL(n,i,r),this}},{key:"equals",value:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},{key:"fromBufferAttribute",value:function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),t}();Qg.NAMES=Bg,Qg.prototype.r=1,Qg.prototype.g=1,Qg.prototype.b=1;var Yg=function(){function t(e,n,i,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;_classCallCheck(this,t),this.a=e,this.b=n,this.c=i,this.normal=r&&r.isVector3?r:new Pf,this.vertexNormals=Array.isArray(r)?r:[],this.color=o&&o.isColor?o:new Qg,this.vertexColors=Array.isArray(o)?o:[],this.materialIndex=a}return _createClass(t,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var i=0,r=t.vertexColors.length;i<r;i++)this.vertexColors[i]=t.vertexColors[i].clone();return this}}]),t}(),Kg=0;function Xg(){Object.defineProperty(this,"id",{value:Kg++}),this.uuid=gf.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function $g(t){Xg.call(this),this.type="MeshBasicMaterial",this.color=new Qg(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}Xg.prototype=Object.assign(Object.create(uf.prototype),{constructor:Xg,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){var r=i(t.textures),o=i(t.images);r.length>0&&(n.textures=r),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var e=t.clippingPlanes,n=null;if(null!==e){var i=e.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Xg.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),($g.prototype=Object.create(Xg.prototype)).constructor=$g,$g.prototype.isMeshBasicMaterial=!0,$g.prototype.copy=function(t){return Xg.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};var Jg=new Pf,Zg=new mf;function tm(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function em(t,e,n){tm.call(this,new Int8Array(t),e,n)}function nm(t,e,n){tm.call(this,new Uint8Array(t),e,n)}function im(t,e,n){tm.call(this,new Uint8ClampedArray(t),e,n)}function rm(t,e,n){tm.call(this,new Int16Array(t),e,n)}function om(t,e,n){tm.call(this,new Uint16Array(t),e,n)}function am(t,e,n){tm.call(this,new Int32Array(t),e,n)}function sm(t,e,n){tm.call(this,new Uint32Array(t),e,n)}function cm(t,e,n){tm.call(this,new Uint16Array(t),e,n)}function lm(t,e,n){tm.call(this,new Float32Array(t),e,n)}function um(t,e,n){tm.call(this,new Float64Array(t),e,n)}Object.defineProperty(tm.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(tm.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Qg),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new mf),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new Pf),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new xf),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(var e=0,n=this.count;e<n;e++)Zg.fromBufferAttribute(this,e),Zg.applyMatrix3(t),this.setXY(e,Zg.x,Zg.y);else if(3===this.itemSize)for(var i=0,r=this.count;i<r;i++)Jg.fromBufferAttribute(this,i),Jg.applyMatrix3(t),this.setXYZ(i,Jg.x,Jg.y,Jg.z);return this},applyMatrix4:function(t){for(var e=0,n=this.count;e<n;e++)Jg.x=this.getX(e),Jg.y=this.getY(e),Jg.z=this.getZ(e),Jg.applyMatrix4(t),this.setXYZ(e,Jg.x,Jg.y,Jg.z);return this},applyNormalMatrix:function(t){for(var e=0,n=this.count;e<n;e++)Jg.x=this.getX(e),Jg.y=this.getY(e),Jg.z=this.getZ(e),Jg.applyNormalMatrix(t),this.setXYZ(e,Jg.x,Jg.y,Jg.z);return this},transformDirection:function(t){for(var e=0,n=this.count;e<n;e++)Jg.x=this.getX(e),Jg.y=this.getY(e),Jg.z=this.getZ(e),Jg.transformDirection(t),this.setXYZ(e,Jg.x,Jg.y,Jg.z);return this},set:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(em.prototype=Object.create(tm.prototype)).constructor=em,(nm.prototype=Object.create(tm.prototype)).constructor=nm,(im.prototype=Object.create(tm.prototype)).constructor=im,(rm.prototype=Object.create(tm.prototype)).constructor=rm,(om.prototype=Object.create(tm.prototype)).constructor=om,(am.prototype=Object.create(tm.prototype)).constructor=am,(sm.prototype=Object.create(tm.prototype)).constructor=sm,(cm.prototype=Object.create(tm.prototype)).constructor=cm,cm.prototype.isFloat16BufferAttribute=!0,(lm.prototype=Object.create(tm.prototype)).constructor=lm,(um.prototype=Object.create(tm.prototype)).constructor=um;var hm=function(){function t(){_classCallCheck(this,t),this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}return _createClass(t,[{key:"computeGroups",value:function(t){var e,n,i=[],r=void 0,o=t.faces;for(n=0;n<o.length;n++){var a=o[n];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*n-e.start,i.push(e)),e={start:3*n,materialIndex:r})}void 0!==e&&(e.count=3*n-e.start,i.push(e)),this.groups=i}},{key:"fromGeometry",value:function(t){var e,n=t.faces,i=t.vertices,r=t.faceVertexUvs,o=r[0]&&r[0].length>0,a=r[1]&&r[1].length>0,s=t.morphTargets,c=s.length;if(c>0){e=[];for(var l=0;l<c;l++)e[l]={name:s[l].name,data:[]};this.morphTargets.position=e}var u,h=t.morphNormals,d=h.length;if(d>0){u=[];for(var p=0;p<d;p++)u[p]={name:h[p].name,data:[]};this.morphTargets.normal=u}var f=t.skinIndices,g=t.skinWeights,m=f.length===i.length,v=g.length===i.length;i.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var b=0;b<n.length;b++){var _=n[b];this.vertices.push(i[_.a],i[_.b],i[_.c]);var y=_.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var C=_.normal;this.normals.push(C,C,C)}var x=_.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var w=_.color;this.colors.push(w,w,w)}if(!0===o){var M=r[0][b];void 0!==M?this.uvs.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",b),this.uvs.push(new mf,new mf,new mf))}if(!0===a){var O=r[1][b];void 0!==O?this.uvs2.push(O[0],O[1],O[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",b),this.uvs2.push(new mf,new mf,new mf))}for(var P=0;P<c;P++){var k=s[P].vertices;e[P].data.push(k[_.a],k[_.b],k[_.c])}for(var A=0;A<d;A++){var T=h[A].vertexNormals[b];u[A].data.push(T.a,T.b,T.c)}m&&this.skinIndices.push(f[_.a],f[_.b],f[_.c]),v&&this.skinWeights.push(g[_.a],g[_.b],g[_.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}}]),t}();function dm(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}var pm={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function fm(t,e){return new pm[t](e)}var gm=1,mm=new tg,vm=new Og,bm=new Pf,_m=new Tf,ym=new Tf,Cm=new Pf;function xm(){Object.defineProperty(this,"id",{value:gm+=2}),this.uuid=gf.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}xm.prototype=Object.assign(Object.create(uf.prototype),{constructor:xm,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return this.index=Array.isArray(t)?new(dm(t)>65535?sm:om)(t,1):t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return void 0!==this.attributes[t]},addGroup:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:t,count:e,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){var e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new vf).getNormalMatrix(t);n.applyNormalMatrix(i),n.needsUpdate=!0}var r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return mm.makeRotationX(t),this.applyMatrix4(mm),this},rotateY:function(t){return mm.makeRotationY(t),this.applyMatrix4(mm),this},rotateZ:function(t){return mm.makeRotationZ(t),this.applyMatrix4(mm),this},translate:function(t,e,n){return mm.makeTranslation(t,e,n),this.applyMatrix4(mm),this},scale:function(t,e,n){return mm.makeScale(t,e,n),this.applyMatrix4(mm),this},lookAt:function(t){return vm.lookAt(t),vm.updateMatrix(),this.applyMatrix4(vm.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(bm).negate(),this.translate(bm.x,bm.y,bm.z),this},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new lm(3*e.vertices.length,3),i=new lm(3*e.colors.length,3);if(this.setAttribute("position",n.copyVector3sArray(e.vertices)),this.setAttribute("color",i.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new lm(e.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new lm(e,3)),this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}if(!0===e.verticesNeedUpdate){var i=this.attributes.position;void 0!==i&&(i.copyVector3sArray(e.vertices),i.needsUpdate=!0),e.verticesNeedUpdate=!1}if(!0===e.normalsNeedUpdate){var r=this.attributes.normal;void 0!==r&&(r.copyVector3sArray(e.normals),r.needsUpdate=!0),e.normalsNeedUpdate=!1}if(!0===e.colorsNeedUpdate){var o=this.attributes.color;void 0!==o&&(o.copyColorsArray(e.colors),o.needsUpdate=!0),e.colorsNeedUpdate=!1}if(e.uvsNeedUpdate){var a=this.attributes.uv;void 0!==a&&(a.copyVector2sArray(e.uvs),a.needsUpdate=!0),e.uvsNeedUpdate=!1}if(e.lineDistancesNeedUpdate){var s=this.attributes.lineDistance;void 0!==s&&(s.copyArray(e.lineDistances),s.needsUpdate=!0),e.lineDistancesNeedUpdate=!1}return e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new hm).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new tm(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.setAttribute("normal",new tm(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var i=new Float32Array(3*t.colors.length);this.setAttribute("color",new tm(i,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new tm(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new tm(o,2).copyVector2sArray(t.uvs2))}for(var a in this.groups=t.groups,t.morphTargets){for(var s=[],c=t.morphTargets[a],l=0,u=c.length;l<u;l++){var h=c[l],d=new lm(3*h.data.length,3);d.name=h.name,s.push(d.copyVector3sArray(h.data))}this.morphAttributes[a]=s}if(t.skinIndices.length>0){var p=new lm(4*t.skinIndices.length,4);this.setAttribute("skinIndex",p.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new lm(4*t.skinWeights.length,4);this.setAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Tf);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Pf(-1/0,-1/0,-1/0),new Pf(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var n=0,i=e.length;n<i;n++)_m.setFromBufferAttribute(e[n]),this.morphTargetsRelative?(Cm.addVectors(this.boundingBox.min,_m.min),this.boundingBox.expandByPoint(Cm),Cm.addVectors(this.boundingBox.max,_m.max),this.boundingBox.expandByPoint(Cm)):(this.boundingBox.expandByPoint(_m.min),this.boundingBox.expandByPoint(_m.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Wf);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Pf,1/0);if(t){var n=this.boundingSphere.center;if(_m.setFromBufferAttribute(t),e)for(var i=0,r=e.length;i<r;i++)ym.setFromBufferAttribute(e[i]),this.morphTargetsRelative?(Cm.addVectors(_m.min,ym.min),_m.expandByPoint(Cm),Cm.addVectors(_m.max,ym.max),_m.expandByPoint(Cm)):(_m.expandByPoint(ym.min),_m.expandByPoint(ym.max));_m.getCenter(n);for(var o=0,a=0,s=t.count;a<s;a++)Cm.fromBufferAttribute(t,a),o=Math.max(o,n.distanceToSquared(Cm));if(e)for(var c=0,l=e.length;c<l;c++)for(var u=e[c],h=this.morphTargetsRelative,d=0,p=u.count;d<p;d++)Cm.fromBufferAttribute(u,d),h&&(bm.fromBufferAttribute(t,d),Cm.add(bm)),o=Math.max(o,n.distanceToSquared(Cm));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.getAttribute("position");if(void 0!==e){var n=this.getAttribute("normal");if(void 0===n)n=new tm(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(var i=0,r=n.count;i<r;i++)n.setXYZ(i,0,0,0);var o=new Pf,a=new Pf,s=new Pf,c=new Pf,l=new Pf,u=new Pf,h=new Pf,d=new Pf;if(t)for(var p=0,f=t.count;p<f;p+=3){var g=t.getX(p+0),m=t.getX(p+1),v=t.getX(p+2);o.fromBufferAttribute(e,g),a.fromBufferAttribute(e,m),s.fromBufferAttribute(e,v),h.subVectors(s,a),d.subVectors(o,a),h.cross(d),c.fromBufferAttribute(n,g),l.fromBufferAttribute(n,m),u.fromBufferAttribute(n,v),c.add(h),l.add(h),u.add(h),n.setXYZ(g,c.x,c.y,c.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(v,u.x,u.y,u.z)}else for(var b=0,_=e.count;b<_;b+=3)o.fromBufferAttribute(e,b+0),a.fromBufferAttribute(e,b+1),s.fromBufferAttribute(e,b+2),h.subVectors(s,a),d.subVectors(o,a),h.cross(d),n.setXYZ(b+0,h.x,h.y,h.z),n.setXYZ(b+1,h.x,h.y,h.z),n.setXYZ(b+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==t.attributes[i])for(var r=n[i].array,o=t.attributes[i],a=o.array,s=o.itemSize*e,c=Math.min(a.length,r.length-s),l=0,u=s;l<c;l++,u++)r[u]=a[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t=this.attributes.normal,e=0,n=t.count;e<n;e++)Cm.fromBufferAttribute(t,e),Cm.normalize(),t.setXYZ(e,Cm.x,Cm.y,Cm.z)},toNonIndexed:function(){function t(t,e){for(var n=t.array,i=t.itemSize,r=t.normalized,o=new n.constructor(e.length*i),a=0,s=0,c=0,l=e.length;c<l;c++){a=e[c]*i;for(var u=0;u<i;u++)o[s++]=n[a++]}return new tm(o,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new xm,n=this.index.array,i=this.attributes;for(var r in i){var o=t(i[r],n);e.setAttribute(r,o)}var a=this.morphAttributes;for(var s in a){for(var c=[],l=a[s],u=0,h=l.length;u<h;u++){var d=t(l[u],n);c.push(d)}e.morphAttributes[s]=c}e.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,f=0,g=p.length;f<g;f++){var m=p[f];e.addGroup(m.start,m.count,m.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var i=this.index;null!==i&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var o in r){var a=r[o],s=a.toJSON(t.data);""!==a.name&&(s.name=a.name),t.data.attributes[o]=s}var c={},l=!1;for(var u in this.morphAttributes){for(var h=this.morphAttributes[u],d=[],p=0,f=h.length;p<f;p++){var g=h[p],m=g.toJSON(t.data);""!==g.name&&(m.name=g.name),d.push(m)}d.length>0&&(c[u]=d,l=!0)}l&&(t.data.morphAttributes=c,t.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(t.data.groups=JSON.parse(JSON.stringify(v)));var b=this.boundingSphere;return null!==b&&(t.data.boundingSphere={center:b.center.toArray(),radius:b.radius}),t},clone:function(){return(new xm).copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var e={};this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone(e));var i=t.attributes;for(var r in i)this.setAttribute(r,i[r].clone(e));var o=t.morphAttributes;for(var a in o){for(var s=[],c=o[a],l=0,u=c.length;l<u;l++)s.push(c[l].clone(e));this.morphAttributes[a]=s}this.morphTargetsRelative=t.morphTargetsRelative;for(var h=t.groups,d=0,p=h.length;d<p;d++){var f=h[d];this.addGroup(f.start,f.count,f.materialIndex)}var g=t.boundingBox;null!==g&&(this.boundingBox=g.clone());var m=t.boundingSphere;return null!==m&&(this.boundingSphere=m.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var wm=new tg,Mm=new Zf,Om=new Wf,Pm=new Pf,km=new Pf,Am=new Pf,Tm=new Pf,Sm=new Pf,Em=new Pf,Im=new Pf,Rm=new Pf,Dm=new Pf,Nm=new mf,Lm=new mf,zm=new mf,jm=new Pf,Fm=new Pf;function qm(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xm,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $g;Og.call(this),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}function Bm(t,e,n,i,r,o,a,s){if(null===(1===e.side?i.intersectTriangle(a,o,r,!0,s):i.intersectTriangle(r,o,a,2!==e.side,s)))return null;Fm.copy(s),Fm.applyMatrix4(t.matrixWorld);var c=n.ray.origin.distanceTo(Fm);return c<n.near||c>n.far?null:{distance:c,point:Fm.clone(),object:t}}function Um(t,e,n,i,r,o,a,s,c,l,u,h){Pm.fromBufferAttribute(r,l),km.fromBufferAttribute(r,u),Am.fromBufferAttribute(r,h);var d=t.morphTargetInfluences;if(e.morphTargets&&o&&d){Im.set(0,0,0),Rm.set(0,0,0),Dm.set(0,0,0);for(var p=0,f=o.length;p<f;p++){var g=d[p],m=o[p];0!==g&&(Tm.fromBufferAttribute(m,l),Sm.fromBufferAttribute(m,u),Em.fromBufferAttribute(m,h),a?(Im.addScaledVector(Tm,g),Rm.addScaledVector(Sm,g),Dm.addScaledVector(Em,g)):(Im.addScaledVector(Tm.sub(Pm),g),Rm.addScaledVector(Sm.sub(km),g),Dm.addScaledVector(Em.sub(Am),g)))}Pm.add(Im),km.add(Rm),Am.add(Dm)}t.isSkinnedMesh&&(t.boneTransform(l,Pm),t.boneTransform(u,km),t.boneTransform(h,Am));var v=Bm(t,e,n,i,Pm,km,Am,jm);if(v){s&&(Nm.fromBufferAttribute(s,l),Lm.fromBufferAttribute(s,u),zm.fromBufferAttribute(s,h),v.uv=qg.getUV(jm,Pm,km,Am,Nm,Lm,zm,new mf)),c&&(Nm.fromBufferAttribute(c,l),Lm.fromBufferAttribute(c,u),zm.fromBufferAttribute(c,h),v.uv2=qg.getUV(jm,Pm,km,Am,Nm,Lm,zm,new mf));var b=new Yg(l,u,h);qg.getNormal(Pm,km,Am,b.normal),v.face=b}return v}qm.prototype=Object.assign(Object.create(Og.prototype),{constructor:qm,isMesh:!0,copy:function(t){return Og.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var i=e[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,o=i.length;r<o;r++){var a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){var n,i=this.geometry,r=this.material,o=this.matrixWorld;if(void 0!==r&&(null===i.boundingSphere&&i.computeBoundingSphere(),Om.copy(i.boundingSphere),Om.applyMatrix4(o),!1!==t.ray.intersectsSphere(Om)&&(wm.copy(o).invert(),Mm.copy(t.ray).applyMatrix4(wm),null===i.boundingBox||!1!==Mm.intersectsBox(i.boundingBox))))if(i.isBufferGeometry){var a=i.index,s=i.attributes.position,c=i.morphAttributes.position,l=i.morphTargetsRelative,u=i.attributes.uv,h=i.attributes.uv2,d=i.groups,p=i.drawRange;if(null!==a)if(Array.isArray(r))for(var f=0,g=d.length;f<g;f++)for(var m=d[f],v=r[m.materialIndex],b=Math.max(m.start,p.start),_=Math.min(m.start+m.count,p.start+p.count);b<_;b+=3){var y=a.getX(b),C=a.getX(b+1),x=a.getX(b+2);(n=Um(this,v,t,Mm,s,c,l,u,h,y,C,x))&&(n.faceIndex=Math.floor(b/3),n.face.materialIndex=m.materialIndex,e.push(n))}else for(var w=Math.max(0,p.start),M=Math.min(a.count,p.start+p.count);w<M;w+=3){var O=a.getX(w),P=a.getX(w+1),k=a.getX(w+2);(n=Um(this,r,t,Mm,s,c,l,u,h,O,P,k))&&(n.faceIndex=Math.floor(w/3),e.push(n))}else if(void 0!==s)if(Array.isArray(r))for(var A=0,T=d.length;A<T;A++)for(var S=d[A],E=r[S.materialIndex],I=Math.max(S.start,p.start),R=Math.min(S.start+S.count,p.start+p.count);I<R;I+=3)(n=Um(this,E,t,Mm,s,c,l,u,h,I,I+1,I+2))&&(n.faceIndex=Math.floor(I/3),n.face.materialIndex=S.materialIndex,e.push(n));else for(var D=Math.max(0,p.start),N=Math.min(s.count,p.start+p.count);D<N;D+=3)(n=Um(this,r,t,Mm,s,c,l,u,h,D,D+1,D+2))&&(n.faceIndex=Math.floor(D/3),e.push(n))}else if(i.isGeometry){var L,z=Array.isArray(r),j=i.vertices,F=i.faces,q=i.faceVertexUvs[0];q.length>0&&(L=q);for(var B=0,U=F.length;B<U;B++){var H=F[B],V=z?r[H.materialIndex]:r;if(void 0!==V){var W=j[H.a],G=j[H.b],Q=j[H.c];if(n=Bm(this,V,t,Mm,W,G,Q,jm)){if(L&&L[B]){var Y=L[B];Nm.copy(Y[0]),Lm.copy(Y[1]),zm.copy(Y[2]),n.uv=qg.getUV(jm,W,G,Q,Nm,Lm,zm,new mf)}n.face=H,n.faceIndex=B,e.push(n)}}}}}});var Hm=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;_classCallCheck(this,n),(t=e.call(this)).type="BoxBufferGeometry",t.parameters={width:i,height:r,depth:o,widthSegments:a,heightSegments:s,depthSegments:c};var l=_assertThisInitialized(t);a=Math.floor(a),s=Math.floor(s),c=Math.floor(c);var u=[],h=[],d=[],p=[],f=0,g=0;function m(t,e,n,i,r,o,a,s,c,m,v){for(var b=o/c,_=a/m,y=o/2,C=a/2,x=s/2,w=c+1,M=m+1,O=0,P=0,k=new Pf,A=0;A<M;A++)for(var T=A*_-C,S=0;S<w;S++)k[t]=(S*b-y)*i,k[e]=T*r,k[n]=x,h.push(k.x,k.y,k.z),k[t]=0,k[e]=0,k[n]=s>0?1:-1,d.push(k.x,k.y,k.z),p.push(S/c),p.push(1-A/m),O+=1;for(var E=0;E<m;E++)for(var I=0;I<c;I++){var R=f+I+w*(E+1),D=f+(I+1)+w*(E+1),N=f+(I+1)+w*E;u.push(f+I+w*E,R,N),u.push(R,D,N),P+=6}l.addGroup(g,P,v),g+=P,f+=O}return m("z","y","x",-1,-1,o,r,i,c,s,0),m("z","y","x",1,-1,o,r,-i,c,s,1),m("x","z","y",1,1,i,o,r,a,c,2),m("x","z","y",1,-1,i,o,-r,a,c,3),m("x","y","z",1,-1,i,r,o,a,s,4),m("x","y","z",-1,-1,i,r,-o,a,s,5),t.setIndex(u),t.setAttribute("position",new lm(h,3)),t.setAttribute("normal",new lm(d,3)),t.setAttribute("uv",new lm(p,2)),t}return n}(xm);function Vm(t){var e={};for(var n in t)for(var i in e[n]={},t[n]){var r=t[n][i];e[n][i]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?r.clone():Array.isArray(r)?r.slice():r}return e}function Wm(t){for(var e={},n=0;n<t.length;n++){var i=Vm(t[n]);for(var r in i)e[r]=i[r]}return e}var Gm={clone:Vm,merge:Wm};function Qm(t){Xg.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function Ym(){Og.call(this),this.type="Camera",this.matrixWorldInverse=new tg,this.projectionMatrix=new tg,this.projectionMatrixInverse=new tg}function Km(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;Ym.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Xm(t,e,n){if(Og.call(this),this.type="CubeCamera",!0===n.isWebGLCubeRenderTarget){this.renderTarget=n;var i=new Km(90,1,t,e);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Pf(1,0,0)),this.add(i);var r=new Km(90,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Pf(-1,0,0)),this.add(r);var o=new Km(90,1,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new Pf(0,1,0)),this.add(o);var a=new Km(90,1,t,e);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Pf(0,-1,0)),this.add(a);var s=new Km(90,1,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Pf(0,0,1)),this.add(s);var c=new Km(90,1,t,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Pf(0,0,-1)),this.add(c),this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var l=t.xr.enabled,u=t.getRenderTarget();t.xr.enabled=!1;var h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,i),t.setRenderTarget(n,1),t.render(e,r),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,a),t.setRenderTarget(n,4),t.render(e,s),n.texture.generateMipmaps=h,t.setRenderTarget(n,5),t.render(e,c),t.setRenderTarget(u),t.xr.enabled=l}}else console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.")}function $m(t,e,n,i,r,o,a,s,c,l){yf.call(this,t=void 0!==t?t:[],e=void 0!==e?e:301,n,i,r,o,a=void 0!==a?a:1022,s,c,l),this.flipY=!1,this._needsFlipEnvMap=!0}function Jm(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),wf.call(this,t,t,e),this.texture=new $m(void 0,(e=e||{}).mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}function Zm(t,e,n,i,r,o,a,s,c,l,u,h){yf.call(this,null,o,a,s,c,l,i,r,u,h),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=void 0!==c?c:1003,this.minFilter=void 0!==l?l:1003,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}(Qm.prototype=Object.create(Xg.prototype)).constructor=Qm,Qm.prototype.isShaderMaterial=!0,Qm.prototype.copy=function(t){return Xg.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Vm(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},Qm.prototype.toJSON=function(t){var e=Xg.prototype.toJSON.call(this,t);for(var n in e.glslVersion=this.glslVersion,e.uniforms={},this.uniforms){var i=this.uniforms[n].value;e.uniforms[n]=i&&i.isTexture?{type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?{type:"c",value:i.getHex()}:i&&i.isVector2?{type:"v2",value:i.toArray()}:i&&i.isVector3?{type:"v3",value:i.toArray()}:i&&i.isVector4?{type:"v4",value:i.toArray()}:i&&i.isMatrix3?{type:"m3",value:i.toArray()}:i&&i.isMatrix4?{type:"m4",value:i.toArray()}:{value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var r={};for(var o in this.extensions)!0===this.extensions[o]&&(r[o]=!0);return Object.keys(r).length>0&&(e.extensions=r),e},Ym.prototype=Object.assign(Object.create(Og.prototype),{constructor:Ym,isCamera:!0,copy:function(t,e){return Og.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new Pf),this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Og.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){Og.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),Km.prototype=Object.assign(Object.create(Ym.prototype),{constructor:Km,isPerspectiveCamera:!0,copy:function(t,e){return Ym.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*gf.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*gf.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*gf.RAD2DEG*Math.atan(Math.tan(.5*gf.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*gf.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/a,e-=o.offsetY*n/s,i*=o.width/a,n*=o.height/s}var c=this.filmOffset;0!==c&&(r+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){var e=Og.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),(Xm.prototype=Object.create(Og.prototype)).constructor=Xm,($m.prototype=Object.create(yf.prototype)).constructor=$m,$m.prototype.isCubeTexture=!0,Object.defineProperty($m.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),(Jm.prototype=Object.create(wf.prototype)).constructor=Jm,Jm.prototype.isWebGLCubeRenderTarget=!0,Jm.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=1023,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;var n=new Hm(5,5,5),i=new Qm({name:"CubemapFromEquirect",uniforms:Vm({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",fragmentShader:"\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",side:1,blending:0});i.uniforms.tEquirect.value=e;var r=new qm(n,i),o=e.minFilter;return 1008===e.minFilter&&(e.minFilter=1006),new Xm(1,10,this).update(t,r),e.minFilter=o,r.geometry.dispose(),r.material.dispose(),this},Jm.prototype.clear=function(t,e,n,i){for(var r=t.getRenderTarget(),o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,n,i);t.setRenderTarget(r)},(Zm.prototype=Object.create(yf.prototype)).constructor=Zm,Zm.prototype.isDataTexture=!0;var tv=new Wf,ev=new Pf,nv=function(){function t(e,n,i,r,o,a){_classCallCheck(this,t),this.planes=[void 0!==e?e:new Tg,void 0!==n?n:new Tg,void 0!==i?i:new Tg,void 0!==r?r:new Tg,void 0!==o?o:new Tg,void 0!==a?a:new Tg]}return _createClass(t,[{key:"set",value:function(t,e,n,i,r,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(o),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(t){var e=this.planes,n=t.elements,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],c=n[5],l=n[6],u=n[7],h=n[8],d=n[9],p=n[10],f=n[11],g=n[12],m=n[13],v=n[14],b=n[15];return e[0].setComponents(a-i,u-s,f-h,b-g).normalize(),e[1].setComponents(a+i,u+s,f+h,b+g).normalize(),e[2].setComponents(a+r,u+c,f+d,b+m).normalize(),e[3].setComponents(a-r,u-c,f-d,b-m).normalize(),e[4].setComponents(a-o,u-l,f-p,b-v).normalize(),e[5].setComponents(a+o,u+l,f+p,b+v).normalize(),this}},{key:"intersectsObject",value:function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),tv.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(tv)}},{key:"intersectsSprite",value:function(t){return tv.center.set(0,0,0),tv.radius=.7071067811865476,tv.applyMatrix4(t.matrixWorld),this.intersectsSphere(tv)}},{key:"intersectsSphere",value:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;r<6;r++)if(e[r].distanceToPoint(n)<i)return!1;return!0}},{key:"intersectsBox",value:function(t){for(var e=this.planes,n=0;n<6;n++){var i=e[n];if(ev.x=i.normal.x>0?t.max.x:t.min.x,ev.y=i.normal.y>0?t.max.y:t.min.y,ev.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(ev)<0)return!1}return!0}},{key:"containsPoint",value:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}]),t}();function iv(){var t=null,e=!1,n=null,i=null;function r(e,o){n(e,o),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function rv(t,e){var n=e.isWebGL2,i=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),i.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);var n=i.get(e);n&&(t.deleteBuffer(n.buffer),i.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){var o=i.get(e);(!o||o.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version})}else{e.isInterleavedBufferAttribute&&(e=e.data);var a=i.get(e);void 0===a?i.set(e,function(e,i){var r=e.array,o=e.usage,a=t.createBuffer();t.bindBuffer(i,a),t.bufferData(i,r,o),e.onUploadCallback();var s=5126;return r instanceof Float32Array?s=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?e.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:r instanceof Int16Array?s=5122:r instanceof Uint32Array?s=5125:r instanceof Int32Array?s=5124:r instanceof Int8Array?s=5120:r instanceof Uint8Array&&(s=5121),{buffer:a,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,r)):a.version<e.version&&(function(e,i,r){var o=i.array,a=i.updateRange;t.bindBuffer(r,e),-1===a.count?t.bufferSubData(r,0,o):(n?t.bufferSubData(r,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):t.bufferSubData(r,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}(a.buffer,e,r),a.version=e.version)}}}}var ov=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,n),(t=e.call(this)).type="PlaneBufferGeometry",t.parameters={width:i,height:r,widthSegments:o,heightSegments:a};for(var s=i/2,c=r/2,l=Math.floor(o),u=Math.floor(a),h=l+1,d=u+1,p=i/l,f=r/u,g=[],m=[],v=[],b=[],_=0;_<d;_++)for(var y=_*f-c,C=0;C<h;C++)m.push(C*p-s,-y,0),v.push(0,0,1),b.push(C/l),b.push(1-_/u);for(var x=0;x<u;x++)for(var w=0;w<l;w++){var M=w+h*(x+1),O=w+1+h*(x+1),P=w+1+h*x;g.push(w+h*x,M,P),g.push(M,O,P)}return t.setIndex(g),t.setAttribute("position",new lm(m,3)),t.setAttribute("normal",new lm(v,3)),t.setAttribute("uv",new lm(b,2)),t}return n}(xm),av={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},sv={common:{diffuse:{value:new Qg(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new vf},uv2Transform:{value:new vf},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new mf(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Qg(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Qg(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new vf}},sprite:{diffuse:{value:new Qg(15658734)},opacity:{value:1},center:{value:new mf(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new vf}}},cv={basic:{uniforms:Wm([sv.common,sv.specularmap,sv.envmap,sv.aomap,sv.lightmap,sv.fog]),vertexShader:av.meshbasic_vert,fragmentShader:av.meshbasic_frag},lambert:{uniforms:Wm([sv.common,sv.specularmap,sv.envmap,sv.aomap,sv.lightmap,sv.emissivemap,sv.fog,sv.lights,{emissive:{value:new Qg(0)}}]),vertexShader:av.meshlambert_vert,fragmentShader:av.meshlambert_frag},phong:{uniforms:Wm([sv.common,sv.specularmap,sv.envmap,sv.aomap,sv.lightmap,sv.emissivemap,sv.bumpmap,sv.normalmap,sv.displacementmap,sv.fog,sv.lights,{emissive:{value:new Qg(0)},specular:{value:new Qg(1118481)},shininess:{value:30}}]),vertexShader:av.meshphong_vert,fragmentShader:av.meshphong_frag},standard:{uniforms:Wm([sv.common,sv.envmap,sv.aomap,sv.lightmap,sv.emissivemap,sv.bumpmap,sv.normalmap,sv.displacementmap,sv.roughnessmap,sv.metalnessmap,sv.fog,sv.lights,{emissive:{value:new Qg(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:av.meshphysical_vert,fragmentShader:av.meshphysical_frag},toon:{uniforms:Wm([sv.common,sv.aomap,sv.lightmap,sv.emissivemap,sv.bumpmap,sv.normalmap,sv.displacementmap,sv.gradientmap,sv.fog,sv.lights,{emissive:{value:new Qg(0)}}]),vertexShader:av.meshtoon_vert,fragmentShader:av.meshtoon_frag},matcap:{uniforms:Wm([sv.common,sv.bumpmap,sv.normalmap,sv.displacementmap,sv.fog,{matcap:{value:null}}]),vertexShader:av.meshmatcap_vert,fragmentShader:av.meshmatcap_frag},points:{uniforms:Wm([sv.points,sv.fog]),vertexShader:av.points_vert,fragmentShader:av.points_frag},dashed:{uniforms:Wm([sv.common,sv.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:av.linedashed_vert,fragmentShader:av.linedashed_frag},depth:{uniforms:Wm([sv.common,sv.displacementmap]),vertexShader:av.depth_vert,fragmentShader:av.depth_frag},normal:{uniforms:Wm([sv.common,sv.bumpmap,sv.normalmap,sv.displacementmap,{opacity:{value:1}}]),vertexShader:av.normal_vert,fragmentShader:av.normal_frag},sprite:{uniforms:Wm([sv.sprite,sv.fog]),vertexShader:av.sprite_vert,fragmentShader:av.sprite_frag},background:{uniforms:{uvTransform:{value:new vf},t2D:{value:null}},vertexShader:av.background_vert,fragmentShader:av.background_frag},cube:{uniforms:Wm([sv.envmap,{opacity:{value:1}}]),vertexShader:av.cube_vert,fragmentShader:av.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:av.equirect_vert,fragmentShader:av.equirect_frag},distanceRGBA:{uniforms:Wm([sv.common,sv.displacementmap,{referencePosition:{value:new Pf},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:av.distanceRGBA_vert,fragmentShader:av.distanceRGBA_frag},shadow:{uniforms:Wm([sv.lights,sv.fog,{color:{value:new Qg(0)},opacity:{value:1}}]),vertexShader:av.shadow_vert,fragmentShader:av.shadow_frag}};function lv(t,e,n,i,r){var o,a,s=new Qg(0),c=0,l=null,u=0,h=null;function d(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,r)}return{getClearColor:function(){return s},setClearColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(t),d(s,c=e)},getClearAlpha:function(){return c},setClearAlpha:function(t){d(s,c=t)},render:function(n,r,p,f){var g=!0===r.isScene?r.background:null;g&&g.isTexture&&(g=e.get(g));var m=t.xr,v=m.getSession&&m.getSession();v&&"additive"===v.environmentBlendMode&&(g=null),null===g?d(s,c):g&&g.isColor&&(d(g,1),f=!0),(t.autoClear||f)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),g&&(g.isCubeTexture||g.isWebGLCubeRenderTarget||306===g.mapping)?(void 0===a&&((a=new qm(new Hm(1,1,1),new Qm({name:"BackgroundCubeMaterial",uniforms:Vm(cv.cube.uniforms),vertexShader:cv.cube.vertexShader,fragmentShader:cv.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(a)),g.isWebGLCubeRenderTarget&&(g=g.texture),a.material.uniforms.envMap.value=g,a.material.uniforms.flipEnvMap.value=g.isCubeTexture&&g._needsFlipEnvMap?-1:1,l===g&&u===g.version&&h===t.toneMapping||(a.material.needsUpdate=!0,l=g,u=g.version,h=t.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null)):g&&g.isTexture&&(void 0===o&&((o=new qm(new ov(2,2),new Qm({name:"BackgroundMaterial",uniforms:Vm(cv.background.uniforms),vertexShader:cv.background.vertexShader,fragmentShader:cv.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(o)),o.material.uniforms.t2D.value=g,!0===g.matrixAutoUpdate&&g.updateMatrix(),o.material.uniforms.uvTransform.value.copy(g.matrix),l===g&&u===g.version&&h===t.toneMapping||(o.material.needsUpdate=!0,l=g,u=g.version,h=t.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null))}}}function uv(t,e,n,i){var r=t.getParameter(34921),o=i.isWebGL2?null:e.get("OES_vertex_array_object"),a=i.isWebGL2||null!==o,s={},c=d(null),l=c;function u(e){return i.isWebGL2?t.bindVertexArray(e):o.bindVertexArrayOES(e)}function h(e){return i.isWebGL2?t.deleteVertexArray(e):o.deleteVertexArrayOES(e)}function d(t){for(var e=[],n=[],i=[],o=0;o<r;o++)e[o]=0,n[o]=0,i[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:i,object:t,attributes:{},index:null}}function p(){for(var t=l.newAttributes,e=0,n=t.length;e<n;e++)t[e]=0}function f(t){g(t,0)}function g(n,r){var o=l.enabledAttributes,a=l.attributeDivisors;l.newAttributes[n]=1,0===o[n]&&(t.enableVertexAttribArray(n),o[n]=1),a[n]!==r&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),a[n]=r)}function m(){for(var e=l.newAttributes,n=l.enabledAttributes,i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function v(e,n,r,o,a,s){!0!==i.isWebGL2||5124!==r&&5125!==r?t.vertexAttribPointer(e,n,r,o,a,s):t.vertexAttribIPointer(e,n,r,a,s)}function b(){_(),l!==c&&u((l=c).object)}function _(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function(r,c,h,b,_){var y=!1;if(a){var C=function(e,n,r){var a=!0===r.wireframe,c=s[e.id];void 0===c&&(c={},s[e.id]=c);var l=c[n.id];void 0===l&&(l={},c[n.id]=l);var u=l[a];return void 0===u&&(u=d(i.isWebGL2?t.createVertexArray():o.createVertexArrayOES()),l[a]=u),u}(b,h,c);l!==C&&u((l=C).object),(y=function(t,e){var n=l.attributes,i=t.attributes,r=0;for(var o in i){var a=n[o],s=i[o];if(void 0===a)return!0;if(a.attribute!==s)return!0;if(a.data!==s.data)return!0;r++}return l.attributesNum!==r||l.index!==e}(b,_))&&function(t,e){var n={},i=t.attributes,r=0;for(var o in i){var a=i[o],s={};s.attribute=a,a.data&&(s.data=a.data),n[o]=s,r++}l.attributes=n,l.attributesNum=r,l.index=e}(b,_)}else{var x=!0===c.wireframe;l.geometry===b.id&&l.program===h.id&&l.wireframe===x||(l.geometry=b.id,l.program=h.id,l.wireframe=x,y=!0)}!0===r.isInstancedMesh&&(y=!0),null!==_&&n.update(_,34963),y&&(function(r,o,a,s){if(!1!==i.isWebGL2||!r.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==e.get("ANGLE_instanced_arrays")){p();var c=s.attributes,l=a.getAttributes(),u=o.defaultAttributeValues;for(var h in l){var d=l[h];if(d>=0){var b=c[h];if(void 0!==b){var _=b.normalized,y=b.itemSize,C=n.get(b);if(void 0===C)continue;var x=C.buffer,w=C.type,M=C.bytesPerElement;if(b.isInterleavedBufferAttribute){var O=b.data,P=O.stride,k=b.offset;O&&O.isInstancedInterleavedBuffer?(g(d,O.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=O.meshPerAttribute*O.count)):f(d),t.bindBuffer(34962,x),v(d,y,w,_,P*M,k*M)}else b.isInstancedBufferAttribute?(g(d,b.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=b.meshPerAttribute*b.count)):f(d),t.bindBuffer(34962,x),v(d,y,w,_,0,0)}else if("instanceMatrix"===h){var A=n.get(r.instanceMatrix);if(void 0===A)continue;var T=A.buffer,S=A.type;g(d+0,1),g(d+1,1),g(d+2,1),g(d+3,1),t.bindBuffer(34962,T),t.vertexAttribPointer(d+0,4,S,!1,64,0),t.vertexAttribPointer(d+1,4,S,!1,64,16),t.vertexAttribPointer(d+2,4,S,!1,64,32),t.vertexAttribPointer(d+3,4,S,!1,64,48)}else if("instanceColor"===h){var E=n.get(r.instanceColor);if(void 0===E)continue;var I=E.buffer,R=E.type;g(d,1),t.bindBuffer(34962,I),t.vertexAttribPointer(d,3,R,!1,12,0)}else if(void 0!==u){var D=u[h];if(void 0!==D)switch(D.length){case 2:t.vertexAttrib2fv(d,D);break;case 3:t.vertexAttrib3fv(d,D);break;case 4:t.vertexAttrib4fv(d,D);break;default:t.vertexAttrib1fv(d,D)}}}}m()}}(r,c,h,b),null!==_&&t.bindBuffer(34963,n.get(_).buffer))},reset:b,resetDefaultState:_,dispose:function(){for(var t in b(),s){var e=s[t];for(var n in e){var i=e[n];for(var r in i)h(i[r].object),delete i[r];delete e[n]}delete s[t]}},releaseStatesOfGeometry:function(t){if(void 0!==s[t.id]){var e=s[t.id];for(var n in e){var i=e[n];for(var r in i)h(i[r].object),delete i[r];delete e[n]}delete s[t.id]}},releaseStatesOfProgram:function(t){for(var e in s){var n=s[e];if(void 0!==n[t.id]){var i=n[t.id];for(var r in i)h(i[r].object),delete i[r];delete n[t.id]}}},initAttributes:p,enableAttribute:f,disableUnusedAttributes:m}}function hv(t,e,n,i){var r,o=i.isWebGL2;this.setMode=function(t){r=t},this.render=function(e,i){t.drawArrays(r,e,i),n.update(i,r,1)},this.renderInstances=function(i,a,s){if(0!==s){var c,l;if(o)c=t,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(c=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[l](r,i,a,s),n.update(a,r,s)}}}function dv(t,e,n){var i;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext,a=void 0!==n.precision?n.precision:"highp",s=r(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var c=!0===n.logarithmicDepthBuffer,l=t.getParameter(34930),u=t.getParameter(35660),h=t.getParameter(3379),d=t.getParameter(34076),p=t.getParameter(34921),f=t.getParameter(36347),g=t.getParameter(36348),m=t.getParameter(36349),v=u>0,b=o||!!e.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==i)return i;var n=e.get("EXT_texture_filter_anisotropic");return i=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:f,maxVaryings:g,maxFragmentUniforms:m,vertexTextures:v,floatFragmentTextures:b,floatVertexTextures:v&&b,maxSamples:o?t.getParameter(36183):0}}function pv(t){var e=this,n=null,i=0,r=!1,o=!1,a=new Tg,s=new vf,c={value:null,needsUpdate:!1};function l(){c.value!==n&&(c.value=n,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(t,n,i,r){var o=null!==t?t.length:0,l=null;if(0!==o){if(l=c.value,!0!==r||null===l){var u=i+4*o,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===l||l.length<u)&&(l=new Float32Array(u));for(var d=0,p=i;d!==o;++d,p+=4)a.copy(t[d]).applyMatrix4(h,s),a.normal.toArray(l,p),l[p+3]=a.constant}c.value=l,c.needsUpdate=!0}return e.numPlanes=o,e.numIntersection=0,l}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,o){var a=0!==t.length||e||0!==i||r;return r=e,n=u(t,o,0),i=t.length,a},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1,l()},this.setState=function(e,a,s){var h=e.clippingPlanes,d=e.clipIntersection,p=e.clipShadows,f=t.get(e);if(!r||null===h||0===h.length||o&&!p)o?u(null):l();else{var g=o?0:i,m=4*g,v=f.clippingState||null;c.value=v,v=u(h,a,m,s);for(var b=0;b!==m;++b)v[b]=n[b];f.clippingState=v,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=g}}}function fv(t){var e=new WeakMap;function n(t,e){return 303===e?t.mapping=301:304===e&&(t.mapping=302),t}function i(t){var n=t.target;n.removeEventListener("dispose",i);var r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){var o=r.mapping;if(303===o||304===o){if(e.has(r))return n(e.get(r).texture,r.mapping);var a=r.image;if(a&&a.height>0){var s=t.getRenderList(),c=t.getRenderTarget(),l=new Jm(a.height/2);return l.fromEquirectangularTexture(t,r),e.set(r,l),t.setRenderTarget(c),t.setRenderList(s),r.addEventListener("dispose",i),n(l.texture,r.mapping)}return null}}return r},dispose:function(){e=new WeakMap}}}function gv(t){var e={};return{has:function(n){if(void 0!==e[n])return null!==e[n];var i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,null!==i},get:function(t){return this.has(t)||console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e[t]}}}function mv(t,e,n,i){var r=new WeakMap,o=new WeakMap;function a(t){var s=t.target,c=r.get(s);for(var l in null!==c.index&&e.remove(c.index),c.attributes)e.remove(c.attributes[l]);s.removeEventListener("dispose",a),r.delete(s);var u=o.get(c);u&&(e.remove(u),o.delete(c)),i.releaseStatesOfGeometry(c),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(t){var n=[],i=t.index,r=t.attributes.position,a=0;if(null!==i){var s=i.array;a=i.version;for(var c=0,l=s.length;c<l;c+=3){var u=s[c+0],h=s[c+1],d=s[c+2];n.push(u,h,h,d,d,u)}}else{a=r.version;for(var p=0,f=r.array.length/3-1;p<f;p+=3){var g=p+0,m=p+1,v=p+2;n.push(g,m,m,v,v,g)}}var b=new(dm(n)>65535?sm:om)(n,1);b.version=a;var _=o.get(t);_&&e.remove(_),o.set(t,b)}return{get:function(t,e){var i=r.get(e);return i||(e.addEventListener("dispose",a),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new xm).setFromObject(t)),i=e._bufferGeometry),r.set(e,i),n.memory.geometries++,i)},update:function(t){var n=t.attributes;for(var i in n)e.update(n[i],34962);var r=t.morphAttributes;for(var o in r)for(var a=r[o],s=0,c=a.length;s<c;s++)e.update(a[s],34962)},getWireframeAttribute:function(t){var e=o.get(t);if(e){var n=t.index;null!==n&&e.version<n.version&&s(t)}else s(t);return o.get(t)}}}function vv(t,e,n,i){var r,o,a,s=i.isWebGL2;this.setMode=function(t){r=t},this.setIndex=function(t){o=t.type,a=t.bytesPerElement},this.render=function(e,i){t.drawElements(r,i,o,e*a),n.update(i,r,1)},this.renderInstances=function(i,c,l){if(0!==l){var u,h;if(s)u=t,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(u=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](r,c,o,i*a,l),n.update(c,r,l)}}}function bv(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,i){switch(e.calls++,n){case 4:e.triangles+=i*(t/3);break;case 1:e.lines+=i*(t/2);break;case 3:e.lines+=i*(t-1);break;case 2:e.lines+=i*t;break;case 0:e.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function _v(t,e){return t[0]-e[0]}function yv(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Cv(t){for(var e={},n=new Float32Array(8),i=[],r=0;r<8;r++)i[r]=[r,0];return{update:function(r,o,a,s){var c=r.morphTargetInfluences,l=void 0===c?0:c.length,u=e[o.id];if(void 0===u){u=[];for(var h=0;h<l;h++)u[h]=[h,0];e[o.id]=u}for(var d=0;d<l;d++){var p=u[d];p[0]=d,p[1]=c[d]}u.sort(yv);for(var f=0;f<8;f++)f<l&&u[f][1]?(i[f][0]=u[f][0],i[f][1]=u[f][1]):(i[f][0]=Number.MAX_SAFE_INTEGER,i[f][1]=0);i.sort(_v);for(var g=a.morphTargets&&o.morphAttributes.position,m=a.morphNormals&&o.morphAttributes.normal,v=0,b=0;b<8;b++){var _=i[b],y=_[0],C=_[1];y!==Number.MAX_SAFE_INTEGER&&C?(g&&o.getAttribute("morphTarget"+b)!==g[y]&&o.setAttribute("morphTarget"+b,g[y]),m&&o.getAttribute("morphNormal"+b)!==m[y]&&o.setAttribute("morphNormal"+b,m[y]),n[b]=C,v+=C):(g&&!0===o.hasAttribute("morphTarget"+b)&&o.deleteAttribute("morphTarget"+b),m&&!0===o.hasAttribute("morphNormal"+b)&&o.deleteAttribute("morphNormal"+b),n[b]=0)}var x=o.morphTargetsRelative?1:1-v;s.getUniforms().setValue(t,"morphTargetBaseInfluence",x),s.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function xv(t,e,n,i){var r=new WeakMap;function o(t){var e=t.target;e.removeEventListener("dispose",o),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(t){var a=i.render.frame,s=t.geometry,c=e.get(t,s);return r.get(c)!==a&&(s.isGeometry&&c.updateFromObject(t),e.update(c),r.set(c,a)),t.isInstancedMesh&&(!1===t.hasEventListener("dispose",o)&&t.addEventListener("dispose",o),n.update(t.instanceMatrix,34962),null!==t.instanceColor&&n.update(t.instanceColor,34962)),c},dispose:function(){r=new WeakMap}}}function wv(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;yf.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Mv(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;yf.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}cv.physical={uniforms:Wm([cv.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new mf(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Qg(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:av.meshphysical_vert,fragmentShader:av.meshphysical_frag},(wv.prototype=Object.create(yf.prototype)).constructor=wv,wv.prototype.isDataTexture2DArray=!0,(Mv.prototype=Object.create(yf.prototype)).constructor=Mv,Mv.prototype.isDataTexture3D=!0;var Ov=new yf,Pv=new wv,kv=new Mv,Av=new $m,Tv=[],Sv=[],Ev=new Float32Array(16),Iv=new Float32Array(9),Rv=new Float32Array(4);function Dv(t,e,n){var i=t[0];if(i<=0||i>0)return t;var r=e*n,o=Tv[r];if(void 0===o&&(o=new Float32Array(r),Tv[r]=o),0!==e){i.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function Nv(t,e){if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Lv(t,e){for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}function zv(t,e){var n=Sv[e];void 0===n&&(n=new Int32Array(e),Sv[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function jv(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Fv(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Nv(n,e))return;t.uniform2fv(this.addr,e),Lv(n,e)}}function qv(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Nv(n,e))return;t.uniform3fv(this.addr,e),Lv(n,e)}}function Bv(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Nv(n,e))return;t.uniform4fv(this.addr,e),Lv(n,e)}}function Uv(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(Nv(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Lv(n,e)}else{if(Nv(n,i))return;Rv.set(i),t.uniformMatrix2fv(this.addr,!1,Rv),Lv(n,i)}}function Hv(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(Nv(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Lv(n,e)}else{if(Nv(n,i))return;Iv.set(i),t.uniformMatrix3fv(this.addr,!1,Iv),Lv(n,i)}}function Vv(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(Nv(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Lv(n,e)}else{if(Nv(n,i))return;Ev.set(i),t.uniformMatrix4fv(this.addr,!1,Ev),Lv(n,i)}}function Wv(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||Ov,r)}function Gv(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||Pv,r)}function Qv(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||kv,r)}function Yv(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||Av,r)}function Kv(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Xv(t,e){var n=this.cache;Nv(n,e)||(t.uniform2iv(this.addr,e),Lv(n,e))}function $v(t,e){var n=this.cache;Nv(n,e)||(t.uniform3iv(this.addr,e),Lv(n,e))}function Jv(t,e){var n=this.cache;Nv(n,e)||(t.uniform4iv(this.addr,e),Lv(n,e))}function Zv(t,e){var n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function tb(t,e){t.uniform1fv(this.addr,e)}function eb(t,e){t.uniform1iv(this.addr,e)}function nb(t,e){t.uniform2iv(this.addr,e)}function ib(t,e){t.uniform3iv(this.addr,e)}function rb(t,e){t.uniform4iv(this.addr,e)}function ob(t,e){var n=Dv(e,this.size,2);t.uniform2fv(this.addr,n)}function ab(t,e){var n=Dv(e,this.size,3);t.uniform3fv(this.addr,n)}function sb(t,e){var n=Dv(e,this.size,4);t.uniform4fv(this.addr,n)}function cb(t,e){var n=Dv(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function lb(t,e){var n=Dv(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function ub(t,e){var n=Dv(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function hb(t,e,n){var i=e.length,r=zv(n,i);t.uniform1iv(this.addr,r);for(var o=0;o!==i;++o)n.safeSetTexture2D(e[o]||Ov,r[o])}function db(t,e,n){var i=e.length,r=zv(n,i);t.uniform1iv(this.addr,r);for(var o=0;o!==i;++o)n.safeSetTextureCube(e[o]||Av,r[o])}function pb(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return jv;case 35664:return Fv;case 35665:return qv;case 35666:return Bv;case 35674:return Uv;case 35675:return Hv;case 35676:return Vv;case 5124:case 35670:return Kv;case 35667:case 35671:return Xv;case 35668:case 35672:return $v;case 35669:case 35673:return Jv;case 5125:return Zv;case 35678:case 36198:case 36298:case 36306:case 35682:return Wv;case 35679:case 36299:case 36307:return Qv;case 35680:case 36300:case 36308:case 36293:return Yv;case 36289:case 36303:case 36311:case 36292:return Gv}}(e.type)}function fb(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return tb;case 35664:return ob;case 35665:return ab;case 35666:return sb;case 35674:return cb;case 35675:return lb;case 35676:return ub;case 5124:case 35670:return eb;case 35667:case 35671:return nb;case 35668:case 35672:return ib;case 35669:case 35673:return rb;case 35678:case 36198:case 36298:case 36306:case 35682:return hb;case 35680:case 36300:case 36308:case 36293:return db}}(e.type)}function gb(t){this.id=t,this.seq=[],this.map={}}fb.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),Lv(e,t)},gb.prototype.setValue=function(t,e,n){for(var i=this.seq,r=0,o=i.length;r!==o;++r){var a=i[r];a.setValue(t,e[a.id],n)}};var mb=/(\w+)(\])?(\[|\.)?/g;function vb(t,e){t.seq.push(e),t.map[e.id]=e}function bb(t,e,n){var i=t.name,r=i.length;for(mb.lastIndex=0;;){var o=mb.exec(i),a=mb.lastIndex,s=o[1],c=o[3];if("]"===o[2]&&(s|=0),void 0===c||"["===c&&a+2===r){vb(n,void 0===c?new pb(s,t,e):new fb(s,t,e));break}var l=n.map[s];void 0===l&&vb(n,l=new gb(s)),n=l}}function _b(t,e){this.seq=[],this.map={};for(var n=t.getProgramParameter(e,35718),i=0;i<n;++i){var r=t.getActiveUniform(e,i);bb(r,t.getUniformLocation(e,r.name),this)}}function yb(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}_b.prototype.setValue=function(t,e,n,i){var r=this.map[e];void 0!==r&&r.setValue(t,n,i)},_b.prototype.setOptional=function(t,e,n){var i=e[n];void 0!==i&&this.setValue(t,n,i)},_b.upload=function(t,e,n,i){for(var r=0,o=e.length;r!==o;++r){var a=e[r],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,i)}},_b.seqWithValue=function(t,e){for(var n=[],i=0,r=t.length;i!==r;++i){var o=t[i];o.id in e&&n.push(o)}return n};var Cb=0;function xb(t){switch(t){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function wb(t,e,n){var i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}(t.getShaderSource(e))}function Mb(t,e){var n=xb(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Ob(t,e){var n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Pb(t){return""!==t}function kb(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Ab(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var Tb=/^[ \t]*#include +<([\w\d./]+)>/gm;function Sb(t){return t.replace(Tb,Eb)}function Eb(t,e){var n=av[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Sb(n)}var Ib=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Rb=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Db(t){return t.replace(Rb,Lb).replace(Ib,Nb)}function Nb(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Lb(0,e,n,i)}function Lb(t,e,n,i){for(var r="",o=parseInt(e);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function zb(t){var e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function jb(t,e,n,i){var r,o,a,s,c,l=t.getContext(),u=n.defines,h=n.vertexShader,d=n.fragmentShader,p=function(t){var e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),f=function(t){var e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),g=function(t){var e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:case 307:e="ENVMAP_MODE_REFRACTION"}return e}(n),m=function(t){var e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),v=t.gammaFactor>0?t.gammaFactor:1,b=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Pb).join("\n")}(n),_=function(t){var e=[];for(var n in t){var i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(u),y=l.createProgram(),C=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((r=[_].filter(Pb).join("\n")).length>0&&(r+="\n"),(o=[b,_].filter(Pb).join("\n")).length>0&&(o+="\n")):(r=[zb(n),"#define SHADER_NAME "+n.shaderName,_,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+v,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+g:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+p:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Pb).join("\n"),o=[b,zb(n),"#define SHADER_NAME "+n.shaderName,_,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+g:"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+p:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?av.tonemapping_pars_fragment:"",0!==n.toneMapping?Ob("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",av.encodings_pars_fragment,n.map?Mb("mapTexelToLinear",n.mapEncoding):"",n.matcap?Mb("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Mb("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Mb("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Mb("lightMapTexelToLinear",n.lightMapEncoding):"",(a="linearToOutputTexel",s=n.outputEncoding,c=xb(s),"vec4 "+a+"( vec4 value ) { return LinearTo"+c[0]+c[1]+"; }"),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Pb).join("\n")),h=Ab(h=kb(h=Sb(h),n),n),d=Ab(d=kb(d=Sb(d),n),n),h=Db(h),d=Db(d),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(C="#version 300 es\n",r=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+r,o=["#define varying in","300 es"===n.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===n.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+o);var x,w,M=C+o+d,O=yb(l,35633,C+r+h),P=yb(l,35632,M);if(l.attachShader(y,O),l.attachShader(y,P),void 0!==n.index0AttributeName?l.bindAttribLocation(y,0,n.index0AttributeName):!0===n.morphTargets&&l.bindAttribLocation(y,0,"position"),l.linkProgram(y),t.debug.checkShaderErrors){var k=l.getProgramInfoLog(y).trim(),A=l.getShaderInfoLog(O).trim(),T=l.getShaderInfoLog(P).trim(),S=!0,E=!0;if(!1===l.getProgramParameter(y,35714)){S=!1;var I=wb(l,O,"vertex"),R=wb(l,P,"fragment");console.error("THREE.WebGLProgram: shader error: ",l.getError(),"35715",l.getProgramParameter(y,35715),"gl.getProgramInfoLog",k,I,R)}else""!==k?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",k):""!==A&&""!==T||(E=!1);E&&(this.diagnostics={runnable:S,programLog:k,vertexShader:{log:A,prefix:r},fragmentShader:{log:T,prefix:o}})}return l.deleteShader(O),l.deleteShader(P),this.getUniforms=function(){return void 0===x&&(x=new _b(l,y)),x},this.getAttributes=function(){return void 0===w&&(w=function(t,e){for(var n={},i=t.getProgramParameter(e,35721),r=0;r<i;r++){var o=t.getActiveAttrib(e,r).name;n[o]=t.getAttribLocation(e,o)}return n}(l,y)),w},this.destroy=function(){i.releaseStatesOfProgram(this),l.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=Cb++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=O,this.fragmentShader=P,this}function Fb(t,e,n,i,r,o){var a=[],s=i.isWebGL2,c=i.logarithmicDepthBuffer,l=i.floatVertexTextures,u=i.maxVertexUniforms,h=i.vertexTextures,d=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function g(t){var e;return t&&t.isTexture?e=t.encoding:t&&t.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=3e3,e}return{getParameters:function(r,a,f,m,v){var b,_,y=m.fog,C=e.get(r.envMap||(r.isMeshStandardMaterial?m.environment:null)),x=p[r.type],w=v.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(l)return 1024;var n=Math.floor((u-20)/4),i=Math.min(n,e.length);return i<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+i+"."),0):i}(v):0;if(null!==r.precision&&((d=i.getMaxPrecision(r.precision))!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",d,"instead.")),x){var M=cv[x];b=M.vertexShader,_=M.fragmentShader}else b=r.vertexShader,_=r.fragmentShader;var O=t.getRenderTarget();return{isWebGL2:s,shaderID:x,shaderName:r.type,vertexShader:b,fragmentShader:_,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:d,instancing:!0===v.isInstancedMesh,instancingColor:!0===v.isInstancedMesh&&null!==v.instanceColor,supportsVertexTextures:h,outputEncoding:null!==O?g(O.texture):t.outputEncoding,map:!!r.map,mapEncoding:g(r.map),matcap:!!r.matcap,matcapEncoding:g(r.matcap),envMap:!!C,envMapMode:C&&C.mapping,envMapEncoding:g(C),envMapCubeUV:!!C&&(306===C.mapping||307===C.mapping),lightMap:!!r.lightMap,lightMapEncoding:g(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:g(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:0===r.normalMapType,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap||r.transmissionMap),uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap||!r.displacementMap),fog:!!y,useFog:r.fog,fogExp2:y&&y.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:c,skinning:r.skinning&&w>0,maxBones:w,useVertexTexture:l,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:r.dithering,shadowMapEnabled:t.shadowMap.enabled&&f.length>0,shadowMapType:t.shadowMap.type,toneMapping:r.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:2===r.side,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)n.push(i),n.push(e.defines[i]);if(!1===e.isRawShaderMaterial){for(var r=0;r<f.length;r++)n.push(e[f[r]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){var e=p[t.type];return e?Gm.clone(cv[e].uniforms):t.uniforms},acquireProgram:function(e,n){for(var i,o=0,s=a.length;o<s;o++){var c=a[o];if(c.cacheKey===n){++(i=c).usedTimes;break}}return void 0===i&&(i=new jb(t,n,e,r),a.push(i)),i},releaseProgram:function(t){if(0==--t.usedTimes){var e=a.indexOf(t);a[e]=a[a.length-1],a.pop(),t.destroy()}},programs:a}}function qb(){var t=new WeakMap;return{get:function(e){var n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function Bb(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Ub(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Hb(t){var e=[],n=0,i=[],r=[],o={id:-1};function a(i,r,a,s,c,l){var u=e[n],h=t.get(a);return void 0===u?(u={id:i.id,object:i,geometry:r,material:a,program:h.program||o,groupOrder:s,renderOrder:i.renderOrder,z:c,group:l},e[n]=u):(u.id=i.id,u.object=i,u.geometry=r,u.material=a,u.program=h.program||o,u.groupOrder=s,u.renderOrder=i.renderOrder,u.z=c,u.group=l),n++,u}return{opaque:i,transparent:r,init:function(){n=0,i.length=0,r.length=0},push:function(t,e,n,o,s,c){var l=a(t,e,n,o,s,c);(!0===n.transparent?r:i).push(l)},unshift:function(t,e,n,o,s,c){var l=a(t,e,n,o,s,c);(!0===n.transparent?r:i).unshift(l)},finish:function(){for(var t=n,i=e.length;t<i;t++){var r=e[t];if(null===r.id)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.program=null,r.group=null}},sort:function(t,e){i.length>1&&i.sort(t||Bb),r.length>1&&r.sort(e||Ub)}}}function Vb(t){var e=new WeakMap;return{get:function(n,i){var r,o=e.get(n);return void 0===o?(r=new Hb(t),e.set(n,new WeakMap),e.get(n).set(i,r)):void 0===(r=o.get(i))&&(r=new Hb(t),o.set(i,r)),r},dispose:function(){e=new WeakMap}}}function Wb(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new Pf,color:new Qg};break;case"SpotLight":n={position:new Pf,direction:new Pf,color:new Qg,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Pf,color:new Qg,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Pf,skyColor:new Qg,groundColor:new Qg};break;case"RectAreaLight":n={color:new Qg,position:new Pf,halfWidth:new Pf,halfHeight:new Pf}}return t[e.id]=n,n}}}var Gb=0;function Qb(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function Yb(t,e){for(var n,i=new Wb,r=(n={},{get:function(t){if(void 0!==n[t.id])return n[t.id];var e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mf};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mf,shadowCameraNear:1,shadowCameraFar:1e3}}return n[t.id]=e,e}}),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},a=0;a<9;a++)o.probe.push(new Pf);var s=new Pf,c=new tg,l=new tg;return{setup:function(n){for(var a=0,s=0,c=0,l=0;l<9;l++)o.probe[l].set(0,0,0);var u=0,h=0,d=0,p=0,f=0,g=0,m=0,v=0;n.sort(Qb);for(var b=0,_=n.length;b<_;b++){var y=n[b],C=y.color,x=y.intensity,w=y.distance,M=y.shadow&&y.shadow.map?y.shadow.map.texture:null;if(y.isAmbientLight)a+=C.r*x,s+=C.g*x,c+=C.b*x;else if(y.isLightProbe)for(var O=0;O<9;O++)o.probe[O].addScaledVector(y.sh.coefficients[O],x);else if(y.isDirectionalLight){var P=i.get(y);if(P.color.copy(y.color).multiplyScalar(y.intensity),y.castShadow){var k=y.shadow,A=r.get(y);A.shadowBias=k.bias,A.shadowNormalBias=k.normalBias,A.shadowRadius=k.radius,A.shadowMapSize=k.mapSize,o.directionalShadow[u]=A,o.directionalShadowMap[u]=M,o.directionalShadowMatrix[u]=y.shadow.matrix,g++}o.directional[u]=P,u++}else if(y.isSpotLight){var T=i.get(y);if(T.position.setFromMatrixPosition(y.matrixWorld),T.color.copy(C).multiplyScalar(x),T.distance=w,T.coneCos=Math.cos(y.angle),T.penumbraCos=Math.cos(y.angle*(1-y.penumbra)),T.decay=y.decay,y.castShadow){var S=y.shadow,E=r.get(y);E.shadowBias=S.bias,E.shadowNormalBias=S.normalBias,E.shadowRadius=S.radius,E.shadowMapSize=S.mapSize,o.spotShadow[d]=E,o.spotShadowMap[d]=M,o.spotShadowMatrix[d]=y.shadow.matrix,v++}o.spot[d]=T,d++}else if(y.isRectAreaLight){var I=i.get(y);I.color.copy(C).multiplyScalar(x),I.halfWidth.set(.5*y.width,0,0),I.halfHeight.set(0,.5*y.height,0),o.rectArea[p]=I,p++}else if(y.isPointLight){var R=i.get(y);if(R.color.copy(y.color).multiplyScalar(y.intensity),R.distance=y.distance,R.decay=y.decay,y.castShadow){var D=y.shadow,N=r.get(y);N.shadowBias=D.bias,N.shadowNormalBias=D.normalBias,N.shadowRadius=D.radius,N.shadowMapSize=D.mapSize,N.shadowCameraNear=D.camera.near,N.shadowCameraFar=D.camera.far,o.pointShadow[h]=N,o.pointShadowMap[h]=M,o.pointShadowMatrix[h]=y.shadow.matrix,m++}o.point[h]=R,h++}else if(y.isHemisphereLight){var L=i.get(y);L.skyColor.copy(y.color).multiplyScalar(x),L.groundColor.copy(y.groundColor).multiplyScalar(x),o.hemi[f]=L,f++}}p>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(o.rectAreaLTC1=sv.LTC_FLOAT_1,o.rectAreaLTC2=sv.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(o.rectAreaLTC1=sv.LTC_HALF_1,o.rectAreaLTC2=sv.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=a,o.ambient[1]=s,o.ambient[2]=c;var z=o.hash;z.directionalLength===u&&z.pointLength===h&&z.spotLength===d&&z.rectAreaLength===p&&z.hemiLength===f&&z.numDirectionalShadows===g&&z.numPointShadows===m&&z.numSpotShadows===v||(o.directional.length=u,o.spot.length=d,o.rectArea.length=p,o.point.length=h,o.hemi.length=f,o.directionalShadow.length=g,o.directionalShadowMap.length=g,o.pointShadow.length=m,o.pointShadowMap.length=m,o.spotShadow.length=v,o.spotShadowMap.length=v,o.directionalShadowMatrix.length=g,o.pointShadowMatrix.length=m,o.spotShadowMatrix.length=v,z.directionalLength=u,z.pointLength=h,z.spotLength=d,z.rectAreaLength=p,z.hemiLength=f,z.numDirectionalShadows=g,z.numPointShadows=m,z.numSpotShadows=v,o.version=Gb++)},setupView:function(t,e){for(var n=0,i=0,r=0,a=0,u=0,h=e.matrixWorldInverse,d=0,p=t.length;d<p;d++){var f=t[d];if(f.isDirectionalLight){var g=o.directional[n];g.direction.setFromMatrixPosition(f.matrixWorld),s.setFromMatrixPosition(f.target.matrixWorld),g.direction.sub(s),g.direction.transformDirection(h),n++}else if(f.isSpotLight){var m=o.spot[r];m.position.setFromMatrixPosition(f.matrixWorld),m.position.applyMatrix4(h),m.direction.setFromMatrixPosition(f.matrixWorld),s.setFromMatrixPosition(f.target.matrixWorld),m.direction.sub(s),m.direction.transformDirection(h),r++}else if(f.isRectAreaLight){var v=o.rectArea[a];v.position.setFromMatrixPosition(f.matrixWorld),v.position.applyMatrix4(h),l.identity(),c.copy(f.matrixWorld),c.premultiply(h),l.extractRotation(c),v.halfWidth.set(.5*f.width,0,0),v.halfHeight.set(0,.5*f.height,0),v.halfWidth.applyMatrix4(l),v.halfHeight.applyMatrix4(l),a++}else if(f.isPointLight){var b=o.point[i];b.position.setFromMatrixPosition(f.matrixWorld),b.position.applyMatrix4(h),i++}else if(f.isHemisphereLight){var _=o.hemi[u];_.direction.setFromMatrixPosition(f.matrixWorld),_.direction.transformDirection(h),_.direction.normalize(),u++}}},state:o}}function Kb(t,e){var n=new Yb(t,e),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(){n.setup(i)},setupLightsView:function(t){n.setupView(i,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){r.push(t)}}}function Xb(t,e){var n=new WeakMap;return{get:function(i){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(i)?(r=new Kb(t,e),n.set(i,[]),n.get(i).push(r)):o>=n.get(i).length?(r=new Kb(t,e),n.get(i).push(r)):r=n.get(i)[o],r},dispose:function(){n=new WeakMap}}}function $b(t){Xg.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function Jb(t){Xg.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Pf,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}function Zb(t,e,n){var i=new nv,r=new mf,o=new mf,a=new xf,s=[],c=[],l={},u={0:1,1:0,2:2},h=new Qm({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new mf},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=h.clone();d.defines.HORIZONTAL_PASS=1;var p=new xm;p.setAttribute("position",new tm(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var f=new qm(p,h),g=this;function m(n,i){var r=e.update(f);h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,h,f,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,d,f,null)}function v(t,e,n){var i=t<<0|e<<1|n<<2,r=s[i];return void 0===r&&(r=new $b({depthPacking:3201,morphTargets:t,skinning:e}),s[i]=r),r}function b(t,e,n){var i=t<<0|e<<1|n<<2,r=c[i];return void 0===r&&(r=new Jb({morphTargets:t,skinning:e}),c[i]=r),r}function _(e,n,i,r,o,a,s){var c=null,h=v,d=e.customDepthMaterial;if(!0===r.isPointLight&&(h=b,d=e.customDistanceMaterial),void 0===d){var p=!1;!0===i.morphTargets&&(p=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);var f=!1;!0===e.isSkinnedMesh&&(!0===i.skinning?f=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e)),c=h(p,f,!0===e.isInstancedMesh)}else c=d;if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var g=c.uuid,m=i.uuid,_=l[g];void 0===_&&(_={},l[g]=_);var y=_[m];void 0===y&&(y=c.clone(),_[m]=y),c=y}return c.visible=i.visible,c.wireframe=i.wireframe,c.side=3===s?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:u[i.side],c.clipShadows=i.clipShadows,c.clippingPlanes=i.clippingPlanes,c.clipIntersection=i.clipIntersection,c.wireframeLinewidth=i.wireframeLinewidth,c.linewidth=i.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=o,c.farDistance=a),c}function y(n,r,o,a,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var c=e.update(n),l=n.material;if(Array.isArray(l))for(var u=c.groups,h=0,d=u.length;h<d;h++){var p=u[h],f=l[p.materialIndex];if(f&&f.visible){var g=_(n,c,f,a,o.near,o.far,s);t.renderBufferDirect(o,null,c,g,n,p)}}else if(l.visible){var m=_(n,c,l,a,o.near,o.far,s);t.renderBufferDirect(o,null,c,m,n,null)}}for(var v=n.children,b=0,C=v.length;b<C;b++)y(v[b],r,o,a,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,s,c){if(!1!==g.enabled&&(!1!==g.autoUpdate||!1!==g.needsUpdate)&&0!==e.length){var l=t.getRenderTarget(),u=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),d=t.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var p=0,f=e.length;p<f;p++){var v=e[p],b=v.shadow;if(void 0!==b){if(!1!==b.autoUpdate||!1!==b.needsUpdate){r.copy(b.mapSize);var _=b.getFrameExtents();if(r.multiply(_),o.copy(b.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(o.x=Math.floor(n/_.x),r.x=o.x*_.x,b.mapSize.x=o.x),r.y>n&&(o.y=Math.floor(n/_.y),r.y=o.y*_.y,b.mapSize.y=o.y)),null===b.map&&!b.isPointLightShadow&&3===this.type){var C={minFilter:1006,magFilter:1006,format:1023};b.map=new wf(r.x,r.y,C),b.map.texture.name=v.name+".shadowMap",b.mapPass=new wf(r.x,r.y,C),b.camera.updateProjectionMatrix()}null===b.map&&(b.map=new wf(r.x,r.y,{minFilter:1003,magFilter:1003,format:1023}),b.map.texture.name=v.name+".shadowMap",b.camera.updateProjectionMatrix()),t.setRenderTarget(b.map),t.clear();for(var x=b.getViewportCount(),w=0;w<x;w++){var M=b.getViewport(w);a.set(o.x*M.x,o.y*M.y,o.x*M.z,o.y*M.w),d.viewport(a),b.updateMatrices(v,w),i=b.getFrustum(),y(s,c,b.camera,v,this.type)}b.isPointLightShadow||3!==this.type||m(b,c),b.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}g.needsUpdate=!1,t.setRenderTarget(l,u,h)}}}function t_(t,e,n){var i=n.isWebGL2,r=new function(){var e=!1,n=new xf,i=null,r=new xf(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,o,a,s){!0===s&&(e*=a,i*=a,o*=a),n.set(e,i,o,a),!1===r.equals(n)&&(t.clearColor(e,i,o,a),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},o=new function(){var e=!1,n=null,i=null,r=null;return{setTest:function(t){t?R(2929):D(2929)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},a=new function(){var e=!1,n=null,i=null,r=null,o=null,a=null,s=null,c=null,l=null;return{setTest:function(t){e||(t?R(2960):D(2960))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,a){i===e&&r===n&&o===a||(t.stencilFunc(e,n,a),i=e,r=n,o=a)},setOp:function(e,n,i){a===e&&s===n&&c===i||(t.stencilOp(e,n,i),a=e,s=n,c=i)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,n=null,i=null,r=null,o=null,a=null,s=null,c=null,l=null}}},s={},c=null,l=null,u=null,h=null,d=null,p=null,f=null,g=null,m=null,v=!1,b=null,_=null,y=null,C=null,x=null,w=t.getParameter(35661),M=!1,O=0,P=t.getParameter(7938);-1!==P.indexOf("WebGL")?(O=parseFloat(/^WebGL (\d)/.exec(P)[1]),M=O>=1):-1!==P.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL ES (\d)/.exec(P)[1]),M=O>=2);var k=null,A={},T=new xf,S=new xf;function E(e,n,i){var r=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var a=0;a<i;a++)t.texImage2D(n+a,0,6408,1,1,0,6408,5121,r);return o}var I={};function R(e){!0!==s[e]&&(t.enable(e),s[e]=!0)}function D(e){!1!==s[e]&&(t.disable(e),s[e]=!1)}I[3553]=E(3553,3553,1),I[34067]=E(34067,34069,6),r.setClear(0,0,0,1),o.setClear(1),a.setClear(0),R(2929),o.setFunc(3),F(!1),q(1),R(2884),j(0);var N={100:32774,101:32778,102:32779};if(i)N[103]=32775,N[104]=32776;else{var L=e.get("EXT_blend_minmax");null!==L&&(N[103]=L.MIN_EXT,N[104]=L.MAX_EXT)}var z={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function j(e,n,i,r,o,a,s,c){if(0!==e){if(l||(R(3042),l=!0),5===e)o=o||n,a=a||i,s=s||r,n===h&&o===f||(t.blendEquationSeparate(N[n],N[o]),h=n,f=o),i===d&&r===p&&a===g&&s===m||(t.blendFuncSeparate(z[i],z[r],z[a],z[s]),d=i,p=r,g=a,m=s),u=e,v=null;else if(e!==u||c!==v){if(100===h&&100===f||(t.blendEquation(32774),h=100,f=100),c)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}d=null,p=null,g=null,m=null,u=e,v=c}}else l&&(D(3042),l=!1)}function F(e){b!==e&&(t.frontFace(e?2304:2305),b=e)}function q(e){0!==e?(R(2884),e!==_&&t.cullFace(1===e?1029:2===e?1028:1032)):D(2884),_=e}function B(e,n,i){e?(R(32823),C===n&&x===i||(t.polygonOffset(n,i),C=n,x=i)):D(32823)}function U(e){void 0===e&&(e=33984+w-1),k!==e&&(t.activeTexture(e),k=e)}return{buffers:{color:r,depth:o,stencil:a},enable:R,disable:D,useProgram:function(e){return c!==e&&(t.useProgram(e),c=e,!0)},setBlending:j,setMaterial:function(t,e){2===t.side?D(2884):R(2884);var n=1===t.side;e&&(n=!n),F(n),1===t.blending&&!1===t.transparent?j(0):j(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),r.setMask(t.colorWrite);var i=t.stencilWrite;a.setTest(i),i&&(a.setMask(t.stencilWriteMask),a.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),a.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),B(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:F,setCullFace:q,setLineWidth:function(e){e!==y&&(M&&t.lineWidth(e),y=e)},setPolygonOffset:B,setScissorTest:function(t){t?R(3089):D(3089)},activeTexture:U,bindTexture:function(e,n){null===k&&U();var i=A[k];void 0===i&&(i={type:void 0,texture:void 0},A[k]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||I[e]),i.type=e,i.texture=n)},unbindTexture:function(){var e=A[k];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===T.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),T.copy(e))},viewport:function(e){!1===S.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),S.copy(e))},reset:function(){s={},k=null,A={},c=null,l=null,u=null,h=null,d=null,p=null,f=null,g=null,m=null,v=!1,b=null,_=null,y=null,C=null,x=null,r.reset(),o.reset(),a.reset()}}}function e_(t,e,n,i,r,o,a){var s,c=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,h=r.maxTextureSize,d=r.maxSamples,p=new WeakMap,f=!1;try{f="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(z){}function g(t,e){return f?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function m(t,e,n,i){var r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var o=e?gf.floorPowerOfTwo:Math.floor,a=o(r*t.width),c=o(r*t.height);void 0===s&&(s=g(a,c));var l=n?g(a,c):s;return l.width=a,l.height=c,l.getContext("2d").drawImage(t,0,0,a,c),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+a+"x"+c+")."),l}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function v(t){return gf.isPowerOfTwo(t.width)&&gf.isPowerOfTwo(t.height)}function b(t,e){return t.generateMipmaps&&e&&1003!==t.minFilter&&1006!==t.minFilter}function _(e,n,r,o){t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log(Math.max(r,o))*Math.LOG2E}function y(n,i,r){if(!1===c)return i;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var o=i;return 6403===i&&(5126===r&&(o=33326),5131===r&&(o=33325),5121===r&&(o=33321)),6407===i&&(5126===r&&(o=34837),5131===r&&(o=34843),5121===r&&(o=32849)),6408===i&&(5126===r&&(o=34836),5131===r&&(o=34842),5121===r&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||e.get("EXT_color_buffer_float"),o}function C(t){return 1003===t||1004===t||1005===t?9728:9729}function x(e){var n=e.target;n.removeEventListener("dispose",x),function(e){var n=i.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),i.remove(e))}(n),n.isVideoTexture&&p.delete(n),a.memory.textures--}function w(e){var n=e.target;n.removeEventListener("dispose",w),function(e){var n=i.get(e),r=i.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&t.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&t.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&t.deleteRenderbuffer(n.__webglDepthRenderbuffer);i.remove(e.texture),i.remove(e)}}(n),a.memory.textures--}var M=0;function O(t,e){var r=i.get(t);if(t.isVideoTexture&&function(t){var e=a.render.frame;p.get(t)!==e&&(p.set(t,e),t.update())}(t),t.version>0&&r.__version!==t.version){var o=t.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void E(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function P(e,r){var a=i.get(e);e.version>0&&a.__version!==e.version?function(e,i,r){if(6===i.image.length){S(e,i),n.activeTexture(33984+r),n.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,i.flipY);for(var a=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),s=i.image[0]&&i.image[0].isDataTexture,l=[],h=0;h<6;h++)l[h]=a||s?s?i.image[h].image:i.image[h]:m(i.image[h],!1,!0,u);var d,p=l[0],f=v(p)||c,g=o.convert(i.format),C=o.convert(i.type),x=y(i.internalFormat,g,C);if(T(34067,i,f),a){for(var w=0;w<6;w++){d=l[w].mipmaps;for(var M=0;M<d.length;M++){var O=d[M];1023!==i.format&&1022!==i.format?null!==g?n.compressedTexImage2D(34069+w,M,x,O.width,O.height,0,O.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+w,M,x,O.width,O.height,0,g,C,O.data)}}e.__maxMipLevel=d.length-1}else{d=i.mipmaps;for(var P=0;P<6;P++)if(s){n.texImage2D(34069+P,0,x,l[P].width,l[P].height,0,g,C,l[P].data);for(var k=0;k<d.length;k++){var A=d[k].image[P].image;n.texImage2D(34069+P,k+1,x,A.width,A.height,0,g,C,A.data)}}else{n.texImage2D(34069+P,0,x,g,C,l[P]);for(var E=0;E<d.length;E++)n.texImage2D(34069+P,E+1,x,g,C,d[E].image[P])}e.__maxMipLevel=d.length}b(i,f)&&_(34067,i,p.width,p.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}}(a,e,r):(n.activeTexture(33984+r),n.bindTexture(34067,a.__webglTexture))}var k={1e3:10497,1001:33071,1002:33648},A={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987};function T(n,o,a){a?(t.texParameteri(n,10242,k[o.wrapS]),t.texParameteri(n,10243,k[o.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,k[o.wrapR]),t.texParameteri(n,10240,A[o.magFilter]),t.texParameteri(n,10241,A[o.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),1001===o.wrapS&&1001===o.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,C(o.magFilter)),t.texParameteri(n,10241,C(o.minFilter)),1003!==o.minFilter&&1006!==o.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=e.get("EXT_texture_filter_anisotropic");if(s){if(1015===o.type&&null===e.get("OES_texture_float_linear"))return;if(1016===o.type&&null===(c||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(t.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function S(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",x),e.__webglTexture=t.createTexture(),a.memory.textures++)}function E(e,i,r){var a=3553;i.isDataTexture2DArray&&(a=35866),i.isDataTexture3D&&(a=32879),S(e,i),n.activeTexture(33984+r),n.bindTexture(a,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment);var s,l=function(t){return!c&&(1001!==t.wrapS||1001!==t.wrapT||1003!==t.minFilter&&1006!==t.minFilter)}(i)&&!1===v(i.image),u=m(i.image,l,!1,h),d=v(u)||c,p=o.convert(i.format),f=o.convert(i.type),g=y(i.internalFormat,p,f);T(a,i,d);var C=i.mipmaps;if(i.isDepthTexture)g=6402,c?g=1015===i.type?36012:1014===i.type?33190:1020===i.type?35056:33189:1015===i.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===i.format&&6402===g&&1012!==i.type&&1014!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=1012,f=o.convert(i.type)),1027===i.format&&6402===g&&(g=34041,1020!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=1020,f=o.convert(i.type))),n.texImage2D(3553,0,g,u.width,u.height,0,p,f,null);else if(i.isDataTexture)if(C.length>0&&d){for(var x=0,w=C.length;x<w;x++)s=C[x],n.texImage2D(3553,x,g,s.width,s.height,0,p,f,s.data);i.generateMipmaps=!1,e.__maxMipLevel=C.length-1}else n.texImage2D(3553,0,g,u.width,u.height,0,p,f,u.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(var M=0,O=C.length;M<O;M++)s=C[M],1023!==i.format&&1022!==i.format?null!==p?n.compressedTexImage2D(3553,M,g,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,M,g,s.width,s.height,0,p,f,s.data);e.__maxMipLevel=C.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,g,u.width,u.height,u.depth,0,p,f,u.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,g,u.width,u.height,u.depth,0,p,f,u.data),e.__maxMipLevel=0;else if(C.length>0&&d){for(var P=0,k=C.length;P<k;P++)s=C[P],n.texImage2D(3553,P,g,p,f,s);i.generateMipmaps=!1,e.__maxMipLevel=C.length-1}else n.texImage2D(3553,0,g,p,f,u),e.__maxMipLevel=0;b(i,d)&&_(a,i,u.width,u.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function I(e,r,a,s){var c=o.convert(r.texture.format),l=o.convert(r.texture.type),u=y(r.texture.internalFormat,c,l);n.texImage2D(s,0,u,r.width,r.height,0,c,l,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,a,s,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function R(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){var r=33189;if(i){var a=n.depthTexture;a&&a.isDepthTexture&&(1015===a.type?r=36012:1014===a.type&&(r=33190));var s=D(n);t.renderbufferStorageMultisample(36161,s,r,n.width,n.height)}else t.renderbufferStorage(36161,r,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(i){var c=D(n);t.renderbufferStorageMultisample(36161,c,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{var l=o.convert(n.texture.format),u=o.convert(n.texture.type),h=y(n.texture.internalFormat,l,u);if(i){var d=D(n);t.renderbufferStorageMultisample(36161,d,h,n.width,n.height)}else t.renderbufferStorage(36161,h,n.width,n.height)}t.bindRenderbuffer(36161,null)}function D(t){return c&&t.isWebGLMultisampleRenderTarget?Math.min(d,t.samples):0}var N=!1,L=!1;this.allocateTextureUnit=function(){var t=M;return t>=l&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+l),M+=1,t},this.resetTextureUnits=function(){M=0},this.setTexture2D=O,this.setTexture2DArray=function(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?E(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?E(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=P,this.setupRenderTarget=function(e){var r=i.get(e),s=i.get(e.texture);e.addEventListener("dispose",w),s.__webglTexture=t.createTexture(),a.memory.textures++;var l=!0===e.isWebGLCubeRenderTarget,u=!0===e.isWebGLMultisampleRenderTarget,h=v(e)||c;if(!c||1022!==e.texture.format||1015!==e.texture.type&&1016!==e.texture.type||(e.texture.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),l){r.__webglFramebuffer=[];for(var d=0;d<6;d++)r.__webglFramebuffer[d]=t.createFramebuffer()}else if(r.__webglFramebuffer=t.createFramebuffer(),u)if(c){r.__webglMultisampledFramebuffer=t.createFramebuffer(),r.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,r.__webglColorRenderbuffer);var p=o.convert(e.texture.format),f=o.convert(e.texture.type),g=y(e.texture.internalFormat,p,f),m=D(e);t.renderbufferStorageMultisample(36161,m,g,e.width,e.height),t.bindFramebuffer(36160,r.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,r.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(r.__webglDepthRenderbuffer=t.createRenderbuffer(),R(r.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){n.bindTexture(34067,s.__webglTexture),T(34067,e.texture,h);for(var C=0;C<6;C++)I(r.__webglFramebuffer[C],e,36064,34069+C);b(e.texture,h)&&_(34067,e.texture,e.width,e.height),n.bindTexture(34067,null)}else n.bindTexture(3553,s.__webglTexture),T(3553,e.texture,h),I(r.__webglFramebuffer,e,36064,3553),b(e.texture,h)&&_(3553,e.texture,e.width,e.height),n.bindTexture(3553,null);e.depthBuffer&&function(e){var n=i.get(e),r=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),O(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(1026===n.depthTexture.format)t.framebufferTexture2D(36160,36096,3553,r,0);else{if(1027!==n.depthTexture.format)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(36160,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),R(n.__webglDepthbuffer[o],e,!1)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),R(n.__webglDepthbuffer,e,!1);t.bindFramebuffer(36160,null)}(e)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(b(e,v(t)||c)){var r=t.isWebGLCubeRenderTarget?34067:3553,o=i.get(e).__webglTexture;n.bindTexture(r,o),_(r,e,t.width,t.height),n.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(c){var n=i.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);var r=e.width,o=e.height,a=16384;e.depthBuffer&&(a|=256),e.stencilBuffer&&(a|=1024),t.blitFramebuffer(0,0,r,o,0,0,r,o,a,9728),t.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===N&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),N=!0),t=t.texture),O(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===L&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),L=!0),t=t.texture),P(t,e)}}function n_(t,e,n){var i=n.isWebGL2;return{convert:function(t){var n;if(1009===t)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(1012===t)return 5123;if(1013===t)return 5124;if(1014===t)return 5125;if(1015===t)return 5126;if(1016===t)return i?5131:null!==(n=e.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(1021===t)return 6406;if(1022===t)return 6407;if(1023===t)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(1026===t)return 6402;if(1027===t)return 34041;if(1028===t)return 6403;if(1029===t)return 36244;if(1030===t)return 33319;if(1031===t)return 33320;if(1032===t)return 36248;if(1033===t)return 36249;if(33776===t||33777===t||33778===t||33779===t){if(null===(n=e.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===t)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===t)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===t)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===t)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===t||35841===t||35842===t||35843===t){if(null===(n=e.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===t)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===t)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===t)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===t)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t)return null!==(n=e.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===t||37496===t)&&null!==(n=e.get("WEBGL_compressed_texture_etc"))){if(37492===t)return n.COMPRESSED_RGB8_ETC2;if(37496===t)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t||37840===t||37841===t||37842===t||37843===t||37844===t||37845===t||37846===t||37847===t||37848===t||37849===t||37850===t||37851===t||37852===t||37853===t?null!==(n=e.get("WEBGL_compressed_texture_astc"))?t:null:36492===t?null!==(n=e.get("EXT_texture_compression_bptc"))?t:null:1020===t?i?34042:null!==(n=e.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function i_(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Km.call(this),this.cameras=t}function r_(){Og.call(this),this.type="Group"}function o_(){this._targetRay=null,this._grip=null,this._hand=null}function a_(t,e){var n=this,i=null,r=1,o=null,a="local-floor",s=null,c=[],l=new Map,u=new Km;u.layers.enable(1),u.viewport=new xf;var h=new Km;h.layers.enable(2),h.viewport=new xf;var d=[u,h],p=new i_;p.layers.enable(1),p.layers.enable(2);var f=null,g=null;function m(t){var e=l.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function v(){l.forEach(function(t,e){t.disconnect(e)}),l.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),M.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function b(t){o=t,M.setContext(i),M.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function _(t){for(var e=i.inputSources,n=0;n<c.length;n++)l.set(e[n],c[n]);for(var r=0;r<t.removed.length;r++){var o=t.removed[r],a=l.get(o);a&&(a.dispatchEvent({type:"disconnected",data:o}),l.delete(o))}for(var s=0;s<t.added.length;s++){var u=t.added[s],h=l.get(u);h&&h.dispatchEvent({type:"connected",data:u})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){var e=c[t];return void 0===e&&(e=new o_,c[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){var e=c[t];return void 0===e&&(e=new o_,c[t]=e),e.getGripSpace()},this.getHand=function(t){var e=c[t];return void 0===e&&(e=new o_,c[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){r=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){a=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=function(t){if(null!==(i=t)){i.addEventListener("select",m),i.addEventListener("selectstart",m),i.addEventListener("selectend",m),i.addEventListener("squeeze",m),i.addEventListener("squeezestart",m),i.addEventListener("squeezeend",m),i.addEventListener("end",v);var n=e.getContextAttributes();!0!==n.xrCompatible&&e.makeXRCompatible();var o=new XRWebGLLayer(i,e,{antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:r});i.updateRenderState({baseLayer:o}),i.requestReferenceSpace(a).then(b),i.addEventListener("inputsourceschange",_)}};var y=new Pf,C=new Pf;function x(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.getCamera=function(t){p.near=h.near=u.near=t.near,p.far=h.far=u.far=t.far,f===p.near&&g===p.far||(i.updateRenderState({depthNear:p.near,depthFar:p.far}),f=p.near,g=p.far);var e=t.parent,n=p.cameras;x(p,e);for(var r=0;r<n.length;r++)x(n[r],e);t.matrixWorld.copy(p.matrixWorld);for(var o=t.children,a=0,s=o.length;a<s;a++)o[a].updateMatrixWorld(!0);return 2===n.length?function(t,e,n){y.setFromMatrixPosition(e.matrixWorld),C.setFromMatrixPosition(n.matrixWorld);var i=y.distanceTo(C),r=e.projectionMatrix.elements,o=n.projectionMatrix.elements,a=r[14]/(r[10]-1),s=r[14]/(r[10]+1),c=(r[9]+1)/r[5],l=(r[9]-1)/r[5],u=(r[8]-1)/r[0],h=(o[8]+1)/o[0],d=a*u,p=a*h,f=i/(-u+h),g=f*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(g),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();var m=a+f,v=s+f;t.projectionMatrix.makePerspective(d-g,p+(i-g),c*s/v*m,l*s/v*m,m,v)}(p,u,h):p.projectionMatrix.copy(u.projectionMatrix),p};var w=null,M=new iv;M.setAnimationLoop(function(e,n){if(null!==(s=n.getViewerPose(o))){var r=s.views,a=i.renderState.baseLayer;t.setFramebuffer(a.framebuffer);var l=!1;r.length!==p.cameras.length&&(p.cameras.length=0,l=!0);for(var u=0;u<r.length;u++){var h=r[u],f=a.getViewport(h),g=d[u];g.matrix.fromArray(h.transform.matrix),g.projectionMatrix.fromArray(h.projectionMatrix),g.viewport.set(f.x,f.y,f.width,f.height),0===u&&p.matrix.copy(g.matrix),!0===l&&p.cameras.push(g)}}for(var m=i.inputSources,v=0;v<c.length;v++)c[v].update(m[v],n,o);w&&w(e,n)}),this.setAnimationLoop=function(t){w=t},this.dispose=function(){}}function s_(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);var i,r,o=t.get(n).envMap;if(o){e.envMap.value=o,e.flipEnvMap.value=o.isCubeTexture&&o._needsFlipEnvMap?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;var a=t.get(o).__maxMipLevel;void 0!==a&&(e.maxMipLevel.value=a)}n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?i=n.map:n.specularMap?i=n.specularMap:n.displacementMap?i=n.displacementMap:n.normalMap?i=n.normalMap:n.bumpMap?i=n.bumpMap:n.roughnessMap?i=n.roughnessMap:n.metalnessMap?i=n.metalnessMap:n.alphaMap?i=n.alphaMap:n.emissiveMap?i=n.emissiveMap:n.clearcoatMap?i=n.clearcoatMap:n.clearcoatNormalMap?i=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(i=n.clearcoatRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix)),n.aoMap?r=n.aoMap:n.lightMap&&(r=n.lightMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uv2Transform.value.copy(r.matrix))}function n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,i,r,o){i.isMeshBasicMaterial?e(t,i):i.isMeshLambertMaterial?(e(t,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,i)):i.isMeshToonMaterial?(e(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshPhongMaterial?(e(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshStandardMaterial?(e(t,i),i.isMeshPhysicalMaterial?function(t,e){n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap)}(t,i):n(t,i)):i.isMeshMatcapMaterial?(e(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDepthMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDistanceMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,i)):i.isMeshNormalMaterial?(e(t,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,n,i){var r;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*i,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?r=e.map:e.alphaMap&&(r=e.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,i,r,o):i.isSpriteMaterial?function(t,e){var n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function c_(t){var e,n=void 0!==(t=t||{}).canvas?t.canvas:((e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).style.display="block",e),i=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,o=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,s=void 0!==t.antialias&&t.antialias,c=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,u=void 0!==t.powerPreference?t.powerPreference:"default",h=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,d=null,p=null,f=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var g=this,m=!1,v=null,b=0,_=0,y=null,C=null,x=-1,w=null,M=new xf,O=new xf,P=null,k=n.width,A=n.height,T=1,S=null,E=null,I=new xf(0,0,k,A),R=new xf(0,0,k,A),D=!1,N=new nv,L=!1,z=!1,j=new tg,F=new Pf,q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function B(){return null===y?T:1}var U,H,V,W,G,Q,Y,K,X,$,J,Z,tt,et,nt,it,rt,ot,at,st,ct,lt=i;function ut(t,e){for(var i=0;i<t.length;i++){var r=n.getContext(t[i],e);if(null!==r)return r}return null}try{var ht={alpha:r,depth:o,stencil:a,antialias:s,premultipliedAlpha:c,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:h};if(n.addEventListener("webglcontextlost",mt,!1),n.addEventListener("webglcontextrestored",vt,!1),null===lt){var dt=["webgl2","webgl","experimental-webgl"];if(!0===g.isWebGL1Renderer&&dt.shift(),null===(lt=ut(dt,ht)))throw ut(dt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===lt.getShaderPrecisionFormat&&(lt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(kt){throw console.error("THREE.WebGLRenderer: "+kt.message),kt}function pt(){U=new gv(lt),!1===(H=new dv(lt,U,t)).isWebGL2&&(U.get("WEBGL_depth_texture"),U.get("OES_texture_float"),U.get("OES_texture_half_float"),U.get("OES_texture_half_float_linear"),U.get("OES_standard_derivatives"),U.get("OES_element_index_uint"),U.get("OES_vertex_array_object"),U.get("ANGLE_instanced_arrays")),U.get("OES_texture_float_linear"),st=new n_(lt,U,H),(V=new t_(lt,U,H)).scissor(O.copy(R).multiplyScalar(T).floor()),V.viewport(M.copy(I).multiplyScalar(T).floor()),W=new bv(lt),G=new qb,Q=new e_(lt,U,V,G,H,st,W),Y=new fv(g),K=new rv(lt,H),ct=new uv(lt,U,K,H),X=new mv(lt,K,W,ct),$=new xv(lt,X,K,W),rt=new Cv(lt),nt=new pv(G),J=new Fb(g,Y,U,H,ct,nt),Z=new s_(G),tt=new Vb(G),et=new Xb(U,H),it=new lv(g,Y,V,$,c),ot=new hv(lt,U,W,H),at=new vv(lt,U,W,H),W.programs=J.programs,g.capabilities=H,g.extensions=U,g.properties=G,g.renderLists=tt,g.state=V,g.info=W}pt();var ft=new a_(g,lt);this.xr=ft;var gt=new Zb(g,$,H.maxTextureSize);function mt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function vt(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1,pt()}function bt(t){var e=t.target;e.removeEventListener("dispose",bt),function(t){_t(t),G.remove(t)}(e)}function _t(t){var e=G.get(t).program;void 0!==e&&J.releaseProgram(e)}this.shadowMap=gt,this.getContext=function(){return lt},this.getContextAttributes=function(){return lt.getContextAttributes()},this.forceContextLoss=function(){var t=U.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=U.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return T},this.setPixelRatio=function(t){void 0!==t&&(T=t,this.setSize(k,A,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new mf),t.set(k,A)},this.setSize=function(t,e,i){ft.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(k=t,A=e,n.width=Math.floor(t*T),n.height=Math.floor(e*T),!1!==i&&(n.style.width=t+"px",n.style.height=e+"px"),this.setViewport(0,0,t,e))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new mf),t.set(k*T,A*T).floor()},this.setDrawingBufferSize=function(t,e,i){k=t,A=e,T=i,n.width=Math.floor(t*i),n.height=Math.floor(e*i),this.setViewport(0,0,t,e)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new xf),t.copy(M)},this.getViewport=function(t){return t.copy(I)},this.setViewport=function(t,e,n,i){t.isVector4?I.set(t.x,t.y,t.z,t.w):I.set(t,e,n,i),V.viewport(M.copy(I).multiplyScalar(T).floor())},this.getScissor=function(t){return t.copy(R)},this.setScissor=function(t,e,n,i){t.isVector4?R.set(t.x,t.y,t.z,t.w):R.set(t,e,n,i),V.scissor(O.copy(R).multiplyScalar(T).floor())},this.getScissorTest=function(){return D},this.setScissorTest=function(t){V.setScissorTest(D=t)},this.setOpaqueSort=function(t){S=t},this.setTransparentSort=function(t){E=t},this.getClearColor=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),t=new Qg),t.copy(it.getClearColor())},this.setClearColor=function(){it.setClearColor.apply(it,arguments)},this.getClearAlpha=function(){return it.getClearAlpha()},this.setClearAlpha=function(){it.setClearAlpha.apply(it,arguments)},this.clear=function(t,e,n){var i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),lt.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",mt,!1),n.removeEventListener("webglcontextrestored",vt,!1),tt.dispose(),et.dispose(),G.dispose(),Y.dispose(),$.dispose(),ct.dispose(),ft.dispose(),Ct.stop()},this.renderBufferImmediate=function(t,e){ct.initAttributes();var n=G.get(t);t.hasPositions&&!n.position&&(n.position=lt.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=lt.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=lt.createBuffer()),t.hasColors&&!n.color&&(n.color=lt.createBuffer());var i=e.getAttributes();t.hasPositions&&(lt.bindBuffer(34962,n.position),lt.bufferData(34962,t.positionArray,35048),ct.enableAttribute(i.position),lt.vertexAttribPointer(i.position,3,5126,!1,0,0)),t.hasNormals&&(lt.bindBuffer(34962,n.normal),lt.bufferData(34962,t.normalArray,35048),ct.enableAttribute(i.normal),lt.vertexAttribPointer(i.normal,3,5126,!1,0,0)),t.hasUvs&&(lt.bindBuffer(34962,n.uv),lt.bufferData(34962,t.uvArray,35048),ct.enableAttribute(i.uv),lt.vertexAttribPointer(i.uv,2,5126,!1,0,0)),t.hasColors&&(lt.bindBuffer(34962,n.color),lt.bufferData(34962,t.colorArray,35048),ct.enableAttribute(i.color),lt.vertexAttribPointer(i.color,3,5126,!1,0,0)),ct.disableUnusedAttributes(),lt.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,r,o){null===e&&(e=q);var a=r.isMesh&&r.matrixWorld.determinant()<0,s=Pt(t,e,i,r);V.setMaterial(i,a);var c=n.index,l=n.attributes.position;if(null===c){if(void 0===l||0===l.count)return}else if(0===c.count)return;var u,h=1;!0===i.wireframe&&(c=X.getWireframeAttribute(n),h=2),(i.morphTargets||i.morphNormals)&&rt.update(r,n,i,s),ct.setup(r,i,s,n,c);var d=ot;null!==c&&(u=K.get(c),(d=at).setIndex(u));var p=null!==c?c.count:l.count,f=n.drawRange.start*h,g=n.drawRange.count*h,m=null!==o?o.start*h:0,v=null!==o?o.count*h:1/0,b=Math.max(f,m),_=Math.min(p,f+g,m+v)-1,y=Math.max(0,_-b+1);if(0!==y){if(r.isMesh)!0===i.wireframe?(V.setLineWidth(i.wireframeLinewidth*B()),d.setMode(1)):d.setMode(4);else if(r.isLine){var C=i.linewidth;void 0===C&&(C=1),V.setLineWidth(C*B()),d.setMode(r.isLineSegments?1:r.isLineLoop?2:3)}else r.isPoints?d.setMode(0):r.isSprite&&d.setMode(4);if(r.isInstancedMesh)d.renderInstances(b,y,r.count);else if(n.isInstancedBufferGeometry){var x=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(b,y,x)}else d.render(b,y)}},this.compile=function(t,e){(p=et.get(t)).init(),t.traverseVisible(function(t){t.isLight&&t.layers.test(e.layers)&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))}),p.setupLights();var n=new WeakMap;t.traverse(function(e){var i=e.material;if(i)if(Array.isArray(i))for(var r=0;r<i.length;r++){var o=i[r];!1===n.has(o)&&(Ot(o,t,e),n.set(o))}else!1===n.has(i)&&(Ot(i,t,e),n.set(i))})};var yt=null,Ct=new iv;function xt(t,e,n,i){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||N.intersectsSprite(t)){i&&F.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j);var r=$.update(t),o=t.material;o.visible&&d.push(t,r,o,n,F.z,null)}}else if(t.isImmediateRenderObject)i&&F.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j),d.push(t,null,t.material,n,F.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==W.render.frame&&(t.skeleton.update(),t.skeleton.frame=W.render.frame),!t.frustumCulled||N.intersectsObject(t))){i&&F.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j);var a=$.update(t),s=t.material;if(Array.isArray(s))for(var c=a.groups,l=0,u=c.length;l<u;l++){var h=c[l],f=s[h.materialIndex];f&&f.visible&&d.push(t,a,f,n,F.z,h)}else s.visible&&d.push(t,a,s,n,F.z,null)}for(var g=t.children,m=0,v=g.length;m<v;m++)xt(g[m],e,n,i)}}function wt(t,e,n){for(var i=!0===e.isScene?e.overrideMaterial:null,r=0,o=t.length;r<o;r++){var a=t[r],s=a.object,c=a.geometry,l=null===i?a.material:i,u=a.group;if(n.isArrayCamera)for(var h=n.cameras,d=0,f=h.length;d<f;d++){var g=h[d];s.layers.test(g.layers)&&(V.viewport(M.copy(g.viewport)),p.setupLightsView(g),Mt(s,e,g,c,l,u))}else Mt(s,e,n,c,l,u)}}function Mt(t,e,n,i,r,o){if(t.onBeforeRender(g,e,n,i,r,o),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){var a=Pt(n,e,r,t);V.setMaterial(r),ct.reset(),function(t,e){t.render(function(t){g.renderBufferImmediate(t,e)})}(t,a)}else g.renderBufferDirect(n,e,i,r,t,o);t.onAfterRender(g,e,n,i,r,o)}function Ot(t,e,n){!0!==e.isScene&&(e=q);var i=G.get(t),r=p.state.lights,o=r.state.version,a=J.getParameters(t,r.state,p.state.shadowsArray,e,n),s=J.getProgramCacheKey(a),c=i.program,l=!0;if(void 0===c)t.addEventListener("dispose",bt);else if(c.cacheKey!==s)_t(t);else if(i.lightsStateVersion!==o)l=!1;else{if(void 0!==a.shaderID){var u=t.isMeshStandardMaterial?e.environment:null;return void(i.envMap=Y.get(t.envMap||u))}l=!1}l&&(a.uniforms=J.getUniforms(t),t.onBeforeCompile(a,g),c=J.acquireProgram(a,s),i.program=c,i.uniforms=a.uniforms,i.outputEncoding=a.outputEncoding);var h=i.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(i.numClippingPlanes=nt.numPlanes,i.numIntersection=nt.numIntersection,h.clippingPlanes=nt.uniform),i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=Y.get(t.envMap||i.environment),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=o,i.needsLights&&(h.ambientLightColor.value=r.state.ambient,h.lightProbe.value=r.state.probe,h.directionalLights.value=r.state.directional,h.directionalLightShadows.value=r.state.directionalShadow,h.spotLights.value=r.state.spot,h.spotLightShadows.value=r.state.spotShadow,h.rectAreaLights.value=r.state.rectArea,h.ltc_1.value=r.state.rectAreaLTC1,h.ltc_2.value=r.state.rectAreaLTC2,h.pointLights.value=r.state.point,h.pointLightShadows.value=r.state.pointShadow,h.hemisphereLights.value=r.state.hemi,h.directionalShadowMap.value=r.state.directionalShadowMap,h.directionalShadowMatrix.value=r.state.directionalShadowMatrix,h.spotShadowMap.value=r.state.spotShadowMap,h.spotShadowMatrix.value=r.state.spotShadowMatrix,h.pointShadowMap.value=r.state.pointShadowMap,h.pointShadowMatrix.value=r.state.pointShadowMatrix);var d=i.program.getUniforms(),f=_b.seqWithValue(d.seq,h);i.uniformsList=f}function Pt(t,e,n,i){!0!==e.isScene&&(e=q),Q.resetTextureUnits();var r=e.fog,o=n.isMeshStandardMaterial?e.environment:null,a=null===y?g.outputEncoding:y.texture.encoding,s=Y.get(n.envMap||o),c=G.get(n),l=p.state.lights;!0!==L||!0!==z&&t===w||nt.setState(n,t,t===w&&n.id===x),n.version===c.__version?n.fog&&c.fog!==r||c.environment!==o||c.needsLights&&c.lightsStateVersion!==l.state.version?Ot(n,e,i):void 0===c.numClippingPlanes||c.numClippingPlanes===nt.numPlanes&&c.numIntersection===nt.numIntersection?(c.outputEncoding!==a||c.envMap!==s)&&Ot(n,e,i):Ot(n,e,i):(Ot(n,e,i),c.__version=n.version);var u,h,d=!1,f=!1,m=!1,v=c.program,b=v.getUniforms(),_=c.uniforms;if(V.useProgram(v.program)&&(d=!0,f=!0,m=!0),n.id!==x&&(x=n.id,f=!0),d||w!==t){if(b.setValue(lt,"projectionMatrix",t.projectionMatrix),H.logarithmicDepthBuffer&&b.setValue(lt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),w!==t&&(w=t,f=!0,m=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var C=b.map.cameraPosition;void 0!==C&&C.setValue(lt,F.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&b.setValue(lt,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&b.setValue(lt,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){b.setOptional(lt,i,"bindMatrix"),b.setOptional(lt,i,"bindMatrixInverse");var M=i.skeleton;if(M){var O=M.bones;if(H.floatVertexTextures){if(null===M.boneTexture){var P=Math.sqrt(4*O.length);P=gf.ceilPowerOfTwo(P),P=Math.max(P,4);var k=new Float32Array(P*P*4);k.set(M.boneMatrices);var S=new Zm(k,P,P,1023,1015);M.boneMatrices=k,M.boneTexture=S,M.boneTextureSize=P}b.setValue(lt,"boneTexture",M.boneTexture,Q),b.setValue(lt,"boneTextureSize",M.boneTextureSize)}else b.setOptional(lt,M,"boneMatrices")}}return(f||c.receiveShadow!==i.receiveShadow)&&(c.receiveShadow=i.receiveShadow,b.setValue(lt,"receiveShadow",i.receiveShadow)),f&&(b.setValue(lt,"toneMappingExposure",g.toneMappingExposure),c.needsLights&&((u=_).ambientLightColor.needsUpdate=h=m,u.lightProbe.needsUpdate=h,u.directionalLights.needsUpdate=h,u.directionalLightShadows.needsUpdate=h,u.pointLights.needsUpdate=h,u.pointLightShadows.needsUpdate=h,u.spotLights.needsUpdate=h,u.spotLightShadows.needsUpdate=h,u.rectAreaLights.needsUpdate=h,u.hemisphereLights.needsUpdate=h),r&&n.fog&&Z.refreshFogUniforms(_,r),Z.refreshMaterialUniforms(_,n,T,A),_b.upload(lt,c.uniformsList,_,Q)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(_b.upload(lt,c.uniformsList,_,Q),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&b.setValue(lt,"center",i.center),b.setValue(lt,"modelViewMatrix",i.modelViewMatrix),b.setValue(lt,"normalMatrix",i.normalMatrix),b.setValue(lt,"modelMatrix",i.matrixWorld),v}Ct.setAnimationLoop(function(t){ft.isPresenting||yt&&yt(t)}),"undefined"!=typeof window&&Ct.setContext(window),this.setAnimationLoop=function(t){yt=t,ft.setAnimationLoop(t),null===t?Ct.stop():Ct.start()},this.render=function(t,e){var n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),void 0===e||!0===e.isCamera){if(!0!==m){ct.resetDefaultState(),x=-1,w=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===ft.enabled&&!0===ft.isPresenting&&(e=ft.getCamera(e)),!0===t.isScene&&t.onBeforeRender(g,t,e,n||y),(p=et.get(t,f.length)).init(),f.push(p),j.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),N.setFromProjectionMatrix(j),z=this.localClippingEnabled,L=nt.init(this.clippingPlanes,z,e),(d=tt.get(t,e)).init(),xt(t,e,0,g.sortObjects),d.finish(),!0===g.sortObjects&&d.sort(S,E),!0===L&&nt.beginShadows();var r=p.state.shadowsArray;gt.render(r,t,e),p.setupLights(),p.setupLightsView(e),!0===L&&nt.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),it.render(d,t,e,i);var o=d.opaque,a=d.transparent;o.length>0&&wt(o,t,e),a.length>0&&wt(a,t,e),!0===t.isScene&&t.onAfterRender(g,t,e),null!==y&&(Q.updateRenderTargetMipmap(y),Q.updateMultisampleRenderTarget(y)),V.buffers.depth.setTest(!0),V.buffers.depth.setMask(!0),V.buffers.color.setMask(!0),V.setPolygonOffset(!1),f.pop(),p=f.length>0?f[f.length-1]:null,d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(t){v!==t&&null===y&&lt.bindFramebuffer(36160,t),v=t},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return _},this.getRenderList=function(){return d},this.setRenderList=function(t){d=t},this.getRenderTarget=function(){return y},this.setRenderTarget=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;y=t,b=e,_=n,t&&void 0===G.get(t).__webglFramebuffer&&Q.setupRenderTarget(t);var i=v,r=!1;if(t){var o=G.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=o[e],r=!0):i=t.isWebGLMultisampleRenderTarget?G.get(t).__webglMultisampledFramebuffer:o,M.copy(t.viewport),O.copy(t.scissor),P=t.scissorTest}else M.copy(I).multiplyScalar(T).floor(),O.copy(R).multiplyScalar(T).floor(),P=D;if(C!==i&&(lt.bindFramebuffer(36160,i),C=i),V.viewport(M),V.scissor(O),V.setScissorTest(P),r){var a=G.get(t.texture);lt.framebufferTexture2D(36160,36064,34069+e,a.__webglTexture,n)}},this.readRenderTargetPixels=function(t,e,n,i,r,o,a){if(t&&t.isWebGLRenderTarget){var s=G.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){var c=!1;s!==C&&(lt.bindFramebuffer(36160,s),c=!0);try{var l=t.texture,u=l.format,h=l.type;if(1023!==u&&st.convert(u)!==lt.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(1009===h||st.convert(h)===lt.getParameter(35738)||1015===h&&(H.isWebGL2||U.get("OES_texture_float")||U.get("WEBGL_color_buffer_float"))||1016===h&&U.get(H.isWebGL2?"EXT_color_buffer_float":"EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===lt.checkFramebufferStatus(36160)?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&lt.readPixels(e,n,i,r,st.convert(u),st.convert(h),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{c&&lt.bindFramebuffer(36160,C)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Math.pow(2,-n),r=Math.floor(e.image.width*i),o=Math.floor(e.image.height*i),a=st.convert(e.format);Q.setTexture2D(e,0),lt.copyTexImage2D(3553,n,a,t.x,t.y,r,o,0),V.unbindTexture()},this.copyTextureToTexture=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=e.image.width,o=e.image.height,a=st.convert(n.format),s=st.convert(n.type);Q.setTexture2D(n,0),lt.pixelStorei(37440,n.flipY),lt.pixelStorei(37441,n.premultiplyAlpha),lt.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?lt.texSubImage2D(3553,i,t.x,t.y,r,o,a,s,e.image.data):e.isCompressedTexture?lt.compressedTexSubImage2D(3553,i,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,a,e.mipmaps[0].data):lt.texSubImage2D(3553,i,t.x,t.y,a,s,e.image),0===i&&n.generateMipmaps&&lt.generateMipmap(3553),V.unbindTexture()},this.initTexture=function(t){Q.setTexture2D(t,0),V.unbindTexture()},this.resetState=function(){V.reset(),ct.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function l_(t){c_.call(this,t)}($b.prototype=Object.create(Xg.prototype)).constructor=$b,$b.prototype.isMeshDepthMaterial=!0,$b.prototype.copy=function(t){return Xg.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},(Jb.prototype=Object.create(Xg.prototype)).constructor=Jb,Jb.prototype.isMeshDistanceMaterial=!0,Jb.prototype.copy=function(t){return Xg.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},i_.prototype=Object.assign(Object.create(Km.prototype),{constructor:i_,isArrayCamera:!0}),r_.prototype=Object.assign(Object.create(Og.prototype),{constructor:r_,isGroup:!0}),Object.assign(o_.prototype,{constructor:o_,getHandSpace:function(){if(null===this._hand&&(this._hand=new r_,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(var t=0;t<=window.XRHand.LITTLE_PHALANX_TIP;t++){var e=new r_;e.matrixAutoUpdate=!1,e.visible=!1,this._hand.joints.push(e),this._hand.add(e)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new r_,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new r_,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(t,e,n){var i=null,r=null,o=null,a=this._targetRay,s=this._grip,c=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(c&&t.hand){o=!0;for(var l=0;l<=window.XRHand.LITTLE_PHALANX_TIP;l++)if(t.hand[l]){var u=e.getJointPose(t.hand[l],n),h=c.joints[l];null!==u&&(h.matrix.fromArray(u.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.jointRadius=u.radius),h.visible=null!==u;var d=c.joints[window.XRHand.INDEX_PHALANX_TIP],p=c.joints[window.XRHand.THUMB_PHALANX_TIP],f=d.position.distanceTo(p.position);c.inputState.pinching&&f>.025?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&f<=.015&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}}else null!==a&&(null!==(i=e.getPose(t.targetRaySpace,n))&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale))),null!==s&&t.gripSpace&&(null!==(r=e.getPose(t.gripSpace,n))&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale)));return null!==a&&(a.visible=null!==i),null!==s&&(s.visible=null!==r),null!==c&&(c.visible=null!==o),this}}),Object.assign(a_.prototype,uf.prototype),l_.prototype=Object.assign(Object.create(c_.prototype),{constructor:l_,isWebGL1Renderer:!0});var u_=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),t=e.call(this),Object.defineProperty(_assertThisInitialized(t),"isScene",{value:!0}),t.type="Scene",t.background=null,t.environment=null,t.fog=null,t.overrideMaterial=null,t.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:_assertThisInitialized(t)})),t}return _createClass(n,[{key:"copy",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}},{key:"toJSON",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}]),n}(Og);function h_(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=gf.generateUUID()}Object.defineProperty(h_.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(h_.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this},clone:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=gf.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var e=new h_(new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride);return e.setUsage(this.usage),e},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=gf.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var d_,p_=new Pf;function f_(t,e,n,i){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}function g_(t){Xg.call(this),this.type="SpriteMaterial",this.color=new Qg(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}Object.defineProperties(f_.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}}),Object.assign(f_.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(var e=0,n=this.data.count;e<n;e++)p_.x=this.getX(e),p_.y=this.getY(e),p_.z=this.getZ(e),p_.applyMatrix4(t),this.setXYZ(e,p_.x,p_.y,p_.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this},clone:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var e=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)e.push(this.data.array[i+r]);return new tm(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new f_(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var e=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)e.push(this.data.array[i+r]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),(g_.prototype=Object.create(Xg.prototype)).constructor=g_,g_.prototype.isSpriteMaterial=!0,g_.prototype.copy=function(t){return Xg.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};var m_=new Pf,v_=new Pf,b_=new Pf,__=new mf,y_=new mf,C_=new tg,x_=new Pf,w_=new Pf,M_=new Pf,O_=new mf,P_=new mf,k_=new mf;function A_(t){if(Og.call(this),this.type="Sprite",void 0===d_){d_=new xm;var e=new h_(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);d_.setIndex([0,1,2,0,2,3]),d_.setAttribute("position",new f_(e,3,0,!1)),d_.setAttribute("uv",new f_(e,2,3,!1))}this.geometry=d_,this.material=void 0!==t?t:new g_,this.center=new mf(.5,.5)}function T_(t,e,n,i,r,o){__.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(y_.x=o*__.x-r*__.y,y_.y=r*__.x+o*__.y):y_.copy(__),t.copy(e),t.x+=y_.x,t.y+=y_.y,t.applyMatrix4(C_)}A_.prototype=Object.assign(Object.create(Og.prototype),{constructor:A_,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),v_.setFromMatrixScale(this.matrixWorld),C_.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),b_.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&v_.multiplyScalar(-b_.z);var n,i,r=this.material.rotation;0!==r&&(i=Math.cos(r),n=Math.sin(r));var o=this.center;T_(x_.set(-.5,-.5,0),b_,o,v_,n,i),T_(w_.set(.5,-.5,0),b_,o,v_,n,i),T_(M_.set(.5,.5,0),b_,o,v_,n,i),O_.set(0,0),P_.set(1,0),k_.set(1,1);var a=t.ray.intersectTriangle(x_,w_,M_,!1,m_);if(null!==a||(T_(w_.set(-.5,.5,0),b_,o,v_,n,i),P_.set(0,1),null!==(a=t.ray.intersectTriangle(x_,M_,w_,!1,m_)))){var s=t.ray.origin.distanceTo(m_);s<t.near||s>t.far||e.push({distance:s,point:m_.clone(),uv:qg.getUV(m_,x_,w_,M_,O_,P_,k_,new mf),face:null,object:this})}},copy:function(t){return Og.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}});var S_=new Pf,E_=new Pf;function I_(){Og.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}I_.prototype=Object.assign(Object.create(Og.prototype),{constructor:I_,isLOD:!0,copy:function(t){Og.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,i=e.length;n<i;n++){var r=e[n];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=Math.abs(e);var n,i=this.levels;for(n=0;n<i.length&&!(e<i[n].distance);n++);return i.splice(n,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){var e=this.levels;if(e.length>0){var n,i;for(n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object}return null},raycast:function(t,e){if(this.levels.length>0){S_.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(S_);this.getObjectForDistance(n).raycast(t,e)}},update:function(t){var e=this.levels;if(e.length>1){S_.setFromMatrixPosition(t.matrixWorld),E_.setFromMatrixPosition(this.matrixWorld);var n,i,r=S_.distanceTo(E_)/t.zoom;for(e[0].object.visible=!0,n=1,i=e.length;n<i&&r>=e[n].distance;n++)e[n-1].object.visible=!1,e[n].object.visible=!0;for(this._currentLevel=n-1;n<i;n++)e[n].object.visible=!1}},toJSON:function(t){var e=Og.prototype.toJSON.call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var o=n[i];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}});var R_=new Pf,D_=new xf,N_=new xf,L_=new Pf,z_=new tg;function j_(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),qm.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new tg,this.bindMatrixInverse=new tg}function F_(){Og.call(this),this.type="Bone"}j_.prototype=Object.assign(Object.create(qm.prototype),{constructor:j_,isSkinnedMesh:!0,copy:function(t){return qm.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new xf,e=this.geometry.attributes.skinWeight,n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);var r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){qm.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(t,e){var n=this.skeleton,i=this.geometry;D_.fromBufferAttribute(i.attributes.skinIndex,t),N_.fromBufferAttribute(i.attributes.skinWeight,t),R_.fromBufferAttribute(i.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(var r=0;r<4;r++){var o=N_.getComponent(r);if(0!==o){var a=D_.getComponent(r);z_.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),e.addScaledVector(L_.copy(R_).applyMatrix4(z_),o)}}return e.applyMatrix4(this.bindMatrixInverse)}}),F_.prototype=Object.assign(Object.create(Og.prototype),{constructor:F_,isBone:!0});var q_=new tg,B_=new tg;function U_(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=gf.generateUUID(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(U_.prototype,{init:function(){var t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new tg)}},calculateInverses:function(){this.boneInverses.length=0;for(var t=0,e=this.bones.length;t<e;t++){var n=new tg;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}},pose:function(){for(var t=0,e=this.bones.length;t<e;t++){var n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(var i=0,r=this.bones.length;i<r;i++){var o=this.bones[i];o&&(o.parent&&o.parent.isBone?(o.matrix.copy(o.parent.matrixWorld).invert(),o.matrix.multiply(o.matrixWorld)):o.matrix.copy(o.matrixWorld),o.matrix.decompose(o.position,o.quaternion,o.scale))}},update:function(){for(var t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,o=t.length;r<o;r++)q_.multiplyMatrices(t[r]?t[r].matrixWorld:B_,e[r]),q_.toArray(n,16*r);null!==i&&(i.needsUpdate=!0)},clone:function(){return new U_(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,n=this.bones.length;e<n;e++){var i=this.bones[e];if(i.name===t)return i}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(t,e){this.uuid=t.uuid;for(var n=0,i=t.bones.length;n<i;n++){var r=t.bones[n],o=e[r];void 0===o&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new F_),this.bones.push(o),this.boneInverses.push((new tg).fromArray(t.boneInverses[n]))}return this.init(),this},toJSON:function(){var t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;for(var e=this.bones,n=this.boneInverses,i=0,r=e.length;i<r;i++)t.bones.push(e[i].uuid),t.boneInverses.push(n[i].toArray());return t}});var H_=new tg,V_=new tg,W_=[],G_=new qm;function Q_(t,e,n){qm.call(this,t,e),this.instanceMatrix=new tm(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function Y_(t){Xg.call(this),this.type="LineBasicMaterial",this.color=new Qg(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}Q_.prototype=Object.assign(Object.create(qm.prototype),{constructor:Q_,isInstancedMesh:!0,copy:function(t){return qm.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),this.count=t.count,this},getColorAt:function(t,e){e.fromArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){var n=this.matrixWorld,i=this.count;if(G_.geometry=this.geometry,G_.material=this.material,void 0!==G_.material)for(var r=0;r<i;r++){this.getMatrixAt(r,H_),V_.multiplyMatrices(n,H_),G_.matrixWorld=V_,G_.raycast(t,W_);for(var o=0,a=W_.length;o<a;o++){var s=W_[o];s.instanceId=r,s.object=this,e.push(s)}W_.length=0}},setColorAt:function(t,e){null===this.instanceColor&&(this.instanceColor=new tm(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(Y_.prototype=Object.create(Xg.prototype)).constructor=Y_,Y_.prototype.isLineBasicMaterial=!0,Y_.prototype.copy=function(t){return Xg.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};var K_=new Pf,X_=new Pf,$_=new tg,J_=new Zf,Z_=new Wf;function ty(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xm,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Y_;Og.call(this),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}ty.prototype=Object.assign(Object.create(Og.prototype),{constructor:ty,isLine:!0,copy:function(t){return Og.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[0],i=1,r=e.count;i<r;i++)K_.fromBufferAttribute(e,i-1),X_.fromBufferAttribute(e,i),n[i]=n[i-1],n[i]+=K_.distanceTo(X_);t.setAttribute("lineDistance",new lm(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var o=t.vertices,a=t.lineDistances;a[0]=0;for(var s=1,c=o.length;s<c;s++)a[s]=a[s-1],a[s]+=o[s-1].distanceTo(o[s])}return this},raycast:function(t,e){var n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Z_.copy(n.boundingSphere),Z_.applyMatrix4(i),Z_.radius+=r,!1!==t.ray.intersectsSphere(Z_)){$_.copy(i).invert(),J_.copy(t.ray).applyMatrix4($_);var o=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new Pf,c=new Pf,l=new Pf,u=new Pf,h=this.isLineSegments?2:1;if(n.isBufferGeometry){var d=n.index,p=n.attributes.position;if(null!==d)for(var f=d.array,g=0,m=f.length-1;g<m;g+=h){var v=f[g+1];if(s.fromBufferAttribute(p,f[g]),c.fromBufferAttribute(p,v),!(J_.distanceSqToSegment(s,c,u,l)>a)){u.applyMatrix4(this.matrixWorld);var b=t.ray.origin.distanceTo(u);b<t.near||b>t.far||e.push({distance:b,point:l.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else for(var _=0,y=p.count-1;_<y;_+=h)if(s.fromBufferAttribute(p,_),c.fromBufferAttribute(p,_+1),!(J_.distanceSqToSegment(s,c,u,l)>a)){u.applyMatrix4(this.matrixWorld);var C=t.ray.origin.distanceTo(u);C<t.near||C>t.far||e.push({distance:C,point:l.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else if(n.isGeometry)for(var x=n.vertices,w=x.length,M=0;M<w-1;M+=h)if(!(J_.distanceSqToSegment(x[M],x[M+1],u,l)>a)){u.applyMatrix4(this.matrixWorld);var O=t.ray.origin.distanceTo(u);O<t.near||O>t.far||e.push({distance:O,point:l.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var i=e[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,o=i.length;r<o;r++){var a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var ey=new Pf,ny=new Pf;function iy(t,e){ty.call(this,t,e),this.type="LineSegments"}function ry(t,e){ty.call(this,t,e),this.type="LineLoop"}function oy(t){Xg.call(this),this.type="PointsMaterial",this.color=new Qg(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}iy.prototype=Object.assign(Object.create(ty.prototype),{constructor:iy,isLineSegments:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[],i=0,r=e.count;i<r;i+=2)ey.fromBufferAttribute(e,i),ny.fromBufferAttribute(e,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+ey.distanceTo(ny);t.setAttribute("lineDistance",new lm(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry)for(var o=t.vertices,a=t.lineDistances,s=0,c=o.length;s<c;s+=2)ey.copy(o[s]),ny.copy(o[s+1]),a[s]=0===s?0:a[s-1],a[s+1]=a[s]+ey.distanceTo(ny);return this}}),ry.prototype=Object.assign(Object.create(ty.prototype),{constructor:ry,isLineLoop:!0}),(oy.prototype=Object.create(Xg.prototype)).constructor=oy,oy.prototype.isPointsMaterial=!0,oy.prototype.copy=function(t){return Xg.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};var ay=new tg,sy=new Zf,cy=new Wf,ly=new Pf;function uy(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xm,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oy;Og.call(this),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}function hy(t,e,n,i,r,o,a){var s=sy.distanceSqToPoint(t);if(s<n){var c=new Pf;sy.closestPointToPoint(t,c),c.applyMatrix4(i);var l=r.ray.origin.distanceTo(c);if(l<r.near||l>r.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:c,index:e,face:null,object:a})}}function dy(t,e,n,i,r,o,a,s,c){yf.call(this,t,e,n,i,r,o,a,s,c),this.format=void 0!==a?a:1022,this.minFilter=void 0!==o?o:1006,this.magFilter=void 0!==r?r:1006,this.generateMipmaps=!1;var l=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function e(){l.needsUpdate=!0,t.requestVideoFrameCallback(e)})}function py(t,e,n,i,r,o,a,s,c,l,u,h){yf.call(this,null,o,a,s,c,l,i,r,u,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function fy(t,e,n,i,r,o,a,s,c){yf.call(this,t,e,n,i,r,o,a,s,c),this.needsUpdate=!0}function gy(t,e,n,i,r,o,a,s,c,l){if(1026!==(l=void 0!==l?l:1026)&&1027!==l)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===l&&(n=1012),void 0===n&&1027===l&&(n=1020),yf.call(this,null,i,r,o,a,s,l,n,c),this.image={width:t,height:e},this.magFilter=void 0!==a?a:1003,this.minFilter=void 0!==s?s:1003,this.flipY=!1,this.generateMipmaps=!1}uy.prototype=Object.assign(Object.create(Og.prototype),{constructor:uy,isPoints:!0,copy:function(t){return Og.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){var n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),cy.copy(n.boundingSphere),cy.applyMatrix4(i),cy.radius+=r,!1!==t.ray.intersectsSphere(cy)){ay.copy(i).invert(),sy.copy(t.ray).applyMatrix4(ay);var o=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(n.isBufferGeometry){var s=n.index,c=n.attributes.position;if(null!==s)for(var l=s.array,u=0,h=l.length;u<h;u++){var d=l[u];ly.fromBufferAttribute(c,d),hy(ly,d,a,i,t,e,this)}else for(var p=0,f=c.count;p<f;p++)ly.fromBufferAttribute(c,p),hy(ly,p,a,i,t,e,this)}else for(var g=n.vertices,m=0,v=g.length;m<v;m++)hy(g[m],m,a,i,t,e,this)}},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var i=e[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,o=i.length;r<o;r++){var a=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),dy.prototype=Object.assign(Object.create(yf.prototype),{constructor:dy,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){var t=this.image;0=="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),(py.prototype=Object.create(yf.prototype)).constructor=py,py.prototype.isCompressedTexture=!0,(fy.prototype=Object.create(yf.prototype)).constructor=fy,fy.prototype.isCanvasTexture=!0,(gy.prototype=Object.create(yf.prototype)).constructor=gy,gy.prototype.isDepthTexture=!0;var my=0,vy=new tg,by=new Og,_y=new Pf;function yy(){Object.defineProperty(this,"id",{value:my+=2}),this.uuid=gf.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}yy.prototype=Object.assign(Object.create(uf.prototype),{constructor:yy,isGeometry:!0,applyMatrix4:function(t){for(var e=(new vf).getNormalMatrix(t),n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(t);for(var r=0,o=this.faces.length;r<o;r++){var a=this.faces[r];a.normal.applyMatrix3(e).normalize();for(var s=0,c=a.vertexNormals.length;s<c;s++)a.vertexNormals[s].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return vy.makeRotationX(t),this.applyMatrix4(vy),this},rotateY:function(t){return vy.makeRotationY(t),this.applyMatrix4(vy),this},rotateZ:function(t){return vy.makeRotationZ(t),this.applyMatrix4(vy),this},translate:function(t,e,n){return vy.makeTranslation(t,e,n),this.applyMatrix4(vy),this},scale:function(t,e,n){return vy.makeScale(t,e,n),this.applyMatrix4(vy),this},lookAt:function(t){return by.lookAt(t),by.updateMatrix(),this.applyMatrix4(by.matrix),this},fromBufferGeometry:function(t){var e=this,n=null!==t.index?t.index:void 0,i=t.attributes;if(void 0===i.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var r=i.position,o=i.normal,a=i.color,s=i.uv,c=i.uv2;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var l=0;l<r.count;l++)e.vertices.push((new Pf).fromBufferAttribute(r,l)),void 0!==a&&e.colors.push((new Qg).fromBufferAttribute(a,l));function u(t,n,i,r){var l=void 0===a?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[i].clone()],u=void 0===o?[]:[(new Pf).fromBufferAttribute(o,t),(new Pf).fromBufferAttribute(o,n),(new Pf).fromBufferAttribute(o,i)],h=new Yg(t,n,i,u,l,r);e.faces.push(h),void 0!==s&&e.faceVertexUvs[0].push([(new mf).fromBufferAttribute(s,t),(new mf).fromBufferAttribute(s,n),(new mf).fromBufferAttribute(s,i)]),void 0!==c&&e.faceVertexUvs[1].push([(new mf).fromBufferAttribute(c,t),(new mf).fromBufferAttribute(c,n),(new mf).fromBufferAttribute(c,i)])}var h=t.groups;if(h.length>0)for(var d=0;d<h.length;d++)for(var p=h[d],f=p.start,g=f,m=f+p.count;g<m;g+=3)void 0!==n?u(n.getX(g),n.getX(g+1),n.getX(g+2),p.materialIndex):u(g,g+1,g+2,p.materialIndex);else if(void 0!==n)for(var v=0;v<n.count;v+=3)u(n.getX(v),n.getX(v+1),n.getX(v+2));else for(var b=0;b<r.count;b+=3)u(b,b+1,b+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(_y).negate(),this.translate(_y.x,_y.y,_y.z),this},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,i=new tg;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){for(var t=new Pf,e=new Pf,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],o=this.vertices[r.a],a=this.vertices[r.b];t.subVectors(this.vertices[r.c],a),e.subVectors(o,a),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=new Array(this.vertices.length),n=0,i=this.vertices.length;n<i;n++)e[n]=new Pf;if(t)for(var r=new Pf,o=new Pf,a=0,s=this.faces.length;a<s;a++){var c=this.faces[a],l=this.vertices[c.a],u=this.vertices[c.b];r.subVectors(this.vertices[c.c],u),o.subVectors(l,u),r.cross(o),e[c.a].add(r),e[c.b].add(r),e[c.c].add(r)}else{this.computeFaceNormals();for(var h=0,d=this.faces.length;h<d;h++){var p=this.faces[h];e[p.a].add(p.normal),e[p.b].add(p.normal),e[p.c].add(p.normal)}}for(var f=0,g=this.vertices.length;f<g;f++)e[f].normalize();for(var m=0,v=this.faces.length;m<v;m++){var b=this.faces[m],_=b.vertexNormals;3===_.length?(_[0].copy(e[b.a]),_[1].copy(e[b.b]),_[2].copy(e[b.c])):(_[0]=e[b.a].clone(),_[1]=e[b.b].clone(),_[2]=e[b.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var t=0,e=this.faces.length;t<e;t++){var n=this.faces[t],i=n.vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var t=0,e=this.faces.length;t<e;t++){var n=this.faces[t];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);for(var i=0,r=n.vertexNormals.length;i<r;i++)n.__originalVertexNormals[i]?n.__originalVertexNormals[i].copy(n.vertexNormals[i]):n.__originalVertexNormals[i]=n.vertexNormals[i].clone()}var o=new yy;o.faces=this.faces;for(var a=0,s=this.morphTargets.length;a<s;a++){if(!this.morphNormals[a]){this.morphNormals[a]={},this.morphNormals[a].faceNormals=[],this.morphNormals[a].vertexNormals=[];for(var c=this.morphNormals[a].faceNormals,l=this.morphNormals[a].vertexNormals,u=0,h=this.faces.length;u<h;u++){var d=new Pf,p={a:new Pf,b:new Pf,c:new Pf};c.push(d),l.push(p)}}var f=this.morphNormals[a];o.vertices=this.morphTargets[a].vertices,o.computeFaceNormals(),o.computeVertexNormals();for(var g=0,m=this.faces.length;g<m;g++){var v=this.faces[g],b=f.vertexNormals[g];f.faceNormals[g].copy(v.normal),b.a.copy(v.vertexNormals[0]),b.b.copy(v.vertexNormals[1]),b.c.copy(v.vertexNormals[2])}}for(var _=0,y=this.faces.length;_<y;_++){var C=this.faces[_];C.normal=C.__originalFaceNormal,C.vertexNormals=C.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Tf),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Wf),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t&&t.isGeometry){var i,r=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,c=t.faces,l=this.colors,u=t.colors;void 0!==e&&(i=(new vf).getNormalMatrix(e));for(var h=0,d=a.length;h<d;h++){var p=a[h].clone();void 0!==e&&p.applyMatrix4(e),o.push(p)}for(var f=0,g=u.length;f<g;f++)l.push(u[f].clone());for(var m=0,v=c.length;m<v;m++){var b=c[m],_=void 0,y=void 0,C=b.vertexNormals,x=b.vertexColors,w=new Yg(b.a+r,b.b+r,b.c+r);w.normal.copy(b.normal),void 0!==i&&w.normal.applyMatrix3(i).normalize();for(var M=0,O=C.length;M<O;M++)_=C[M].clone(),void 0!==i&&_.applyMatrix3(i).normalize(),w.vertexNormals.push(_);w.color.copy(b.color);for(var P=0,k=x.length;P<k;P++)y=x[P],w.vertexColors.push(y.clone());w.materialIndex=b.materialIndex+n,s.push(w)}for(var A=0,T=t.faceVertexUvs.length;A<T;A++){var S=t.faceVertexUvs[A];void 0===this.faceVertexUvs[A]&&(this.faceVertexUvs[A]=[]);for(var E=0,I=S.length;E<I;E++){for(var R=S[E],D=[],N=0,L=R.length;N<L;N++)D.push(R[N].clone());this.faceVertexUvs[A].push(D)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,e={},n=[],i=[],r=Math.pow(10,t),o=0,a=this.vertices.length;o<a;o++){var s=this.vertices[o],c=Math.round(s.x*r)+"_"+Math.round(s.y*r)+"_"+Math.round(s.z*r);void 0===e[c]?(e[c]=o,n.push(this.vertices[o]),i[o]=n.length-1):i[o]=i[e[c]]}for(var l=[],u=0,h=this.faces.length;u<h;u++){var d=this.faces[u];d.a=i[d.a],d.b=i[d.b],d.c=i[d.c];for(var p=[d.a,d.b,d.c],f=0;f<3;f++)if(p[f]===p[(f+1)%3]){l.push(u);break}}for(var g=l.length-1;g>=0;g--){var m=l[g];this.faces.splice(m,1);for(var v=0,b=this.faceVertexUvs.length;v<b;v++)this.faceVertexUvs[v].splice(m,1)}var _=this.vertices.length-n.length;return this.vertices=n,_},setFromPoints:function(t){this.vertices=[];for(var e=0,n=t.length;e<n;e++){var i=t[e];this.vertices.push(new Pf(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort(function(t,e){return t.materialIndex-e.materialIndex});var i,r,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===e&&(i=[]),a&&a.length===e&&(r=[]);for(var s=0;s<e;s++){var c=t[s]._id;i&&i.push(o[c]),r&&r.push(a[c])}i&&(this.faceVertexUvs[0]=i),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}for(var i=[],r=0;r<this.vertices.length;r++){var o=this.vertices[r];i.push(o.x,o.y,o.z)}for(var a=[],s=[],c={},l=[],u={},h=[],d={},p=0;p<this.faces.length;p++){var f=this.faces[p],g=void 0!==this.faceVertexUvs[0][p],m=f.normal.length()>0,v=f.vertexNormals.length>0,b=1!==f.color.r||1!==f.color.g||1!==f.color.b,_=f.vertexColors.length>0,y=0;if(y=M(y,0,0),y=M(y,1,!0),y=M(y,2,!1),y=M(y,3,g),y=M(y,4,m),y=M(y,5,v),y=M(y,6,b),y=M(y,7,_),a.push(y),a.push(f.a,f.b,f.c),a.push(f.materialIndex),g){var C=this.faceVertexUvs[0][p];a.push(k(C[0]),k(C[1]),k(C[2]))}if(m&&a.push(O(f.normal)),v){var x=f.vertexNormals;a.push(O(x[0]),O(x[1]),O(x[2]))}if(b&&a.push(P(f.color)),_){var w=f.vertexColors;a.push(P(w[0]),P(w[1]),P(w[2]))}}function M(t,e,n){return n?t|1<<e:t&~(1<<e)}function O(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]||(c[e]=s.length/3,s.push(t.x,t.y,t.z)),c[e]}function P(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==u[e]||(u[e]=l.length,l.push(t.getHex())),u[e]}function k(t){var e=t.x.toString()+t.y.toString();return void 0!==d[e]||(d[e]=h.length/2,h.push(t.x,t.y)),d[e]}return t.data={},t.data.vertices=i,t.data.normals=s,l.length>0&&(t.data.colors=l),h.length>0&&(t.data.uvs=[h]),t.data.faces=a,t},clone:function(){return(new yy).copy(this)},copy:function(t){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;for(var e=t.vertices,n=0,i=e.length;n<i;n++)this.vertices.push(e[n].clone());for(var r=t.colors,o=0,a=r.length;o<a;o++)this.colors.push(r[o].clone());for(var s=t.faces,c=0,l=s.length;c<l;c++)this.faces.push(s[c].clone());for(var u=0,h=t.faceVertexUvs.length;u<h;u++){var d=t.faceVertexUvs[u];void 0===this.faceVertexUvs[u]&&(this.faceVertexUvs[u]=[]);for(var p=0,f=d.length;p<f;p++){for(var g=d[p],m=[],v=0,b=g.length;v<b;v++)m.push(g[v].clone());this.faceVertexUvs[u].push(m)}}for(var _=t.morphTargets,y=0,C=_.length;y<C;y++){var x={};if(x.name=_[y].name,void 0!==_[y].vertices){x.vertices=[];for(var w=0,M=_[y].vertices.length;w<M;w++)x.vertices.push(_[y].vertices[w].clone())}if(void 0!==_[y].normals){x.normals=[];for(var O=0,P=_[y].normals.length;O<P;O++)x.normals.push(_[y].normals[O].clone())}this.morphTargets.push(x)}for(var k=t.morphNormals,A=0,T=k.length;A<T;A++){var S={};if(void 0!==k[A].vertexNormals){S.vertexNormals=[];for(var E=0,I=k[A].vertexNormals.length;E<I;E++){var R=k[A].vertexNormals[E],D={};D.a=R.a.clone(),D.b=R.b.clone(),D.c=R.c.clone(),S.vertexNormals.push(D)}}if(void 0!==k[A].faceNormals){S.faceNormals=[];for(var N=0,L=k[A].faceNormals.length;N<L;N++)S.faceNormals.push(k[A].faceNormals[N].clone())}this.morphNormals.push(S)}for(var z=t.skinWeights,j=0,F=z.length;j<F;j++)this.skinWeights.push(z[j].clone());for(var q=t.skinIndices,B=0,U=q.length;B<U;B++)this.skinIndices.push(q[B].clone());for(var H=t.lineDistances,V=0,W=H.length;V<W;V++)this.lineDistances.push(H[V]);var G=t.boundingBox;null!==G&&(this.boundingBox=G.clone());var Q=t.boundingSphere;return null!==Q&&(this.boundingSphere=Q.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Cy=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;_classCallCheck(this,n),(t=e.call(this)).type="CylinderBufferGeometry",t.parameters={radiusTop:i,radiusBottom:r,height:o,radialSegments:a,heightSegments:s,openEnded:c,thetaStart:l,thetaLength:u};var h=_assertThisInitialized(t);a=Math.floor(a),s=Math.floor(s);var d=[],p=[],f=[],g=[],m=0,v=[],b=o/2,_=0;function y(t){for(var e=m,n=new mf,o=new Pf,s=0,c=!0===t?i:r,v=!0===t?1:-1,y=1;y<=a;y++)p.push(0,b*v,0),f.push(0,v,0),g.push(.5,.5),m++;for(var C=m,x=0;x<=a;x++){var w=x/a*u+l,M=Math.cos(w),O=Math.sin(w);o.x=c*O,o.y=b*v,o.z=c*M,p.push(o.x,o.y,o.z),f.push(0,v,0),n.x=.5*M+.5,n.y=.5*O*v+.5,g.push(n.x,n.y),m++}for(var P=0;P<a;P++){var k=e+P,A=C+P;!0===t?d.push(A,A+1,k):d.push(A+1,A,k),s+=3}h.addGroup(_,s,!0===t?1:2),_+=s}return function(){for(var t=new Pf,e=new Pf,n=0,c=(r-i)/o,y=0;y<=s;y++){for(var C=[],x=y/s,w=x*(r-i)+i,M=0;M<=a;M++){var O=M/a,P=O*u+l,k=Math.sin(P),A=Math.cos(P);e.x=w*k,e.y=-x*o+b,e.z=w*A,p.push(e.x,e.y,e.z),t.set(k,c,A).normalize(),f.push(t.x,t.y,t.z),g.push(O,1-x),C.push(m++)}v.push(C)}for(var T=0;T<a;T++)for(var S=0;S<s;S++){var E=v[S+1][T],I=v[S+1][T+1],R=v[S][T+1];d.push(v[S][T],E,R),d.push(E,I,R),n+=6}h.addGroup(_,n,0),_+=n}(),!1===c&&(i>0&&y(!0),r>0&&y(!1)),t.setIndex(d),t.setAttribute("position",new lm(p,3)),t.setAttribute("normal",new lm(f,3)),t.setAttribute("uv",new lm(g,2)),t}return n}(xm),xy=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a,s,c){var l;return _classCallCheck(this,n),(l=e.call(this,0,t,i,r,o,a,s,c)).type="ConeGeometry",l.parameters={radius:t,height:i,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:c},l}return n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a,s,c,l){var u;return _classCallCheck(this,n),(u=e.call(this)).type="CylinderGeometry",u.parameters={radiusTop:t,radiusBottom:i,height:r,radialSegments:o,heightSegments:a,openEnded:s,thetaStart:c,thetaLength:l},u.fromBufferGeometry(new Cy(t,i,r,o,a,s,c,l)),u.mergeVertices(),u}return n}(yy)),wy=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return _classCallCheck(this,n),(t=e.call(this,0,i,r,o,a,s,c,l)).type="ConeBufferGeometry",t.parameters={radius:i,height:r,radialSegments:o,heightSegments:a,openEnded:s,thetaStart:c,thetaLength:l},t}return n}(Cy);function My(t,e,n,i,r){var o,a;if(r===function(t,e,n,i){for(var r=0,o=e,a=n-i;o<n;o+=i)r+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return r}(t,e,n,i)>0)for(o=e;o<n;o+=i)a=Wy(o,t[o],t[o+1],a);else for(o=n-i;o>=e;o-=i)a=Wy(o,t[o],t[o+1],a);return a&&Fy(a,a.next)&&(Gy(a),a=a.next),a}function Oy(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!Fy(i,i.next)&&0!==jy(i.prev,i,i.next))i=i.next;else{if(Gy(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function Py(t,e,n,i,r,o,a){if(t){!a&&o&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=Dy(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,a,s,c,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,i=n,s=0,e=0;e<l&&(s++,i=i.nextZ);e++);for(c=l;s>0||c>0&&i;)0!==s&&(0===c||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,c--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,l*=2}while(a>1)}(r)}(t,i,r,o);for(var s,c,l=t;t.prev!==t.next;)if(s=t.prev,c=t.next,o?Ay(t,i,r,o):ky(t))e.push(s.i/n),e.push(t.i/n),e.push(c.i/n),Gy(t),t=c.next,l=c.next;else if((t=c)===l){a?1===a?Py(t=Ty(Oy(t),e,n),e,n,i,r,o,2):2===a&&Sy(t,e,n,i,r,o):Py(Oy(t),e,n,i,r,o,1);break}}}function ky(t){var e=t.prev,n=t,i=t.next;if(jy(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(Ly(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&jy(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Ay(t,e,n,i){var r=t.prev,o=t,a=t.next;if(jy(r,o,a)>=0)return!1;for(var s=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,c=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,l=Dy(r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,e,n,i),u=Dy(s,c,e,n,i),h=t.prevZ,d=t.nextZ;h&&h.z>=l&&d&&d.z<=u;){if(h!==t.prev&&h!==t.next&&Ly(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&jy(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,d!==t.prev&&d!==t.next&&Ly(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&jy(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;h&&h.z>=l;){if(h!==t.prev&&h!==t.next&&Ly(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&jy(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=u;){if(d!==t.prev&&d!==t.next&&Ly(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&jy(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function Ty(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!Fy(r,o)&&qy(r,i,i.next,o)&&Hy(r,o)&&Hy(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),Gy(i),Gy(i.next),i=t=o),i=i.next}while(i!==t);return Oy(i)}function Sy(t,e,n,i,r,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&zy(a,s)){var c=Vy(a,s);return a=Oy(a,a.next),c=Oy(c,c.next),Py(a,e,n,i,r,o),void Py(c,e,n,i,r,o)}s=s.next}a=a.next}while(a!==t)}function Ey(t,e){return t.x-e.x}function Iy(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a){if(a=s,s===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===a)return n;var c,l=n,u=n.x,h=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=u&&r!==i.x&&Ly(o<h?r:a,o,u,h,o<h?a:r,o,i.x,i.y)&&(c=Math.abs(o-i.y)/(r-i.x),Hy(i,t)&&(c<d||c===d&&(i.x>n.x||i.x===n.x&&Ry(n,i)))&&(n=i,d=c)),i=i.next}while(i!==l);return n}(t,e)){var n=Vy(e,t);Oy(e,e.next),Oy(n,n.next)}}function Ry(t,e){return jy(t.prev,t,e.prev)<0&&jy(e.next,t,t.next)<0}function Dy(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ny(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function Ly(t,e,n,i,r,o,a,s){return(r-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(i-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function zy(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&qy(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(Hy(t,e)&&Hy(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(jy(t.prev,t,e.prev)||jy(t,e.prev,e))||Fy(t,e)&&jy(t.prev,t,t.next)>0&&jy(e.prev,e,e.next)>0)}function jy(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Fy(t,e){return t.x===e.x&&t.y===e.y}function qy(t,e,n,i){var r=Uy(jy(t,e,n)),o=Uy(jy(t,e,i)),a=Uy(jy(n,i,t)),s=Uy(jy(n,i,e));return r!==o&&a!==s||!(0!==r||!By(t,n,e))||!(0!==o||!By(t,i,e))||!(0!==a||!By(n,t,i))||!(0!==s||!By(n,e,i))}function By(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Uy(t){return t>0?1:t<0?-1:0}function Hy(t,e){return jy(t.prev,t,t.next)<0?jy(t,e,t.next)>=0&&jy(t,t.prev,e)>=0:jy(t,e,t.prev)<0||jy(t,t.next,e)<0}function Vy(t,e){var n=new Qy(t.i,t.x,t.y),i=new Qy(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Wy(t,e,n,i){var r=new Qy(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Gy(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Qy(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}new Pf,new Pf,new Pf,new qg;var Yy={area:function(t){for(var e=t.length,n=0,i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},isClockWise:function(t){return Yy.area(t)<0},triangulateShape:function(t,e){var n=[],i=[],r=[];Ky(t),Xy(n,t);var o=t.length;e.forEach(Ky);for(var a=0;a<e.length;a++)i.push(o),o+=e[a].length,Xy(n,e[a]);for(var s=function(t,e,n){n=n||2;var i,r,o,a,s,c,l,u=e&&e.length,h=u?e[0]*n:t.length,d=My(t,0,h,n,!0),p=[];if(!d||d.next===d.prev)return p;if(u&&(d=function(t,e,n,i){var r,o,a,s=[];for(r=0,o=e.length;r<o;r++)(a=My(t,e[r]*i,r<o-1?e[r+1]*i:t.length,i,!1))===a.next&&(a.steiner=!0),s.push(Ny(a));for(s.sort(Ey),r=0;r<s.length;r++)Iy(s[r],n),n=Oy(n,n.next);return n}(t,e,d,n)),t.length>80*n){i=o=t[0],r=a=t[1];for(var f=n;f<h;f+=n)(s=t[f])<i&&(i=s),(c=t[f+1])<r&&(r=c),s>o&&(o=s),c>a&&(a=c);l=0!==(l=Math.max(o-i,a-r))?1/l:0}return Py(d,p,n,i,r,l),p}(n,i),c=0;c<s.length;c+=3)r.push(s.slice(c,c+3));return r}};function Ky(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Xy(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}var $y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;_classCallCheck(this,n),(r=e.call(this)).type="ExtrudeBufferGeometry",r.parameters={shapes:t,options:i},t=Array.isArray(t)?t:[t];for(var o=_assertThisInitialized(r),a=[],s=[],c=0,l=t.length;c<l;c++)u(t[c]);function u(t){var e=[],n=void 0!==i.curveSegments?i.curveSegments:12,r=void 0!==i.steps?i.steps:1,c=void 0!==i.depth?i.depth:100,l=void 0===i.bevelEnabled||i.bevelEnabled,u=void 0!==i.bevelThickness?i.bevelThickness:6,h=void 0!==i.bevelSize?i.bevelSize:u-2,d=void 0!==i.bevelOffset?i.bevelOffset:0,p=void 0!==i.bevelSegments?i.bevelSegments:3,f=i.extrudePath,g=void 0!==i.UVGenerator?i.UVGenerator:Jy;void 0!==i.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=i.amount);var m,v,b,_,y,C=!1;f&&(m=f.getSpacedPoints(r),C=!0,l=!1,v=f.computeFrenetFrames(r,!1),b=new Pf,_=new Pf,y=new Pf),l||(p=0,u=0,h=0,d=0);var x=t.extractPoints(n),w=x.shape,M=x.holes;if(!Yy.isClockWise(w)){w=w.reverse();for(var O=0,P=M.length;O<P;O++){var k=M[O];Yy.isClockWise(k)&&(M[O]=k.reverse())}}for(var A=Yy.triangulateShape(w,M),T=w,S=0,E=M.length;S<E;S++)w=w.concat(M[S]);function I(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var R=w.length,D=A.length;function N(t,e,n){var i,r,o,a=t.x-e.x,s=t.y-e.y,c=n.x-t.x,l=n.y-t.y,u=a*a+s*s;if(Math.abs(a*l-s*c)>Number.EPSILON){var h=Math.sqrt(u),d=Math.sqrt(c*c+l*l),p=e.x-s/h,f=e.y+a/h,g=((n.x-l/d-p)*l-(n.y+c/d-f)*c)/(a*l-s*c),m=(i=p+a*g-t.x)*i+(r=f+s*g-t.y)*r;if(m<=2)return new mf(i,r);o=Math.sqrt(m/2)}else{var v=!1;a>Number.EPSILON?c>Number.EPSILON&&(v=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(v=!0):Math.sign(s)===Math.sign(l)&&(v=!0),v?(i=-s,r=a,o=Math.sqrt(u)):(i=a,r=s,o=Math.sqrt(u/2))}return new mf(i/o,r/o)}for(var L=[],z=0,j=T.length,F=j-1,q=z+1;z<j;z++,F++,q++)F===j&&(F=0),q===j&&(q=0),L[z]=N(T[z],T[F],T[q]);for(var B,U=[],H=L.concat(),V=0,W=M.length;V<W;V++){var G=M[V];B=[];for(var Q=0,Y=G.length,K=Y-1,X=Q+1;Q<Y;Q++,K++,X++)K===Y&&(K=0),X===Y&&(X=0),B[Q]=N(G[Q],G[K],G[X]);U.push(B),H=H.concat(B)}for(var $=0;$<p;$++){for(var J=$/p,Z=u*Math.cos(J*Math.PI/2),tt=h*Math.sin(J*Math.PI/2)+d,et=0,nt=T.length;et<nt;et++){var it=I(T[et],L[et],tt);St(it.x,it.y,-Z)}for(var rt=0,ot=M.length;rt<ot;rt++){var at=M[rt];B=U[rt];for(var st=0,ct=at.length;st<ct;st++){var lt=I(at[st],B[st],tt);St(lt.x,lt.y,-Z)}}}for(var ut=h+d,ht=0;ht<R;ht++){var dt=l?I(w[ht],H[ht],ut):w[ht];C?(_.copy(v.normals[0]).multiplyScalar(dt.x),b.copy(v.binormals[0]).multiplyScalar(dt.y),y.copy(m[0]).add(_).add(b),St(y.x,y.y,y.z)):St(dt.x,dt.y,0)}for(var pt=1;pt<=r;pt++)for(var ft=0;ft<R;ft++){var gt=l?I(w[ft],H[ft],ut):w[ft];C?(_.copy(v.normals[pt]).multiplyScalar(gt.x),b.copy(v.binormals[pt]).multiplyScalar(gt.y),y.copy(m[pt]).add(_).add(b),St(y.x,y.y,y.z)):St(gt.x,gt.y,c/r*pt)}for(var mt=p-1;mt>=0;mt--){for(var vt=mt/p,bt=u*Math.cos(vt*Math.PI/2),_t=h*Math.sin(vt*Math.PI/2)+d,yt=0,Ct=T.length;yt<Ct;yt++){var xt=I(T[yt],L[yt],_t);St(xt.x,xt.y,c+bt)}for(var wt=0,Mt=M.length;wt<Mt;wt++){var Ot=M[wt];B=U[wt];for(var Pt=0,kt=Ot.length;Pt<kt;Pt++){var At=I(Ot[Pt],B[Pt],_t);C?St(At.x,At.y+m[r-1].y,m[r-1].x+bt):St(At.x,At.y,c+bt)}}}function Tt(t,e){for(var n=t.length;--n>=0;){var i=n,o=n-1;o<0&&(o=t.length-1);for(var a=0,s=r+2*p;a<s;a++){var c=R*a,l=R*(a+1);It(e+i+c,e+o+c,e+o+l,e+i+l)}}}function St(t,n,i){e.push(t),e.push(n),e.push(i)}function Et(t,e,n){Rt(t),Rt(e),Rt(n);var i=a.length/3,r=g.generateTopUV(o,a,i-3,i-2,i-1);Dt(r[0]),Dt(r[1]),Dt(r[2])}function It(t,e,n,i){Rt(t),Rt(e),Rt(i),Rt(e),Rt(n),Rt(i);var r=a.length/3,s=g.generateSideWallUV(o,a,r-6,r-3,r-2,r-1);Dt(s[0]),Dt(s[1]),Dt(s[3]),Dt(s[1]),Dt(s[2]),Dt(s[3])}function Rt(t){a.push(e[3*t+0]),a.push(e[3*t+1]),a.push(e[3*t+2])}function Dt(t){s.push(t.x),s.push(t.y)}!function(){var t=a.length/3;if(l){for(var e=0,n=R*e,i=0;i<D;i++){var s=A[i];Et(s[2]+n,s[1]+n,s[0]+n)}n=R*(e=r+2*p);for(var c=0;c<D;c++){var u=A[c];Et(u[0]+n,u[1]+n,u[2]+n)}}else{for(var h=0;h<D;h++){var d=A[h];Et(d[2],d[1],d[0])}for(var f=0;f<D;f++){var g=A[f];Et(g[0]+R*r,g[1]+R*r,g[2]+R*r)}}o.addGroup(t,a.length/3-t,0)}(),function(){var t=a.length/3,e=0;Tt(T,e),e+=T.length;for(var n=0,i=M.length;n<i;n++){var r=M[n];Tt(r,e),e+=r.length}o.addGroup(t,a.length/3-t,1)}()}return r.setAttribute("position",new lm(a,3)),r.setAttribute("uv",new lm(s,2)),r.computeVertexNormals(),r}return _createClass(n,[{key:"toJSON",value:function(){var t=xm.prototype.toJSON.call(this);return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++)n.shapes.push(t[i].uuid);else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)}}]),n}(xm),Jy={generateTopUV:function(t,e,n,i,r){var o=e[3*i],a=e[3*i+1],s=e[3*r],c=e[3*r+1];return[new mf(e[3*n],e[3*n+1]),new mf(o,a),new mf(s,c)]},generateSideWallUV:function(t,e,n,i,r,o){var a=e[3*n],s=e[3*n+1],c=e[3*n+2],l=e[3*i],u=e[3*i+1],h=e[3*i+2],d=e[3*r],p=e[3*r+1],f=e[3*r+2],g=e[3*o],m=e[3*o+1],v=e[3*o+2];return Math.abs(s-u)<.01?[new mf(a,1-c),new mf(l,1-h),new mf(d,1-f),new mf(g,1-v)]:[new mf(s,1-c),new mf(u,1-h),new mf(p,1-f),new mf(m,1-v)]}},Zy=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).type="ExtrudeGeometry",r.parameters={shapes:t,options:i},r.fromBufferGeometry(new $y(t,i)),r.mergeVertices(),r}return _createClass(n,[{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++)n.shapes.push(t[i].uuid);else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)}}]),n}(yy);function tC(t,e,n){xm.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var i=[],r=[],o=[],a=[],s=1e-5,c=new Pf,l=new Pf,u=new Pf,h=new Pf,d=new Pf;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var p=e+1,f=0;f<=n;f++)for(var g=f/n,m=0;m<=e;m++){var v=m/e;t(v,g,l),r.push(l.x,l.y,l.z),v-s>=0?(t(v-s,g,u),h.subVectors(l,u)):(t(v+s,g,u),h.subVectors(u,l)),g-s>=0?(t(v,g-s,u),d.subVectors(l,u)):(t(v,g+s,u),d.subVectors(u,l)),c.crossVectors(h,d).normalize(),o.push(c.x,c.y,c.z),a.push(v,g)}for(var b=0;b<n;b++)for(var _=0;_<e;_++){var y=b*p+_+1,C=(b+1)*p+_+1,x=(b+1)*p+_;i.push(b*p+_,y,x),i.push(y,C,x)}this.setIndex(i),this.setAttribute("position",new lm(r,3)),this.setAttribute("normal",new lm(o,3)),this.setAttribute("uv",new lm(a,2))}function eC(t,e,n){yy.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new tC(t,e,n)),this.mergeVertices()}(tC.prototype=Object.create(xm.prototype)).constructor=tC,(eC.prototype=Object.create(yy.prototype)).constructor=eC;var nC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;_classCallCheck(this,n),(i=e.call(this)).type="ShapeBufferGeometry",i.parameters={shapes:t,curveSegments:r};var o=[],a=[],s=[],c=[],l=0,u=0;if(!1===Array.isArray(t))d(t);else for(var h=0;h<t.length;h++)d(t[h]),i.addGroup(l,u,h),l+=u,u=0;function d(t){var e=a.length/3,n=t.extractPoints(r),i=n.shape,l=n.holes;!1===Yy.isClockWise(i)&&(i=i.reverse());for(var h=0,d=l.length;h<d;h++){var p=l[h];!0===Yy.isClockWise(p)&&(l[h]=p.reverse())}for(var f=Yy.triangulateShape(i,l),g=0,m=l.length;g<m;g++)i=i.concat(l[g]);for(var v=0,b=i.length;v<b;v++){var _=i[v];a.push(_.x,_.y,0),s.push(0,0,1),c.push(_.x,_.y)}for(var y=0,C=f.length;y<C;y++){var x=f[y];o.push(x[0]+e,x[1]+e,x[2]+e),u+=3}}return i.setIndex(o),i.setAttribute("position",new lm(a,3)),i.setAttribute("normal",new lm(s,3)),i.setAttribute("uv",new lm(c,2)),i}return _createClass(n,[{key:"toJSON",value:function(){var t=xm.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e.shapes.push(t[n].uuid);else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}]),n}(xm),iC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).type="ShapeGeometry","object"==typeof i&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),i=i.curveSegments),r.parameters={shapes:t,curveSegments:i},r.fromBufferGeometry(new nC(t,i)),r.mergeVertices(),r}return _createClass(n,[{key:"toJSON",value:function(){var t=yy.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e.shapes.push(t[n].uuid);else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}]),n}(yy),rC=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;_classCallCheck(this,n),(t=e.call(this)).type="SphereBufferGeometry",t.parameters={radius:i,widthSegments:r,heightSegments:o,phiStart:a,phiLength:s,thetaStart:c,thetaLength:l},r=Math.max(3,Math.floor(r)),o=Math.max(2,Math.floor(o));for(var u=Math.min(c+l,Math.PI),h=0,d=[],p=new Pf,f=new Pf,g=[],m=[],v=[],b=[],_=0;_<=o;_++){var y=[],C=_/o,x=0;0==_&&0==c?x=.5/r:_==o&&u==Math.PI&&(x=-.5/r);for(var w=0;w<=r;w++){var M=w/r;p.x=-i*Math.cos(a+M*s)*Math.sin(c+C*l),p.y=i*Math.cos(c+C*l),p.z=i*Math.sin(a+M*s)*Math.sin(c+C*l),m.push(p.x,p.y,p.z),f.copy(p).normalize(),v.push(f.x,f.y,f.z),b.push(M+x,1-C),y.push(h++)}d.push(y)}for(var O=0;O<o;O++)for(var P=0;P<r;P++){var k=d[O][P+1],A=d[O][P],T=d[O+1][P],S=d[O+1][P+1];(0!==O||c>0)&&g.push(k,A,S),(O!==o-1||u<Math.PI)&&g.push(A,T,S)}return t.setIndex(g),t.setAttribute("position",new lm(m,3)),t.setAttribute("normal",new lm(v,3)),t.setAttribute("uv",new lm(b,2)),t}return n}(xm),oC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,n);var o=r.font;if(!o||!o.isFont)return _possibleConstructorReturn(i,(console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new xm));var a=o.generateShapes(t,r.size);return r.depth=void 0!==r.height?r.height:50,void 0===r.bevelThickness&&(r.bevelThickness=10),void 0===r.bevelSize&&(r.bevelSize=8),void 0===r.bevelEnabled&&(r.bevelEnabled=!1),(i=e.call(this,a,r)).type="TextBufferGeometry",i}return n}($y),aC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).type="TextGeometry",r.parameters={text:t,parameters:i},r.fromBufferGeometry(new oC(t,i)),r.mergeVertices(),r}return n}(yy),sC=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;_classCallCheck(this,n),(t=e.call(this)).type="TorusBufferGeometry",t.parameters={radius:i,tube:r,radialSegments:o,tubularSegments:a,arc:s},o=Math.floor(o),a=Math.floor(a);for(var c=[],l=[],u=[],h=[],d=new Pf,p=new Pf,f=new Pf,g=0;g<=o;g++)for(var m=0;m<=a;m++){var v=m/a*s,b=g/o*Math.PI*2;p.x=(i+r*Math.cos(b))*Math.cos(v),p.y=(i+r*Math.cos(b))*Math.sin(v),p.z=r*Math.sin(b),l.push(p.x,p.y,p.z),d.x=i*Math.cos(v),d.y=i*Math.sin(v),f.subVectors(p,d).normalize(),u.push(f.x,f.y,f.z),h.push(m/a),h.push(g/o)}for(var _=1;_<=o;_++)for(var y=1;y<=a;y++){var C=(a+1)*(_-1)+y-1,x=(a+1)*(_-1)+y,w=(a+1)*_+y;c.push((a+1)*_+y-1,C,w),c.push(C,x,w)}return t.setIndex(c),t.setAttribute("position",new lm(l,3)),t.setAttribute("normal",new lm(u,3)),t.setAttribute("uv",new lm(h,2)),t}return n}(xm),cC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;_classCallCheck(this,n),(i=e.call(this)).type="WireframeGeometry";var r=[],o=[0,0],a={},s=["a","b","c"];if(t&&t.isGeometry){for(var c=t.faces,l=0,u=c.length;l<u;l++)for(var h=c[l],d=0;d<3;d++){var p=h[s[d]],f=h[s[(d+1)%3]];o[0]=Math.min(p,f),o[1]=Math.max(p,f);var g=o[0]+","+o[1];void 0===a[g]&&(a[g]={index1:o[0],index2:o[1]})}for(var m in a){var v=a[m],b=t.vertices[v.index1];r.push(b.x,b.y,b.z),b=t.vertices[v.index2],r.push(b.x,b.y,b.z)}}else if(t&&t.isBufferGeometry){var _=new Pf;if(null!==t.index){var y=t.attributes.position,C=t.index,x=t.groups;0===x.length&&(x=[{start:0,count:C.count,materialIndex:0}]);for(var w=0,M=x.length;w<M;++w)for(var O=x[w],P=O.start,k=P,A=P+O.count;k<A;k+=3)for(var T=0;T<3;T++){var S=C.getX(k+T),E=C.getX(k+(T+1)%3);o[0]=Math.min(S,E),o[1]=Math.max(S,E);var I=o[0]+","+o[1];void 0===a[I]&&(a[I]={index1:o[0],index2:o[1]})}for(var R in a){var D=a[R];_.fromBufferAttribute(y,D.index1),r.push(_.x,_.y,_.z),_.fromBufferAttribute(y,D.index2),r.push(_.x,_.y,_.z)}}else for(var N=t.attributes.position,L=0,z=N.count/3;L<z;L++)for(var j=0;j<3;j++)_.fromBufferAttribute(N,3*L+j),r.push(_.x,_.y,_.z),_.fromBufferAttribute(N,3*L+(j+1)%3),r.push(_.x,_.y,_.z)}return i.setAttribute("position",new lm(r,3)),i}return n}(xm);function lC(t){Xg.call(this),this.type="ShadowMaterial",this.color=new Qg(0),this.transparent=!0,this.setValues(t)}function uC(t){Qm.call(this,t),this.type="RawShaderMaterial"}function hC(t){Xg.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Qg(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qg(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new mf(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}function dC(t){hC.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new mf(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=gf.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}function pC(t){Xg.call(this),this.type="MeshPhongMaterial",this.color=new Qg(16777215),this.specular=new Qg(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qg(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new mf(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function fC(t){Xg.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Qg(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qg(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new mf(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function gC(t){Xg.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new mf(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function mC(t){Xg.call(this),this.type="MeshLambertMaterial",this.color=new Qg(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qg(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function vC(t){Xg.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Qg(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new mf(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function bC(t){Y_.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}(lC.prototype=Object.create(Xg.prototype)).constructor=lC,lC.prototype.isShadowMaterial=!0,lC.prototype.copy=function(t){return Xg.prototype.copy.call(this,t),this.color.copy(t.color),this},(uC.prototype=Object.create(Qm.prototype)).constructor=uC,uC.prototype.isRawShaderMaterial=!0,(hC.prototype=Object.create(Xg.prototype)).constructor=hC,hC.prototype.isMeshStandardMaterial=!0,hC.prototype.copy=function(t){return Xg.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this},(dC.prototype=Object.create(hC.prototype)).constructor=dC,dC.prototype.isMeshPhysicalMaterial=!0,dC.prototype.copy=function(t){return hC.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,this.sheen=t.sheen?(this.sheen||new Qg).copy(t.sheen):null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this},(pC.prototype=Object.create(Xg.prototype)).constructor=pC,pC.prototype.isMeshPhongMaterial=!0,pC.prototype.copy=function(t){return Xg.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(fC.prototype=Object.create(Xg.prototype)).constructor=fC,fC.prototype.isMeshToonMaterial=!0,fC.prototype.copy=function(t){return Xg.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(gC.prototype=Object.create(Xg.prototype)).constructor=gC,gC.prototype.isMeshNormalMaterial=!0,gC.prototype.copy=function(t){return Xg.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(mC.prototype=Object.create(Xg.prototype)).constructor=mC,mC.prototype.isMeshLambertMaterial=!0,mC.prototype.copy=function(t){return Xg.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(vC.prototype=Object.create(Xg.prototype)).constructor=vC,vC.prototype.isMeshMatcapMaterial=!0,vC.prototype.copy=function(t){return Xg.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},(bC.prototype=Object.create(Y_.prototype)).constructor=bC,bC.prototype.isLineDashedMaterial=!0,bC.prototype.copy=function(t){return Y_.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var _C=Object.freeze({__proto__:null,ShadowMaterial:lC,SpriteMaterial:g_,RawShaderMaterial:uC,ShaderMaterial:Qm,PointsMaterial:oy,MeshPhysicalMaterial:dC,MeshStandardMaterial:hC,MeshPhongMaterial:pC,MeshToonMaterial:fC,MeshNormalMaterial:gC,MeshLambertMaterial:mC,MeshDepthMaterial:$b,MeshDistanceMaterial:Jb,MeshBasicMaterial:$g,MeshMatcapMaterial:vC,LineDashedMaterial:bC,LineBasicMaterial:Y_,Material:Xg}),yC={arraySlice:function(t,e,n){return yC.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),i=0;i!==e;++i)n[i]=i;return n.sort(function(e,n){return t[e]-t[n]}),n},sortedArray:function(t,e,n){for(var i=t.length,r=new t.constructor(i),o=0,a=0;a!==i;++o)for(var s=n[o]*e,c=0;c!==e;++c)r[a++]=t[s+c];return r},flattenJSON:function(t,e,n,i){for(var r=1,o=t[0];void 0!==o&&void 0===o[i];)o=t[r++];if(void 0!==o){var a=o[i];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[i])&&(e.push(o.time),n.push.apply(n,a)),o=t[r++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[i])&&(e.push(o.time),a.toArray(n,n.length)),o=t[r++]}while(void 0!==o);else do{void 0!==(a=o[i])&&(e.push(o.time),n.push(a)),o=t[r++]}while(void 0!==o)}},subclip:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,o=t.clone();o.name=e;for(var a=[],s=0;s<o.tracks.length;++s){for(var c=o.tracks[s],l=c.getValueSize(),u=[],h=[],d=0;d<c.times.length;++d){var p=c.times[d]*r;if(!(p<n||p>=i)){u.push(c.times[d]);for(var f=0;f<l;++f)h.push(c.values[d*l+f])}}0!==u.length&&(c.times=yC.convertArray(u,c.times.constructor),c.values=yC.convertArray(h,c.values.constructor),a.push(c))}o.tracks=a;for(var g=1/0,m=0;m<o.tracks.length;++m)g>o.tracks[m].times[0]&&(g=o.tracks[m].times[0]);for(var v=0;v<o.tracks.length;++v)o.tracks[v].shift(-1*g);return o.resetDuration(),o},makeClipAdditive:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;i<=0&&(i=30);for(var r=n.tracks.length,o=e/i,a=function(e){var i=n.tracks[e],r=i.ValueTypeName;if("bool"===r||"string"===r)return"continue";var a=t.tracks.find(function(t){return t.name===i.name&&t.ValueTypeName===r});if(void 0===a)return"continue";var s=0,c=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=c/3);var l=0,u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=u/3);var h=i.times.length-1,d=void 0;if(o<=i.times[0])d=yC.arraySlice(i.values,s,c-s);else if(o>=i.times[h]){var p=h*c+s;d=yC.arraySlice(i.values,p,p+c-s)}else{var f=i.createInterpolant(),g=s,m=c-s;f.evaluate(o),d=yC.arraySlice(f.resultBuffer,g,m)}"quaternion"===r&&(new Of).fromArray(d).normalize().conjugate().toArray(d);for(var v=a.times.length,b=0;b<v;++b){var _=b*u+l;if("quaternion"===r)Of.multiplyQuaternionsFlat(a.values,_,d,0,a.values,_);else for(var y=u-2*l,C=0;C<y;++C)a.values[_+C]-=d[C]}},s=0;s<r;++s)a(s);return t.blendMode=2501,t}};function CC(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function xC(t,e,n,i){CC.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function wC(t,e,n,i){CC.call(this,t,e,n,i)}function MC(t,e,n,i){CC.call(this,t,e,n,i)}function OC(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=yC.convertArray(e,this.TimeBufferType),this.values=yC.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function PC(t,e,n){OC.call(this,t,e,n)}function kC(t,e,n,i){OC.call(this,t,e,n,i)}function AC(t,e,n,i){OC.call(this,t,e,n,i)}function TC(t,e,n,i){CC.call(this,t,e,n,i)}function SC(t,e,n,i){OC.call(this,t,e,n,i)}function EC(t,e,n,i){OC.call(this,t,e,n,i)}function IC(t,e,n,i){OC.call(this,t,e,n,i)}function RC(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2500;this.name=t,this.tracks=n,this.duration=e,this.blendMode=i,this.uuid=gf.generateUUID(),this.duration<0&&this.resetDuration()}function DC(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return AC;case"vector":case"vector2":case"vector3":case"vector4":return IC;case"color":return kC;case"quaternion":return SC;case"bool":case"boolean":return PC;case"string":return EC}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var n=[],i=[];yC.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(CC.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{var o;n:{i:if(!(t<i)){for(var a=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===a)break;if(r=i,t<(i=e[++n]))break e}o=e.length;break n}if(t>=r)break t;var s=e[1];t<s&&(n=2,r=s);for(var c=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===c)break;if(i=r,t>=(r=e[--n-1]))break e}o=n,n=0}for(;n<o;){var l=n+o>>>1;t<e[l]?o=l:n=l+1}if(i=e[n],void 0===(r=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i,o=0;o!==i;++o)e[o]=n[r+o];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(CC.prototype,{beforeStart_:CC.prototype.copySampleValue_,afterEnd_:CC.prototype.copySampleValue_}),xC.prototype=Object.assign(Object.create(CC.prototype),{constructor:xC,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(t,e,n){var i=this.parameterPositions,r=t-2,o=t+1,a=i[r],s=i[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:r=t,a=2*e-n;break;case 2402:a=e+i[r=i.length-2]-i[r+1];break;default:r=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=t,s=2*n-e;break;case 2402:o=1,s=n+i[1]-i[0];break;default:o=t-1,s=e}var c=.5*(n-e),l=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(s-n),this._offsetPrev=r*l,this._offsetNext=o*l},interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,l=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-e)/(i-e),f=p*p,g=f*p,m=-h*g+2*h*f-h*p,v=(1+h)*g+(-1.5-2*h)*f+(-.5+h)*p+1,b=(-1-d)*g+(1.5+d)*f+.5*p,_=d*g-d*f,y=0;y!==a;++y)r[y]=m*o[l+y]+v*o[c+y]+b*o[s+y]+_*o[u+y];return r}}),wC.prototype=Object.assign(Object.create(CC.prototype),{constructor:wC,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,l=(n-e)/(i-e),u=1-l,h=0;h!==a;++h)r[h]=o[c+h]*u+o[s+h]*l;return r}}),MC.prototype=Object.assign(Object.create(CC.prototype),{constructor:MC,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(OC,{toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:yC.convertArray(t.times,Array),values:yC.convertArray(t.values,Array)};var i=t.getInterpolation();i!==t.DefaultInterpolation&&(e.interpolation=i)}return e.type=t.ValueTypeName,e}}),Object.assign(OC.prototype,{constructor:OC,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new MC(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new wC(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new xC(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,i=n.length,r=0,o=i-1;r!==i&&n[r]<t;)++r;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==r||o!==i){r>=o&&(r=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=yC.arraySlice(n,r,o),this.values=yC.arraySlice(this.values,r*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var o=null,a=0;a!==r;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),t=!1;break}o=s}if(void 0!==i&&yC.isTypedArray(i))for(var c=0,l=i.length;c!==l;++c){var u=i[c];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,u),t=!1;break}}return t},optimize:function(){for(var t=yC.arraySlice(this.times),e=yC.arraySlice(this.values),n=this.getValueSize(),i=2302===this.getInterpolation(),r=t.length-1,o=1,a=1;a<r;++a){var s=!1,c=t[a];if(c!==t[a+1]&&(1!==a||c!==c[0]))if(i)s=!0;else for(var l=a*n,u=l-n,h=l+n,d=0;d!==n;++d){var p=e[l+d];if(p!==e[u+d]||p!==e[h+d]){s=!0;break}}if(s){if(a!==o){t[o]=t[a];for(var f=a*n,g=o*n,m=0;m!==n;++m)e[g+m]=e[f+m]}++o}}if(r>0){t[o]=t[r];for(var v=r*n,b=o*n,_=0;_!==n;++_)e[b+_]=e[v+_];++o}return o!==t.length?(this.times=yC.arraySlice(t,0,o),this.values=yC.arraySlice(e,0,o*n)):(this.times=t,this.values=e),this},clone:function(){var t=yC.arraySlice(this.times,0),e=yC.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),PC.prototype=Object.assign(Object.create(OC.prototype),{constructor:PC,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),kC.prototype=Object.assign(Object.create(OC.prototype),{constructor:kC,ValueTypeName:"color"}),AC.prototype=Object.assign(Object.create(OC.prototype),{constructor:AC,ValueTypeName:"number"}),TC.prototype=Object.assign(Object.create(CC.prototype),{constructor:TC,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-e)/(i-e),c=t*a,l=c+a;c!==l;c+=4)Of.slerpFlat(r,0,o,c-a,o,c,s);return r}}),SC.prototype=Object.assign(Object.create(OC.prototype),{constructor:SC,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new TC(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),EC.prototype=Object.assign(Object.create(OC.prototype),{constructor:EC,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),IC.prototype=Object.assign(Object.create(OC.prototype),{constructor:IC,ValueTypeName:"vector"}),Object.assign(RC,{parse:function(t){for(var e=[],n=t.tracks,i=1/(t.fps||1),r=0,o=n.length;r!==o;++r)e.push(DC(n[r]).scale(i));var a=new RC(t.name,t.duration,e,t.blendMode);return a.uuid=t.uuid,a},toJSON:function(t){for(var e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode},r=0,o=n.length;r!==o;++r)e.push(OC.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){for(var r=e.length,o=[],a=0;a<r;a++){var s=[],c=[];s.push((a+r-1)%r,a,(a+1)%r),c.push(0,1,0);var l=yC.getKeyframeOrder(s);s=yC.sortedArray(s,1,l),c=yC.sortedArray(c,1,l),i||0!==s[0]||(s.push(r),c.push(c[0])),o.push(new AC(".morphTargetInfluences["+e[a].name+"]",s,c).scale(1/n))}return new RC(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var i=t;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],c=s.name.match(r);if(c&&c.length>1){var l=c[1],u=i[l];u||(i[l]=u=[]),u.push(s)}}var h=[];for(var d in i)h.push(RC.CreateFromMorphTargetSequence(d,i[d],e,n));return h},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,i,r){if(0!==n.length){var o=[],a=[];yC.flattenJSON(n,o,a,i),0!==o.length&&r.push(new t(e,o,a))}},i=[],r=t.name||"default",o=t.fps||30,a=t.blendMode,s=t.length||-1,c=t.hierarchy||[],l=0;l<c.length;l++){var u=c[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){var h={},d=void 0;for(d=0;d<u.length;d++)if(u[d].morphTargets)for(var p=0;p<u[d].morphTargets.length;p++)h[u[d].morphTargets[p]]=-1;for(var f in h){for(var g=[],m=[],v=0;v!==u[d].morphTargets.length;++v){var b=u[d];g.push(b.time),m.push(b.morphTarget===f?1:0)}i.push(new AC(".morphTargetInfluence["+f+"]",g,m))}s=h.length*(o||1)}else{var _=".bones["+e[l].name+"]";n(IC,_+".position",u,"pos",i),n(SC,_+".quaternion",u,"rot",i),n(IC,_+".scale",u,"scl",i)}}return 0===i.length?null:new RC(r,s,i,a)}}),Object.assign(RC.prototype,{resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var i=this.tracks[e];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new RC(this.name,this.duration,t,this.blendMode)},toJSON:function(){return RC.toJSON(this)}});var NC={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},LC=new function(t,e,n){var i=this,r=!1,o=0,a=0,s=void 0,c=[];this.onStart=void 0,this.onLoad=void 0,this.onProgress=void 0,this.onError=void 0,this.itemStart=function(t){a++,!1===r&&void 0!==i.onStart&&i.onStart(t,o,a),r=!0},this.itemEnd=function(t){o++,void 0!==i.onProgress&&i.onProgress(t,o,a),o===a&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this},this.addHandler=function(t,e){return c.push(t,e),this},this.removeHandler=function(t){var e=c.indexOf(t);return-1!==e&&c.splice(e,2),this},this.getHandler=function(t){for(var e=0,n=c.length;e<n;e+=2){var i=c[e],r=c[e+1];if(i.global&&(i.lastIndex=0),i.test(t))return r}return null}};function zC(t){this.manager=void 0!==t?t:LC,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(zC.prototype,{load:function(){},loadAsync:function(t,e){var n=this;return new Promise(function(i,r){n.load(t,i,e,r)})},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});var jC={};function FC(t){zC.call(this,t)}function qC(t){zC.call(this,t)}function BC(t){zC.call(this,t)}function UC(t){zC.call(this,t)}function HC(t){zC.call(this,t)}function VC(t){zC.call(this,t)}function WC(t){zC.call(this,t)}function GC(){this.type="Curve",this.arcLengthDivisions=200}function QC(t,e,n,i,r,o,a,s){GC.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function YC(t,e,n,i,r,o){QC.call(this,t,e,n,n,i,r,o),this.type="ArcCurve"}function KC(){var t=0,e=0,n=0,i=0;function r(r,o,a,s){t=r,e=a,n=-3*r+3*o-2*a-s,i=2*r-2*o+a+s}return{initCatmullRom:function(t,e,n,i,o){r(e,n,o*(n-t),o*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,o,a,s){var c=(e-t)/o-(n-t)/(o+a)+(n-e)/a,l=(n-e)/a-(i-e)/(a+s)+(i-n)/s;r(e,n,c*=a,l*=a)},calc:function(r){var o=r*r;return t+e*r+n*o+i*(o*r)}}}FC.prototype=Object.assign(Object.create(zC.prototype),{constructor:FC,load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,o=NC.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;if(void 0===jC[t]){var a,s=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var c=s[1],l=!!s[2],u=s[3];u=decodeURIComponent(u),l&&(u=atob(u));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var p=new Uint8Array(u.length),f=0;f<u.length;f++)p[f]=u.charCodeAt(f);h="blob"===d?new Blob([p.buffer],{type:c}):p.buffer;break;case"document":var g=new DOMParser;h=g.parseFromString(u,c);break;case"json":h=JSON.parse(u);break;default:h=u}setTimeout(function(){e&&e(h),r.manager.itemEnd(t)},0)}catch(v){setTimeout(function(){i&&i(v),r.manager.itemError(t),r.manager.itemEnd(t)},0)}}else{for(var m in jC[t]=[],jC[t].push({onLoad:e,onProgress:n,onError:i}),(a=new XMLHttpRequest).open("GET",t,!0),a.addEventListener("load",function(e){var n=this.response,i=jC[t];if(delete jC[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),NC.add(t,n);for(var o=0,a=i.length;o<a;o++){var s=i[o];s.onLoad&&s.onLoad(n)}r.manager.itemEnd(t)}else{for(var c=0,l=i.length;c<l;c++){var u=i[c];u.onError&&u.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}},!1),a.addEventListener("progress",function(e){for(var n=jC[t],i=0,r=n.length;i<r;i++){var o=n[i];o.onProgress&&o.onProgress(e)}},!1),a.addEventListener("error",function(e){var n=jC[t];delete jC[t];for(var i=0,o=n.length;i<o;i++){var a=n[i];a.onError&&a.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)},!1),a.addEventListener("abort",function(e){var n=jC[t];delete jC[t];for(var i=0,o=n.length;i<o;i++){var a=n[i];a.onError&&a.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)},!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)a.setRequestHeader(m,this.requestHeader[m]);a.send(null)}return r.manager.itemStart(t),a}jC[t].push({onLoad:e,onProgress:n,onError:i})},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}}),qC.prototype=Object.assign(Object.create(zC.prototype),{constructor:qC,load:function(t,e,n,i){var r=this,o=new FC(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,function(n){try{e(r.parse(JSON.parse(n)))}catch(UF){i?i(UF):console.error(UF),r.manager.itemError(t)}},n,i)},parse:function(t){for(var e=[],n=0;n<t.length;n++){var i=RC.parse(t[n]);e.push(i)}return e}}),BC.prototype=Object.assign(Object.create(zC.prototype),{constructor:BC,load:function(t,e,n,i){var r=this,o=[],a=new py,s=new FC(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials);var c=0;function l(l){s.load(t[l],function(t){var n=r.parse(t,!0);o[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(a.minFilter=1006),a.image=o,a.format=n.format,a.needsUpdate=!0,e&&e(a))},n,i)}if(Array.isArray(t))for(var u=0,h=t.length;u<h;++u)l(u);else s.load(t,function(t){var n=r.parse(t,!0);if(n.isCubemap){for(var i=n.mipmaps.length/n.mipmapCount,s=0;s<i;s++){o[s]={mipmaps:[]};for(var c=0;c<n.mipmapCount;c++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+c]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}a.image=o}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=1006),a.format=n.format,a.needsUpdate=!0,e&&e(a)},n,i);return a}}),UC.prototype=Object.assign(Object.create(zC.prototype),{constructor:UC,load:function(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,o=NC.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),NC.add(t,this),e&&e(this),r.manager.itemEnd(t)}function c(e){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return a.addEventListener("load",s,!1),a.addEventListener("error",c,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(t),a.src=t,a}}),HC.prototype=Object.assign(Object.create(zC.prototype),{constructor:HC,load:function(t,e,n,i){var r=new $m,o=new UC(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(t[n],function(t){r.images[n]=t,6===++a&&(r.needsUpdate=!0,e&&e(r))},void 0,i)}for(var c=0;c<t.length;++c)s(c);return r}}),VC.prototype=Object.assign(Object.create(zC.prototype),{constructor:VC,load:function(t,e,n,i){var r=this,o=new Zm,a=new FC(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(r.withCredentials),a.load(t,function(t){var n=r.parse(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:1001,o.wrapT=void 0!==n.wrapT?n.wrapT:1001,o.magFilter=void 0!==n.magFilter?n.magFilter:1006,o.minFilter=void 0!==n.minFilter?n.minFilter:1006,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=1008),1===n.mipmapCount&&(o.minFilter=1006),o.needsUpdate=!0,e&&e(o,n))},n,i),o}}),WC.prototype=Object.assign(Object.create(zC.prototype),{constructor:WC,load:function(t,e,n,i){var r=new yf,o=new UC(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(n){r.image=n;var i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?1022:1023,r.needsUpdate=!0,void 0!==e&&e(r)},n,i),r}}),Object.assign(GC.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n=[],i=this.getPoint(0),r=0;n.push(0);for(var o=1;o<=t;o++)r+=(e=this.getPoint(o/t)).distanceTo(i),n.push(r),i=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,i=this.getLengths(),r=0,o=i.length;n=e||t*i[o-1];for(var a,s=0,c=o-1;s<=c;)if((a=i[r=Math.floor(s+(c-s)/2)]-n)<0)s=r+1;else{if(!(a>0)){c=r;break}c=r-1}if(i[r=c]===n)return r/(o-1);var l=i[r];return(r+(n-l)/(i[r+1]-l))/(o-1)},getTangent:function(t,e){var n=t-1e-4,i=t+1e-4;n<0&&(n=0),i>1&&(i=1);var r=this.getPoint(n),o=this.getPoint(i),a=e||(r.isVector2?new mf:new Pf);return a.copy(o).sub(r).normalize(),a},getTangentAt:function(t,e){var n=this.getUtoTmapping(t);return this.getTangent(n,e)},computeFrenetFrames:function(t,e){for(var n=new Pf,i=[],r=[],o=[],a=new Pf,s=new tg,c=0;c<=t;c++)i[c]=this.getTangentAt(c/t,new Pf),i[c].normalize();r[0]=new Pf,o[0]=new Pf;var l=Number.MAX_VALUE,u=Math.abs(i[0].x),h=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=l&&(l=u,n.set(1,0,0)),h<=l&&(l=h,n.set(0,1,0)),d<=l&&n.set(0,0,1),a.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],a),o[0].crossVectors(i[0],r[0]);for(var p=1;p<=t;p++){if(r[p]=r[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(i[p-1],i[p]),a.length()>Number.EPSILON){a.normalize();var f=Math.acos(gf.clamp(i[p-1].dot(i[p]),-1,1));r[p].applyMatrix4(s.makeRotationAxis(a,f))}o[p].crossVectors(i[p],r[p])}if(!0===e){var g=Math.acos(gf.clamp(r[0].dot(r[t]),-1,1));g/=t,i[0].dot(a.crossVectors(r[0],r[t]))>0&&(g=-g);for(var m=1;m<=t;m++)r[m].applyMatrix4(s.makeRotationAxis(i[m],g*m)),o[m].crossVectors(i[m],r[m])}return{tangents:i,normals:r,binormals:o}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),(QC.prototype=Object.create(GC.prototype)).constructor=QC,QC.prototype.isEllipseCurve=!0,QC.prototype.getPoint=function(t,e){for(var n=e||new mf,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,o=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=o?0:i),!0!==this.aClockwise||o||(r===i?r=-i:r-=i);var a=this.aStartAngle+t*r,s=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var l=Math.cos(this.aRotation),u=Math.sin(this.aRotation),h=s-this.aX,d=c-this.aY;s=h*l-d*u+this.aX,c=h*u+d*l+this.aY}return n.set(s,c)},QC.prototype.copy=function(t){return GC.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},QC.prototype.toJSON=function(){var t=GC.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},QC.prototype.fromJSON=function(t){return GC.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},(YC.prototype=Object.create(QC.prototype)).constructor=YC,YC.prototype.isArcCurve=!0;var XC=new Pf,$C=new KC,JC=new KC,ZC=new KC;function tx(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;GC.call(this),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=i}function ex(t,e,n,i,r){var o=.5*(i-e),a=.5*(r-n),s=t*t;return(2*n-2*i+o+a)*(t*s)+(-3*n+3*i-2*o-a)*s+o*t+n}function nx(t,e,n,i){return function(t,e){var n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function ix(t,e,n,i,r){return function(t,e){var n=1-t;return n*n*n*e}(t,e)+function(t,e){var n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}function rx(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mf,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mf,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new mf,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new mf;GC.call(this),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=i}function ox(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Pf,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pf,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Pf,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Pf;GC.call(this),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=i}function ax(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mf,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mf;GC.call(this),this.type="LineCurve",this.v1=t,this.v2=e}function sx(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Pf,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pf;GC.call(this),this.type="LineCurve3",this.v1=t,this.v2=e}function cx(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mf,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mf,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new mf;GC.call(this),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}function lx(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Pf,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pf,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Pf;GC.call(this),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}function ux(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];GC.call(this),this.type="SplineCurve",this.points=t}(tx.prototype=Object.create(GC.prototype)).constructor=tx,tx.prototype.isCatmullRomCurve3=!0,tx.prototype.getPoint=function(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pf,r=i,o=this.points,a=o.length,s=(a-(this.closed?0:1))*t,c=Math.floor(s),l=s-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/a)+1)*a:0===l&&c===a-1&&(c=a-2,l=1),this.closed||c>0?e=o[(c-1)%a]:(XC.subVectors(o[0],o[1]).add(o[0]),e=XC);var u=o[c%a],h=o[(c+1)%a];if(this.closed||c+2<a?n=o[(c+2)%a]:(XC.subVectors(o[a-1],o[a-2]).add(o[a-1]),n=XC),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,p=Math.pow(e.distanceToSquared(u),d),f=Math.pow(u.distanceToSquared(h),d),g=Math.pow(h.distanceToSquared(n),d);f<1e-4&&(f=1),p<1e-4&&(p=f),g<1e-4&&(g=f),$C.initNonuniformCatmullRom(e.x,u.x,h.x,n.x,p,f,g),JC.initNonuniformCatmullRom(e.y,u.y,h.y,n.y,p,f,g),ZC.initNonuniformCatmullRom(e.z,u.z,h.z,n.z,p,f,g)}else"catmullrom"===this.curveType&&($C.initCatmullRom(e.x,u.x,h.x,n.x,this.tension),JC.initCatmullRom(e.y,u.y,h.y,n.y,this.tension),ZC.initCatmullRom(e.z,u.z,h.z,n.z,this.tension));return r.set($C.calc(l),JC.calc(l),ZC.calc(l)),r},tx.prototype.copy=function(t){GC.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},tx.prototype.toJSON=function(){var t=GC.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},tx.prototype.fromJSON=function(t){GC.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new Pf).fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},(rx.prototype=Object.create(GC.prototype)).constructor=rx,rx.prototype.isCubicBezierCurve=!0,rx.prototype.getPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mf,n=e,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return n.set(ix(t,i.x,r.x,o.x,a.x),ix(t,i.y,r.y,o.y,a.y)),n},rx.prototype.copy=function(t){return GC.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},rx.prototype.toJSON=function(){var t=GC.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},rx.prototype.fromJSON=function(t){return GC.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},(ox.prototype=Object.create(GC.prototype)).constructor=ox,ox.prototype.isCubicBezierCurve3=!0,ox.prototype.getPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pf,n=e,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return n.set(ix(t,i.x,r.x,o.x,a.x),ix(t,i.y,r.y,o.y,a.y),ix(t,i.z,r.z,o.z,a.z)),n},ox.prototype.copy=function(t){return GC.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},ox.prototype.toJSON=function(){var t=GC.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},ox.prototype.fromJSON=function(t){return GC.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},(ax.prototype=Object.create(GC.prototype)).constructor=ax,ax.prototype.isLineCurve=!0,ax.prototype.getPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mf,n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},ax.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},ax.prototype.getTangent=function(t,e){var n=e||new mf;return n.copy(this.v2).sub(this.v1).normalize(),n},ax.prototype.copy=function(t){return GC.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ax.prototype.toJSON=function(){var t=GC.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ax.prototype.fromJSON=function(t){return GC.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(sx.prototype=Object.create(GC.prototype)).constructor=sx,sx.prototype.isLineCurve3=!0,sx.prototype.getPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pf,n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},sx.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},sx.prototype.copy=function(t){return GC.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},sx.prototype.toJSON=function(){var t=GC.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},sx.prototype.fromJSON=function(t){return GC.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(cx.prototype=Object.create(GC.prototype)).constructor=cx,cx.prototype.isQuadraticBezierCurve=!0,cx.prototype.getPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mf,n=e,i=this.v0,r=this.v1,o=this.v2;return n.set(nx(t,i.x,r.x,o.x),nx(t,i.y,r.y,o.y)),n},cx.prototype.copy=function(t){return GC.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},cx.prototype.toJSON=function(){var t=GC.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},cx.prototype.fromJSON=function(t){return GC.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(lx.prototype=Object.create(GC.prototype)).constructor=lx,lx.prototype.isQuadraticBezierCurve3=!0,lx.prototype.getPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pf,n=e,i=this.v0,r=this.v1,o=this.v2;return n.set(nx(t,i.x,r.x,o.x),nx(t,i.y,r.y,o.y),nx(t,i.z,r.z,o.z)),n},lx.prototype.copy=function(t){return GC.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},lx.prototype.toJSON=function(){var t=GC.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},lx.prototype.fromJSON=function(t){return GC.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},(ux.prototype=Object.create(GC.prototype)).constructor=ux,ux.prototype.isSplineCurve=!0,ux.prototype.getPoint=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new mf,n=e,i=this.points,r=(i.length-1)*t,o=Math.floor(r),a=r-o,s=i[0===o?o:o-1],c=i[o],l=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return n.set(ex(a,s.x,c.x,l.x,u.x),ex(a,s.y,c.y,l.y,u.y)),n},ux.prototype.copy=function(t){GC.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this},ux.prototype.toJSON=function(){var t=GC.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t},ux.prototype.fromJSON=function(t){GC.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new mf).fromArray(i))}return this};var hx=Object.freeze({__proto__:null,ArcCurve:YC,CatmullRomCurve3:tx,CubicBezierCurve:rx,CubicBezierCurve3:ox,EllipseCurve:QC,LineCurve:ax,LineCurve3:sx,QuadraticBezierCurve:cx,QuadraticBezierCurve3:lx,SplineCurve:ux});function dx(){GC.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function px(t){dx.call(this),this.type="Path",this.currentPoint=new mf,t&&this.setFromPoints(t)}function fx(t){px.call(this,t),this.uuid=gf.generateUUID(),this.type="Shape",this.holes=[]}function gx(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Og.call(this),this.type="Light",this.color=new Qg(t),this.intensity=e}function mx(t,e,n){gx.call(this,t,n),this.type="HemisphereLight",this.position.copy(Og.DefaultUp),this.updateMatrix(),this.groundColor=new Qg(e)}function vx(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new mf(512,512),this.map=null,this.mapPass=null,this.matrix=new tg,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new nv,this._frameExtents=new mf(1,1),this._viewportCount=1,this._viewports=[new xf(0,0,1,1)]}function bx(){vx.call(this,new Km(50,1,.5,500)),this.focus=1}function _x(t,e,n,i,r,o){gx.call(this,t,e),this.type="SpotLight",this.position.copy(Og.DefaultUp),this.updateMatrix(),this.target=new Og,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==o?o:1,this.shadow=new bx}function yx(){vx.call(this,new Km(90,1,.5,500)),this._frameExtents=new mf(4,2),this._viewportCount=6,this._viewports=[new xf(2,1,1,1),new xf(0,1,1,1),new xf(3,1,1,1),new xf(1,1,1,1),new xf(3,0,1,1),new xf(1,0,1,1)],this._cubeDirections=[new Pf(1,0,0),new Pf(-1,0,0),new Pf(0,0,1),new Pf(0,0,-1),new Pf(0,1,0),new Pf(0,-1,0)],this._cubeUps=[new Pf(0,1,0),new Pf(0,1,0),new Pf(0,1,0),new Pf(0,1,0),new Pf(0,0,1),new Pf(0,0,-1)]}function Cx(t,e,n,i){gx.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new yx}function xx(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;Ym.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}function wx(){vx.call(this,new xx(-5,5,5,-5,.5,500))}function Mx(t,e){gx.call(this,t,e),this.type="DirectionalLight",this.position.copy(Og.DefaultUp),this.updateMatrix(),this.target=new Og,this.shadow=new wx}function Ox(t,e){gx.call(this,t,e),this.type="AmbientLight"}function Px(t,e,n,i){gx.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}dx.prototype=Object.assign(Object.create(GC.prototype),{constructor:dx,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new ax(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=e){var r=n[i]-e,o=this.curves[i],a=o.getLength();return o.getPointAt(0===a?0:1-r/a)}i++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],i=0,r=this.curves;i<r.length;i++)for(var o=r[i],a=o.getPoints(o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e),s=0;s<a.length;s++){var c=a[s];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(t){GC.prototype.copy.call(this,t),this.curves=[];for(var e=0,n=t.curves.length;e<n;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this},toJSON:function(){var t=GC.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,n=this.curves.length;e<n;e++)t.curves.push(this.curves[e].toJSON());return t},fromJSON:function(t){GC.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var i=t.curves[e];this.curves.push((new hx[i.type]).fromJSON(i))}return this}}),px.prototype=Object.assign(Object.create(dx.prototype),{constructor:px,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){var n=new ax(this.currentPoint.clone(),new mf(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,i){var r=new cx(this.currentPoint.clone(),new mf(t,e),new mf(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(t,e,n,i,r,o){var a=new rx(this.currentPoint.clone(),new mf(t,e),new mf(n,i),new mf(r,o));return this.curves.push(a),this.currentPoint.set(r,o),this},splineThru:function(t){var e=new ux([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,i,r,o){return this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,n,i,r,o),this},absarc:function(t,e,n,i,r,o){return this.absellipse(t,e,n,n,i,r,o),this},ellipse:function(t,e,n,i,r,o,a,s){return this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,n,i,r,o,a,s),this},absellipse:function(t,e,n,i,r,o,a,s){var c=new QC(t,e,n,i,r,o,a,s);if(this.curves.length>0){var l=c.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(c);var u=c.getPoint(1);return this.currentPoint.copy(u),this},copy:function(t){return dx.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=dx.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return dx.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),fx.prototype=Object.assign(Object.create(px.prototype),{constructor:fx,getPointsHoles:function(t){for(var e=[],n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){px.prototype.copy.call(this,t),this.holes=[];for(var e=0,n=t.holes.length;e<n;e++)this.holes.push(t.holes[e].clone());return this},toJSON:function(){var t=px.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,n=this.holes.length;e<n;e++)t.holes.push(this.holes[e].toJSON());return t},fromJSON:function(t){px.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var i=t.holes[e];this.holes.push((new px).fromJSON(i))}return this}}),gx.prototype=Object.assign(Object.create(Og.prototype),{constructor:gx,isLight:!0,copy:function(t){return Og.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=Og.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),mx.prototype=Object.assign(Object.create(gx.prototype),{constructor:mx,isHemisphereLight:!0,copy:function(t){return gx.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(vx.prototype,{_projScreenMatrix:new tg,_lightPositionWorld:new Pf,_lookTarget:new Pf,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){var e=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(t.matrixWorld),e.position.copy(o),r.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(r),e.updateMatrixWorld(),i.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),bx.prototype=Object.assign(Object.create(vx.prototype),{constructor:bx,isSpotLightShadow:!0,updateMatrices:function(t){var e=this.camera,n=2*gf.RAD2DEG*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix()),vx.prototype.updateMatrices.call(this,t)}}),_x.prototype=Object.assign(Object.create(gx.prototype),{constructor:_x,isSpotLight:!0,copy:function(t){return gx.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),yx.prototype=Object.assign(Object.create(vx.prototype),{constructor:yx,isPointLightShadow:!0,updateMatrices:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,i=this.matrix,r=this._lightPositionWorld,o=this._lookTarget,a=this._projScreenMatrix;r.setFromMatrixPosition(t.matrixWorld),n.position.copy(r),o.copy(n.position),o.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(o),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),a.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}}),Cx.prototype=Object.assign(Object.create(gx.prototype),{constructor:Cx,isPointLight:!0,copy:function(t){return gx.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),xx.prototype=Object.assign(Object.create(Ym.prototype),{constructor:xx,isOrthographicCamera:!0,copy:function(t,e){return Ym.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-t,o=n+t,a=i+e,s=i-e;if(null!==this.view&&this.view.enabled){var c=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o=(r+=c*this.view.offsetX)+c*this.view.width,s=(a-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){var e=Og.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),wx.prototype=Object.assign(Object.create(vx.prototype),{constructor:wx,isDirectionalLightShadow:!0,updateMatrices:function(t){vx.prototype.updateMatrices.call(this,t)}}),Mx.prototype=Object.assign(Object.create(gx.prototype),{constructor:Mx,isDirectionalLight:!0,copy:function(t){return gx.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Ox.prototype=Object.assign(Object.create(gx.prototype),{constructor:Ox,isAmbientLight:!0}),Px.prototype=Object.assign(Object.create(gx.prototype),{constructor:Px,isRectAreaLight:!0,copy:function(t){return gx.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=gx.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});var kx,Ax=function(){function t(){_classCallCheck(this,t),Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new Pf)}return _createClass(t,[{key:"set",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}},{key:"zero",value:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}},{key:"getAt",value:function(t,e){var n=t.x,i=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*i),e.addScaledVector(o[2],.488603*r),e.addScaledVector(o[3],.488603*n),e.addScaledVector(o[4],n*i*1.092548),e.addScaledVector(o[5],i*r*1.092548),e.addScaledVector(o[6],.315392*(3*r*r-1)),e.addScaledVector(o[7],n*r*1.092548),e.addScaledVector(o[8],.546274*(n*n-i*i)),e}},{key:"getIrradianceAt",value:function(t,e){var n=t.x,i=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],1.023328*i),e.addScaledVector(o[2],1.023328*r),e.addScaledVector(o[3],1.023328*n),e.addScaledVector(o[4],.858086*n*i),e.addScaledVector(o[5],.858086*i*r),e.addScaledVector(o[6],.743125*r*r-.247708),e.addScaledVector(o[7],.858086*n*r),e.addScaledVector(o[8],.429043*(n*n-i*i)),e}},{key:"add",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}},{key:"addScaledSH",value:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}},{key:"scale",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}},{key:"lerp",value:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}},{key:"equals",value:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}},{key:"copy",value:function(t){return this.set(t.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this}},{key:"toArray",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}}],[{key:"getBasisAt",value:function(t,e){var n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}]),t}();function Tx(t,e){gx.call(this,void 0,e),this.type="LightProbe",this.sh=void 0!==t?t:new Ax}function Sx(t){zC.call(this,t),this.textures={}}function Ex(){xm.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Ix(t,e,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),tm.call(this,t,e,n),this.meshPerAttribute=i||1}function Rx(t){zC.call(this,t)}function Dx(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),zC.call(this,t),this.options={premultiplyAlpha:"none"}}function Nx(){this.type="ShapePath",this.color=new Qg,this.subPaths=[],this.currentPath=null}function Lx(t){this.type="Font",this.data=t}function zx(t,e,n,i,r){var o=r.glyphs[t]||r.glyphs["?"];if(o){var a,s,c,l,u,h,d,p,f=new Nx;if(o.o)for(var g=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),m=0,v=g.length;m<v;)switch(g[m++]){case"m":a=g[m++]*e+n,s=g[m++]*e+i,f.moveTo(a,s);break;case"l":a=g[m++]*e+n,s=g[m++]*e+i,f.lineTo(a,s);break;case"q":c=g[m++]*e+n,l=g[m++]*e+i,u=g[m++]*e+n,h=g[m++]*e+i,f.quadraticCurveTo(u,h,c,l);break;case"b":c=g[m++]*e+n,l=g[m++]*e+i,u=g[m++]*e+n,h=g[m++]*e+i,d=g[m++]*e+n,p=g[m++]*e+i,f.bezierCurveTo(u,h,d,p,c,l)}return{offsetX:o.ha*e,path:f}}console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".")}function jx(t){zC.call(this,t)}function Fx(t){zC.call(this,t)}function qx(t,e,n){Tx.call(this,void 0,n);var i=(new Qg).set(t),r=(new Qg).set(e),o=new Pf(i.r,i.g,i.b),a=new Pf(r.r,r.g,r.b),s=Math.sqrt(Math.PI),c=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}function Bx(t,e){Tx.call(this,void 0,e);var n=(new Qg).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Tx.prototype=Object.assign(Object.create(gx.prototype),{constructor:Tx,isLightProbe:!0,copy:function(t){return gx.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){var e=gx.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}}),Sx.prototype=Object.assign(Object.create(zC.prototype),{constructor:Sx,load:function(t,e,n,i){var r=this,o=new FC(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,function(n){try{e(r.parse(JSON.parse(n)))}catch(UF){i?i(UF):console.error(UF),r.manager.itemError(t)}},n,i)},parse:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var i=new _C[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&void 0!==i.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.sheen&&(i.sheen=(new Qg).setHex(t.sheen)),void 0!==t.emissive&&void 0!==i.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==i.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearcoat&&(i.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(i.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(i.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(i.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(i.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(i.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(i.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(i.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(i.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(i.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),1!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(i.morphNormals=t.morphNormals),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.vertexTangents&&(i.vertexTangents=t.vertexTangents),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.toneMapped&&(i.toneMapped=t.toneMapped),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.vertexColors&&(i.vertexColors="number"==typeof t.vertexColors?t.vertexColors>0:t.vertexColors),void 0!==t.uniforms)for(var r in t.uniforms){var o=t.uniforms[r];switch(i.uniforms[r]={},o.type){case"t":i.uniforms[r].value=n(o.value);break;case"c":i.uniforms[r].value=(new Qg).setHex(o.value);break;case"v2":i.uniforms[r].value=(new mf).fromArray(o.value);break;case"v3":i.uniforms[r].value=(new Pf).fromArray(o.value);break;case"v4":i.uniforms[r].value=(new xf).fromArray(o.value);break;case"m3":i.uniforms[r].value=(new vf).fromArray(o.value);break;case"m4":i.uniforms[r].value=(new tg).fromArray(o.value);break;default:i.uniforms[r].value=o.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var a in t.extensions)i.extensions[a]=t.extensions[a];if(void 0!==t.shading&&(i.flatShading=1===t.shading),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=n(t.map)),void 0!==t.matcap&&(i.matcap=n(t.matcap)),void 0!==t.alphaMap&&(i.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(i.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),i.normalScale=(new mf).fromArray(s)}return void 0!==t.displacementMap&&(i.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=n(t.specularMap)),void 0!==t.envMap&&(i.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(i.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(i.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(i.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(i.clearcoatNormalScale=(new mf).fromArray(t.clearcoatNormalScale)),void 0!==t.transmission&&(i.transmission=t.transmission),void 0!==t.transmissionMap&&(i.transmissionMap=n(t.transmissionMap)),i},setTextures:function(t){return this.textures=t,this}}),Ex.prototype=Object.assign(Object.create(xm.prototype),{constructor:Ex,isInstancedBufferGeometry:!0,copy:function(t){return xm.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=xm.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),Ix.prototype=Object.assign(Object.create(tm.prototype),{constructor:Ix,isInstancedBufferAttribute:!0,copy:function(t){return tm.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=tm.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),Rx.prototype=Object.assign(Object.create(zC.prototype),{constructor:Rx,load:function(t,e,n,i){var r=this,o=new FC(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,function(n){try{e(r.parse(JSON.parse(n)))}catch(UF){i?i(UF):console.error(UF),r.manager.itemError(t)}},n,i)},parse:function(t){var e={},n={};function i(t,i){if(void 0!==e[i])return e[i];var r=t.interleavedBuffers[i],o=function(t,e){if(void 0!==n[e])return n[e];var i=new Uint32Array(t.arrayBuffers[e]).buffer;return n[e]=i,i}(t,r.buffer),a=new h_(fm(r.type,o),r.stride);return a.uuid=r.uuid,e[i]=a,a}var r=t.isInstancedBufferGeometry?new Ex:new xm,o=t.data.index;if(void 0!==o){var a=fm(o.type,o.array);r.setIndex(new tm(a,1))}var s=t.data.attributes;for(var c in s){var l=s[c],u=void 0;if(l.isInterleavedBufferAttribute)u=new f_(i(t.data,l.data),l.itemSize,l.offset,l.normalized);else{var h=fm(l.type,l.array);u=new(l.isInstancedBufferAttribute?Ix:tm)(h,l.itemSize,l.normalized)}void 0!==l.name&&(u.name=l.name),r.setAttribute(c,u)}var d=t.data.morphAttributes;if(d)for(var p in d){for(var f=d[p],g=[],m=0,v=f.length;m<v;m++){var b=f[m],_=void 0;_=b.isInterleavedBufferAttribute?new f_(i(t.data,b.data),b.itemSize,b.offset,b.normalized):new tm(fm(b.type,b.array),b.itemSize,b.normalized),void 0!==b.name&&(_.name=b.name),g.push(_)}r.morphAttributes[p]=g}t.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);var y=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==y)for(var C=0,x=y.length;C!==x;++C){var w=y[C];r.addGroup(w.start,w.count,w.materialIndex)}var M=t.data.boundingSphere;if(void 0!==M){var O=new Pf;void 0!==M.center&&O.fromArray(M.center),r.boundingSphere=new Wf(O,M.radius)}return t.name&&(r.name=t.name),t.userData&&(r.userData=t.userData),r}}),Dx.prototype=Object.assign(Object.create(zC.prototype),{constructor:Dx,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,o=NC.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;var a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(t,a).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,r.options)}).then(function(n){NC.add(t,n),e&&e(n),r.manager.itemEnd(t)}).catch(function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}),r.manager.itemStart(t)}}),Object.assign(Nx.prototype,{moveTo:function(t,e){return this.currentPath=new px,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,i){return this.currentPath.quadraticCurveTo(t,e,n,i),this},bezierCurveTo:function(t,e,n,i,r,o){return this.currentPath.bezierCurveTo(t,e,n,i,r,o),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n],o=new fx;o.curves=r.curves,e.push(o)}return e}function i(t,e){for(var n=e.length,i=!1,r=n-1,o=0;o<n;r=o++){var a=e[r],s=e[o],c=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(a=e[o],c=-c,s=e[r],l=-l),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var u=l*(t.x-a.x)-c*(t.y-a.y);if(0===u)return!0;if(u<0)continue;i=!i}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return i}var r,o,a,s=Yy.isClockWise,c=this.subPaths;if(0===c.length)return[];if(!0===e)return n(c);var l=[];if(1===c.length)return o=c[0],(a=new fx).curves=o.curves,l.push(a),l;var u=!s(c[0].getPoints());u=t?!u:u;var h,d,p=[],f=[],g=[],m=0;f[m]=void 0,g[m]=[];for(var v=0,b=c.length;v<b;v++)r=s(h=(o=c[v]).getPoints()),(r=t?!r:r)?(!u&&f[m]&&m++,f[m]={s:new fx,p:h},f[m].s.curves=o.curves,u&&m++,g[m]=[]):g[m].push({h:o,p:h[0]});if(!f[0])return n(c);if(f.length>1){for(var _=!1,y=[],C=0,x=f.length;C<x;C++)p[C]=[];for(var w=0,M=f.length;w<M;w++)for(var O=g[w],P=0;P<O.length;P++){for(var k=O[P],A=!0,T=0;T<f.length;T++)i(k.p,f[T].p)&&(w!==T&&y.push({froms:w,tos:T,hole:P}),A?(A=!1,p[T].push(k)):_=!0);A&&p[w].push(k)}y.length>0&&(_||(g=p))}for(var S=0,E=f.length;S<E;S++){a=f[S].s,l.push(a);for(var I=0,R=(d=g[S]).length;I<R;I++)a.holes.push(d[I].h)}return l}}),Object.assign(Lx.prototype,{isFont:!0,generateShapes:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],i=function(t,e,n){for(var i=Array.from?Array.from(t):String(t).split(""),r=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,a=[],s=0,c=0,l=0;l<i.length;l++){var u=i[l];if("\n"===u)s=0,c-=o;else{var h=zx(u,r,s,c,n);s+=h.offsetX,a.push(h.path)}}return a}(t,e,this.data),r=0,o=i.length;r<o;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}),jx.prototype=Object.assign(Object.create(zC.prototype),{constructor:jx,load:function(t,e,n,i){var r=this,o=new FC(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,function(t){var n;try{n=JSON.parse(t)}catch(UF){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var i=r.parse(n);e&&e(i)},n,i)},parse:function(t){return new Lx(t)}}),Fx.prototype=Object.assign(Object.create(zC.prototype),{constructor:Fx,load:function(t,e,n,i){var r=this,o=new FC(r.manager);o.setResponseType("arraybuffer"),o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,function(n){try{var o=n.slice(0);(void 0===kx&&(kx=new(window.AudioContext||window.webkitAudioContext)),kx).decodeAudioData(o,function(t){e(t)})}catch(UF){i?i(UF):console.error(UF),r.manager.itemError(t)}},n,i)}}),qx.prototype=Object.assign(Object.create(Tx.prototype),{constructor:qx,isHemisphereLightProbe:!0,copy:function(t){return Tx.prototype.copy.call(this,t),this},toJSON:function(t){return Tx.prototype.toJSON.call(this,t)}}),Bx.prototype=Object.assign(Object.create(Tx.prototype),{constructor:Bx,isAmbientLightProbe:!0,copy:function(t){return Tx.prototype.copy.call(this,t),this},toJSON:function(t){return Tx.prototype.toJSON.call(this,t)}});var Ux=new tg,Hx=new tg;function Vx(t,e,n){var i,r,o;switch(this.binding=t,this.valueSize=n,e){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign((function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Km,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Km,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}).prototype,{update:function(t){var e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;var n,i,r=t.projectionMatrix.clone(),o=e.eyeSep/2,a=o*e.near/e.focus,s=e.near*Math.tan(gf.DEG2RAD*e.fov*.5)/e.zoom;Hx.elements[12]=-o,Ux.elements[12]=o,n=-s*e.aspect+a,i=s*e.aspect+a,r.elements[0]=2*e.near/(i-n),r.elements[8]=(i+n)/(i-n),this.cameraL.projectionMatrix.copy(r),n=-s*e.aspect-a,i=s*e.aspect-a,r.elements[0]=2*e.near/(i-n),r.elements[8]=(i+n)/(i-n),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Hx),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Ux)}}),Object.assign(Vx.prototype,{accumulate:function(t,e){var n=this.buffer,i=this.valueSize,r=t*i+i,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==i;++a)n[r+a]=n[a];o=e}else o+=e,this._mixBufferRegion(n,r,0,e/o,i);this.cumulativeWeight=o},accumulateAdditive:function(t){var e=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,n),this.cumulativeWeightAdditive+=t},apply:function(t){var e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1&&this._mixBufferRegion(n,i,e*this._origIndex,1-r,e),o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*e,1,e);for(var s=e,c=e+e;s!==c;++s)if(n[s]!==n[s+e]){a.setValue(n,i);break}},saveOriginalState:function(){var t=this.buffer,e=this.valueSize,n=e*this._origIndex;this.binding.getValue(t,n);for(var i=e,r=n;i!==r;++i)t[i]=t[n+i%e];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_setAdditiveIdentityNumeric:function(){for(var t=this._addIndex*this.valueSize,e=t+this.valueSize,n=t;n<e;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){for(var t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]},_select:function(t,e,n,i,r){if(i>=.5)for(var o=0;o!==r;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,i){Of.slerpFlat(t,e,t,e,t,n,i)},_slerpAdditive:function(t,e,n,i,r){var o=this._workIndex*r;Of.multiplyQuaternionsFlat(t,o,t,e,t,n),Of.slerpFlat(t,e,t,e,t,o,i)},_lerp:function(t,e,n,i,r){for(var o=1-i,a=0;a!==r;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*i}},_lerpAdditive:function(t,e,n,i,r){for(var o=0;o!==r;++o){var a=e+o;t[a]=t[a]+t[n+o]*i}}});var Wx=new RegExp("[\\[\\]\\.:\\/]","g"),Gx="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Qx=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),Yx=/(WCOD+)?/.source.replace("WCOD",Gx),Kx=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Xx=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),$x=new RegExp("^"+Qx+Yx+Kx+Xx+"$"),Jx=["material","materials","bones"];function Zx(t,e,n){var i=n||tw.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function tw(t,e,n){this.path=e,this.parsedPath=n||tw.parseTrackName(e),this.node=tw.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}Object.assign(Zx.prototype,{getValue:function(t,e){this.bind();var n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(tw,{Composite:Zx,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new tw.Composite(t,e,n):new tw(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(Wx,"")},parseTrackName:function(t){var e=$x.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==Jx.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var i=function t(n){for(var i=0;i<n.length;i++){var r=n[i];if(r.name===e||r.uuid===e)return r;var o=t(r.children);if(o)return o}return null}(t.children);if(i)return i}return null}}),Object.assign(tw.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,i=e.propertyName,r=e.propertyIndex;if(t||(t=tw.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var s=t[i];if(void 0!==s){var c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}else console.error("THREE.PropertyBinding: Trying to update property for track: "+e.nodeName+"."+i+" but it wasn't found.",t)}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(tw.prototype,{_getValue_unbound:tw.prototype.getValue,_setValue_unbound:tw.prototype.setValue}),Object.assign((function(){this.uuid=gf.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}).prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,o=r.length,a=void 0,s=t.length,c=this.nCachedObjects_,l=0,u=arguments.length;l!==u;++l){var h=arguments[l],d=h.uuid,p=e[d];if(void 0===p){p=s++,e[d]=p,t.push(h);for(var f=0,g=o;f!==g;++f)r[f].push(new tw(h,n[f],i[f]))}else if(p<c){a=t[p];var m=--c,v=t[m];e[v.uuid]=p,t[p]=v,e[d]=m,t[m]=h;for(var b=0,_=o;b!==_;++b){var y=r[b],C=y[p];y[p]=y[m],void 0===C&&(C=new tw(h,n[b],i[b])),y[m]=C}}else t[p]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length,r=this.nCachedObjects_,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],c=s.uuid,l=e[c];if(void 0!==l&&l>=r){var u=r++,h=t[u];e[h.uuid]=l,t[l]=h,e[c]=u,t[u]=s;for(var d=0,p=i;d!==p;++d){var f=n[d],g=f[l];f[l]=f[u],f[u]=g}}}this.nCachedObjects_=r},uncache:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length,r=this.nCachedObjects_,o=t.length,a=0,s=arguments.length;a!==s;++a){var c=arguments[a].uuid,l=e[c];if(void 0!==l)if(delete e[c],l<r){var u=--r,h=t[u],d=--o,p=t[d];e[h.uuid]=l,t[l]=h,e[p.uuid]=u,t[u]=p,t.pop();for(var f=0,g=i;f!==g;++f){var m=n[f],v=m[d];m[l]=m[u],m[u]=v,m.pop()}}else{var b=--o,_=t[b];b>0&&(e[_.uuid]=l),t[l]=_,t.pop();for(var y=0,C=i;y!==C;++y){var x=n[y];x[l]=x[b],x.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,i=n[t],r=this._bindings;if(void 0!==i)return r[i];var o=this._paths,a=this._parsedPaths,s=this._objects,c=this.nCachedObjects_,l=new Array(s.length);i=r.length,n[t]=i,o.push(t),a.push(e),r.push(l);for(var u=c,h=s.length;u!==h;++u)l[u]=new tw(s[u],t,e);return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var i=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),r[n]=r[a],r.pop(),i[n]=i[a],i.pop()}}});var ew=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;_classCallCheck(this,t),this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;for(var o=n.tracks,a=o.length,s=new Array(a),c={endingStart:2400,endingEnd:2400},l=0;l!==a;++l){var u=o[l].createInterpolant(null);s[l]=u,u.settings=c}this._interpolantSettings=c,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return _createClass(t,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(t){return this._startTime=t,this}},{key:"setLoop",value:function(t,e){return this.loop=t,this.repetitions=e,this}},{key:"setEffectiveWeight",value:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(t){return this._scheduleFading(t,0,1)}},{key:"fadeOut",value:function(t){return this._scheduleFading(t,1,0)}},{key:"crossFadeFrom",value:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var i=this._clip.duration,r=t._clip.duration,o=i/r;t.warp(1,r/i,e),this.warp(o,1,e)}return this}},{key:"crossFadeTo",value:function(t,e,n){return t.crossFadeFrom(this,e,n)}},{key:"stopFading",value:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}},{key:"setEffectiveTimeScale",value:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}},{key:"syncWith",value:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}},{key:"halt",value:function(t){return this.warp(this._effectiveTimeScale,0,t)}},{key:"warp",value:function(t,e,n){var i=this._mixer,r=i.time,o=this.timeScale,a=this._timeScaleInterpolant;null===a&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,c=a.sampleValues;return s[0]=r,s[1]=r+n,c[0]=t/o,c[1]=e/o,this}},{key:"stopWarping",value:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(t,e,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var o=(t-r)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0){var c=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case 2501:for(var u=0,h=c.length;u!==h;++u)c[u].evaluate(a),l[u].accumulateAdditive(s);break;case 2500:default:for(var d=0,p=c.length;d!==p;++d)c[d].evaluate(a),l[d].accumulate(i,s)}}}else this._updateWeight(t)}},{key:"_updateWeight",value:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e}},{key:"_updateTimeScale",value:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}},{key:"_updateTime",value:function(t){var e=this._clip.duration,n=this.loop,i=this.time+t,r=this._loopCount,o=2202===n;if(0===t)return-1===r?i:o&&1==(1&r)?e-i:i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i>=e)i=e;else{if(!(i<0)){this.time=i;break t}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i>=e||i<0){var a=Math.floor(i/e);i-=e*a,r+=Math.abs(a);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=t>0?e:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var c=t<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&1==(1&r))return e-i}return i}},{key:"_setEndings",value:function(t,e,n){var i=this._interpolantSettings;n?(i.endingStart=2401,i.endingEnd=2401):(i.endingStart=t?this.zeroSlopeAtStart?2401:2400:2402,i.endingEnd=e?this.zeroSlopeAtEnd?2401:2400:2402)}},{key:"_scheduleFading",value:function(t,e,n){var i=this._mixer,r=i.time,o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=r,s[0]=e,a[1]=r+t,s[1]=n,this}}]),t}();function nw(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}nw.prototype=Object.assign(Object.create(uf.prototype),{constructor:nw,_bindAction:function(t,e){var n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,c=this._bindingsByRootAndName,l=c[s];void 0===l&&(l={},c[s]=l);for(var u=0;u!==r;++u){var h=i[u],d=h.name,p=l[d];if(void 0!==p)o[u]=p;else{if(void 0!==(p=o[u])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}++(p=new Vx(tw.create(n,d,e&&e._propertyBindings[u].binding.parsedPath),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(p,s,d),o[u]=p}a[u].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}for(var r=t._propertyBindings,o=0,a=r.length;o!==a;++o){var s=r[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var i=this._actions,r=this._actionsByClip,o=r[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=i.length,i.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,o=this._actionsByClip,a=o[r],s=a.knownActions,c=s[s.length-1],l=t._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){var i=this._bindingsByRootAndName,r=this._bindings,o=i[e];void 0===o&&(o={},i[e]=o),o[n]=t,t._cacheIndex=r.length,r.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,a=o[i],s=e[e.length-1],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),delete a[r],0===Object.keys(a).length&&delete o[i]},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new wC(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){var i=e||this._root,r=i.uuid,o="string"==typeof t?RC.findByName(i,t):t,a=null!==o?o.uuid:t,s=this._actionsByClip[a],c=null;if(void 0===n&&(n=null!==o?o.blendMode:2500),void 0!==s){var l=s.actionByRoot[r];if(void 0!==l&&l.blendMode===n)return l;c=s.knownActions[0],null===o&&(o=c._clip)}if(null===o)return null;var u=new ew(this,o,e,n);return this._bindAction(u,c),this._addInactiveAction(u,a,r),u},existingAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"==typeof t?RC.findByName(n,t):t,o=this._actionsByClip[r?r.uuid:t];return void 0!==o&&o.actionByRoot[i]||null},stopAllAction:function(){for(var t=this._actions,e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this},update:function(t){for(var e=this._actions,n=this._nActiveActions,i=this.time+=t*=this.timeScale,r=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a)e[a]._update(i,t,r,o);for(var s=this._bindings,c=this._nActiveBindings,l=0;l!==c;++l)s[l].apply(o);return this},setTime:function(t){this.time=0;for(var e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var o=r.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var l=c._cacheIndex,u=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=l,e[l]=u,e.pop(),this._removeInactiveBindingsForAction(c)}delete i[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var o=this._bindingsByRootAndName[e];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});var iw=function(){function t(e){_classCallCheck(this,t),"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}return _createClass(t,[{key:"clone",value:function(){return new t(void 0===this.value.clone?this.value:this.value.clone())}}]),t}();function rw(t,e,n){h_.call(this,t,e),this.meshPerAttribute=n||1}function ow(t,e,n,i,r){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}function aw(t,e,n,i){this.ray=new Zf(t,e),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new hg,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function sw(t,e){return t.distance-e.distance}function cw(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===i)for(var r=t.children,o=0,a=r.length;o<a;o++)cw(r[o],e,n,!0)}rw.prototype=Object.assign(Object.create(h_.prototype),{constructor:rw,isInstancedInterleavedBuffer:!0,copy:function(t){return h_.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){var e=h_.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){var e=h_.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),Object.defineProperty(ow.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(ow.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(aw.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)},intersectObject:function(t,e,n){var i=n||[];return cw(t,this,i,e),i.sort(sw),i},intersectObjects:function(t,e,n){var i=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var r=0,o=t.length;r<o;r++)cw(t[r],this,i,e);return i.sort(sw),i}});var lw=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,t),this.radius=e,this.phi=n,this.theta=i,this}return _createClass(t,[{key:"set",value:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:"setFromVector3",value:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}},{key:"setFromCartesianCoords",value:function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(gf.clamp(e/this.radius,-1,1))),this}}]),t}(),uw=new mf;function hw(t){Og.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}(hw.prototype=Object.create(Og.prototype)).constructor=hw,hw.prototype.isImmediateRenderObject=!0;var dw=new Pf,pw=new tg,fw=new tg;function gw(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,gw(t.children[n]));return e}var mw,vw,bw=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;_classCallCheck(this,n),o=new Qg(o),a=new Qg(a);for(var s=r/2,c=i/r,l=i/2,u=[],h=[],d=0,p=0,f=-l;d<=r;d++,f+=c){u.push(-l,0,f,l,0,f),u.push(f,0,-l,f,0,l);var g=d===s?o:a;g.toArray(h,p),p+=3,g.toArray(h,p),p+=3,g.toArray(h,p),p+=3,g.toArray(h,p),p+=3}var m=new xm;return m.setAttribute("position",new lm(u,3)),m.setAttribute("color",new lm(h,3)),(t=e.call(this,m,new Y_({vertexColors:!0,toneMapped:!1}))).type="GridHelper",t}return n}(iy),_w=new Pf,yw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a,s){var c;return _classCallCheck(this,n),(c=e.call(this)).type="ArrowHelper",void 0===t&&(t=new Pf(0,0,1)),void 0===i&&(i=new Pf(0,0,0)),void 0===r&&(r=1),void 0===o&&(o=16776960),void 0===a&&(a=.2*r),void 0===s&&(s=.2*a),void 0===mw&&((mw=new xm).setAttribute("position",new lm([0,0,0,0,1,0],3)),(vw=new Cy(0,.5,1,5,1)).translate(0,-.5,0)),c.position.copy(i),c.line=new ty(mw,new Y_({color:o,toneMapped:!1})),c.line.matrixAutoUpdate=!1,c.add(c.line),c.cone=new qm(vw,new $g({color:o,toneMapped:!1})),c.cone.matrixAutoUpdate=!1,c.add(c.cone),c.setDirection(t),c.setLength(r,a,s),c}return _createClass(n,[{key:"setDirection",value:function(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{_w.set(t.z,0,-t.x).normalize();var e=Math.acos(t.y);this.quaternion.setFromAxisAngle(_w,e)}}},{key:"setLength",value:function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()}},{key:"setColor",value:function(t){this.line.material.color.set(t),this.cone.material.color.set(t)}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}}]),n}(Og),Cw=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;_classCallCheck(this,n);var r=[0,0,0,i,0,0,0,0,0,0,i,0,0,0,0,0,0,i],o=new xm;return o.setAttribute("position",new lm(r,3)),o.setAttribute("color",new lm([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),(t=e.call(this,o,new Y_({vertexColors:!0,toneMapped:!1}))).type="AxesHelper",t}return n}(iy),xw=new Float32Array(1);function ww(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),tx.call(this,t),this.type="catmullrom"}new Int32Array(xw.buffer),Math.pow(2,8),Math.sqrt(5),GC.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(GC.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(dx.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new yy,n=0,i=t.length;n<i;n++){var r=t[n];e.vertices.push(new Pf(r.x,r.y,r.z||0))}return e}}),Object.assign(px.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),Object.create(tx.prototype),Object.create(tx.prototype),ww.prototype=Object.create(tx.prototype),Object.assign(ww.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),bw.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;_classCallCheck(this,n);for(var r=gw(t),o=new xm,a=[],s=[],c=new Qg(0,0,1),l=new Qg(0,1,0),u=0;u<r.length;u++){var h=r[u];h.parent&&h.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),s.push(c.r,c.g,c.b),s.push(l.r,l.g,l.b))}return o.setAttribute("position",new lm(a,3)),o.setAttribute("color",new lm(s,3)),(i=e.call(this,o,new Y_({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0}))).type="SkeletonHelper",i.isSkeletonHelper=!0,i.root=t,i.bones=r,i.matrix=t.matrixWorld,i.matrixAutoUpdate=!1,i}return _createClass(n,[{key:"updateMatrixWorld",value:function(t){var e=this.bones,i=this.geometry,r=i.getAttribute("position");fw.copy(this.root.matrixWorld).invert();for(var o=0,a=0;o<e.length;o++){var s=e[o];s.parent&&s.parent.isBone&&(pw.multiplyMatrices(fw,s.matrixWorld),dw.setFromMatrixPosition(pw),r.setXYZ(a,dw.x,dw.y,dw.z),pw.multiplyMatrices(fw,s.parent.matrixWorld),dw.setFromMatrixPosition(pw),r.setXYZ(a+1,dw.x,dw.y,dw.z),a+=2)}i.getAttribute("position").needsUpdate=!0,_get(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,t)}}]),n}(iy).prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(zC.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}(t)}}),zC.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(function(){function t(e,n){_classCallCheck(this,t),Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==e?e:new mf(1/0,1/0),this.max=void 0!==n?n:new mf(-1/0,-1/0)}return _createClass(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=uw.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new mf),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new mf),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}},{key:"getParameter",value:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new mf),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}},{key:"clampPoint",value:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new mf),e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return uw.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}().prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Tf.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Wf.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),nv.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Object.assign(gf,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),gf.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),gf.ceilPowerOfTwo(t)}}),Object.assign(vf.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Object.assign(tg.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Pf).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,o)},getInverse:function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Tg.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Object.assign(Of.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(Zf.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(qg.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(qg,{barycoordFromPoint:function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),qg.getBarycoord(t,e,n,i,r)},normal:function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),qg.getNormal(t,e,n,i)}}),Object.assign(fx.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Zy(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new iC(this,t)}}),Object.assign(mf.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Pf.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(xf.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(yy.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.assign(Og.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Og.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(qm.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(qm.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(I_.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(U_.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),j_.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(GC.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Km.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(gx.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(tm.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Object.assign(tm.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(xm.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new tm(arguments[1],arguments[2])))},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(xm.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Ex.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(aw.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(h_.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(h_.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign($y.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign(u_.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(iw.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Xg.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Qg}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(pC.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(dC.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}}),Object.defineProperties(Qm.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(c_.prototype,{clearTarget:function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(c_.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?3001:3e3}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Zb.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(wf.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="Audio",i.listener=t,i.context=t.context,i.gain=i.context.createGain(),i.gain.connect(t.getInput()),i.autoplay=!1,i.buffer=null,i.detune=0,i.loop=!1,i.loopStart=0,i.loopEnd=0,i.offset=0,i.duration=void 0,i.playbackRate=1,i.isPlaying=!1,i.hasPlaybackControl=!0,i.source=null,i.sourceType="empty",i._startedAt=0,i._progress=0,i._connected=!1,i.filters=[],i}return _createClass(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}},{key:"setMediaElementSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}},{key:"setMediaStreamSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}},{key:"setBuffer",value:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+t;var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}},{key:"setDetune",value:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(t){return this.setFilters(t?[t]:[])}},{key:"setPlaybackRate",value:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(t){return this.loopStart=t,this}},{key:"setLoopEnd",value:function(t){return this.loopEnd=t,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}]),n}(Og).prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Fx).load(t,function(t){e.setBuffer(t)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Xm.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},Xm.prototype.clear=function(t,e,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,i)},bf.crossOrigin=void 0,bf.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new WC;r.setCrossOrigin(this.crossOrigin);var o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},bf.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new HC;r.setCrossOrigin(this.crossOrigin);var o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},bf.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},bf.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"124"}}));var Mw,Ow,Pw=function(){Ex.call(this),this.type="LineSegmentsGeometry",this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new lm([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new lm([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))};Pw.prototype=Object.assign(Object.create(Ex.prototype),{constructor:Pw,isLineSegmentsGeometry:!0,applyMatrix:function(t){var e=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==e&&(t.applyToBufferAttribute(e),t.applyToBufferAttribute(n),e.data.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},setPositions:function(t){var e;t instanceof Float32Array?e=t:Array.isArray(t)&&(e=new Float32Array(t));var n=new rw(e,6,1);return this.setAttribute("instanceStart",new f_(n,3,0)),this.setAttribute("instanceEnd",new f_(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this},setColors:function(t){var e;t instanceof Float32Array?e=t:Array.isArray(t)&&(e=new Float32Array(t));var n=new rw(e,6,1);return this.setAttribute("instanceColorStart",new f_(n,3,0)),this.setAttribute("instanceColorEnd",new f_(n,3,3)),this},fromWireframeGeometry:function(t){return this.setPositions(t.attributes.position.array),this},fromEdgesGeometry:function(t){return this.setPositions(t.attributes.position.array),this},fromMesh:function(t){return this.fromWireframeGeometry(new cC(t.geometry)),this},fromLineSegements:function(t){var e=t.geometry;return e.isGeometry?this.setPositions(e.vertices):e.isBufferGeometry&&this.setPositions(e.position.array),this},computeBoundingBox:(Ow=new Tf,function(){null===this.boundingBox&&(this.boundingBox=new Tf);var t=this.attributes.instanceStart,e=this.attributes.instanceEnd;void 0!==t&&void 0!==e&&(this.boundingBox.setFromBufferAttribute(t),Ow.setFromBufferAttribute(e),this.boundingBox.union(Ow))}),computeBoundingSphere:(Mw=new Pf,function(){null===this.boundingSphere&&(this.boundingSphere=new Wf),null===this.boundingBox&&this.computeBoundingBox();var t=this.attributes.instanceStart,e=this.attributes.instanceEnd;if(void 0!==t&&void 0!==e){var n=this.boundingSphere.center;this.boundingBox.getCenter(n);for(var i=0,r=0,o=t.count;r<o;r++)Mw.fromBufferAttribute(t,r),i=Math.max(i,n.distanceToSquared(Mw)),Mw.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(Mw));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}),toJSON:function(){}}),sv.line={linewidth:{value:1},resolution:{value:new mf(1,1)},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},cv.line={uniforms:Gm.merge([sv.common,sv.fog,sv.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec2 ndcStart = clipStart.xy / clipStart.w;\n\t\t\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd - ndcStart;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t// perpendicular to dir\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );\n\n\t\t\t#include <premultiplied_alpha_fragment>\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\n\t\t}\n\t\t"};var kw=function(t){Qm.call(this,{type:"LineMaterial",uniforms:Gm.clone(cv.line.uniforms),vertexShader:cv.line.vertexShader,fragmentShader:cv.line.fragmentShader}),this.dashed=!1,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}}}),this.setValues(t)};(kw.prototype=Object.create(Qm.prototype)).constructor=kw,kw.prototype.isLineMaterial=!0;var Aw,Tw,Sw=function(t,e){qm.call(this),this.type="LineSegments2",this.geometry=void 0!==t?t:new Pw,this.material=void 0!==e?e:new kw({color:16777215*Math.random()})};Sw.prototype=Object.assign(Object.create(qm.prototype),{constructor:Sw,isLineSegments2:!0,computeLineDistances:(Aw=new Pf,Tw=new Pf,function(){for(var t=this.geometry,e=t.attributes.instanceStart,n=t.attributes.instanceEnd,i=new Float32Array(2*e.data.count),r=0,o=0,a=e.data.count;r<a;r++,o+=2)Aw.fromBufferAttribute(e,r),Tw.fromBufferAttribute(n,r),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+Aw.distanceTo(Tw);var s=new rw(i,2,1);return t.setAttribute("instanceDistanceStart",new f_(s,1,0)),t.setAttribute("instanceDistanceEnd",new f_(s,1,1)),this})});var Ew=function(){Pw.call(this),this.type="LineGeometry"};Ew.prototype=Object.assign(Object.create(Pw.prototype),{constructor:Ew,isLineGeometry:!0,setPositions:function(t){for(var e=t.length-3,n=new Float32Array(2*e),i=0;i<e;i+=3)n[2*i]=t[i],n[2*i+1]=t[i+1],n[2*i+2]=t[i+2],n[2*i+3]=t[i+3],n[2*i+4]=t[i+4],n[2*i+5]=t[i+5];return Pw.prototype.setPositions.call(this,n),this},setColors:function(t){for(var e=t.length-3,n=new Float32Array(2*e),i=0;i<e;i+=3)n[2*i]=t[i],n[2*i+1]=t[i+1],n[2*i+2]=t[i+2],n[2*i+3]=t[i+3],n[2*i+4]=t[i+4],n[2*i+5]=t[i+5];return Pw.prototype.setColors.call(this,n),this},fromLine:function(t){var e=t.geometry;return e.isGeometry?this.setPositions(e.vertices):e.isBufferGeometry&&this.setPositions(e.position.array),this},copy:function(){return this}});var Iw=function(t,e){Sw.call(this),this.type="Line2",this.geometry=void 0!==t?t:new Ew,this.material=void 0!==e?e:new kw({color:16777215*Math.random()})};function Rw(t,e){var n=t.__state.conversionName.toString(),i=Math.round(t.r),r=Math.round(t.g),o=Math.round(t.b),a=t.a,s=Math.round(t.h),c=t.s.toFixed(1),l=t.v.toFixed(1);if(e||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var u=t.hex.toString(16);u.length<6;)u="0"+u;return"#"+u}return"CSS_RGB"===n?"rgb("+i+","+r+","+o+")":"CSS_RGBA"===n?"rgba("+i+","+r+","+o+","+a+")":"HEX"===n?"0x"+t.hex.toString(16):"RGB_ARRAY"===n?"["+i+","+r+","+o+"]":"RGBA_ARRAY"===n?"["+i+","+r+","+o+","+a+"]":"RGB_OBJ"===n?"{r:"+i+",g:"+r+",b:"+o+"}":"RGBA_OBJ"===n?"{r:"+i+",g:"+r+",b:"+o+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+c+",v:"+l+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+c+",v:"+l+",a:"+a+"}":"unknown format"}Iw.prototype=Object.assign(Object.create(Sw.prototype),{constructor:Iw,isLine2:!0});var Dw=Array.prototype.forEach,Nw=Array.prototype.slice,Lw={BREAK:{},extend:function(t){return this.each(Nw.call(arguments,1),function(e){(this.isObject(e)?Object.keys(e):[]).forEach((function(n){this.isUndefined(e[n])||(t[n]=e[n])}).bind(this))},this),t},defaults:function(t){return this.each(Nw.call(arguments,1),function(e){(this.isObject(e)?Object.keys(e):[]).forEach((function(n){this.isUndefined(t[n])&&(t[n]=e[n])}).bind(this))},this),t},compose:function(){var t=Nw.call(arguments);return function(){for(var e=Nw.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,n){if(t)if(Dw&&t.forEach&&t.forEach===Dw)t.forEach(e,n);else if(t.length===t.length+0){var i,r=void 0;for(r=0,i=t.length;r<i;r++)if(r in t&&e.call(n,t[r],r)===this.BREAK)return}else for(var o in t)if(e.call(n,t[o],o)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i=void 0;return function(){var r=this,o=arguments;function a(){i=null,n||t.apply(r,o)}var s=n||!i;clearTimeout(i),i=setTimeout(a,e),s&&t.apply(r,o)}},toArray:function(t){return t.toArray?t.toArray():Nw.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return isNaN(t)}),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}},zw=[{litmus:Lw.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:Rw},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:Rw},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:Rw},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:Rw}}},{litmus:Lw.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:Lw.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:Lw.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(Lw.isNumber(t.r)&&Lw.isNumber(t.g)&&Lw.isNumber(t.b)&&Lw.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(Lw.isNumber(t.r)&&Lw.isNumber(t.g)&&Lw.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(Lw.isNumber(t.h)&&Lw.isNumber(t.s)&&Lw.isNumber(t.v)&&Lw.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(Lw.isNumber(t.h)&&Lw.isNumber(t.s)&&Lw.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],jw=void 0,Fw=void 0,qw=function(){Fw=!1;var t=arguments.length>1?Lw.toArray(arguments):arguments[0];return Lw.each(zw,function(e){if(e.litmus(t))return Lw.each(e.conversions,function(e,n){if(jw=e.read(t),!1===Fw&&!1!==jw)return Fw=jw,jw.conversionName=n,jw.conversion=e,Lw.BREAK}),Lw.BREAK}),Fw},Bw=void 0,Uw={hsv_to_rgb:function(t,e,n){var i=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),o=n*(1-e),a=n*(1-r*e),s=n*(1-(1-r)*e),c=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][i];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(t,e,n){var i=Math.min(t,e,n),r=Math.max(t,e,n),o=r-i,a=void 0;return 0===r?{h:NaN,s:0,v:0}:(a=t===r?(e-n)/o:e===r?2+(n-t)/o:4+(t-e)/o,(a/=6)<0&&(a+=1),{h:360*a,s:o/r,v:r/255})},rgb_to_hex:function(t,e,n){var i=this.hex_with_component(0,2,t);return i=this.hex_with_component(i,1,e),this.hex_with_component(i,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(Bw=8*e)|t&~(255<<Bw)}},Hw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vw=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ww=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Gw=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},Qw=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Yw=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Kw=function(){function t(){if(Vw(this,t),this.__state=qw.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return Ww(t,[{key:"toString",value:function(){return Rw(this)}},{key:"toHexString",value:function(){return Rw(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function Xw(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space||Kw.recalculateRGB(this,e,n),this.__state[e]},set:function(t){"RGB"!==this.__state.space&&(Kw.recalculateRGB(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function $w(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space||Kw.recalculateHSV(this),this.__state[e]},set:function(t){"HSV"!==this.__state.space&&(Kw.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=t}})}Kw.recalculateRGB=function(t,e,n){if("HEX"===t.__state.space)t.__state[e]=Uw.component_from_hex(t.__state.hex,n);else{if("HSV"!==t.__state.space)throw new Error("Corrupted color state");Lw.extend(t.__state,Uw.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},Kw.recalculateHSV=function(t){var e=Uw.rgb_to_hsv(t.r,t.g,t.b);Lw.extend(t.__state,{s:e.s,v:e.v}),Lw.isNaN(e.h)?Lw.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},Kw.COMPONENTS=["r","g","b","h","s","v","hex","a"],Xw(Kw.prototype,"r",2),Xw(Kw.prototype,"g",1),Xw(Kw.prototype,"b",0),$w(Kw.prototype,"h"),$w(Kw.prototype,"s"),$w(Kw.prototype,"v"),Object.defineProperty(Kw.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(Kw.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=Uw.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var Jw=function(){function t(e,n){Vw(this,t),this.initialValue=e[n],this.domElement=document.createElement("div"),this.object=e,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return Ww(t,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),Zw={};Lw.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(t,e){Lw.each(t,function(t){Zw[t]=e})});var tM=/(\d+(\.\d+)?)px/;function eM(t){if("0"===t||Lw.isUndefined(t))return 0;var e=t.match(tM);return Lw.isNull(e)?0:parseFloat(e[1])}var nM={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,n){var i=n,r=e;Lw.isUndefined(r)&&(r=!0),Lw.isUndefined(i)&&(i=!0),t.style.position="absolute",r&&(t.style.left=0,t.style.right=0),i&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,i){var r=n||{},o=Zw[e];if(!o)throw new Error("Event type "+e+" not supported.");var a=document.createEvent(o);switch(o){case"MouseEvents":a.initMouseEvent(e,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,r.x||r.clientX||0,r.y||r.clientY||0,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var s=a.initKeyboardEvent||a.initKeyEvent;Lw.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),s(e,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:a.initEvent(e,r.bubbles||!1,r.cancelable||!0)}Lw.defaults(a,i),t.dispatchEvent(a)},bind:function(t,e,n,i){return t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n),nM},unbind:function(t,e,n,i){return t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n),nM},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1===n.indexOf(e)&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return nM},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),i=n.indexOf(e);-1!==i&&(n.splice(i,1),t.className=n.join(" "))}else t.className=void 0;return nM},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return eM(e["border-left-width"])+eM(e["border-right-width"])+eM(e["padding-left"])+eM(e["padding-right"])+eM(e.width)},getHeight:function(t){var e=getComputedStyle(t);return eM(e["border-top-width"])+eM(e["border-bottom-width"])+eM(e["padding-top"])+eM(e["padding-bottom"])+eM(e.height)},getOffset:function(t){var e=t,n={left:0,top:0};if(e.offsetParent)do{n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent}while(e);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},iM=function(t){function e(t,n){Vw(this,e);var i=Yw(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=i;return i.__prev=i.getValue(),i.__checkbox=document.createElement("input"),i.__checkbox.setAttribute("type","checkbox"),nM.bind(i.__checkbox,"change",function(){r.setValue(!r.__prev)},!1),i.domElement.appendChild(i.__checkbox),i.updateDisplay(),i}return Qw(e,t),Ww(e,[{key:"setValue",value:function(t){var n=Gw(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),Gw(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Jw),rM=function(t){function e(t,n,i){Vw(this,e);var r=Yw(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=i,a=r;if(r.__select=document.createElement("select"),Lw.isArray(o)){var s={};Lw.each(o,function(t){s[t]=t}),o=s}return Lw.each(o,function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),a.__select.appendChild(n)}),r.updateDisplay(),nM.bind(r.__select,"change",function(){a.setValue(this.options[this.selectedIndex].value)}),r.domElement.appendChild(r.__select),r}return Qw(e,t),Ww(e,[{key:"setValue",value:function(t){var n=Gw(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return nM.isActive(this.__select)?this:(this.__select.value=this.getValue(),Gw(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(Jw),oM=function(t){function e(t,n){Vw(this,e);var i=Yw(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=i;function o(){r.setValue(r.__input.value)}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),nM.bind(i.__input,"keyup",o),nM.bind(i.__input,"change",o),nM.bind(i.__input,"blur",function(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}),nM.bind(i.__input,"keydown",function(t){13===t.keyCode&&this.blur()}),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return Qw(e,t),Ww(e,[{key:"updateDisplay",value:function(){return nM.isActive(this.__input)||(this.__input.value=this.getValue()),Gw(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Jw);function aM(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var sM=function(t){function e(t,n,i){Vw(this,e);var r=Yw(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=i||{};return r.__min=o.min,r.__max=o.max,r.__step=o.step,r.__impliedStep=Lw.isUndefined(r.__step)?0===r.initialValue?1:Math.pow(10,Math.floor(Math.log(Math.abs(r.initialValue))/Math.LN10))/10:r.__step,r.__precision=aM(r.__impliedStep),r}return Qw(e,t),Ww(e,[{key:"setValue",value:function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),Gw(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(t){return this.__min=t,this}},{key:"max",value:function(t){return this.__max=t,this}},{key:"step",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=aM(t),this}}]),e}(Jw),cM=function(t){function e(t,n,i){Vw(this,e);var r=Yw(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));r.__truncationSuspended=!1;var o=r,a=void 0;function s(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function c(t){var e=a-t.clientY;o.setValue(o.getValue()+e*o.__impliedStep),a=t.clientY}function l(){nM.unbind(window,"mousemove",c),nM.unbind(window,"mouseup",l),s()}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),nM.bind(r.__input,"change",function(){var t=parseFloat(o.__input.value);Lw.isNaN(t)||o.setValue(t)}),nM.bind(r.__input,"blur",function(){s()}),nM.bind(r.__input,"mousedown",function(t){nM.bind(window,"mousemove",c),nM.bind(window,"mouseup",l),a=t.clientY}),nM.bind(r.__input,"keydown",function(t){13===t.keyCode&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,s())}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return Qw(e,t),Ww(e,[{key:"updateDisplay",value:function(){var t,n;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),n=Math.pow(10,this.__precision),Math.round(t*n)/n),Gw(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(sM);function lM(t,e,n,i,r){return i+(t-e)/(n-e)*(r-i)}var uM=function(t){function e(t,n,i,r,o){Vw(this,e);var a=Yw(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,{min:i,max:r,step:o})),s=a;function c(t){t.preventDefault();var e=s.__background.getBoundingClientRect();return s.setValue(lM(t.clientX,e.left,e.right,s.__min,s.__max)),!1}function l(){nM.unbind(window,"mousemove",c),nM.unbind(window,"mouseup",l),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function u(t){var e=t.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(lM(e,n.left,n.right,s.__min,s.__max))}function h(){nM.unbind(window,"touchmove",u),nM.unbind(window,"touchend",h),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),nM.bind(a.__background,"mousedown",function(t){document.activeElement.blur(),nM.bind(window,"mousemove",c),nM.bind(window,"mouseup",l),c(t)}),nM.bind(a.__background,"touchstart",function(t){1===t.touches.length&&(nM.bind(window,"touchmove",u),nM.bind(window,"touchend",h),u(t))}),nM.addClass(a.__background,"slider"),nM.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return Qw(e,t),Ww(e,[{key:"updateDisplay",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",Gw(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(sM),hM=function(t){function e(t,n,i){Vw(this,e);var r=Yw(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r;return r.__button=document.createElement("div"),r.__button.innerHTML=void 0===i?"Fire":i,nM.bind(r.__button,"click",function(t){return t.preventDefault(),o.fire(),!1}),nM.addClass(r.__button,"button"),r.domElement.appendChild(r.__button),r}return Qw(e,t),Ww(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(Jw),dM=function(t){function e(t,n){Vw(this,e);var i=Yw(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));i.__color=new Kw(i.getValue()),i.__temp=new Kw(0);var r=i;i.domElement=document.createElement("div"),nM.makeSelectable(i.domElement,!1),i.__selector=document.createElement("div"),i.__selector.className="selector",i.__saturation_field=document.createElement("div"),i.__saturation_field.className="saturation-field",i.__field_knob=document.createElement("div"),i.__field_knob.className="field-knob",i.__field_knob_border="2px solid ",i.__hue_knob=document.createElement("div"),i.__hue_knob.className="hue-knob",i.__hue_field=document.createElement("div"),i.__hue_field.className="hue-field",i.__input=document.createElement("input"),i.__input.type="text",i.__input_textShadow="0 1px 1px ",nM.bind(i.__input,"keydown",function(t){13===t.keyCode&&h.call(this)}),nM.bind(i.__input,"blur",h),nM.bind(i.__selector,"mousedown",function(){nM.addClass(this,"drag").bind(window,"mouseup",function(){nM.removeClass(r.__selector,"drag")})}),nM.bind(i.__selector,"touchstart",function(){nM.addClass(this,"drag").bind(window,"touchend",function(){nM.removeClass(r.__selector,"drag")})});var o,a=document.createElement("div");function s(t){p(t),nM.bind(window,"mousemove",p),nM.bind(window,"touchmove",p),nM.bind(window,"mouseup",l),nM.bind(window,"touchend",l)}function c(t){f(t),nM.bind(window,"mousemove",f),nM.bind(window,"touchmove",f),nM.bind(window,"mouseup",u),nM.bind(window,"touchend",u)}function l(){nM.unbind(window,"mousemove",p),nM.unbind(window,"touchmove",p),nM.unbind(window,"mouseup",l),nM.unbind(window,"touchend",l),d()}function u(){nM.unbind(window,"mousemove",f),nM.unbind(window,"touchmove",f),nM.unbind(window,"mouseup",u),nM.unbind(window,"touchend",u),d()}function h(){var t=qw(this.value);!1!==t?(r.__color.__state=t,r.setValue(r.__color.toOriginal())):this.value=r.__color.toString()}function d(){r.__onFinishChange&&r.__onFinishChange.call(r,r.__color.toOriginal())}function p(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=r.__saturation_field.getBoundingClientRect(),n=t.touches&&t.touches[0]||t,i=(n.clientX-e.left)/(e.right-e.left),o=1-(n.clientY-e.top)/(e.bottom-e.top);return o>1?o=1:o<0&&(o=0),i>1?i=1:i<0&&(i=0),r.__color.v=o,r.__color.s=i,r.setValue(r.__color.toOriginal()),!1}function f(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=r.__hue_field.getBoundingClientRect(),n=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return n>1?n=1:n<0&&(n=0),r.__color.h=360*n,r.setValue(r.__color.toOriginal()),!1}return Lw.extend(i.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),Lw.extend(i.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:i.__field_knob_border+(i.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),Lw.extend(i.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),Lw.extend(i.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),Lw.extend(a.style,{width:"100%",height:"100%",background:"none"}),fM(a,"top","rgba(0,0,0,0)","#000"),Lw.extend(i.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(o=i.__hue_field).style.background="",o.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",o.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",Lw.extend(i.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:i.__input_textShadow+"rgba(0,0,0,0.7)"}),nM.bind(i.__saturation_field,"mousedown",s),nM.bind(i.__saturation_field,"touchstart",s),nM.bind(i.__field_knob,"mousedown",s),nM.bind(i.__field_knob,"touchstart",s),nM.bind(i.__hue_field,"mousedown",c),nM.bind(i.__hue_field,"touchstart",c),i.__saturation_field.appendChild(a),i.__selector.appendChild(i.__field_knob),i.__selector.appendChild(i.__saturation_field),i.__selector.appendChild(i.__hue_field),i.__hue_field.appendChild(i.__hue_knob),i.domElement.appendChild(i.__input),i.domElement.appendChild(i.__selector),i.updateDisplay(),i}return Qw(e,t),Ww(e,[{key:"updateDisplay",value:function(){var t=qw(this.getValue());if(!1!==t){var e=!1;Lw.each(Kw.COMPONENTS,function(n){if(!Lw.isUndefined(t[n])&&!Lw.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}},this),e&&Lw.extend(this.__color.__state,t)}Lw.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,i=255-n;Lw.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,fM(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),Lw.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+i+","+i+","+i+",.7)"})}}]),e}(Jw),pM=["-moz-","-o-","-webkit-","-ms-",""];function fM(t,e,n,i){t.style.background="",Lw.each(pM,function(r){t.style.cssText+="background: "+r+"linear-gradient("+e+", "+n+" 0%, "+i+" 100%); "})}var gM='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',mM=function(t,e){var n=t[e];return Lw.isArray(arguments[2])||Lw.isObject(arguments[2])?new rM(t,e,arguments[2]):Lw.isNumber(n)?Lw.isNumber(arguments[2])&&Lw.isNumber(arguments[3])?Lw.isNumber(arguments[4])?new uM(t,e,arguments[2],arguments[3],arguments[4]):new uM(t,e,arguments[2],arguments[3]):Lw.isNumber(arguments[4])?new cM(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new cM(t,e,{min:arguments[2],max:arguments[3]}):Lw.isString(n)?new oM(t,e):Lw.isFunction(n)?new hM(t,e,""):Lw.isBoolean(n)?new iM(t,e):null},vM=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},bM=function(){function t(){Vw(this,t),this.backgroundElement=document.createElement("div"),Lw.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),nM.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),Lw.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;nM.bind(this.backgroundElement,"click",function(){e.hide()})}return Ww(t,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),Lw.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var t=this,e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",nM.unbind(t.domElement,"webkitTransitionEnd",e),nM.unbind(t.domElement,"transitionend",e),nM.unbind(t.domElement,"oTransitionEnd",e)};nM.bind(this.domElement,"webkitTransitionEnd",e),nM.bind(this.domElement,"transitionend",e),nM.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-nM.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-nM.getHeight(this.domElement)/2+"px"}}]),t}();!function(t,e){var n=document,i=document.createElement("style");i.type="text/css",i.innerHTML=t;var r=n.getElementsByTagName("head")[0];try{r.appendChild(i)}catch(UF){}}(function(t){if("undefined"!=typeof window){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}("@media print{.dg.ac{display:none;}}.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:150px;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var _M=function(){try{return!!window.localStorage}catch(UF){return!1}}(),yM=void 0,CM=!0,xM=void 0,wM=!1,MM=[],OM=function t(e){var n=this,i=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),nM.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],i=Lw.defaults(i,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),i=Lw.defaults(i,{resizable:i.autoPlace,hideable:i.autoPlace}),Lw.isUndefined(i.load)?i.load={preset:"Default"}:i.preset&&(i.load.preset=i.preset),Lw.isUndefined(i.parent)&&i.hideable&&MM.push(this),i.resizable=Lw.isUndefined(i.parent)&&i.resizable,i.autoPlace&&Lw.isUndefined(i.scrollable)&&(i.scrollable=!0);var r,o=_M&&"true"===localStorage.getItem(EM(0,"isLocal")),a=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return i.parent}},scrollable:{get:function(){return i.scrollable}},autoPlace:{get:function(){return i.autoPlace}},closeOnTop:{get:function(){return i.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:i.load.preset},set:function(t){n.parent?n.getRoot().preset=t:i.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}(this),n.revert()}},width:{get:function(){return i.width},set:function(t){i.width=t,LM(n,t)}},name:{get:function(){return i.name},set:function(t){i.name=t,s&&(s.innerHTML=i.name)}},closed:{get:function(){return i.closed},set:function(e){i.closed=e,i.closed?nM.addClass(n.__ul,t.CLASS_CLOSED):nM.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return i.load}},useLocalStorage:{get:function(){return o},set:function(t){_M&&(o=t,t?nM.bind(window,"unload",a):nM.unbind(window,"unload",a),localStorage.setItem(EM(0,"isLocal"),t))}}}),Lw.isUndefined(i.parent)){if(this.closed=i.closed||!1,nM.addClass(this.domElement,t.CLASS_MAIN),nM.makeSelectable(this.domElement,!1),_M&&o){n.useLocalStorage=!0;var c=localStorage.getItem(EM(0,"gui"));c&&(i.load=JSON.parse(c))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,nM.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),i.closeOnTop?(nM.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(nM.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),nM.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===i.closed&&(i.closed=!0);var l=document.createTextNode(i.name);nM.addClass(l,"controller-name"),s=PM(n,l),nM.addClass(this.__ul,t.CLASS_CLOSED),nM.addClass(s,"title"),nM.bind(s,"click",function(t){return t.preventDefault(),n.closed=!n.closed,!1}),i.closed||(this.closed=!1)}i.autoPlace&&(Lw.isUndefined(i.parent)&&(CM&&(xM=document.createElement("div"),nM.addClass(xM,"dg"),nM.addClass(xM,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(xM),CM=!1),xM.appendChild(this.domElement),nM.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||LM(n,i.width)),this.__resizeHandler=function(){n.onResizeDebounced()},nM.bind(window,"resize",this.__resizeHandler),nM.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),nM.bind(this.__ul,"transitionend",this.__resizeHandler),nM.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),i.resizable&&NM(this),this.saveToLocalStorageIfPossible=a=function(){_M&&"true"===localStorage.getItem(EM(0,"isLocal"))&&localStorage.setItem(EM(0,"gui"),JSON.stringify(n.getSaveObject()))},i.parent||((r=n.getRoot()).width+=1,Lw.defer(function(){r.width-=1}))};function PM(t,e,n){var i=document.createElement("li");return e&&i.appendChild(e),n?t.__ul.insertBefore(i,n):t.__ul.appendChild(i),t.onResize(),i}function kM(t){nM.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&nM.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function AM(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}function TM(t,e){var n=t.getRoot(),i=n.__rememberedObjects.indexOf(e.object);if(-1!==i){var r=n.__rememberedObjectIndecesToControllers[i];if(void 0===r&&(n.__rememberedObjectIndecesToControllers[i]=r={}),r[e.property]=e,n.load&&n.load.remembered){var o=n.load.remembered,a=void 0;if(o[t.preset])a=o[t.preset];else{if(!o.Default)return;a=o.Default}if(a[i]&&void 0!==a[i][e.property]){var s=a[i][e.property];e.initialValue=s,e.setValue(s)}}}}function SM(t,e,n,i){if(void 0===e[n])throw new Error('Object "'+e+'" has no property "'+n+'"');var r=void 0;if(i.color)r=new dM(e,n);else{var o=[e,n].concat(i.factoryArgs);r=mM.apply(t,o)}i.before instanceof Jw&&(i.before=i.before.__li),TM(t,r),nM.addClass(r.domElement,"c");var a=document.createElement("span");nM.addClass(a,"property-name"),a.innerHTML=r.property;var s=document.createElement("div");s.appendChild(a),s.appendChild(r.domElement);var c=PM(t,s,i.before);return nM.addClass(c,OM.CLASS_CONTROLLER_ROW),nM.addClass(c,r instanceof dM?"color":Hw(r.getValue())),function(t,e,n){if(n.__li=e,n.__gui=t,Lw.extend(n,{options:function(e){if(arguments.length>1){var i=n.__li.nextElementSibling;return n.remove(),SM(t,n.object,n.property,{before:i,factoryArgs:[Lw.toArray(arguments)]})}if(Lw.isArray(e)||Lw.isObject(e)){var r=n.__li.nextElementSibling;return n.remove(),SM(t,n.object,n.property,{before:r,factoryArgs:[e]})}},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof uM){var i=new cM(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});Lw.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(t){var e=n[t],r=i[t];n[t]=i[t]=function(){var t=Array.prototype.slice.call(arguments);return r.apply(i,t),e.apply(n,t)}}),nM.addClass(e,"has-slider"),n.domElement.insertBefore(i.domElement,n.domElement.firstElementChild)}else if(n instanceof cM){var r=function(e){if(Lw.isNumber(n.__min)&&Lw.isNumber(n.__max)){var i=n.__li.firstElementChild.firstElementChild.innerHTML,r=n.__gui.__listening.indexOf(n)>-1;n.remove();var o=SM(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return o.name(i),r&&o.listen(),o}return e};n.min=Lw.compose(r,n.min),n.max=Lw.compose(r,n.max)}else n instanceof iM?(nM.bind(e,"click",function(){nM.fakeEvent(n.__checkbox,"click")}),nM.bind(n.__checkbox,"click",function(t){t.stopPropagation()})):n instanceof hM?(nM.bind(e,"click",function(){nM.fakeEvent(n.__button,"click")}),nM.bind(e,"mouseover",function(){nM.addClass(n.__button,"hover")}),nM.bind(e,"mouseout",function(){nM.removeClass(n.__button,"hover")})):n instanceof dM&&(nM.addClass(e,"color"),n.updateDisplay=Lw.compose(function(t){return e.style.borderLeftColor=n.__color.toString(),t},n.updateDisplay),n.updateDisplay());n.setValue=Lw.compose(function(e){return t.getRoot().__preset_select&&n.isModified()&&AM(t.getRoot(),!0),e},n.setValue)}(t,c,r),t.__controllers.push(r),r}function EM(t,e){return document.location.href+"."+e}function IM(t,e,n){var i=document.createElement("option");i.innerHTML=e,i.value=e,t.__preset_select.appendChild(i),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function RM(t,e){e.style.display=t.useLocalStorage?"block":"none"}function DM(t){var e=t.__save_row=document.createElement("li");nM.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),nM.addClass(e,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",nM.addClass(n,"button gears");var i=document.createElement("span");i.innerHTML="Save",nM.addClass(i,"button"),nM.addClass(i,"save");var r=document.createElement("span");r.innerHTML="New",nM.addClass(r,"button"),nM.addClass(r,"save-as");var o=document.createElement("span");o.innerHTML="Revert",nM.addClass(o,"button"),nM.addClass(o,"revert");var a=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?Lw.each(t.load.remembered,function(e,n){IM(t,n,n===t.preset)}):IM(t,"Default",!1),nM.bind(a,"change",function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value}),e.appendChild(a),e.appendChild(n),e.appendChild(i),e.appendChild(r),e.appendChild(o),_M){var s=document.getElementById("dg-local-explain"),c=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(EM(0,"isLocal"))&&c.setAttribute("checked","checked"),RM(t,s),nM.bind(c,"change",function(){t.useLocalStorage=!t.useLocalStorage,RM(t,s)})}var l=document.getElementById("dg-new-constructor");nM.bind(l,"keydown",function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||yM.hide()}),nM.bind(n,"click",function(){l.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),yM.show(),l.focus(),l.select()}),nM.bind(i,"click",function(){t.save()}),nM.bind(r,"click",function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)}),nM.bind(o,"click",function(){t.revert()})}function NM(t){var e=void 0;function n(n){return n.preventDefault(),t.width+=e-n.clientX,t.onResize(),e=n.clientX,!1}function i(){nM.removeClass(t.__closeButton,OM.CLASS_DRAG),nM.unbind(window,"mousemove",n),nM.unbind(window,"mouseup",i)}function r(r){return r.preventDefault(),e=r.clientX,nM.addClass(t.__closeButton,OM.CLASS_DRAG),nM.bind(window,"mousemove",n),nM.bind(window,"mouseup",i),!1}t.__resize_handle=document.createElement("div"),Lw.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),nM.bind(t.__resize_handle,"mousedown",r),nM.bind(t.__closeButton,"mousedown",r),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function LM(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function zM(t,e){var n={};return Lw.each(t.__rememberedObjects,function(i,r){var o={};Lw.each(t.__rememberedObjectIndecesToControllers[r],function(t,n){o[n]=e?t.initialValue:t.getValue()}),n[r]=o}),n}function jM(t){0!==t.length&&vM.call(window,function(){jM(t)}),Lw.each(t,function(t){t.updateDisplay()})}OM.toggleHide=function(){wM=!wM,Lw.each(MM,function(t){t.domElement.style.display=wM?"none":""})},OM.CLASS_AUTO_PLACE="a",OM.CLASS_AUTO_PLACE_CONTAINER="ac",OM.CLASS_MAIN="main",OM.CLASS_CONTROLLER_ROW="cr",OM.CLASS_TOO_TALL="taller-than-window",OM.CLASS_CLOSED="closed",OM.CLASS_CLOSE_BUTTON="close-button",OM.CLASS_CLOSE_TOP="close-top",OM.CLASS_CLOSE_BOTTOM="close-bottom",OM.CLASS_DRAG="drag",OM.DEFAULT_WIDTH=245,OM.TEXT_CLOSED="Close Controls",OM.TEXT_OPEN="Open Controls",OM._keydownHandler=function(t){"text"===document.activeElement.type||72!==t.which&&72!==t.keyCode||OM.toggleHide()},nM.bind(window,"keydown",OM._keydownHandler,!1),Lw.extend(OM.prototype,{add:function(t,e){return SM(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return SM(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;Lw.defer(function(){e.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&xM.removeChild(this.domElement);var t=this;Lw.each(this.__folders,function(e){t.removeFolder(e)}),nM.unbind(window,"keydown",OM._keydownHandler,!1),kM(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new OM(e);this.__folders[t]=n;var i=PM(this,n.domElement);return nM.addClass(i,"folder"),n},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],kM(t);var e=this;Lw.each(t.__folders,function(e){t.removeFolder(e)}),Lw.defer(function(){e.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=nM.getOffset(t.__ul).top,n=0;Lw.each(t.__ul.childNodes,function(e){t.autoPlace&&e===t.__save_row||(n+=nM.getHeight(e))}),window.innerHeight-e-20<n?(nM.addClass(t.domElement,OM.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(nM.removeClass(t.domElement,OM.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&Lw.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:Lw.debounce(function(){this.onResize()},50),remember:function(){if(Lw.isUndefined(yM)&&((yM=new bM).domElement.innerHTML=gM),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;Lw.each(Array.prototype.slice.call(arguments),function(e){0===t.__rememberedObjects.length&&DM(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)}),this.autoPlace&&LM(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=zM(this)),t.folders={},Lw.each(this.__folders,function(e,n){t.folders[n]=e.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=zM(this),AM(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=zM(this,!0)),this.load.remembered[t]=zM(this),this.preset=t,IM(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){Lw.each(this.__controllers,function(e){this.getRoot().load.remembered?TM(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())},this),Lw.each(this.__folders,function(t){t.revert(t)}),t||AM(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&jM(this.__listening)},updateDisplay:function(){Lw.each(this.__controllers,function(t){t.updateDisplay()}),Lw.each(this.__folders,function(t){t.updateDisplay()})}});var FM=OM,qM=function(t,e){var n,i,r,o,a;this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new Pf,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return f.phi},this.getAzimuthalAngle=function(){return f.theta},this.saveState=function(){s.target0.copy(s.target),s.position0.copy(s.object.position),s.zoom0=s.object.zoom},this.reset=function(){s.target.copy(s.target0),s.object.position.copy(s.position0),s.object.zoom=s.zoom0,s.object.updateProjectionMatrix(),s.dispatchEvent(c),s.update(),d=h.NONE},this.update=(n=new Pf,i=(new Of).setFromUnitVectors(t.up,new Pf(0,1,0)),r=i.clone().inverse(),o=new Pf,a=new Of,function(){var t=s.object.position;return n.copy(t).sub(s.target),n.applyQuaternion(i),f.setFromVector3(n),s.autoRotate&&d===h.NONE&&T(2*Math.PI/60/60*s.autoRotateSpeed),s.enableDamping?(f.theta+=g.theta*s.dampingFactor,f.phi+=g.phi*s.dampingFactor):(f.theta+=g.theta,f.phi+=g.phi),f.theta=Math.max(s.minAzimuthAngle,Math.min(s.maxAzimuthAngle,f.theta)),f.phi=Math.max(s.minPolarAngle,Math.min(s.maxPolarAngle,f.phi)),f.makeSafe(),f.radius*=m,f.radius=Math.max(s.minDistance,Math.min(s.maxDistance,f.radius)),!0===s.enableDamping?s.target.addScaledVector(v,s.dampingFactor):s.target.add(v),n.setFromSpherical(f),n.applyQuaternion(r),t.copy(s.target).add(n),s.object.lookAt(s.target),!0===s.enableDamping?(g.theta*=1-s.dampingFactor,g.phi*=1-s.dampingFactor,v.multiplyScalar(1-s.dampingFactor)):(g.set(0,0,0),v.set(0,0,0)),m=1,!!(b||o.distanceToSquared(s.object.position)>p||8*(1-a.dot(s.object.quaternion))>p)&&(s.dispatchEvent(c),o.copy(s.object.position),a.copy(s.object.quaternion),b=!1,!0)}),this.dispose=function(){s.domElement.removeEventListener("contextmenu",Z,!1),s.domElement.removeEventListener("mousedown",W,!1),s.domElement.removeEventListener("wheel",Y,!1),s.domElement.removeEventListener("touchstart",X,!1),s.domElement.removeEventListener("touchend",J,!1),s.domElement.removeEventListener("touchmove",$,!1),document.removeEventListener("mousemove",G,!1),document.removeEventListener("mouseup",Q,!1),window.removeEventListener("keydown",K,!1)};var s=this,c={type:"change"},l={type:"start"},u={type:"end"},h={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},d=h.NONE,p=1e-6,f=new lw,g=new lw,m=1,v=new Pf,b=!1,_=new mf,y=new mf,C=new mf,x=new mf,w=new mf,M=new mf,O=new mf,P=new mf,k=new mf;function A(){return Math.pow(.95,s.zoomSpeed)}function T(t){g.theta-=t}function S(t){g.phi-=t}var E,I=(E=new Pf,function(t,e){E.setFromMatrixColumn(e,0),E.multiplyScalar(-t),v.add(E)}),R=function(){var t=new Pf;return function(e,n){!0===s.screenSpacePanning?t.setFromMatrixColumn(n,1):(t.setFromMatrixColumn(n,0),t.crossVectors(s.object.up,t)),t.multiplyScalar(e),v.add(t)}}(),D=function(){var t=new Pf;return function(e,n){var i=s.domElement===document?s.domElement.body:s.domElement;if(s.object.isPerspectiveCamera){t.copy(s.object.position).sub(s.target);var r=t.length();r*=Math.tan(s.object.fov/2*Math.PI/180),I(2*e*r/i.clientHeight,s.object.matrix),R(2*n*r/i.clientHeight,s.object.matrix)}else s.object.isOrthographicCamera?(I(e*(s.object.right-s.object.left)/s.object.zoom/i.clientWidth,s.object.matrix),R(n*(s.object.top-s.object.bottom)/s.object.zoom/i.clientHeight,s.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),s.enablePan=!1)}}();function N(t){s.object.isPerspectiveCamera?m/=t:s.object.isOrthographicCamera?(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom*t)),s.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function L(t){s.object.isPerspectiveCamera?m*=t:s.object.isOrthographicCamera?(s.object.zoom=Math.max(s.minZoom,Math.min(s.maxZoom,s.object.zoom/t)),s.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),s.enableZoom=!1)}function z(t){_.set(t.clientX,t.clientY)}function j(t){x.set(t.clientX,t.clientY)}function F(t){1==t.touches.length?_.set(t.touches[0].pageX,t.touches[0].pageY):_.set(.5*(t.touches[0].pageX+t.touches[1].pageX),.5*(t.touches[0].pageY+t.touches[1].pageY))}function q(t){1==t.touches.length?x.set(t.touches[0].pageX,t.touches[0].pageY):x.set(.5*(t.touches[0].pageX+t.touches[1].pageX),.5*(t.touches[0].pageY+t.touches[1].pageY))}function B(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);O.set(0,i)}function U(t){1==t.touches.length?y.set(t.touches[0].pageX,t.touches[0].pageY):y.set(.5*(t.touches[0].pageX+t.touches[1].pageX),.5*(t.touches[0].pageY+t.touches[1].pageY)),C.subVectors(y,_).multiplyScalar(s.rotateSpeed);var e=s.domElement===document?s.domElement.body:s.domElement;T(2*Math.PI*C.x/e.clientHeight),S(2*Math.PI*C.y/e.clientHeight),_.copy(y)}function H(t){1==t.touches.length?w.set(t.touches[0].pageX,t.touches[0].pageY):w.set(.5*(t.touches[0].pageX+t.touches[1].pageX),.5*(t.touches[0].pageY+t.touches[1].pageY)),M.subVectors(w,x).multiplyScalar(s.panSpeed),D(M.x,M.y),x.copy(w)}function V(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);P.set(0,i),k.set(0,Math.pow(P.y/O.y,s.zoomSpeed)),N(k.y),O.copy(P)}function W(t){if(!1!==s.enabled){switch(t.preventDefault(),s.domElement.focus?s.domElement.focus():window.focus(),t.button){case 0:switch(s.mouseButtons.LEFT){case 0:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===s.enablePan)return;j(t),d=h.PAN}else{if(!1===s.enableRotate)return;z(t),d=h.ROTATE}break;case 2:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===s.enableRotate)return;z(t),d=h.ROTATE}else{if(!1===s.enablePan)return;j(t),d=h.PAN}break;default:d=h.NONE}break;case 1:switch(s.mouseButtons.MIDDLE){case 1:if(!1===s.enableZoom)return;!function(t){O.set(t.clientX,t.clientY)}(t),d=h.DOLLY;break;default:d=h.NONE}break;case 2:switch(s.mouseButtons.RIGHT){case 0:if(!1===s.enableRotate)return;z(t),d=h.ROTATE;break;case 2:if(!1===s.enablePan)return;j(t),d=h.PAN;break;default:d=h.NONE}}d!==h.NONE&&(document.addEventListener("mousemove",G,!1),document.addEventListener("mouseup",Q,!1),s.dispatchEvent(l))}}function G(t){if(!1!==s.enabled)switch(t.preventDefault(),d){case h.ROTATE:if(!1===s.enableRotate)return;!function(t){y.set(t.clientX,t.clientY),C.subVectors(y,_).multiplyScalar(s.rotateSpeed);var e=s.domElement===document?s.domElement.body:s.domElement;T(2*Math.PI*C.x/e.clientHeight),S(2*Math.PI*C.y/e.clientHeight),_.copy(y),s.update()}(t);break;case h.DOLLY:if(!1===s.enableZoom)return;!function(t){P.set(t.clientX,t.clientY),k.subVectors(P,O),k.y>0?N(A()):k.y<0&&L(A()),O.copy(P),s.update()}(t);break;case h.PAN:if(!1===s.enablePan)return;!function(t){w.set(t.clientX,t.clientY),M.subVectors(w,x).multiplyScalar(s.panSpeed),D(M.x,M.y),x.copy(w),s.update()}(t)}}function Q(t){!1!==s.enabled&&(document.removeEventListener("mousemove",G,!1),document.removeEventListener("mouseup",Q,!1),s.dispatchEvent(u),d=h.NONE)}function Y(t){!1===s.enabled||!1===s.enableZoom||d!==h.NONE&&d!==h.ROTATE||(t.preventDefault(),t.stopPropagation(),s.dispatchEvent(l),function(t){t.deltaY<0?L(A()):t.deltaY>0&&N(A()),s.update()}(t),s.dispatchEvent(u))}function K(t){!1!==s.enabled&&!1!==s.enableKeys&&!1!==s.enablePan&&function(t){var e=!1;switch(t.keyCode){case s.keys.UP:D(0,s.keyPanSpeed),e=!0;break;case s.keys.BOTTOM:D(0,-s.keyPanSpeed),e=!0;break;case s.keys.LEFT:D(s.keyPanSpeed,0),e=!0;break;case s.keys.RIGHT:D(-s.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),s.update())}(t)}function X(t){if(!1!==s.enabled){switch(t.preventDefault(),t.touches.length){case 1:switch(s.touches.ONE){case 0:if(!1===s.enableRotate)return;F(t),d=h.TOUCH_ROTATE;break;case 1:if(!1===s.enablePan)return;q(t),d=h.TOUCH_PAN;break;default:d=h.NONE}break;case 2:switch(s.touches.TWO){case 2:if(!1===s.enableZoom&&!1===s.enablePan)return;!function(t){s.enableZoom&&B(t),s.enablePan&&q(t)}(t),d=h.TOUCH_DOLLY_PAN;break;case 3:if(!1===s.enableZoom&&!1===s.enableRotate)return;!function(t){s.enableZoom&&B(t),s.enableRotate&&F(t)}(t),d=h.TOUCH_DOLLY_ROTATE;break;default:d=h.NONE}break;default:d=h.NONE}d!==h.NONE&&s.dispatchEvent(l)}}function $(t){if(!1!==s.enabled)switch(t.preventDefault(),t.stopPropagation(),d){case h.TOUCH_ROTATE:if(!1===s.enableRotate)return;U(t),s.update();break;case h.TOUCH_PAN:if(!1===s.enablePan)return;H(t),s.update();break;case h.TOUCH_DOLLY_PAN:if(!1===s.enableZoom&&!1===s.enablePan)return;!function(t){s.enableZoom&&V(t),s.enablePan&&H(t)}(t),s.update();break;case h.TOUCH_DOLLY_ROTATE:if(!1===s.enableZoom&&!1===s.enableRotate)return;!function(t){s.enableZoom&&V(t),s.enableRotate&&U(t)}(t),s.update();break;default:d=h.NONE}}function J(t){!1!==s.enabled&&(s.dispatchEvent(u),d=h.NONE)}function Z(t){!1!==s.enabled&&t.preventDefault()}s.domElement.addEventListener("contextmenu",Z,!1),s.domElement.addEventListener("mousedown",W,!1),s.domElement.addEventListener("wheel",Y,!1),s.domElement.addEventListener("touchstart",X,!1),s.domElement.addEventListener("touchend",J,!1),s.domElement.addEventListener("touchmove",$,!1),window.addEventListener("keydown",K,!1),this.update()};(qM.prototype=Object.create(uf.prototype)).constructor=qM;var BM=function(t,e){qM.call(this,t,e),this.mouseButtons.LEFT=2,this.mouseButtons.RIGHT=0,this.touches.ONE=1,this.touches.TWO=3};(BM.prototype=Object.create(uf.prototype)).constructor=BM;var UM=function(t){Og.call(this),this.element=t,this.element.style.position="absolute",this.addEventListener("removed",function(){null!==this.element.parentNode&&this.element.parentNode.removeChild(this.element)})};(UM.prototype=Object.create(Og.prototype)).constructor=UM;var HM,VM=function(){var t,e,n,i,r=new Pf,o=new tg,a=new tg,s={objects:new WeakMap},c=document.createElement("div");c.style.overflow="hidden",this.domElement=c,this.getSize=function(){return{width:t,height:e}},this.setSize=function(r,o){n=(t=r)/2,i=(e=o)/2,c.style.width=r+"px",c.style.height=o+"px"};var l,u,h=function t(e,o){if(e instanceof UM){r.setFromMatrixPosition(e.matrixWorld),r.applyMatrix4(a);var l=e.element,u="translate(-50%,-50%) translate("+(r.x*n+n)+"px,"+(-r.y*i+i)+"px)";l.style.WebkitTransform=u,l.style.MozTransform=u,l.style.oTransform=u,l.style.transform=u,l.style.display=e.visible&&r.z>=-1&&r.z<=1?"":"none";var h={distanceToCameraSquared:d(o,e)};s.objects.set(e,h),l.parentNode!==c&&c.appendChild(l)}for(var p=0,f=e.children.length;p<f;p++)t(e.children[p],o)},d=(l=new Pf,u=new Pf,function(t,e){return l.setFromMatrixPosition(t.matrixWorld),u.setFromMatrixPosition(e.matrixWorld),l.distanceToSquared(u)});this.render=function(t,e){t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),o.copy(e.matrixWorldInverse),a.multiplyMatrices(e.projectionMatrix,o),h(t,e),function(t){for(var e=function(t){var e=[];return t.traverse(function(t){t instanceof UM&&e.push(t)}),e}(t).sort(function(t,e){return s.objects.get(t).distanceToCameraSquared-s.objects.get(e).distanceToCameraSquared}),n=e.length,i=0,r=e.length;i<r;i++)e[i].element.style.zIndex=n-i}(t)}},WM=((HM=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.scene=new u_,this.scene.background=new Qg(15790320),this.render=this.render.bind(this),this.params={GridHelper:!0}}return _createClass(t,[{key:"OnInit",value:function(t,e,n,i,r){var o=this;this.createCamera(t),this.add(new Ox(15790320)),this.createRender(e,n,i,r),this.addControls(),this.createHelper(),this.gui=new FM,this.gui.domElement.id="gui_css",this.gui.add(this.params,"GridHelper").onChange(function(t){o.axisHelper.visible=t,o.GridHelper.visible=t,o.render()}),this.gui.open()}},{key:"createHelper",value:function(){this.axisHelper=new Cw(200),this.scene.add(this.axisHelper),this.GridHelper=new bw(200,20),this.GridHelper.geometry.rotateX(Math.PI/2),this.GridHelper.material.opacity=.2,this.GridHelper.material.transparent=!0,this.scene.add(this.GridHelper)}},{key:"addControls",value:function(){var t=new qM(this.camera,this.labelRenderer.domElement);t.damping=.2,t.addEventListener("change",this.render)}},{key:"getRaycaster",value:function(t){var e=new aw;return e.setFromCamera(t,this.camera),e}},{key:"createCamera",value:function(t){this.camera=new Km(70,t,.1,1e3),this.camera.position.set(0,-50,20),this.scene.add(this.camera)}},{key:"createRender",value:function(t,e,n,i){this.renderer=new c_({canvas:t,alpha:!0,antialias:!0}),this.renderer.setPixelRatio(e),this.renderer.setSize(n,i),this.renderer.shadowMap.enabled=!0,this.labelRenderer=new VM,this.labelRenderer.setSize(n,i),this.labelRenderer.domElement.style.position="absolute"}},{key:"labelRendererDomElement",value:function(){return this.labelRenderer.domElement}},{key:"onResize",value:function(t,e,n){this.camera.aspect=t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,n),this.labelRenderer.setSize(e,n),this.render()}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera),this.labelRenderer.render(this.scene,this.camera)}},{key:"getBoundingClientRect",value:function(){return this.renderer.domElement.getBoundingClientRect()}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];this.scene.add(o)}}},{key:"remove",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];this.scene.remove(o)}}},{key:"removeByName",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i],a=this.scene.getObjectByName(o);void 0!==a&&this.scene.remove(a)}}},{key:"getSettingJson",value:function(){return{camera:{x:this.camera.position.x,y:this.camera.position.y,z:this.camera.position.z}}}},{key:"setSetting",value:function(t){if("three"in t){var e=t.three,n=this.helper.toNumber(e.camera.x);if(null!==n){var i=this.helper.toNumber(e.camera.y);if(null!==i){var r=this.helper.toNumber(e.camera.z);null!==r&&this.camera.position.set(n,i,r)}}}}}]),t}()).\u0275fac=function(t){return new(t||HM)(i.Yb(Yp.a))},HM.\u0275prov=i.Ib({token:HM,factory:HM.\u0275fac,providedIn:"root"}),HM),GM=function(){function t(e,n){_classCallCheck(this,t),this.scene=e,this.node=n,this.geometry=new rC(1),this.nodeList=new Og,this.ClearData(),this.scene.add(this.nodeList),this.objVisible=!0,this.txtVisible=!1,this.scale=100,this.params={nodeNo:this.txtVisible,nodeScale:this.scale},this.gui=null}return _createClass(t,[{key:"OnInit",value:function(){var t=this;this.scene.gui.add(this.params,"nodeNo").onChange(function(e){var n,i=_createForOfIteratorHelper(t.nodeList.children);try{for(i.s();!(n=i.n()).done;){n.value.getObjectByName("font").visible=e}}catch(r){i.e(r)}finally{i.f()}t.txtVisible=e,t.scene.render()})}},{key:"changeData",value:function(){var t=this,e=this.node.getNodeJson(0),n=Object.keys(e);if(n.length<=0)return this.ClearData(),null;for(var i=function(e){if(void 0===n.find(function(n){return n===t.nodeList.children[e].name})){for(var i=t.nodeList.children[e];i.children.length>0;){var r=i.children[0];r.parent.remove(r)}t.nodeList.children.splice(e,1)}},r=this.nodeList.children.length-1;r>=0;r--)i(r);for(var o=function(){var n=s[a],i=t.nodeList.children.find(function(t){return t.name===n});if(void 0!==i)i.position.x=e[n].x,i.position.y=e[n].y,i.position.z=e[n].z;else{var r=new qm(t.geometry,new $g({color:0}));r.name="node"+n,r.position.x=e[n].x,r.position.y=e[n].y,r.position.z=e[n].z,t.nodeList.children.push(r);var o=document.createElement("div");o.className="label",o.textContent=n,o.style.marginTop="-1em";var c=new UM(o);c.position.set(0,.27,0),c.name="font",c.visible=t.txtVisible,r.add(c)}},a=0,s=n;a<s.length;a++)o();return this.setBaseScale(),this.onResize(),e}},{key:"ClearData",value:function(){var t,e=_createForOfIteratorHelper(this.nodeList.children);try{for(e.s();!(t=e.n()).done;)for(var n=t.value;n.children.length>0;){var i=n.children[0];i.parent.remove(i)}}catch(r){e.e(r)}finally{e.f()}this.nodeList.children=new Array,this.baseScale=1,this.maxDistance=0,this.minDistance=0,this.center={x:0,y:0,z:0}}},{key:"setBaseScale",value:function(){var t=this.node.getNodeJson(0),e=Object.keys(t);if(e.length<=0)this.ClearData();else{this.minDistance=Number.MAX_VALUE,this.maxDistance=0;for(var n=0,i=e;n<i.length;n++){var r,o=t[i[n]],a=_createForOfIteratorHelper(e);try{for(a.s();!(r=a.n()).done;){var s=t[r.value],c=Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2)+Math.pow(o.z-s.z,2));0!==c&&(this.minDistance=Math.min(c,this.minDistance),this.maxDistance=Math.max(c,this.maxDistance))}}catch(p){a.e(p)}finally{a.f()}}this.baseScale=1,this.minDistance!==Number.MAX_VALUE&&(this.baseScale=Math.max(this.maxDistance/500,this.minDistance/50));var l=0;this.center=new Pf;for(var u=0,h=e;u<h.length;u++){var d=t[h[u]];this.center.x+=d.x,this.center.y+=d.y,this.center.z+=d.z,l++}l>0&&(this.center.x=this.center.x/l,this.center.y=this.center.y/l,this.center.z=this.center.z/l)}}},{key:"onResize",value:function(){var t=this.scale/100;t=Math.max(t,.001);var e,n=_createForOfIteratorHelper(this.nodeList.children);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.scale.x=this.baseScale*t,i.scale.y=this.baseScale*t,i.scale.z=this.baseScale*t}}catch(r){n.e(r)}finally{n.f()}}},{key:"visibleChange",value:function(t,e,n){this.objVisible!==t&&(this.nodeList.visible=t,this.objVisible=t),!0===n?this.guiEnable():this.guiDisable()}},{key:"guiEnable",value:function(){var t=this;null===this.gui&&(this.gui=this.scene.gui.add(this.params,"nodeScale",0,1e3).step(1).onChange(function(e){t.scale=e,t.onResize(),t.scene.render()}))}},{key:"guiDisable",value:function(){null!==this.gui&&(this.scene.gui.remove(this.gui),this.gui=null)}},{key:"detectObject",value:function(t,e){var n=this;if(0!==this.nodeList.children.length){var i=t.intersectObjects(this.nodeList.children);if(!(i.length<=0)){switch(e){case"click":this.nodeList.children.map(function(t){if(i.length>0&&t===i[0].object){var e=t.material;e.color.setHex(16711680),e.opacity=1}});break;case"select":this.selectionItem=null,this.nodeList.children.map(function(t){var e=t.material;i.length>0&&t===i[0].object?(e.color.setHex(16711680),e.opacity=1,n.selectionItem=t):(e.color.setHex(0),e.opacity=1)});break;case"hover":this.nodeList.children.map(function(t){var e=t.material;i.length>0&&t===i[0].object?(e.color.setHex(16711680),e.opacity=.25):t===n.selectionItem?(e.color.setHex(16711680),e.opacity=1):(e.color.setHex(0),e.opacity=1)});break;default:return}this.scene.render()}}}}]),t}();GM.\u0275fac=function(t){return new(t||GM)(i.Yb(WM),i.Yb(Qp.a))},GM.\u0275prov=i.Ib({token:GM,factory:GM.\u0275fac,providedIn:"root"});var QM,YM,KM,XM,$M,JM,ZM,tO,eO,nO,iO,rO,oO,aO=((iO=function(){function t(e,n){_classCallCheck(this,t),this.scene=e,this.node=n,this.geometry=new rC(1),this.nodeList=new Og,this.ClearData(),this.scene.add(this.nodeList),this.objVisible=!0,this.txtVisible=!1,this.scale=100,this.params={nodeNo:this.txtVisible,nodeScale:this.scale},this.gui=null}return _createClass(t,[{key:"OnInit",value:function(){var t=this;this.scene.gui.add(this.params,"nodeNo").onChange(function(e){var n,i=_createForOfIteratorHelper(t.nodeList.children);try{for(i.s();!(n=i.n()).done;)n.value.getObjectByName("font").visible=e}catch(r){i.e(r)}finally{i.f()}t.txtVisible=e,t.scene.render()})}},{key:"changeData",value:function(){var t=this,e=this.node.getNodeJson(0),n=Object.keys(e);if(n.length<=0)return this.ClearData(),null;for(var i=function(e){if(void 0===n.find(function(n){return n===t.nodeList.children[e].name})){for(var i=t.nodeList.children[e];i.children.length>0;){var r=i.children[0];r.parent.remove(r)}t.nodeList.children.splice(e,1)}},r=this.nodeList.children.length-1;r>=0;r--)i(r);for(var o=function(){var n=s[a],i=t.nodeList.children.find(function(t){return t.name===n});if(void 0!==i)i.position.x=e[n].x,i.position.y=e[n].y,i.position.z=e[n].z;else{var r=new qm(t.geometry,new $g({color:0}));r.name="node"+n,r.position.x=e[n].x,r.position.y=e[n].y,r.position.z=e[n].z,t.nodeList.children.push(r);var o=document.createElement("div");o.className="label",o.textContent=n,o.style.marginTop="-1em";var c=new UM(o);c.position.set(0,.27,0),c.name="font",c.visible=t.txtVisible,r.add(c)}},a=0,s=n;a<s.length;a++)o();return this.setBaseScale(),this.onResize(),e}},{key:"ClearData",value:function(){var t,e=_createForOfIteratorHelper(this.nodeList.children);try{for(e.s();!(t=e.n()).done;)for(var n=t.value;n.children.length>0;){var i=n.children[0];i.parent.remove(i)}}catch(r){e.e(r)}finally{e.f()}this.nodeList.children=new Array,this.baseScale=1,this.maxDistance=0,this.minDistance=0,this.center={x:0,y:0,z:0}}},{key:"setBaseScale",value:function(){var t=this.node.getNodeJson(0),e=Object.keys(t);if(e.length<=0)this.ClearData();else{this.minDistance=Number.MAX_VALUE,this.maxDistance=0;for(var n=0,i=e;n<i.length;n++){var r,o=t[i[n]],a=_createForOfIteratorHelper(e);try{for(a.s();!(r=a.n()).done;){var s=t[r.value],c=Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2)+Math.pow(o.z-s.z,2));0!==c&&(this.minDistance=Math.min(c,this.minDistance),this.maxDistance=Math.max(c,this.maxDistance))}}catch(p){a.e(p)}finally{a.f()}}this.baseScale=1,this.minDistance!==Number.MAX_VALUE&&(this.baseScale=Math.max(this.maxDistance/500,this.minDistance/50));var l=0;this.center=new Pf;for(var u=0,h=e;u<h.length;u++){var d=t[h[u]];this.center.x+=d.x,this.center.y+=d.y,this.center.z+=d.z,l++}l>0&&(this.center.x=this.center.x/l,this.center.y=this.center.y/l,this.center.z=this.center.z/l)}}},{key:"onResize",value:function(){var t=this.scale/100;t=Math.max(t,.001);var e,n=_createForOfIteratorHelper(this.nodeList.children);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.scale.x=this.baseScale*t,i.scale.y=this.baseScale*t,i.scale.z=this.baseScale*t}}catch(r){n.e(r)}finally{n.f()}}},{key:"visibleChange",value:function(t,e,n){this.objVisible!==t&&(this.nodeList.visible=t,this.objVisible=t),!0===n?this.guiEnable():this.guiDisable()}},{key:"guiEnable",value:function(){var t=this;null===this.gui&&(this.gui=this.scene.gui.add(this.params,"nodeScale",0,1e3).step(1).onChange(function(e){t.scale=e,t.onResize(),t.scene.render()}))}},{key:"guiDisable",value:function(){null!==this.gui&&(this.scene.gui.remove(this.gui),this.gui=null)}},{key:"detectObject",value:function(t,e){var n=this;if(0!==this.nodeList.children.length){var i=t.intersectObjects(this.nodeList.children);if(!(i.length<=0)){switch(e){case"click":this.nodeList.children.map(function(t){if(i.length>0&&t===i[0].object){var e=t.material;e.color.setHex(16711680),e.opacity=1}});break;case"select":this.selectionItem=null,this.nodeList.children.map(function(t){var e=t.material;i.length>0&&t===i[0].object?(e.color.setHex(16711680),e.opacity=1,n.selectionItem=t):(e.color.setHex(0),e.opacity=1)});break;case"hover":this.nodeList.children.map(function(t){var e=t.material;i.length>0&&t===i[0].object?(e.color.setHex(16711680),e.opacity=.25):t===n.selectionItem?(e.color.setHex(16711680),e.opacity=1):(e.color.setHex(0),e.opacity=1)});break;default:return}this.scene.render()}}}}]),t}()).\u0275fac=function(t){return new(t||iO)(i.Yb(WM),i.Yb(Qp.a))},iO.\u0275prov=i.Ib({token:iO,factory:iO.\u0275fac,providedIn:"root"}),iO),sO=((nO=function(){function t(e,n,i,r){_classCallCheck(this,t),this.scene=e,this.nodeThree=n,this.node=i,this.member=r,this.geometry=new Cy,this.memberList=new Og,this.axisList=new Array,this.ClearData(),this.scene.add(this.memberList),this.objVisible=!0,this.txtVisible=!1,this.scale=100,this.params={memberNo:this.txtVisible,memberScale:this.scale},this.gui=null}return _createClass(t,[{key:"OnInit",value:function(){var t=this;this.scene.gui.add(this.params,"memberNo").onChange(function(e){var n,i=_createForOfIteratorHelper(t.memberList.children);try{for(i.s();!(n=i.n()).done;)n.value.getObjectByName("font").visible=e}catch(r){i.e(r)}finally{i.f()}t.txtVisible=e,t.scene.render()})}},{key:"baseScale",value:function(){return.3*this.nodeThree.baseScale}},{key:"changeData",value:function(){var t=this.node.getNodeJson(0);if(Object.keys(t).length<=0)return this.ClearData(),null;var e=this.member.getMemberJson(0),n=Object.keys(e);if(n.length<=0)return this.ClearData(),null;this.ClearData();for(var i=0,r=n;i<r.length;i++){var o=r[i],a=e[o],s=t[a.ni],c=t[a.nj];if(void 0!==s&&void 0!==c){var l=new Pf(c.x-s.x,c.y-s.y,c.z-s.z),u=l.length();if(!(u<.001)){this.minDistance=Math.min(u,this.minDistance),this.maxDistance=Math.max(u,this.maxDistance);var h=(s.x+c.x)/2,d=(s.y+c.y)/2,p=(s.z+c.z)/2,f=new qm(new Cy(1,1,u,12),new $g({color:0}));f.name="member"+o,f.rotation.z=Math.acos(l.y/u),f.rotation.y=.5*Math.PI+Math.atan2(l.x,l.z),f.position.set(h,d,p),this.memberList.children.push(f);var g=document.createElement("div");g.className="label",g.textContent=o,g.style.marginTop="-1em";var m=new UM(g);m.position.set(0,0,0),m.name="font",m.visible=this.txtVisible,f.add(m);var v=new r_,b=this.localAxis(h,d,p,c.x,c.y,c.z,a.cg),_=new Pf(h,d,p),y=.2*u,C=new Pf(b.x.x,b.x.y,b.x.z),x=new yw(C,_,y,16711680);x.name="x",v.add(x);var w=new Pf(b.y.x,b.y.y,b.y.z),M=new yw(w,_,y,65280);M.name="y",v.add(M);var O=new Pf(b.z.x,b.z.y,b.z.z),P=new yw(O,_,y,255);P.name="z",v.add(P),v.name=f.name+"axis",v.visible=!1,this.axisList.push(v),this.scene.add(v)}}}return this.onResize(),e}},{key:"ClearData",value:function(){var t,e=_createForOfIteratorHelper(this.memberList.children);try{for(e.s();!(t=e.n()).done;){for(var n=t.value;n.children.length>0;){var i=n.children[0];i.parent.remove(i)}this.scene.remove(n)}}catch(s){e.e(s)}finally{e.f()}this.memberList.children=new Array;var r,o=_createForOfIteratorHelper(this.axisList);try{for(o.s();!(r=o.n()).done;){var a=r.value;this.scene.remove(a)}}catch(s){o.e(s)}finally{o.f()}this.axisList=new Array,this.minDistance=Number.MAX_VALUE,this.maxDistance=0}},{key:"onResize",value:function(){var t=this.scale/100;t=Math.max(t,.001);var e,n=this.baseScale()*t,i=_createForOfIteratorHelper(this.memberList.children);try{for(i.s();!(e=i.n()).done;)e.value.scale.set(n,1,n)}catch(c){i.e(c)}finally{i.f()}n*=50;var r,o=_createForOfIteratorHelper(this.axisList);try{for(o.s();!(r=o.n()).done;){var a,s=_createForOfIteratorHelper(r.value.children);try{for(s.s();!(a=s.n()).done;)a.value.scale.set(n,n,n)}catch(c){s.e(c)}finally{s.f()}}}catch(c){o.e(c)}finally{o.f()}}},{key:"visibleChange",value:function(t,e,n){if(this.objVisible!==t&&(this.memberList.visible=t,this.objVisible=t),!1===e){var i,r=_createForOfIteratorHelper(this.axisList);try{for(r.s();!(i=r.n()).done;)i.value.visible=!1}catch(o){r.e(o)}finally{r.f()}}!0===n?this.guiEnable():(this.selectionItem=null,this.memberList.children.map(function(t){var e=t.material;e.color.setHex(0),e.opacity=1}),this.axisList.map(function(t){t.visible=!1}),this.guiDisable())}},{key:"guiEnable",value:function(){var t=this;null===this.gui&&(this.gui=this.scene.gui.add(this.params,"memberScale",0,1e3).step(1).onChange(function(e){t.scale=e,t.onResize(),t.scene.render()}))}},{key:"guiDisable",value:function(){null!==this.gui&&(this.scene.gui.remove(this.gui),this.gui=null)}},{key:"localAxis",value:function(t,e,n,i,r,o,a){var s=[1,0,0],c=[0,1,0],l=[0,0,1],u=i-t,h=r-e,d=o-n,p=Math.sqrt(Math.pow(u,2)+Math.pow(h,2)+Math.pow(d,2)),f=u/p,g=h/p,m=d/p,v=Math.sqrt(Math.pow(f,2)+Math.pow(g,2)),b=[[0,0,0],[0,0,0],[0,0,0]],_=[[0,0,0],[0,0,0],[0,0,0]];b[0][0]=1,b[1][1]=Math.cos(a),b[1][2]=Math.sin(a),b[2][1]=-Math.sin(a),b[2][2]=Math.cos(a),0===u&&0===h?(_[0][2]=m,_[1][0]=m,_[2][1]=1):(_[0][0]=f,_[0][1]=g,_[0][2]=m,_[1][0]=-g/v,_[1][1]=f/v,_[2][0]=-f*m/v,_[2][1]=-g*m/v,_[2][2]=v);var y=this.dot(b,_),C=this.getInverse(y);return{x:new Pf(C[0][0]*s[0]+C[0][1]*s[1]+C[0][2]*s[2],C[1][0]*s[0]+C[1][1]*s[1]+C[1][2]*s[2],C[2][0]*s[0]+C[2][1]*s[1]+C[2][2]*s[2]),y:new Pf(C[0][0]*c[0]+C[0][1]*c[1]+C[0][2]*c[2],C[1][0]*c[0]+C[1][1]*c[1]+C[1][2]*c[2],C[2][0]*c[0]+C[2][1]*c[1]+C[2][2]*c[2]),z:new Pf(C[0][0]*l[0]+C[0][1]*l[1]+C[0][2]*l[2],C[1][0]*l[0]+C[1][1]*l[1]+C[1][2]*l[2],C[2][0]*l[0]+C[2][1]*l[1]+C[2][2]*l[2])}}},{key:"dot",value:function(t,e){for(var n=t.length,i=Array(n).fill(0).map(function(t){return Array(n).fill(0)}),r=0;r<n;r++)for(var o=0;o<n;o++){for(var a=0,s=0;s<n;s++)a+=t[r][s]*e[s][o];i[r][o]=a}return i}},{key:"getInverse",value:function(t){for(var e=t.length,n=t[0].length,i=Array(e).fill(0).map(function(t){return Array(n).fill(0)}),r=0;r<e;r++)for(var o=0;o<n;o++)i[o][r]=t[r][o];return i}},{key:"detectObject",value:function(t,e){var n=this;if(0!==this.memberList.children.length){var i=t.intersectObjects(this.memberList.children);if(!(i.length<=0)){switch(e){case"click":this.memberList.children.map(function(t){if(i.length>0&&t===i[0].object){var e=t.material;e.color.setHex(16711680),e.opacity=1}});break;case"select":i.length>0&&(this.selectionItem=null,this.memberList.children.map(function(t){var e=t.material;t===i[0].object?(e.color.setHex(16711680),e.opacity=1,n.selectionItem=t):(e.color.setHex(0),e.opacity=1)}),null!==this.selectionItem&&this.axisList.map(function(t){t.visible=t.name===n.selectionItem.name+"axis"}));break;case"hover":this.memberList.children.map(function(t){var e=t.material;i.length>0&&t===i[0].object?(e.color.setHex(16711680),e.opacity=.25):t===n.selectionItem?(e.color.setHex(16711680),e.opacity=1):(e.color.setHex(0),e.opacity=1)});break;default:return}this.scene.render()}}}}]),t}()).\u0275fac=function(t){return new(t||nO)(i.Yb(WM),i.Yb(aO),i.Yb(Qp.a),i.Yb($p.a))},nO.\u0275prov=i.Ib({token:nO,factory:nO.\u0275fac,providedIn:"root"}),nO),cO=((eO=function(){function t(e,n,i,r,o,a,s,c,l){var u=this;_classCallCheck(this,t),this.scene=e,this.helper=n,this.fsec=i,this.comb_fsec=r,this.pik_fsec=o,this.node=a,this.member=s,this.three_node=c,this.three_member=l,this.radioButtons=["axialForce","shearForceY","shearForceZ","torsionalMoment","momentY","momentZ"],this.isVisible=null,this.lineList=new Array,(new jx).load("./assets/fonts/helvetiker_regular.typeface.json",function(t){u.font=t,u.ClearData()}),this.scale=.5,this.params={forceScale:this.scale};var h,d=_createForOfIteratorHelper(this.radioButtons);try{for(d.s();!(h=d.n()).done;){var p=h.value;this.params[p]=!1}}catch(f){d.e(f)}finally{d.f()}this.params.momentY=!0,this.gui=null,this.gui_max_scale=1,this.material=new $g({transparent:!0,side:2,color:43775,opacity:.2}),this.matLine=new kw({color:16711680,linewidth:.001,vertexColors:2,dashed:!1}),this.Red=new Qg(16711680),this.Green=new Qg(65280),this.Blue=new Qg(255)}return _createClass(t,[{key:"visibleChange",value:function(t){if(this.isVisible!==t){var e,n=_createForOfIteratorHelper(this.lineList);try{for(n.s();!(e=n.n()).done;)e.value.visible=t}catch(i){n.e(i)}finally{n.f()}this.isVisible=t,!0===t?this.guiEnable():this.guiDisable()}}},{key:"ClearData",value:function(){if(this.lineList.length>0){var t,e=_createForOfIteratorHelper(this.lineList);try{for(e.s();!(t=e.n()).done;){for(var n=t.value;n.children.length>0;){var i=n.children[0];i.parent.remove(i)}this.scene.remove(n)}}catch(r){e.e(r)}finally{e.f()}this.lineList=new Array}this.targetData={},this.targetIndex="",this.modeName="",this.scale=1}},{key:"guiEnable",value:function(){var t=this;if(null===this.gui){var e=.001*this.gui_max_scale;this.gui={forceScale:this.scene.gui.add(this.params,"forceScale",0,this.gui_max_scale).step(e).onChange(function(e){t.scale=e*t.gui_max_scale,t.onResize(),t.scene.render()})};var n,i=_createForOfIteratorHelper(this.radioButtons);try{var r=function(){var e=n.value;t.gui[e]=t.scene.gui.add(t.params,e,t.params[e]).listen().onChange(function(n){t.setGUIcheck(!0===n?e:""),t.onResize(),t.scene.render()})};for(i.s();!(n=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}}}},{key:"guiDisable",value:function(){if(null!==this.gui){for(var t=0,e=Object.keys(this.gui);t<e.length;t++){var n=e[t];this.scene.gui.remove(this.gui[n])}this.gui=null}}},{key:"setGUIcheck",value:function(t){var e,n=_createForOfIteratorHelper(this.radioButtons);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.params[i]=!1}}catch(r){n.e(r)}finally{n.f()}this.params[t]=!0}},{key:"changeData",value:function(t,e){if(this.modeName===e){if(this.targetIndex===t.toString())return;if("fsec"===e&&this.lineList.length>0)return this.targetIndex=t.toString(),void this.onResize()}this.ClearData();var n=this.node.getNodeJson(0);if(!(Object.keys(n).length<=0)){var i=this.member.getMemberJson(0),r=Object.keys(i);if(!(r.length<=0)){var o;switch(e){case"comb_fsec":o=this.comb_fsec.getFsecJson();break;case"pik_fsec":o=this.pik_fsec.getFsecJson();break;default:o=this.fsec.getFsecJson()}if(this.targetIndex=t.toString(),this.modeName=e,this.targetIndex in o){for(var a,s,c={fx:0,fy:0,fz:0,mx:0,my:0,mz:0},l=0,u=Object.keys(o);l<u.length;l++){var h=u[l],d=o[h],p=void 0;if("comb_fsec"===e||"pik_fsec"===e)p=["max","min"];else{if(!Array.isArray(d))continue;p=[""]}var f,g=new Array,m=_createForOfIteratorHelper(p);try{for(m.s();!(f=m.n()).done;){var v=f.value,b=void 0;if(0===v.length)b=d.slice();else{b=new Array;for(var _=d["fx_"+v],y=d["fy_"+v],C=d["fz_"+v],x=d["mx_"+v],w=d["my_"+v],M=d["mz_"+v],O="",P=0,k=Object.keys(_);P<k.length;P++){var A=k[P],T=_[A];b.push({m:O!==T.m?T.m:"",n:T.n,l:T.l,fx:T.fx,fy:y[A].fy,fz:C[A].fz,mx:x[A].mx,my:w[A].my,mz:M[A].mz}),""!==T.m&&(O=T.m)}}var S,E=_createForOfIteratorHelper(b);try{for(E.s();!(S=E.n()).done;)for(var I=S.value,R=0,D=Object.keys(c);R<D.length;R++){var N=D[R];N in I&&(c[N]=Math.max(Math.abs(I[N]),c[N]))}}catch(et){E.e(et)}finally{E.f()}var L,z=_createForOfIteratorHelper(r);try{for(z.s();!(L=z.n()).done;){var j=L.value,F=i[j],q=n[F.ni],B=n[F.nj];if(void 0!==q&&void 0!==B){for(var U=this.three_member.localAxis(q.x,q.y,q.z,B.x,B.y,B.z,F.cg),H=Math.sqrt(Math.pow(q.x-B.x,2)+Math.pow(q.y-B.y,2)+Math.pow(q.z-B.z,2)),V=new Array,W=0,G=new Array,Q=0,Y=0;Y<b.length;Y++){var K=b[Y];if(K.m===j)W++,V.push({id:K.m,iPosition:q,jPosition:B,length:H,localAxisX:U.x,localAxisY:U.y,localAxisZ:U.z}),Q=this.helper.toNumber(K.l),V.push(this.getFsecPoints(H,Q,K,q,B)),G.push(Y);else if(W>0){if(K.m.trim().length>0)break;Q=this.helper.toNumber(K.l),V.push(this.getFsecPoints(H,Q,K,q,B)),G.push(Y)}}g.push(V);for(var X=G.length-1;X>=0;X--)b.splice(G[X],1)}}}catch(et){z.e(et)}finally{z.f()}}}catch(et){m.e(et)}finally{m.f()}this.targetData[h]=g}var $=_slicedToArray(this.getDistance(),2);a=$[0],s=$[1];for(var J=0,Z=Object.keys(c);J<Z.length;J++){var tt=Z[J];this.targetData[tt+"_scale"]=0!==c[tt]?a/c[tt]:1}this.gui_max_scale=s/a,this.onResize()}}}}},{key:"getFsecPoints",value:function(t,e,n,i,r){var o=this.helper.toNumber(n.fx),a=this.helper.toNumber(n.fy),s=this.helper.toNumber(n.fz),c=this.helper.toNumber(n.mx),l=this.helper.toNumber(n.my),u=this.helper.toNumber(n.mz);return{worldPosition:{x:e/t*(r.x-i.x)+i.x,y:e/t*(r.y-i.y)+i.y,z:e/t*(r.z-i.z)+i.z},localPosition:e,axialForce:o,shearForceY:a,shearForceZ:s,torsionalMoment:c,momentY:l,momentZ:u}}},{key:"onResize",value:function(){var t=this.targetIndex.toString();if(t in this.targetData){var e,n,i,r;if(!0===this.params.axialForce)i=this.Red,e="axialForce",n="localAxisY",r=this.scale*this.targetData.fx_scale;else if(!0===this.params.torsionalMoment)i=this.Red,e="torsionalMoment",n="localAxisZ",r=this.scale*this.targetData.mx_scale;else if(!0===this.params.shearForceY)i=this.Green,e="shearForceY",n="localAxisY",r=this.scale*this.targetData.fy_scale;else if(!0===this.params.momentY)i=this.Green,e="momentY",n="localAxisZ",r=this.scale*this.targetData.my_scale;else if(!0===this.params.shearForceZ)i=this.Blue,e="shearForceZ",n="localAxisZ",r=this.scale*this.targetData.fz_scale;else{if(!0!==this.params.momentZ)return;i=this.Blue,e="momentZ",n="localAxisY",r=this.scale*this.targetData.mz_scale}for(var o=this.lineList,a=0;a<this.targetData[t].length;a++){for(var s=this.targetData[t][a],c=s[0],l=[],u=[],h=[],d=[0],p=1;p<s.length;p++)d.push(s[p].localPosition);var f=void 0;c.localPosition=d,l.push({x:c.iPosition.x,y:c.iPosition.y,z:c.iPosition.z}),u.push(i.r,i.g,i.b);for(var g=1;g<s.length;g++){var m=s[g],v=m.worldPosition.x,b=m.worldPosition.y,_=m.worldPosition.z,y=m.localPosition,C=m[e];if(0!==C){var x=Math.sign(C);if(g>1&&x!==f){var w=s[g-1],M=Math.abs(w[e]),O=Math.abs(C),P=w.worldPosition.x,k=w.worldPosition.y,A=w.worldPosition.z,T=w.localPosition;l.push({x:P+(v-P)/(M+O)*M,y:k+(b-k)/(M+O)*M,z:A+(_-A)/(M+O)*M,v:T+(y-T)/(M+O)*M,f:0,note:"split"}),u.push(i.r,i.g,i.b)}f=x,v-=C*c[n].x*r,b-=C*c[n].y*r,_-=C*c[n].z*r,l.push({x:v,y:b,z:_,f:-1*C*r}),u.push(i.r,i.g,i.b),h.push(C)}else l.push({x:v,y:b,z:_,v:y,f:C*r}),h.push(C)}if(l.push({x:c.jPosition.x,y:c.jPosition.y,z:c.jPosition.z}),u.push(i.r,i.g,i.b),o.length>a){var S,E=o[a],I=E.geometry,R=[],D=_createForOfIteratorHelper(l);try{for(D.s();!(S=D.n()).done;){var N=S.value;"note"in N||R.push(N.x,N.y,N.z)}}catch(J){D.e(J)}finally{D.f()}I.setPositions(R);for(var L=new Float32Array(9),z=new Float32Array(9),j=new Float32Array(2),F=new Float32Array(2),q=new Float32Array(2),B=0,U=E.children[0],H=0;H<U.children.length-0;H++)j[0]=c.localPosition[H+1],j[1]=l[H+1+B].f,"split"===l[H+2+B].note&&(B+=1),F[0]=c.localPosition[H+2],"split"===l[H+1+B].note?(F[1]=l[H+2+B].f,q[0]=l[H+1+B].v,q[1]=l[H+1+B].f):(F[1]=l[H+2+B].f,q[0]=c.localPosition[H+2],q[1]=l[H+2+B].f),j[1]*F[1]>0?(L=new Float32Array([j[0],0,0,j[0],j[1],0,F[0],0,0]),z=new Float32Array([j[0],j[1],0,F[0],0,0,F[0],F[1],0])):j[1]*F[1]<=0&&(L=new Float32Array([j[0],0,0,j[0],j[1],0,q[0],0,0]),z=new Float32Array([q[0],q[1],0,F[0],0,0,F[0],F[1],0])),U.children[H].children[0].geometry.attributes.position.array=L,U.children[H].children[1].geometry.attributes.position.array=z,U.children[H].children[0].geometry.attributes.position.needsUpdate=!0,U.children[H].children[1].geometry.attributes.position.needsUpdate=!0,U.children[H].children[0].visible=!0,U.children[H].children[1].visible=!0,0===j[1]&&(U.children[H].children[0].visible=!1),0===F[1]&&(U.children[H].children[1].visible=!1);var V=c.localAxisX.x+l[0].x,W=c.localAxisX.y+l[0].y,G=c.localAxisX.z+l[0].z;"axialForce"===e||"shearForceY"===e?(U.lookAt(V,W,G),U.rotateZ(3*Math.PI/2),U.rotateY(3*Math.PI/2),0===c.localAxisX.x&&0===c.localAxisX.y&&U.rotateX(3*Math.PI/2)):"shearForceZ"===e||"torsionalMoment"===e||"momentY"===e?(U.lookAt(V,W,G),U.rotateY(3*Math.PI/2),0===c.localAxisX.x&&0===c.localAxisX.y&&U.rotateX(3*Math.PI/2)):"momentZ"===e&&(U.lookAt(V,W,G),U.rotateZ(3*Math.PI/2),U.rotateY(3*Math.PI/2),0===c.localAxisX.x&&0===c.localAxisX.y&&U.rotateX(3*Math.PI/2))}else{var Q,Y=[],K=_createForOfIteratorHelper(l);try{for(K.s();!(Q=K.n()).done;){var X=Q.value;"note"in X||Y.push(X.x,X.y,X.z)}}catch(J){K.e(J)}finally{K.f()}var $=this.createLineGeometory(Y,u);this.addPathGeometory(l,$,u,c),o.push($),this.scene.add($)}}this.lineList=o}}},{key:"createLineGeometory",value:function(t,e){var n=new Ew;n.setPositions(t),n.setColors(e);var i=new Iw(n,this.matLine);return i.computeLineDistances(),i.scale.set(1,1,1),i}},{key:"addPathGeometory",value:function(t,e,n,i){var r=new r_;r.name="mesh";for(var o=new Float32Array(9),a=new Float32Array(9),s=new Float32Array(2),c=new Float32Array(2),l=new Float32Array(2),u=0,h=1;h<t.length-2;h++){var d=new r_,p=new xm,f=new xm;"split"!==t[h].note?(s[0]=i.localPosition[h-u],s[1]=t[h].f,c[0]=i.localPosition[h-u+1],"split"===t[h+1].note?(c[1]=t[h+2].f,l[0]=t[h+1].v,l[1]=t[h+1].f):(c[1]=t[h+1].f,l[0]=i.localPosition[h-u+1],l[1]=t[h+1].f),s[1]*c[1]>0&&(o=new Float32Array([s[0],0,0,s[0],s[1],0,c[0],0,0]),a=new Float32Array([s[0],s[1],0,c[0],0,0,c[0],c[1],0])),s[1]*c[1]<=0&&(o=new Float32Array([s[0],0,0,s[0],s[1],0,l[0],0,0]),a=new Float32Array([l[0],l[1],0,c[0],0,0,c[0],c[1],0])),p.setAttribute("position",new tm(o,3)),d.add(new qm(p,this.material)),f.setAttribute("position",new tm(a,3)),d.add(new qm(f,this.material)),0===s[1]&&(d.children[0].visible=!1),0===c[1]&&(d.children[1].visible=!1),r.add(d)):u+=1}r.lookAt(i.localAxisX.x,i.localAxisX.y,i.localAxisX.z),r.rotateY(Math.PI/2*3),r.position.set(t[0].x,t[0].y,t[0].z),e.add(r)}},{key:"getDistance",value:function(){for(var t=Number.MAX_VALUE,e=0,n=this.member.getMemberJson(0),i=0,r=Object.keys(n);i<r.length;i++){var o=r[i],a=this.member.getMemberLength(o);t=Math.min(a,t),e=Math.max(a,e)}return[t,e]}}]),t}()).\u0275fac=function(t){return new(t||eO)(i.Yb(WM),i.Yb(Yp.a),i.Yb(nf.a),i.Yb(af.a),i.Yb(lf.a),i.Yb(Qp.a),i.Yb($p.a),i.Yb(GM),i.Yb(sO))},eO.\u0275prov=i.Ib({token:eO,factory:eO.\u0275fac,providedIn:"root"}),eO),lO=((tO=function(){function t(e,n,i,r,o,a,s){_classCallCheck(this,t),this.scene=e,this.helper=n,this.nodeThree=i,this.node=r,this.reac=o,this.comb_disg=a,this.pik_disg=s,this.isVisible=null,this.pointLoadList=new Array,this.selectionItem=null}return _createClass(t,[{key:"visibleChange",value:function(t){if(this.isVisible!==t){var e,n=_createForOfIteratorHelper(this.pointLoadList);try{for(n.s();!(e=n.n()).done;)e.value.visible=t}catch(i){n.e(i)}finally{n.f()}this.isVisible=t}}},{key:"maxLength",value:function(){return 80*this.nodeThree.baseScale}},{key:"changeData",value:function(t){this.ClearData();var e=this.node.getNodeJson(0);if(!(Object.keys(e).length<=0)){var n=t.toString(),i=this.reac.getReacJson();Object.keys(i).length<=0||this.createReact(i[n],e)}}},{key:"createReact",value:function(t,e){var n,i=JSON.parse(JSON.stringify({temp:t})).temp,r=_createForOfIteratorHelper(i);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.tx=this.helper.toNumber(o.tx),o.ty=this.helper.toNumber(o.ty),o.tz=this.helper.toNumber(o.tz),o.mx=this.helper.toNumber(o.mx),o.my=this.helper.toNumber(o.my),o.mz=this.helper.toNumber(o.mz)}}catch(C){r.e(C)}finally{r.f()}var a,s=0,c=0,l=_createForOfIteratorHelper(i);try{for(l.s();!(a=l.n()).done;){var u=a.value;s=Math.max(s,Math.abs(u.tx)),s=Math.max(s,Math.abs(u.ty)),s=Math.max(s,Math.abs(u.tz)),c=Math.max(c,Math.abs(u.mx)),c=Math.max(c,Math.abs(u.my)),c=Math.max(c,Math.abs(u.mz))}}catch(C){l.e(C)}finally{l.f()}var h,d=_createForOfIteratorHelper(i);try{for(d.s();!(h=d.n()).done;){var p=h.value,f=e[p.id];if(void 0!==f){var g=this.setPointReact(p.tx,s,f,"px");null!==g&&(this.pointLoadList.push(g),this.scene.add(g));var m=this.setPointReact(p.ty,s,f,"py");null!==m&&(this.pointLoadList.push(m),this.scene.add(m));var v=this.setPointReact(p.tz,s,f,"pz");null!==v&&(this.pointLoadList.push(v),this.scene.add(v));var b=this.setMomentReact(p.mx,c,f,16711680,"mx");null!==b&&(this.pointLoadList.push(b),this.scene.add(b));var _=this.setMomentReact(p.my,c,f,65280,"my");null!==_&&(this.pointLoadList.push(_),this.scene.add(_));var y=this.setMomentReact(p.mz,c,f,255,"mz");null!==y&&(this.pointLoadList.push(y),this.scene.add(y))}}}catch(C){d.e(C)}finally{d.f()}}},{key:"setMomentReact",value:function(t,e,n,i,r){if(0===t)return null;var o=new QC(0,0,4,4,0,1.5*Math.PI,!1,0).getPoints(50),a=new ty((new xm).setFromPoints(o),new Y_({color:i,linewidth:5})),s=new qm(new xy(.3,3,3,1,!0),new $g({color:i}));switch(s.rotateX(Math.PI),s.position.set(4,.5,0),a.add(s),a.position.set(n.x,n.y,n.z),r){case"mx":a.rotateX(Math.PI/2),a.rotateY(Math.PI/2);break;case"my":a.rotateX(Math.PI/2);break;case"mz":a.rotateX(Math.PI)}var c=t/e;return c/=8,a.scale.set(c,c,c),a}},{key:"setPointReact",value:function(t,e,n,i){if(0===t)return null;var r,o=.7*this.maxLength()*t/e,a=this.nodeThree.baseScale/50*2,s=[];switch(s.push(n.x,n.y,n.z),i){case"px":s.push(n.x-o,n.y,n.z),r=16711680;break;case"py":s.push(n.x,n.y-o,n.z),r=65280;break;case"pz":s.push(n.x,n.y,n.z-o),r=255}var c=.3*o,l=1*c,u=new qm(new xy(.1*c,l,3,1,!0),new $g({color:r}));switch(i){case"px":u.position.set(n.x-l/2,n.y,n.z),u.rotation.z=Math.PI/2*3;break;case"py":u.position.set(n.x,n.y-l/2,n.z);break;case"pz":u.position.set(n.x,n.y,n.z-l/2),u.rotation.x=Math.PI/2}var h=new Qg(r),d=[];d.push(h.r,h.g,h.b),d.push(h.r,h.g,h.b);var p=new Ew;p.setPositions(s),p.setColors(d);var f=new kw({color:r,linewidth:a,vertexColors:2,dashed:!1}),g=new Iw(p,f);return g.computeLineDistances(),g.add(u),g.scale.set(1,1,1),g.name=i,g}},{key:"ClearData",value:function(){var t,e=_createForOfIteratorHelper(this.pointLoadList);try{for(e.s();!(t=e.n()).done;){for(var n=t.value;n.children.length>0;){var i=n.children[0];i.parent.remove(i)}this.scene.remove(n)}}catch(r){e.e(r)}finally{e.f()}this.pointLoadList=new Array}}]),t}()).\u0275fac=function(t){return new(t||tO)(i.Yb(WM),i.Yb(Yp.a),i.Yb(aO),i.Yb(Qp.a),i.Yb(ef.a),i.Yb(of.a),i.Yb(cf.a))},tO.\u0275prov=i.Ib({token:tO,factory:tO.\u0275fac,providedIn:"root"}),tO),uO=((ZM=function(){function t(e,n,i,r,o,a,s,c){_classCallCheck(this,t),this.scene=e,this.helper=n,this.disg=i,this.comb_disg=r,this.pik_disg=o,this.node=a,this.member=s,this.three_node=c,this.lineList=new Array,this.targetData=new Array,this.isVisible=null,this.scale=.5,this.params={dispScale:this.scale},this.gui=null,this.gui_max_scale=1}return _createClass(t,[{key:"visibleChange",value:function(t){if(this.isVisible!==t){var e,n=_createForOfIteratorHelper(this.lineList);try{for(n.s();!(e=n.n()).done;)e.value.visible=t}catch(i){n.e(i)}finally{n.f()}this.isVisible=t,!0===t?this.guiEnable():this.guiDisable()}}},{key:"ClearData",value:function(){if(this.lineList.length>0){var t,e=_createForOfIteratorHelper(this.lineList);try{for(e.s();!(t=e.n()).done;){for(var n=t.value;n.children.length>0;){var i=n.children[0];i.parent.remove(i)}this.scene.remove(n)}}catch(r){e.e(r)}finally{e.f()}this.lineList=new Array}this.scale=.5}},{key:"guiEnable",value:function(){var t=this;if(null===this.gui){var e=.001*this.gui_max_scale;this.gui=this.scene.gui.add(this.params,"dispScale",0,this.gui_max_scale).step(e).onChange(function(e){t.scale=e,t.onResize(),t.scene.render()})}}},{key:"guiDisable",value:function(){null!==this.gui&&(this.scene.gui.remove(this.gui),this.gui=null)}},{key:"changeData",value:function(t){var e,n=this,i=this.node.getNodeJson(0);if(!(Object.keys(i).length<=0)){var r=this.member.getMemberJson(0),o=Object.keys(r);if(!(o.length<=0)){var a=this.disg.getDisgJson(),s=t.toString();if(s in a){var c=a[s];this.targetData=new Array;for(var l,u,h=function(){var t=p[d],e=r[t],o=i[e.ni],a=i[e.nj];if(void 0===o||void 0===a)return"continue";if(Object.keys(c).length<=0)return{v:void 0};var s=c.find(function(t){return t.id===e.ni.toString()}),l=c.find(function(t){return t.id===e.nj.toString()});void 0!==s&&void 0!==l&&n.targetData.push({name:t,xi:o.x,yi:o.y,zi:o.z,xj:a.x,yj:a.y,zj:a.z,dxi:s.dx,dyi:s.dy,dzi:s.dz,dxj:l.dx,dyj:l.dy,dzj:l.dz,rxi:s.rx,ryi:s.ry,rzi:s.rz,rxj:l.rx,ryj:l.ry,rzj:l.rz,Division:20})},d=0,p=o;d<p.length;d++){var f=h();if("continue"!==f&&"object"==typeof f)return f.v}l=(e=_slicedToArray(this.getDistance(),2))[0],u=e[1],this.targetData.scale=l/a.max_value,this.gui_max_scale=u/l,this.onResize()}}}}},{key:"onResize",value:function(){for(var t=this.lineList,e=this.targetData.scale*this.scale*.7,n=0;n<this.targetData.length;n++){var i=this.targetData[n],r=i.xi,o=i.yi,a=i.zi;r+=i.dxi*e,o+=i.dyi*e,a+=i.dzi*e;var s=i.xj,c=i.yj,l=i.zj;s+=i.dxj*e,c+=i.dyj*e,l+=i.dzj*e;for(var u=i.dxi,h=i.dyi,d=i.dzi,p=i.ryi,f=i.rzi,g=i.dxj,m=i.dyj,v=i.dzj,b=i.ryj,_=i.rzj,y=i.Division,C=Math.sqrt(Math.pow(r-s,2)+Math.pow(o-c,2)+Math.pow(a-l,2)),x=[],w=new Qg(16711680),M=[],O=0;O<=y;O++){var P=O/y,k=(1-P)*u+P*g,A=(1-3*Math.pow(P,2)+2*Math.pow(P,3))*h+C*(P-2*Math.pow(P,2)+Math.pow(P,3))*f+(3*Math.pow(P,2)-2*Math.pow(P,3))*m+C*(0-Math.pow(P,2)+Math.pow(P,3))*_,T=(1-3*Math.pow(P,2)+2*Math.pow(P,3))*d-C*(P-2*Math.pow(P,2)+Math.pow(P,3))*p+(3*Math.pow(P,2)-2*Math.pow(P,3))*v-C*(0-Math.pow(P,2)+Math.pow(P,3))*b;x.push((1-P)*r+P*s+k*e,(1-P)*o+P*c+A*e,(1-P)*a+P*l+T*e),M.push(w.r,w.g,w.b)}if(this.lineList.length>n)this.lineList[n].geometry.setPositions(x);else{var S=new Ew;S.setPositions(x),S.setColors(M);var E=new kw({color:16711680,linewidth:.001,vertexColors:2,dashed:!1}),I=new Iw(S,E);I.computeLineDistances(),I.scale.set(1,1,1),I.name=i.name,t.push(I),this.scene.add(I)}}this.lineList=t}},{key:"getDistance",value:function(){for(var t=Number.MAX_VALUE,e=0,n=this.member.getMemberJson(0),i=0,r=Object.keys(n);i<r.length;i++){var o=r[i],a=this.member.getMemberLength(o);t=Math.min(a,t),e=Math.max(a,e)}return[t,e]}}]),t}()).\u0275fac=function(t){return new(t||ZM)(i.Yb(WM),i.Yb(Yp.a),i.Yb(tf.a),i.Yb(rf.a),i.Yb(sf.a),i.Yb(Qp.a),i.Yb($p.a),i.Yb(aO))},ZM.\u0275prov=i.Ib({token:ZM,factory:ZM.\u0275fac,providedIn:"root"}),ZM),hO=((JM=function(){function t(e,n,i,r,o,a,s,c,l,u,h,d,p,f,g,m,v){_classCallCheck(this,t),this.combine=e,this.define=n,this.load=i,this.pickup=r,this.disg=o,this.reac=a,this.fsec=s,this.combdisg=c,this.combreac=l,this.combfsec=u,this.pickdisg=h,this.pickreac=d,this.pickfsec=p,this.three_fsec=f,this.three_reac=g,this.three_disg=m,this.helper=v,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.disg.clear(),this.reac.clear(),this.fsec.clear(),this.combdisg.clear(),this.combreac.clear(),this.combfsec.clear(),this.pickdisg.clear(),this.pickreac.clear(),this.pickfsec.clear(),this.isCombinePickupChange=!0,this.three_fsec.ClearData(),this.three_reac.ClearData(),this.three_disg.ClearData()}},{key:"loadResultData",value:function(t){if("error"in t)return!1;try{this.disg.setDisgJson(t),this.reac.setReacJson(t),this.fsec.setFsecJson(t)}catch(UF){return!1}return!0}},{key:"CombinePickup",value:function(){if(!1!==this.isCombinePickupChange){var t=this.load.getLoadNameJson(1),e=this.define.getDefineJson(),n=this.combine.getCombineJson(),i=this.pickup.getPickUpJson(),r={};if(Object.keys(e).length>0)for(var o=0,a=Object.keys(e);o<a.length;o++){for(var s=a[o],c=e[s],l=new Array,u=0,h=Object.keys(c);u<h.length;u++){var d=h[u];"row"!==d&&l.push(c[d])}r[s]=l}else for(var p=0,f=Object.keys(t);p<f.length;p++){var g=f[p],m=this.helper.toNumber(g);r[g]=null===m?[]:new Array(m)}for(var v={},b=0,_=Object.keys(n);b<_.length;b++){for(var y=_[b],C=n[y],x=new Array,w=0,M=Object.keys(C);w<M.length;w++){var O=M[w];if("row"!==O){var P=O.replace("C","").replace("D",""),k=this.helper.toNumber(C[O]);P in r&&null!==k&&x.push({caseNo:P,coef:k})}}v[y]=x}for(var A={},T=0,S=Object.keys(i);T<S.length;T++){for(var E=S[T],I=i[E],R=new Array,D=0,N=Object.keys(I);D<N.length;D++){var L=N[D];if("row"!==L){var z=I[L];z in v&&R.push(z)}}A[E]=R}this.combdisg.setDisgCombineJson(r,v,A),this.combreac.setReacCombineJson(r,v,A),this.combfsec.setFsecCombineJson(r,v,A),this.isCombinePickupChange=!1}}},{key:"GetPicUpText",value:function(){var t=this.pickfsec.fsecPickup,e="PickUpNo,\u7740\u76ee\u65ad\u9762\u529b,\u90e8\u6750No,\u6700\u5927CaseNo,\u6700\u5c0fCaseNo,\u7740\u76ee\u70b9,\u7740\u76ee\u70b9\u8ddd\u96e2";e+=",\u6700\u5927Fx,\u6700\u5927Fy,\u6700\u5927Fz,\u6700\u5927Mx,\u6700\u5927My,\u6700\u5927Mz",e+=",\u6700\u5c0fFx,\u6700\u5c0fFy,\u6700\u5c0fFz,\u6700\u5c0fMx,\u6700\u5c0fMy,\u6700\u5c0fMz",e+="\n";for(var n=1;n<=Object.keys(t).length;n++)for(var i=t[n.toString()],r=Object.keys(i.fx_max).length,o=0,a=["fx","fy","fz","mx","my","mz"];o<a.length;o++)for(var s=a[o],c=i[s+"_max"],l=i[s+"_min"],u=void 0,h=0,d="",p=1;p<=r;p++)if(p.toString()in c){var f=c[p.toString()],g=l[p.toString()],m=this.helper.toNumber(f.m);null!=m?u=f.m:console.log(m),null!=this.helper.toNumber(f.n)?0===h?(d="ITAN",h+=1):(d="JTAN",h=0):(d=h.toString(),h+=1),e+=n.toString(),e+=",",e+=s,e+=",",e+=u,e+=",",e+=f.case,e+=",",e+=g.case,e+=",",e+=d,e+=",",e+=f.l,e+=",",e+=f.fx,e+=",",e+=f.fy,e+=",",e+=f.fz,e+=",",e+=f.mx,e+=",",e+=f.my,e+=",",e+=f.mz,e+=",",e+=g.fx,e+=",",e+=g.fy,e+=",",e+=g.fz,e+=",",e+=g.mx,e+=",",e+=g.my,e+=",",e+=g.mz,e+="\n"}return e}}]),t}()).\u0275fac=function(t){return new(t||JM)(i.Yb(Kp),i.Yb(Xp),i.Yb(Jp),i.Yb(Zp),i.Yb(tf.a),i.Yb(ef.a),i.Yb(nf.a),i.Yb(rf.a),i.Yb(of.a),i.Yb(af.a),i.Yb(sf.a),i.Yb(cf.a),i.Yb(lf.a),i.Yb(cO),i.Yb(lO),i.Yb(uO),i.Yb(Yp.a))},JM.\u0275prov=i.Ib({token:JM,factory:JM.\u0275fac,providedIn:"root"}),JM),dO=(($M=function(){function t(){_classCallCheck(this,t),this.clear()}return _createClass(t,[{key:"clear",value:function(){this.loginUserName="",this.loginPassword="",this.user_id=-1,this.purchase_value=-1,this.loggedIn=!1}},{key:"loadResultData",value:function(t){"new_points"in t&&(this.purchase_value=t.new_points)}}]),t}()).\u0275fac=function(t){return new(t||$M)},$M.\u0275prov=i.Ib({token:$M,factory:$M.\u0275fac,providedIn:"root"}),$M),pO=((XM=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.element={}}},{key:"getElementColumns",value:function(t,e){var n=null,i=null;n=this.element[t]?this.element[t]:new Array;for(var r=0;r<n.length;r++){var o=n[r];if(o.id.toString()===e.toString()){i=o;break}}return null==i&&(i={id:e,E:"",G:"",Xp:"",A:"",J:"",Iy:"",Iz:""},n.push(i),this.element[t]=n),i}},{key:"setElementJson",value:function(t){if("element"in t)for(var e=t.element,n=0,i=Object.keys(e);n<i.length;n++){for(var r=i[n],o=e[r],a=new Array,s=0,c=Object.keys(o);s<c.length;s++){var l=c[s],u=o[l],h=this.helper.toNumber(u.E),d=this.helper.toNumber(u.G),p=this.helper.toNumber(u.Xp),f=this.helper.toNumber(u.A),g=this.helper.toNumber(u.J),m=this.helper.toNumber(u.Iy),v=this.helper.toNumber(u.Iz),b={id:l,E:null===h?"":h.toExponential(2),G:null===d?"":d.toExponential(2),Xp:null===p?"":p.toExponential(2),A:null===f?"":f.toFixed(3),J:null===g?"":g.toFixed(4),Iy:null===m?"":m.toFixed(6),Iz:null===v?"":v.toFixed(6)};a.push(b)}this.element[r]=a}}},{key:"getElementJson",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={},i=0,r=Object.keys(this.element);i<r.length;i++){var o=r[i];if(!(e.length>0&&o!==e)){for(var a=this.element[o],s={},c=0;c<a.length;c++){var l=a[c],u=this.helper.toNumber(l.E),h=this.helper.toNumber(l.G),d=this.helper.toNumber(l.Xp),p=this.helper.toNumber(l.A),f=this.helper.toNumber(l.J),g=this.helper.toNumber(l.Iy),m=this.helper.toNumber(l.Iz);null==u&&null==h&&null==d&&null==p&&null==f&&null==g&&null==m||(s[l.id]={E:null==u?t:u,G:null==h?t:h,Xp:null==d?t:d,A:null==p?t:p,J:null==f?t:f,Iy:null==g?t:g,Iz:null==m?t:m})}Object.keys(s).length>0&&(n[o]=s)}}return n}}]),t}()).\u0275fac=function(t){return new(t||XM)(i.Yb(Yp.a))},XM.\u0275prov=i.Ib({token:XM,factory:XM.\u0275fac,providedIn:"root"}),XM),fO=((KM=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.fix_member={}}},{key:"getFixMemberColumns",value:function(t,e){var n=null,i=null;n=this.fix_member[t]?this.fix_member[t]:new Array;for(var r=0;r<n.length;r++){var o=n[r];if(o.row===e){i=o;break}}return null==i&&(i={row:e,m:"",tx:"",ty:"",tz:"",tr:""},n.push(i),this.fix_member[t]=n),i}},{key:"setFixMemberJson",value:function(t){if("fix_member"in t)for(var e=t.fix_member,n=0,i=Object.keys(e);n<i.length;n++){for(var r=i[n],o=e[r],a=new Array,s=0;s<o.length;s++){var c=o[s],l="row"in c?c.row:(s+1).toString(),u=this.helper.toNumber(c.m),h=this.helper.toNumber(c.tx),d=this.helper.toNumber(c.ty),p=this.helper.toNumber(c.tz),f=this.helper.toNumber(c.tr),g={row:l,m:null===u?"":u.toFixed(0),tx:null===h?"":h.toString(),ty:null===d?"":d.toString(),tz:null===p?"":p.toString(),tr:null===f?"":f.toString()};a.push(g)}this.fix_member[r]=a}}},{key:"getFixMemberJson",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={},i=0,r=Object.keys(this.fix_member);i<r.length;i++){var o=r[i];if(!(e.length>0&&o!==e)){var a,s=new Array,c=_createForOfIteratorHelper(this.fix_member[o]);try{for(c.s();!(a=c.n()).done;){var l=a.value,u=l.row,h=this.helper.toNumber(l.m),d=this.helper.toNumber(l.tx),p=this.helper.toNumber(l.ty),f=this.helper.toNumber(l.tz),g=this.helper.toNumber(l.tr);null===h&&null===d&&null===p&&null===f&&null===g||(p=null==p?t:p,f=null==f?t:f,g=null==g?t:g,(d=null==d?t:d)===t&&p===t&&f===t&&g===t||s.push({row:u,m:l.m,tx:d,ty:p,tz:f,tr:g}))}}catch(m){c.e(m)}finally{c.f()}s.length>0&&(n[o]=s)}}return n}}]),t}()).\u0275fac=function(t){return new(t||KM)(i.Yb(Yp.a))},KM.\u0275prov=i.Ib({token:KM,factory:KM.\u0275fac,providedIn:"root"}),KM),gO=((YM=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.fix_node={}}},{key:"getFixNodeColumns",value:function(t,e){var n=null,i=null;n=this.fix_node[t]?this.fix_node[t]:new Array;for(var r=0;r<n.length;r++){var o=n[r];if(o.row===e){i=o;break}}return null==i&&(i={row:e,n:"",tx:"",ty:"",tz:"",rx:"",ry:"",rz:""},n.push(i),this.fix_node[t]=n),i}},{key:"setFixNodeJson",value:function(t){if("fix_node"in t)for(var e=t.fix_node,n=0,i=Object.keys(e);n<i.length;n++){for(var r=i[n],o=e[r],a=new Array,s=0;s<o.length;s++){var c="row"in o[s]?o[s].row:(s+1).toString(),l=this.convertNumber(o[s]),u={row:c,n:null===l.n?"":l.n.toFixed(0),tx:null===l.tx?"":l.tx.toString(),ty:null===l.ty?"":l.ty.toString(),tz:null===l.tz?"":l.tz.toString(),rx:null===l.rx?"":l.rx.toString(),ry:null===l.ry?"":l.ry.toString(),rz:null===l.rz?"":l.rz.toString()};a.push(u)}this.fix_node[r]=a}}},{key:"getFixNodeJson",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={},i=0,r=Object.keys(this.fix_node);i<r.length;i++){var o=r[i];if(!(e.length>0&&o!==e)){var a,s=new Array,c=_createForOfIteratorHelper(this.fix_node[o]);try{for(c.s();!(a=c.n()).done;){var l=a.value,u=l.row,h=this.convertNumber(l);null==h.n&&null==h.tx&&null==h.ty&&null==h.tz&&null==h.rx&&null==h.ry&&null==h.rz||s.push({row:u,n:l.n,tx:null==h.tx?t:h.tx,ty:null==h.ty?t:h.ty,tz:null==h.tz?t:h.tz,rx:null==h.rx?t:h.rx,ry:null==h.ry?t:h.ry,rz:null==h.rz?t:h.rz})}}catch(d){c.e(d)}finally{c.f()}s.length>0&&(n[o]=s)}}return n}},{key:"convertNumber",value:function(t){return{n:this.helper.toNumber(t.n),tx:this.helper.toNumber(t.tx),ty:this.helper.toNumber(t.ty),tz:this.helper.toNumber(t.tz),rx:this.helper.toNumber(t.rx),ry:this.helper.toNumber(t.ry),rz:this.helper.toNumber(t.rz)}}}]),t}()).\u0275fac=function(t){return new(t||YM)(i.Yb(Yp.a))},YM.\u0275prov=i.Ib({token:YM,factory:YM.\u0275fac,providedIn:"root"}),YM),mO=((QM=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.joint={}}},{key:"getJointColumns",value:function(t,e){var n=null,i=null;n=this.joint[t]?this.joint[t]:new Array;for(var r=0;r<n.length;r++){var o=n[r];if(o.row===e){i=o;break}}return null==i&&(i={row:e,m:"",xi:"",yi:"",zi:"",xj:"",yj:"",zj:""},n.push(i),this.joint[t]=n),i}},{key:"setJointJson",value:function(t){if("joint"in t)for(var e=t.joint,n=0,i=Object.keys(e);n<i.length;n++){for(var r=i[n],o=e[r],a=new Array,s=0;s<o.length;s++){var c=o[s],l={row:"row"in c?c.row:(s+1).toString(),m:null===c.m?"":c.m.toString(),xi:null===c.xi?"":c.xi.toFixed(0),yi:null===c.yi?"":c.yi.toFixed(0),zi:null===c.zi?"":c.zi.toFixed(0),xj:null===c.xj?"":c.xj.toFixed(0),yj:null===c.yj?"":c.yj.toFixed(0),zj:null===c.zj?"":c.zj.toFixed(0)};a.push(l)}this.joint[r]=a}}},{key:"getJointJson",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={},i=0,r=Object.keys(this.joint);i<r.length;i++){var o=r[i];if(!(e.length>0&&o!==e)){var a,s=new Array,c=_createForOfIteratorHelper(this.joint[o]);try{for(c.s();!(a=c.n()).done;){var l=a.value,u=l.row,h=this.helper.toNumber(l.m),d=this.helper.toNumber(l.xi),p=this.helper.toNumber(l.yi),f=this.helper.toNumber(l.zi),g=this.helper.toNumber(l.xj),m=this.helper.toNumber(l.yj),v=this.helper.toNumber(l.zj);null==h&&null==d&&null==p&&null==f&&null==g&&null==m&&null==v||s.push({row:u,m:l.m,xi:null==d?t:d,yi:null==p?t:p,zi:null==f?t:f,xj:null==g?t:g,yj:null==m?t:m,zj:null==v?t:v})}}catch(b){c.e(b)}finally{c.f()}s.length>0&&(n[o]=s)}}return n}}]),t}()).\u0275fac=function(t){return new(t||QM)(i.Yb(Yp.a))},QM.\u0275prov=i.Ib({token:QM,factory:QM.\u0275fac,providedIn:"root"}),QM),vO=n("sPaR"),bO=((oO=function(){function t(e,n,i,r,o,a,s,c,l,u,h,d){_classCallCheck(this,t),this.combine=e,this.define=n,this.element=i,this.fixmenber=r,this.fixnode=o,this.joint=a,this.load=s,this.member=c,this.node=l,this.notice=u,this.pickup=h,this.three=d,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.node.clear(),this.fixnode.clear(),this.member.clear(),this.element.clear(),this.joint.clear(),this.notice.clear(),this.fixmenber.clear(),this.load.clear(),this.define.clear(),this.combine.clear(),this.pickup.clear()}},{key:"loadInputData",value:function(t){this.clear();var e=JSON.parse(t);this.node.setNodeJson(e),this.fixnode.setFixNodeJson(e),this.member.setMemberJson(e),this.element.setElementJson(e),this.joint.setJointJson(e),this.notice.setNoticePointsJson(e),this.fixmenber.setFixMemberJson(e),this.load.setLoadJson(e),this.define.setDefineJson(e),this.combine.setCombineJson(e),this.pickup.setPickUpJson(e),this.three.setSetting(e)}},{key:"getCalcText",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getInputJson(0),n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];e[r]=t[r]}return JSON.stringify(e)}},{key:"getInputJson",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={},n=this.node.getNodeJson(t);Object.keys(n).length>0&&(e.node=n);var i=this.fixnode.getFixNodeJson(t);Object.keys(i).length>0&&(e.fix_node=i);var r=this.member.getMemberJson(t);Object.keys(r).length>0&&(e.member=r);var o=this.element.getElementJson(t);Object.keys(o).length>0&&(e.element=o);var a=this.joint.getJointJson(t);Object.keys(a).length>0&&(e.joint=a);var s=this.notice.getNoticePointsJson();Object.keys(s).length>0&&(e.notice_points=s);var c=this.fixmenber.getFixMemberJson(t);Object.keys(c).length>0&&(e.fix_member=c);var l=this.load.getLoadJson(t);if(Object.keys(l).length>0&&(e.load=l),null===t){var u=this.define.getDefineJson();Object.keys(u).length>0&&(e.define=u);var h=this.combine.getCombineJson();Object.keys(h).length>0&&(e.combine=h);var d=this.pickup.getPickUpJson();Object.keys(d).length>0&&(e.pickup=d),e.three=this.three.getSettingJson()}var p=this.checkError(e);return null!==p&&(e.error=p),e}},{key:"checkError",value:function(t){if(!("node"in t))return"node \u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093";var e=t.node;if(Object.keys(e).length<=0)return"node \u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093";if(!("member"in t))return"member \u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093";var n=t.member,i=Object.keys(n);if(i.length<=0)return"member \u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093";for(var r={},o=0,a=i;o<a.length;o++)for(var s=a[o],c=n[s],l=0,u=[c.ni,c.nj];l<u.length;l++){var h=u[l];if(!(h in e))return"member"+s+"\u3067\u4f7f\u308f\u308c\u3066\u3044\u308b node "+h+"\u306f\u3001\u5b58\u5728\u3057\u307e\u305b\u3093";r[h]=e[h]}return t.node=r,null}},{key:"getResultJson",value:function(){var t={},e=this.define.getDefineJson();Object.keys(e).length>0&&(t.define=e);var n=this.combine.getCombineJson();Object.keys(n).length>0&&(t.combine=n);var i=this.pickup.getPickUpJson();return Object.keys(i).length>0&&(t.pickup=i),t}}]),t}()).\u0275fac=function(t){return new(t||oO)(i.Yb(Kp),i.Yb(Xp),i.Yb(pO),i.Yb(fO),i.Yb(gO),i.Yb(mO),i.Yb(Jp),i.Yb($p.a),i.Yb(Qp.a),i.Yb(vO.a),i.Yb(Zp),i.Yb(WM))},oO.\u0275prov=i.Ib({token:oO,factory:oO.\u0275fac,providedIn:"root"}),oO),_O=((rO=function(){function t(e,n){_classCallCheck(this,t),this.router=e,this.InputData=n,this.isPrinting=!1,this.contentEditable1=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}return _createClass(t,[{key:"printDocument",value:function(t,e){this.isPrinting=!0,this.inputJson=this.InputData.getInputJson(0),this.combineJson=this.InputData.combine.getCombineJson(),this.defineJson=this.InputData.define.getDefineJson(),this.pickupJson=this.InputData.pickup.getPickUpJson(),this.router.navigate(["/",{outlets:{print:["print",t,e.join()]}}])}},{key:"onDataReady",value:function(){var t=this;setTimeout(function(){window.print(),t.isPrinting=!1,t.router.navigate([{outlets:{print:null}}])})}}]),t}()).\u0275fac=function(t){return new(t||rO)(i.Yb(pp),i.Yb(bO))},rO.\u0275prov=i.Ib({token:rO,factory:rO.\u0275fac,providedIn:"root"}),rO),yO=n("zIRd"),CO=(n("t6oF"),n("6Uf2"),n("q/0M")),xO=n("qOnz"),wO=function(t,e){return(wO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function MO(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var OO,PO="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},kO=kO||{},AO=PO||self;function TO(){}function SO(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function EO(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var IO="closure_uid_"+(1e9*Math.random()>>>0),RO=0;function DO(t,e,n){return t.call.apply(t.bind,arguments)}function NO(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function LO(t,e,n){return(LO=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?DO:NO).apply(null,arguments)}function zO(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function jO(){return Date.now()}function FO(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function qO(){this.j=this.j,this.i=this.i}qO.prototype.j=!1,qO.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,IO)&&t[IO]||(t[IO]=++RO)}(this)},qO.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var BO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},UO=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function HO(t){return Array.prototype.concat.apply([],arguments)}function VO(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function WO(t){return/^[\s\xa0]*$/.test(t)}var GO,QO=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function YO(t,e){return-1!=t.indexOf(e)}function KO(t,e){return t<e?-1:t>e?1:0}t:{var XO=AO.navigator;if(XO){var $O=XO.userAgent;if($O){GO=$O;break t}}GO=""}function JO(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function ZO(t){var e={};for(var n in t)e[n]=t[n];return e}var tP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eP(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<tP.length;o++)n=tP[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function nP(t){return nP[" "](t),t}nP[" "]=TO;var iP,rP,oP=YO(GO,"Opera"),aP=YO(GO,"Trident")||YO(GO,"MSIE"),sP=YO(GO,"Edge"),cP=sP||aP,lP=YO(GO,"Gecko")&&!(YO(GO.toLowerCase(),"webkit")&&!YO(GO,"Edge"))&&!(YO(GO,"Trident")||YO(GO,"MSIE"))&&!YO(GO,"Edge"),uP=YO(GO.toLowerCase(),"webkit")&&!YO(GO,"Edge");function hP(){var t=AO.document;return t?t.documentMode:void 0}t:{var dP="",pP=(rP=GO,lP?/rv:([^\);]+)(\)|;)/.exec(rP):sP?/Edge\/([\d\.]+)/.exec(rP):aP?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(rP):uP?/WebKit\/(\S+)/.exec(rP):oP?/(?:Version)[ \/]?(\S+)/.exec(rP):void 0);if(pP&&(dP=pP?pP[1]:""),aP){var fP=hP();if(null!=fP&&fP>parseFloat(dP)){iP=String(fP);break t}}iP=dP}var gP={};function mP(t){return function(t,e){var n=gP;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=QO(String(iP)).split("."),i=QO(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=KO(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||KO(0==a[2].length,0==s[2].length)||KO(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var vP=AO.document&&aP&&(hP()||parseInt(iP,10))||void 0,bP=!aP||9<=Number(vP),_P=aP&&!mP("9"),yP=function(){if(!AO.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{AO.addEventListener("test",TO,e),AO.removeEventListener("test",TO,e)}catch(n){}return t}();function CP(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function xP(t,e){if(CP.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(lP){t:{try{nP(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:wP[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}CP.prototype.b=function(){this.defaultPrevented=!0},FO(xP,CP);var wP={2:"touch",3:"pen",4:"mouse"};xP.prototype.b=function(){xP.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,_P)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var MP="closure_listenable_"+(1e6*Math.random()|0),OP=0;function PP(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ca=r,this.key=++OP,this.Y=this.Z=!1}function kP(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function AP(t){this.src=t,this.a={},this.b=0}function TP(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],o=BO(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(kP(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function SP(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==i)return r}return-1}AP.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=SP(t,e,i,r);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new PP(e,this.src,o,!!i,r)).Z=n,t.push(e)),e};var EP="closure_lm_"+(1e6*Math.random()|0),IP={};function RP(t,e,n,i,r){if(i&&i.once)return NP(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)RP(t,e[o],n,i,r);return null}return n=HP(n),t&&t[MP]?t.va(e,n,EO(i)?!!i.capture:!!i,r):DP(t,e,n,!1,i,r)}function DP(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=EO(r)?!!r.capture:!!r;if(a&&!bP)return null;var s=BP(t);if(s||(t[EP]=s=new AP(t)),(n=s.add(e,n,i,a,o)).proxy)return n;if(i=function(){var t=qP,e=bP?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)yP||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(jP(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function NP(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)NP(t,e[o],n,i,r);return null}return n=HP(n),t&&t[MP]?t.wa(e,n,EO(i)?!!i.capture:!!i,r):DP(t,e,n,!0,i,r)}function LP(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)LP(t,e[o],n,i,r);else i=EO(i)?!!i.capture:!!i,n=HP(n),t&&t[MP]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=SP(o=t.a[e],n,i,r))&&(kP(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=BP(t))&&(e=t.a[e.toString()],t=-1,e&&(t=SP(e,n,i,r)),(n=-1<t?e[t]:null)&&zP(n))}function zP(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[MP])TP(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(jP(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=BP(e))?(TP(n,t),0==n.b&&(n.src=null,e[EP]=null)):kP(t)}}}function jP(t){return t in IP?IP[t]:IP[t]="on"+t}function FP(t,e){var n=t.listener,i=t.ca||t.src;return t.Z&&zP(t),n.call(i,e)}function qP(t,e){if(t.Y)return!0;if(!bP){if(!e)t:{e=["window","event"];for(var n=AO,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}return FP(t,e=new xP(e,this))}return FP(t,new xP(e,this))}function BP(t){return(t=t[EP])instanceof AP?t:null}var UP="__closure_events_fn_"+(1e9*Math.random()>>>0);function HP(t){return"function"==typeof t?t:(t[UP]||(t[UP]=function(e){return t.handleEvent(e)}),t[UP])}function VP(){qO.call(this),this.c=new AP(this),this.J=this,this.C=null}function WP(t,e){var n,i=t.C;if(i)for(n=[];i;i=i.C)n.push(i);if(t=t.J,i=e.type||e,"string"==typeof e)e=new CP(e,t);else if(e instanceof CP)e.target=e.target||t;else{var r=e;eP(e=new CP(i,t),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];r=GP(a,i,!0,e)&&r}if(r=GP(a=e.a=t,i,!0,e)&&r,r=GP(a,i,!1,e)&&r,n)for(o=0;o<n.length;o++)r=GP(a=e.a=n[o],i,!1,e)&&r}function GP(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,c=a.ca||a.src;a.Z&&TP(t.c,a),r=!1!==s.call(c,i)&&r}}return r&&!i.defaultPrevented}FO(VP,qO),VP.prototype[MP]=!0,(OO=VP.prototype).addEventListener=function(t,e,n,i){RP(this,t,e,n,i)},OO.removeEventListener=function(t,e,n,i){LP(this,t,e,n,i)},OO.G=function(){if(VP.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)kP(n[i]);delete e.a[t],e.b--}}this.C=null},OO.va=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},OO.wa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var QP=AO.JSON.stringify;function YP(){this.b=this.a=null}var KP,XP=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new JP},function(t){t.reset()});function $P(){var t=nk,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function JP(){this.next=this.b=this.a=null}function ZP(t){AO.setTimeout(function(){throw t},0)}function tk(t,e){KP||function(){var t=AO.Promise.resolve(void 0);KP=function(){t.then(ik)}}(),ek||(KP(),ek=!0),nk.add(t,e)}YP.prototype.add=function(t,e){var n=XP.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},JP.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},JP.prototype.reset=function(){this.next=this.b=this.a=null};var ek=!1,nk=new YP;function ik(){for(var t;t=$P();){try{t.a.call(t.b)}catch(n){ZP(n)}var e=XP;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ek=!1}function rk(t,e){VP.call(this),this.b=t||1,this.a=e||AO,this.f=LO(this.Za,this),this.g=jO()}function ok(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ak(t,e,n){if("function"==typeof t)n&&(t=LO(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=LO(t.handleEvent,t)}return 2147483647<Number(e)?-1:AO.setTimeout(t,e||0)}function sk(t){t.a=ak(function(){t.a=null,t.c&&(t.c=!1,sk(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}FO(rk,VP),(OO=rk.prototype).aa=!1,OO.M=null,OO.Za=function(){if(this.aa){var t=jO()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),WP(this,"tick"),this.aa&&(ok(this),this.start()))}},OO.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=jO())},OO.G=function(){rk.X.G.call(this),ok(this),delete this.a};var ck=function(t){function e(e,n){var i=t.call(this)||this;return i.g=e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}wO(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:sk(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(AO.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(qO);function lk(t){qO.call(this),this.b=t,this.a={}}FO(lk,qO);var uk=[];function hk(t,e,n,i){Array.isArray(n)||(n&&(uk[0]=n.toString()),n=uk);for(var r=0;r<n.length;r++){var o=RP(e,n[r],i||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function dk(t){JO(t.a,function(t,e){this.a.hasOwnProperty(e)&&zP(t)},t),t.a={}}function pk(){this.a=!0}function fk(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<r.length;a++)r[a]=""}}}return QP(n)}catch(s){return e}}(t,n)+(i?" "+i:"")})}lk.prototype.G=function(){lk.X.G.call(this),dk(this)},lk.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pk.prototype.info=function(){};var gk={},mk=null;function vk(){return mk=mk||new VP}function bk(t){CP.call(this,gk.Fa,t)}function _k(t){var e=vk();WP(e,new bk(e,t))}function yk(t,e){CP.call(this,gk.STAT_EVENT,t),this.stat=e}function Ck(t){var e=vk();WP(e,new yk(e,t))}function xk(t){CP.call(this,gk.Ga,t)}function wk(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return AO.setTimeout(function(){t()},e)}gk.Fa="serverreachability",FO(bk,CP),gk.STAT_EVENT="statevent",FO(yk,CP),gk.Ga="timingevent",FO(xk,CP);var Mk={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ok={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Pk(){}function kk(){}Pk.prototype.a=null;var Ak,Tk={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Sk(){CP.call(this,"d")}function Ek(){CP.call(this,"c")}function Ik(){}function Rk(t,e,n,i){this.g=t,this.c=e,this.f=n,this.S=i||1,this.J=new lk(this),this.P=Dk,this.R=new rk(t=cP?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}FO(Sk,CP),FO(Ek,CP),FO(Ik,Pk),Ak=new Ik;var Dk=45e3,Nk={},Lk={};function zk(t,e,n){t.H=1,t.i=oA(Zk(e)),t.j=n,t.I=!0,jk(t,null)}function jk(t,e){t.u=jO(),Bk(t),t.l=Zk(t.i);var n=t.l,i=t.S;Array.isArray(i)||(i=[String(i)]),bA(n.b,"t",i),t.D=0,t.a=dT(t.g,t.g.C?e:null),0<t.O&&(t.F=new ck(LO(t.Ca,t,t.a),t.O)),hk(t.J,t.a,"readystatechange",t.Xa),e=t.B?ZO(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),_k(1),function(t,e,n,i,r,o){t.info(function(){if(t.a)if(o)for(var a="",s=o.split("&"),c=0;c<s.length;c++){var l=s[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+l+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+a})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Fk(t,e,n){for(var i=!0;!t.A&&t.D<n.length;){var r=qk(t,n);if(r==Lk){4==e&&(t.h=4,Ck(14),i=!1),fk(t.c,t.f,null,"[Incomplete Response]");break}if(r==Nk){t.h=4,Ck(15),fk(t.c,t.f,n,"[Invalid Chunk]"),i=!1;break}fk(t.c,t.f,r,null),Gk(t,r)}4==e&&0==n.length&&(t.h=1,Ck(16),i=!1),t.b=t.b&&i,i?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),rT(e),e.F=!0,Ck(11))):(fk(t.c,t.f,n,"[Invalid Chunked Response]"),Wk(t),Vk(t))}function qk(t,e){var n=t.D,i=e.indexOf("\n",n);return-1==i?Lk:(n=Number(e.substring(n,i)),isNaN(n)?Nk:(i+=1)+n>e.length?Lk:(e=e.substr(i,n),t.D=i+n,e))}function Bk(t){t.T=jO()+t.P,Uk(t,t.P)}function Uk(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=wk(LO(t.Va,t),e)}function Hk(t){t.o&&(AO.clearTimeout(t.o),t.o=null)}function Vk(t){0==t.g.v||t.A||sT(t.g,t)}function Wk(t){Hk(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ok(t.R),dk(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Gk(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||OA(n.b,t)))if(n.I=t.N,!t.C&&OA(n.b,t)&&3==n.v){try{var i=n.ka.a.parse(e)}catch(eF){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;aT(n),KA(n)}iT(n),Ck(18)}}else n.oa=r[1],0<n.oa-n.P&&37500>r[2]&&n.H&&0==n.o&&!n.m&&(n.m=wk(LO(n.Sa,n),6e3));if(1>=MA(n.b)&&n.ea){try{n.ea()}catch(eF){}n.ea=void 0}}else lT(n,11)}else if((t.C||n.a==t)&&aT(n),!WO(e))for(e=i=n.ka.a.parse(e),i=0;i<e.length;i++)if(n.P=(r=e[i])[0],r=r[1],2==n.v)if("c"==r[0]){n.J=r[1],n.ga=r[2];var o=r[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=r[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=r[5];if(null!=s&&"number"==typeof s&&0<s){var c=1.5*s;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var l=t.a;if(l){var u=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var h=c.b;!h.a&&(YO(u,"spdy")||YO(u,"quic")||YO(u,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(PA(h,h.b),h.b=null))}if(c.A){var d=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,rA(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=jO()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((c=n).la=hT(c,c.C?c.ga:null,c.fa),p.C){kA(c.b,p);var f=p,g=c.D;g&&f.setTimeout(g),f.o&&(Hk(f),Bk(f)),c.a=p}else nT(c);0<n.g.length&&JA(n)}else"stop"!=r[0]&&"close"!=r[0]||lT(n,7);else 3==n.v&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?lT(n,7):YA(n):"noop"!=r[0]&&n.f&&n.f.sa(r),n.o=0);_k(4)}catch(eF){}}function Qk(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(SO(t)||"string"==typeof t)UO(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(SO(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(SO(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function Yk(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Yk)for(n=t.L(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Kk(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Xk(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Xk(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Xk(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(OO=Rk.prototype).setTimeout=function(t){this.P=t},OO.Xa=function(t){t=t.target;var e=this.F;e&&3==VA(t)?e.f():this.Ca(t)},OO.Ca=function(t){try{if(t==this.a)t:{var e=VA(this.a),n=this.a.ua(),i=this.a.W();if(!(3>e||3==e&&!cP&&!this.a.$())){this.A||4!=e||7==n||_k(8==n||0>=i?3:2),Hk(this);var r=this.a.W();this.N=r;var o=this.a.$();if(this.b=200==r,function(t,e,n,i,r,o,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.c,this.m,this.l,this.f,this.S,e,r),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!WO(a)){var c=a;break e}}c=null}if(!c){this.b=!1,this.h=3,Ck(12),Wk(this),Vk(this);break t}fk(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Gk(this,c)}this.I?(Fk(this,e,o),cP&&this.b&&3==e&&(hk(this.J,this.R,"tick",this.Wa),this.R.start())):(fk(this.c,this.f,o,null),Gk(this,o)),4==e&&Wk(this),this.b&&!this.A&&(4==e?sT(this.g,this):(this.b=!1,Bk(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.h=3,Ck(12)):(this.h=0,Ck(13)),Wk(this),Vk(this)}}}catch(l){}},OO.Wa=function(){if(this.a){var t=VA(this.a),e=this.a.$();this.D<e.length&&(Hk(this),Fk(this,t,e),this.b&&4!=t&&Bk(this))}},OO.cancel=function(){this.A=!0,Wk(this)},OO.Va=function(){this.o=null;var t=jO();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(_k(3),Ck(17)),Wk(this),this.h=2,Vk(this)):Uk(this,this.T-t)},(OO=Yk.prototype).K=function(){Kk(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},OO.L=function(){return Kk(this),this.a.concat()},OO.get=function(t,e){return Xk(this.b,t)?this.b[t]:e},OO.set=function(t,e){Xk(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},OO.forEach=function(t,e){for(var n=this.L(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var $k=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jk(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Jk){this.a=void 0!==e?e:t.a,tA(this,t.f),this.j=t.j,eA(this,t.c),nA(this,t.h),this.g=t.g,e=t.b;var n=new fA;n.c=e.c,e.a&&(n.a=new Yk(e.a),n.b=e.b),iA(this,n),this.i=t.i}else t&&(n=String(t).match($k))?(this.a=!!e,tA(this,n[1]||"",!0),this.j=aA(n[2]||""),eA(this,n[3]||"",!0),nA(this,n[4]),this.g=aA(n[5]||"",!0),iA(this,n[6]||"",!0),this.i=aA(n[7]||"")):(this.a=!!e,this.b=new fA(null,this.a))}function Zk(t){return new Jk(t)}function tA(t,e,n){t.f=n?aA(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function eA(t,e,n){t.c=n?aA(e,!0):e}function nA(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function iA(t,e,n){e instanceof fA?(t.b=e,function(t,e){e&&!t.f&&(gA(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(mA(this,e),bA(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=sA(e,dA)),t.b=new fA(e,t.a))}function rA(t,e,n){t.b.set(e,n)}function oA(t){return rA(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^jO()).toString(36)),t}function aA(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sA(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,cA),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cA(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Jk.prototype.toString=function(){var t=[],e=this.f;e&&t.push(sA(e,lA,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(sA(e,lA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(sA(n,"/"==n.charAt(0)?hA:uA,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",sA(n,pA)),t.join("")};var lA=/[#\/\?@]/g,uA=/[#\?:]/g,hA=/[#\?]/g,dA=/[#\?@]/g,pA=/#/g;function fA(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function gA(t){t.a||(t.a=new Yk,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function mA(t,e){gA(t),e=_A(t,e),Xk(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Xk((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Kk(t)))}function vA(t,e){return gA(t),e=_A(t,e),Xk(t.a.b,e)}function bA(t,e,n){mA(t,e),0<n.length&&(t.c=null,t.a.set(_A(t,e),VO(n)),t.b+=n.length)}function _A(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(OO=fA.prototype).add=function(t,e){gA(this),this.c=null,t=_A(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},OO.forEach=function(t,e){gA(this),this.a.forEach(function(n,i){UO(n,function(n){t.call(e,n,i,this)},this)},this)},OO.L=function(){gA(this);for(var t=this.a.K(),e=this.a.L(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},OO.K=function(t){gA(this);var e=[];if("string"==typeof t)vA(this,t)&&(e=HO(e,this.a.get(_A(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=HO(e,t[n])}return e},OO.set=function(t,e){return gA(this),this.c=null,vA(this,t=_A(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},OO.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},OO.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.K(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.c=t.join("&")};var yA=function(t,e){this.b=t,this.a=e};function CA(t){this.g=t||xA,t=AO.PerformanceNavigationTiming?0<(t=AO.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(AO.ia&&AO.ia.ya&&AO.ia.ya()&&AO.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var xA=10;function wA(t){return!!t.b||!!t.a&&t.a.size>=t.f}function MA(t){return t.b?1:t.a?t.a.size:0}function OA(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function PA(t,e){t.a?t.a.add(e):t.b=e}function kA(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function AA(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var r=MO(t.a.values()),o=r.next();!o.done;o=r.next())i=i.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}return VO(t.c)}function TA(){}function SA(){this.a=new TA}function EA(t,e,n){var i=n||"";try{Qk(t,function(t,n){var r=t;EO(t)&&(r=QP(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(UF){throw e.push(i+"type="+encodeURIComponent("_badmap")),UF}}function IA(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}CA.prototype.cancel=function(){var t,e;if(this.c=AA(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=MO(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(r){t={error:r}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},TA.prototype.stringify=function(t){return AO.JSON.stringify(t,void 0)},TA.prototype.parse=function(t){return AO.JSON.parse(t,void 0)};var RA=AO.JSON.parse;function DA(t){VP.call(this),this.headers=new Yk,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=NA,this.D=this.F=!1}FO(DA,VP);var NA="",LA=/^https?$/i,zA=["POST","PUT"];function jA(t){return"content-type"==t.toLowerCase()}function FA(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,qA(t),UA(t)}function qA(t){t.u||(t.u=!0,WP(t,"complete"),WP(t,"error"))}function BA(t){if(t.b&&void 0!==kO&&(!t.s[1]||4!=VA(t)||2!=t.W()))if(t.l&&4==VA(t))ak(t.za,0,t);else if(WP(t,"readystatechange"),4==VA(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.B).match($k)[1]||null;if(!o&&AO.self&&AO.self.location){var a=AO.self.location.protocol;o=a.substr(0,a.length-1)}r=!LA.test(o?o.toLowerCase():"")}e=r}if(e)WP(t,"complete"),WP(t,"success");else{t.h=6;try{var s=2<VA(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",qA(t)}}finally{UA(t)}}}function UA(t,e){if(t.a){HA(t);var n=t.a,i=t.s[0]?TO:null;t.a=null,t.s=null,e||WP(t,"ready");try{n.onreadystatechange=i}catch(UF){}}}function HA(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(AO.clearTimeout(t.m),t.m=null)}function VA(t){return t.a?t.a.readyState:0}function WA(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return JO(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):rA(t,e,n))}function GA(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function QA(t){this.pa=0,this.g=[],this.c=new pk,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=GA("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=GA("baseRetryDelayMs",5e3,t),this.Ra=GA("retryDelaySeedMs",1e4,t),this.Ma=GA("forwardChannelMaxRetries",2,t),this.ma=GA("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new CA(t&&t.concurrentRequestLimit),this.ka=new SA,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function YA(t){if(XA(t),3==t.v){var e=t.R++,n=Zk(t.B);rA(n,"SID",t.J),rA(n,"RID",e),rA(n,"TYPE","terminate"),tT(t,n),(e=new Rk(t,t.c,e,void 0)).H=2,e.i=oA(Zk(n)),n=!1,AO.navigator&&AO.navigator.sendBeacon&&(n=AO.navigator.sendBeacon(e.i.toString(),"")),!n&&AO.Image&&((new Image).src=e.i,n=!0),n||(e.a=dT(e.g,null),e.a.ba(e.i)),e.u=jO(),Bk(e)}uT(t)}function KA(t){t.a&&(rT(t),t.a.cancel(),t.a=null)}function XA(t){KA(t),t.j&&(AO.clearTimeout(t.j),t.j=null),aT(t),t.b.cancel(),t.h&&("number"==typeof t.h&&AO.clearTimeout(t.h),t.h=null)}function $A(t,e){t.g.push(new yA(t.Oa++,e)),3==t.v&&JA(t)}function JA(t){wA(t.b)||t.h||(t.h=!0,tk(t.Ba,t),t.u=0)}function ZA(t,e){var n;n=e?e.f:t.R++;var i=Zk(t.B);rA(i,"SID",t.J),rA(i,"RID",n),rA(i,"AID",t.P),tT(t,i),t.i&&t.l&&WA(i,t.i,t.l),n=new Rk(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=eT(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),PA(t.b,n),zk(n,i,e)}function tT(t,e){t.f&&Qk({},function(t,n){rA(e,n,t)})}function eT(t,e,n){n=Math.min(t.g.length,n);var i=t.f?LO(t.f.Ja,t.f,t):null;t:for(var r=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=r[0].b)):o=0:a.push("ofs="+o);for(var s=!0,c=0;c<n;c++){var l=r[c].b,u=r[c].a;if(0>(l-=o))o=Math.max(0,r[c].b-100),s=!1;else try{EA(u,a,"req"+l+"_")}catch(WT){i&&i(u)}}if(s){i=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,i}function nT(t){t.a||t.j||(t.T=1,tk(t.Aa,t),t.o=0)}function iT(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=wk(LO(t.Aa,t),cT(t,t.o)),t.o++,0))}function rT(t){null!=t.s&&(AO.clearTimeout(t.s),t.s=null)}function oT(t){t.a=new Rk(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Zk(t.la);rA(e,"RID","rpc"),rA(e,"SID",t.J),rA(e,"CI",t.H?"0":"1"),rA(e,"AID",t.P),tT(t,e),rA(e,"TYPE","xmlhttp"),t.i&&t.l&&WA(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=oA(Zk(e)),n.j=null,n.I=!0,jk(n,t)}function aT(t){null!=t.m&&(AO.clearTimeout(t.m),t.m=null)}function sT(t,e){var n=null;if(t.a==e){aT(t),rT(t),t.a=null;var i=2}else{if(!OA(t.b,e))return;n=e.s,kA(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==i){n=e.j?e.j.length:0,e=jO()-e.u;var r=t.u;WP(i=vk(),new xk(i,n,e,r)),JA(t)}else nT(t);else if(3==(r=e.h)||0==r&&0<t.I||!(1==i&&function(t,e){return!(MA(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=wk(LO(t.Ba,t,e),cT(t,t.u)),t.u++,0)))}(t,e)||2==i&&iT(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),r){case 1:lT(t,5);break;case 4:lT(t,10);break;case 3:lT(t,6);break;default:lT(t,2)}}function cT(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function lT(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var i=LO(t.Ya,t);n||(n=new Jk("//www.google.com/images/cleardot.gif"),AO.location&&"http"==AO.location.protocol||tA(n,"https"),oA(n)),function(t,e){var n=new pk;if(AO.Image){var i=new Image;i.onload=zO(IA,n,i,"TestLoadImage: loaded",!0,e),i.onerror=zO(IA,n,i,"TestLoadImage: error",!1,e),i.onabort=zO(IA,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=zO(IA,n,i,"TestLoadImage: timeout",!1,e),AO.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else Ck(2);t.v=0,t.f&&t.f.ra(e),uT(t),XA(t)}function uT(t){t.v=0,t.I=-1,t.f&&(0==AA(t.b).length&&0==t.g.length||(t.b.c.length=0,VO(t.g),t.g.length=0),t.f.qa())}function hT(t,e,n){var i=function(t){return t instanceof Jk?Zk(t):new Jk(t,void 0)}(n);if(""!=i.c)e&&eA(i,e+"."+i.c),nA(i,i.h);else{var r=AO.location;i=function(t,e,n,i){var r=new Jk(null,void 0);return t&&tA(r,t),e&&eA(r,e),n&&nA(r,n),i&&(r.g=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.V&&JO(t.V,function(t,e){rA(i,e,t)}),n=t.na,(e=t.A)&&n&&rA(i,e,n),rA(i,"VER",t.ha),tT(t,i),i}function dT(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new DA(t.Na)).F=t.C,e}function pT(){}function fT(){if(aP&&!(10<=Number(vP)))throw Error("Environmental error: no available transport.")}function gT(t,e){VP.call(this),this.a=new QA(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!WO(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!WO(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new bT(this)}function mT(t){Sk.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function vT(){Ek.call(this),this.status=1}function bT(t){this.a=t}(OO=DA.prototype).ba=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ak),this.a.onreadystatechange=LO(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void FA(this,o)}t=n||"";var r=new Yk(this.headers);i&&Qk(i,function(t,e){r.set(e,t)}),i=function(t){t:{for(var e=jA,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.L()),n=AO.FormData&&t instanceof AO.FormData,!(0<=BO(zA,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{HA(this),0<this.o&&((this.D=function(t){return aP&&mP(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=LO(this.xa,this)):this.m=ak(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){FA(this,o)}},OO.xa=function(){void 0!==kO&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,WP(this,"timeout"),this.abort(8))},OO.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,WP(this,"complete"),WP(this,"abort"),UA(this))},OO.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),UA(this,!0)),DA.X.G.call(this)},OO.za=function(){this.j||(this.A||this.l||this.g?BA(this):this.Ua())},OO.Ua=function(){BA(this)},OO.W=function(){try{return 2<VA(this)?this.a.status:-1}catch(rP){return-1}},OO.$=function(){try{return this.a?this.a.responseText:""}catch(rP){return""}},OO.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),RA(e)}},OO.ua=function(){return this.h},OO.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(OO=QA.prototype).ha=8,OO.v=1,OO.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Rk(this,this.c,t,void 0),i=this.l;if(this.O&&(i?eP(i=ZO(i),this.O):i=this.O),null===this.i&&(n.B=i),this.da)t:{for(var r=e=0;r<this.g.length;r++){var o=this.g[r];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break t}if(4096===e||r===this.g.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=eT(this,n,e),rA(r=Zk(this.B),"RID",t),rA(r,"CVER",22),this.A&&rA(r,"X-HTTP-Session-Id",this.A),tT(this,r),this.i&&i&&WA(r,this.i,i),PA(this.b,n),this.Ia&&rA(r,"TYPE","init"),this.da?(rA(r,"$req",e),rA(r,"SID","null"),n.U=!0,zk(n,r,null)):zk(n,r,e),this.v=2}}else 3==this.v&&(t?ZA(this,t):0==this.g.length||wA(this.b)||ZA(this))},OO.Aa=function(){if(this.j=null,oT(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=wk(LO(this.Ta,this),t)}},OO.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ck(10),KA(this),oT(this))},OO.Sa=function(){null!=this.m&&(this.m=null,KA(this),iT(this),Ck(19))},OO.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ck(2)):(this.c.info("Failed to ping google.com"),Ck(1))},(OO=pT.prototype).ta=function(){},OO.sa=function(){},OO.ra=function(){},OO.qa=function(){},OO.Ja=function(){},fT.prototype.a=function(t,e){return new gT(t,e)},FO(gT,VP),gT.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ck(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=hT(t,null,t.fa),JA(t)},gT.prototype.close=function(){YA(this.a)},gT.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,$A(this.a,e)}else this.l?((e={}).__data__=QP(t),$A(this.a,e)):$A(this.a,t)},gT.prototype.G=function(){this.a.f=null,delete this.f,YA(this.a),delete this.a,gT.X.G.call(this)},FO(mT,Sk),FO(vT,Ek),FO(bT,pT),bT.prototype.ta=function(){WP(this.a,"a")},bT.prototype.sa=function(t){WP(this.a,new mT(t))},bT.prototype.ra=function(t){WP(this.a,new vT(t))},bT.prototype.qa=function(){WP(this.a,"b")},fT.prototype.createWebChannel=fT.prototype.a,gT.prototype.send=gT.prototype.h,gT.prototype.open=gT.prototype.g,gT.prototype.close=gT.prototype.close,Mk.NO_ERROR=0,Mk.TIMEOUT=8,Mk.HTTP_ERROR=6,Ok.COMPLETE="complete",kk.EventType=Tk,Tk.OPEN="a",Tk.CLOSE="b",Tk.ERROR="c",Tk.MESSAGE="d",VP.prototype.listen=VP.prototype.va,DA.prototype.listenOnce=DA.prototype.wa,DA.prototype.getLastError=DA.prototype.Qa,DA.prototype.getLastErrorCode=DA.prototype.ua,DA.prototype.getStatus=DA.prototype.W,DA.prototype.getResponseJson=DA.prototype.Pa,DA.prototype.getResponseText=DA.prototype.$,DA.prototype.send=DA.prototype.ba;var _T=Mk,yT=Ok,CT=gk,xT=kk,wT=DA,MT=n("mrSG"),OT=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();OT.o=-1;var PT=new CO.b("@firebase/firestore");function kT(){return PT.logLevel}function AT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(PT.logLevel<=CO.a.DEBUG){var i=e.map(ET);PT.debug.apply(PT,Object(MT.f)(["Firestore (8.3.1): "+t],i))}}function TT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(PT.logLevel<=CO.a.ERROR){var i=e.map(ET);PT.error.apply(PT,Object(MT.f)(["Firestore (8.3.1): "+t],i))}}function ST(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(PT.logLevel<=CO.a.WARN){var i=e.map(ET);PT.warn.apply(PT,Object(MT.f)(["Firestore (8.3.1): "+t],i))}}function ET(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(UF){return t}}function IT(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw TT(e),new Error(e)}function RT(t,e){t||IT()}function DT(t,e){return t}function NT(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var LT=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=NT(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function zT(t,e){return t<e?-1:t>e?1:0}function jT(t,e,n){return t.length===e.length&&t.every(function(t,i){return n(t,e[i])})}function FT(t){return t+"\0"}function qT(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function BT(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UT(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function HT(t){return null==t}function VT(t){return 0===t&&1/t==-1/0}function WT(t){return"number"==typeof t&&Number.isInteger(t)&&!VT(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var GT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},QT=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Object(MT.c)(e,t),e}(Error),YT=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&IT(),void 0===n?n=t.length-e:n>t.length-e&&IT(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),KT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(MT.c)(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=[],r=0,o=t;r<o.length;r++){var a=o[r];if(a.indexOf("//")>=0)throw new QT(GT.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");i.push.apply(i,a.split("/").filter(function(t){return t.length>0}))}return new e(i)},e.emptyPath=function(){return new e([])},e}(YT),XT=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(MT.c)(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.isValidIdentifier=function(t){return XT.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new QT(GT.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},a=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new QT(GT.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new QT(GT.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else"`"===s?(a=!a,r++):"."!==s||a?(i+=s,r++):(o(),r++)}if(o(),a)throw new QT(GT.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(YT),JT=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(KT.fromString(e))},t.fromName=function(e){return new t(KT.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===KT.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return KT.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new KT(e.slice()))},t}(),ZT=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return zT(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ZT.EMPTY_BYTE_STRING=new ZT("");var tS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eS(t){if(RT(!!t),"string"==typeof t){var e=0,n=tS.exec(t);if(RT(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nS(t.seconds),nanos:nS(t.nanos)}}function nS(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function iS(t){return"string"==typeof t?ZT.fromBase64String(t):ZT.fromUint8Array(t)}var rS=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new QT(GT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new QT(GT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new QT(GT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new QT(GT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?zT(this.nanoseconds,t.nanoseconds):zT(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function oS(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function aS(t){var e=t.mapValue.fields.__previous_value__;return oS(e)?aS(e):e}function sS(t){var e=eS(t.mapValue.fields.__local_write_time__.timestampValue);return new rS(e.seconds,e.nanos)}function cS(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oS(t)?4:10:IT()}function lS(t,e){var n=cS(t);if(n!==cS(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sS(t).isEqual(sS(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=eS(t.timestampValue),i=eS(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return iS(t.bytesValue).isEqual(iS(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return nS(t.geoPointValue.latitude)===nS(e.geoPointValue.latitude)&&nS(t.geoPointValue.longitude)===nS(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return nS(t.integerValue)===nS(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=nS(t.doubleValue),i=nS(e.doubleValue);return n===i?VT(n)===VT(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return jT(t.arrayValue.values||[],e.arrayValue.values||[],lS);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(qT(n)!==qT(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!lS(n[r],i[r])))return!1;return!0}(t,e);default:return IT()}}function uS(t,e){return void 0!==(t.values||[]).find(function(t){return lS(t,e)})}function hS(t,e){var n=cS(t),i=cS(e);if(n!==i)return zT(n,i);switch(n){case 0:return 0;case 1:return zT(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=nS(t.integerValue||t.doubleValue),i=nS(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return dS(t.timestampValue,e.timestampValue);case 4:return dS(sS(t),sS(e));case 5:return zT(t.stringValue,e.stringValue);case 6:return function(t,e){var n=iS(t),i=iS(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var o=zT(n[r],i[r]);if(0!==o)return o}return zT(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=zT(nS(t.latitude),nS(e.latitude));return 0!==n?n:zT(nS(t.longitude),nS(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var o=hS(n[r],i[r]);if(o)return o}return zT(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(var a=0;a<i.length&&a<o.length;++a){var s=zT(i[a],o[a]);if(0!==s)return s;var c=hS(n[i[a]],r[o[a]]);if(0!==c)return c}return zT(i.length,o.length)}(t.mapValue,e.mapValue);default:throw IT()}}function dS(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return zT(t,e);var n=eS(t),i=eS(e),r=zT(n.seconds,i.seconds);return 0!==r?r:zT(n.nanos,i.nanos)}function pS(t){return fS(t)}function fS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=eS(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?iS(t.bytesValue).toBase64():"referenceValue"in t?JT.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,i=0,r=t.values||[];i<r.length;i++)n?n=!1:e+=",",e+=fS(r[i]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,i=0,r=Object.keys(t.fields||{}).sort();i<r.length;i++){var o=r[i];n?n=!1:e+=",",e+=o+":"+fS(t.fields[o])}return e+"}"}(t.mapValue):IT();var e}function gS(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function mS(t){return!!t&&"integerValue"in t}function vS(t){return!!t&&"arrayValue"in t}function bS(t){return!!t&&"nullValue"in t}function _S(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yS(t){return!!t&&"mapValue"in t}var CS=function(t,e){this.key=t,this.version=e},xS=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this,e,n)||this).objectValue=i,o.hasLocalMutations=!!r.hasLocalMutations,o.hasCommittedMutations=!!r.hasCommittedMutations,o}return Object(MT.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(CS),wS=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return Object(MT.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(CS),MS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(MT.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(CS),OS=function(t,e,n,i,r,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.h=null};function PS(t,e,n,i,r,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=null),new OS(t,e,n,i,r,o,a)}function kS(t){var e=DT(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+pS(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),HT(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=qS(e.startAt)),e.endAt&&(n+="|ub:",n+=qS(e.endAt)),e.h=n}return e.h}function AS(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!US(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if((r=t.filters[i]).op!==(o=e.filters[i]).op||!r.field.isEqual(o.field)||!lS(r.value,o.value))return!1;var r,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VS(t.startAt,e.startAt)&&VS(t.endAt,e.endAt)}function TS(t){return JT.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var SS=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return Object(MT.c)(e,t),e.create=function(t,n,i){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,i):new ES(t,n,i):"array-contains"===n?new NS(t,i):"in"===n?new LS(t,i):"not-in"===n?new zS(t,i):"array-contains-any"===n?new jS(t,i):new e(t,n,i)},e.l=function(t,e,n){return"in"===e?new IS(t,n):new RS(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(hS(e,this.value)):null!==e&&cS(this.value)===cS(e)&&this.m(hS(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return IT()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ES=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=JT.fromName(i.referenceValue),r}return Object(MT.c)(e,t),e.prototype.matches=function(t){var e=JT.comparator(t.key,this.key);return this.m(e)},e}(SS),IS=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=DS(0,n),i}return Object(MT.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(SS),RS=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"not-in",n)||this).keys=DS(0,n),i}return Object(MT.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(SS);function DS(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return JT.fromName(t.referenceValue)})}var NS=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(MT.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return vS(e)&&uS(e.arrayValue,this.value)},e}(SS),LS=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(MT.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&uS(this.value.arrayValue,e)},e}(SS),zS=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(MT.c)(e,t),e.prototype.matches=function(t){if(uS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!uS(this.value.arrayValue,e)},e}(SS),jS=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(MT.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!vS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return uS(e.value.arrayValue,t)})},e}(SS),FS=function(t,e){this.position=t,this.before=e};function qS(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return pS(t)}).join(",")}var BS=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function US(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function HS(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var o=e[r],a=t.position[r];if(i=o.field.isKeyField()?JT.comparator(JT.fromName(a.referenceValue),n.key):hS(a,n.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function VS(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!lS(t.position[n],e.position[n]))return!1;return!0}var WS=function(t,e,n,i,r,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function GS(t,e,n,i,r,o,a,s){return new WS(t,e,n,i,r,o,a,s)}function QS(t){return new WS(t)}function YS(t){return!HT(t.limit)&&"F"===t.limitType}function KS(t){return!HT(t.limit)&&"L"===t.limitType}function XS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function $S(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function JS(t){return null!==t.collectionGroup}function ZS(t){var e=DT(t);if(null===e.p){e.p=[];var n=$S(e),i=XS(e);if(null!==n&&null===i)n.isKeyField()||e.p.push(new BS(n)),e.p.push(new BS($T.keyField(),"asc"));else{for(var r=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(r=!0)}if(!r){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new BS($T.keyField(),c))}}}return e.p}function tE(t){var e=DT(t);if(!e.T)if("F"===e.limitType)e.T=PS(e.path,e.collectionGroup,ZS(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,r=ZS(e);i<r.length;i++){var o=r[i];n.push(new BS(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new FS(e.endAt.position,!e.endAt.before):null,s=e.startAt?new FS(e.startAt.position,!e.startAt.before):null;e.T=PS(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function eE(t,e,n){return new WS(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nE(t,e){return AS(tE(t),tE(e))&&t.limitType===e.limitType}function iE(t){return kS(tE(t))+"|lt:"+t.limitType}function rE(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+pS(e.value);var e}).join(", ")+"]"),HT(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+qS(t.startAt)),t.endAt&&(e+=", endAt: "+qS(t.endAt)),"Target("+e+")"}(tE(t))+"; limitType="+t.limitType+")"}function oE(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):JT.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,i=t.explicitOrderBy;n<i.length;n++){var r=i[n];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,i=t.filters;n<i.length;n++)if(!i[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!HS(t.startAt,ZS(t),e)||t.endAt&&HS(t.endAt,ZS(t),e))}(t,e)}function aE(t){return function(e,n){for(var i=!1,r=0,o=ZS(t);r<o.length;r++){var a=o[r],s=sE(a,e,n);if(0!==s)return s;i=i||a.field.isKeyField()}return 0}}function sE(t,e,n){var i=t.field.isKeyField()?JT.comparator(e.key,n.key):function(t,e,n){var i=e.field(t),r=n.field(t);return null!==i&&null!==r?hS(i,r):IT()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return IT()}}var cE=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new rS(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),lE=function(){function t(t){this.fields=t,t.sort($T.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return jT(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),uE=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!yS(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return lS(this.proto,t.proto)},t}(),hE=function(){function t(t){void 0===t&&(t=uE.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,i=0;i<t.length-1;++i){var r=t.get(i),o=n.get(r);o instanceof Map?n=o:o&&10===cS(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(r,o),n=o):(o=new Map,n.set(r,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P($T.emptyPath(),this.A);return null!=t?new uE(t):this.I},t.prototype.P=function(t,e){var n=this,i=!1,r=this.I.field(t),o=yS(r)?Object.assign({},r.mapValue.fields):{};return e.forEach(function(e,r){if(e instanceof Map){var a=n.P(t.child(r),e);null!=a&&(o[r]=a,i=!0)}else null!==e?(o[r]=e,i=!0):o.hasOwnProperty(r)&&(delete o[r],i=!0)}),i?{mapValue:{fields:o}}:null},t}();function dE(t){var e=[];return BT(t.fields||{},function(t,n){var i=new $T([t]);if(yS(n)){var r=dE(n.mapValue).fields;if(0===r.length)e.push(i);else for(var o=0,a=r;o<a.length;o++)e.push(i.child(a[o]))}else e.push(i)}),new lE(e)}function pE(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:VT(e)?"-0":e}}function fE(t){return{integerValue:""+t}}function gE(t,e){return WT(e)?fE(e):pE(t,e)}var mE=function(){this._=void 0};function vE(t,e,n){return t instanceof yE?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof CE?xE(t,e):t instanceof wE?ME(t,e):function(t,e){var n=_E(t,e),i=PE(n)+PE(t.S);return mS(n)&&mS(t.S)?fE(i):pE(t.D,i)}(t,e)}function bE(t,e,n){return t instanceof CE?xE(t,e):t instanceof wE?ME(t,e):n}function _E(t,e){return t instanceof OE?mS(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var yE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(MT.c)(e,t),e}(mE),CE=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(MT.c)(e,t),e}(mE);function xE(t,e){for(var n=kE(e),i=function(t){n.some(function(e){return lS(e,t)})||n.push(t)},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var wE=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(MT.c)(e,t),e}(mE);function ME(t,e){for(var n=kE(e),i=function(t){n=n.filter(function(e){return!lS(e,t)})},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var OE=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).D=e,i.S=n,i}return Object(MT.c)(e,t),e}(mE);function PE(t){return nS(t.integerValue||t.doubleValue)}function kE(t){return vS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var AE=function(t,e){this.field=t,this.transform=e},TE=function(t,e){this.version=t,this.transformResults=e},SE=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function EE(t,e){return void 0!==t.updateTime?e instanceof xS&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof xS}var IE=function(){};function RE(t,e,n){return t instanceof jE?function(t,e,n){var i=t.value,r=BE(t.fieldTransforms,e,n.transformResults);return i=HE(t.fieldTransforms,i,r),new xS(t.key,n.version,i,{hasCommittedMutations:!0})}(t,e,n):t instanceof FE?function(t,e,n){if(!EE(t.precondition,e))return new MS(t.key,n.version);var i=qE(t,e,BE(t.fieldTransforms,e,n.transformResults));return new xS(t.key,n.version,i,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new wS(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function DE(t,e,n){return t instanceof jE?function(t,e,n){if(!EE(t.precondition,e))return e;var i=t.value,r=UE(t.fieldTransforms,n,e);i=HE(t.fieldTransforms,i,r);var o=zE(e);return new xS(t.key,o,i,{hasLocalMutations:!0})}(t,e,n):t instanceof FE?function(t,e,n){if(!EE(t.precondition,e))return e;var i=zE(e),r=qE(t,e,UE(t.fieldTransforms,n,e));return new xS(t.key,i,r,{hasLocalMutations:!0})}(t,e,n):function(t,e){return EE(t.precondition,e)?new wS(t.key,cE.min()):e}(t,e)}function NE(t,e){return function(t,e){for(var n=null,i=0,r=t;i<r.length;i++){var o=r[i],a=e instanceof xS?e.field(o.field):void 0,s=_E(o.transform,a||null);null!=s&&(n=null==n?(new hE).set(o.field,s):n.set(o.field,s))}return n?n.v():null}(t.fieldTransforms,e)}function LE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&jT(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof CE&&e instanceof CE||t instanceof wE&&e instanceof wE?jT(t.elements,e.elements,lS):t instanceof OE&&e instanceof OE?lS(t.S,e.S):t instanceof yE&&e instanceof yE}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function zE(t){return t instanceof xS?t.version:cE.min()}var jE=function(t){function e(e,n,i,r){void 0===r&&(r=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=i,o.fieldTransforms=r,o.type=0,o}return Object(MT.c)(e,t),e}(IE),FE=function(t){function e(e,n,i,r,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=i,a.precondition=r,a.fieldTransforms=o,a.type=1,a}return Object(MT.c)(e,t),e}(IE);function qE(t,e,n){var i;return i=function(t,e){var n=new hE(e);return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var i=t.data.field(e);null!==i?n.set(e,i):n.delete(e)}}),n.v()}(t,i=e instanceof xS?e.data():uE.empty()),HE(t.fieldTransforms,i,n)}function BE(t,e,n){var i=[];RT(t.length===n.length);for(var r=0;r<n.length;r++){var o=t[r],a=o.transform,s=null;e instanceof xS&&(s=e.field(o.field)),i.push(bE(a,s,n[r]))}return i}function UE(t,e,n){for(var i=[],r=0,o=t;r<o.length;r++){var a=o[r],s=a.transform,c=null;n instanceof xS&&(c=n.field(a.field)),i.push(vE(s,c,e))}return i}function HE(t,e,n){for(var i=new hE(e),r=0;r<t.length;r++)i.set(t[r].field,n[r]);return i.v()}var VE,WE,GE=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=2,i.fieldTransforms=[],i}return Object(MT.c)(e,t),e}(IE),QE=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=3,i.fieldTransforms=[],i}return Object(MT.c)(e,t),e}(IE),YE=function(t){this.count=t};function KE(t){switch(t){case GT.OK:return IT();case GT.CANCELLED:case GT.UNKNOWN:case GT.DEADLINE_EXCEEDED:case GT.RESOURCE_EXHAUSTED:case GT.INTERNAL:case GT.UNAVAILABLE:case GT.UNAUTHENTICATED:return!1;case GT.INVALID_ARGUMENT:case GT.NOT_FOUND:case GT.ALREADY_EXISTS:case GT.PERMISSION_DENIED:case GT.FAILED_PRECONDITION:case GT.ABORTED:case GT.OUT_OF_RANGE:case GT.UNIMPLEMENTED:case GT.DATA_LOSS:return!0;default:return IT()}}function XE(t){if(void 0===t)return TT("GRPC error has no .code"),GT.UNKNOWN;switch(t){case VE.OK:return GT.OK;case VE.CANCELLED:return GT.CANCELLED;case VE.UNKNOWN:return GT.UNKNOWN;case VE.DEADLINE_EXCEEDED:return GT.DEADLINE_EXCEEDED;case VE.RESOURCE_EXHAUSTED:return GT.RESOURCE_EXHAUSTED;case VE.INTERNAL:return GT.INTERNAL;case VE.UNAVAILABLE:return GT.UNAVAILABLE;case VE.UNAUTHENTICATED:return GT.UNAUTHENTICATED;case VE.INVALID_ARGUMENT:return GT.INVALID_ARGUMENT;case VE.NOT_FOUND:return GT.NOT_FOUND;case VE.ALREADY_EXISTS:return GT.ALREADY_EXISTS;case VE.PERMISSION_DENIED:return GT.PERMISSION_DENIED;case VE.FAILED_PRECONDITION:return GT.FAILED_PRECONDITION;case VE.ABORTED:return GT.ABORTED;case VE.OUT_OF_RANGE:return GT.OUT_OF_RANGE;case VE.UNIMPLEMENTED:return GT.UNIMPLEMENTED;case VE.DATA_LOSS:return GT.DATA_LOSS;default:return IT()}}(WE=VE||(VE={}))[WE.OK=0]="OK",WE[WE.CANCELLED=1]="CANCELLED",WE[WE.UNKNOWN=2]="UNKNOWN",WE[WE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",WE[WE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",WE[WE.NOT_FOUND=5]="NOT_FOUND",WE[WE.ALREADY_EXISTS=6]="ALREADY_EXISTS",WE[WE.PERMISSION_DENIED=7]="PERMISSION_DENIED",WE[WE.UNAUTHENTICATED=16]="UNAUTHENTICATED",WE[WE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",WE[WE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",WE[WE.ABORTED=10]="ABORTED",WE[WE.OUT_OF_RANGE=11]="OUT_OF_RANGE",WE[WE.UNIMPLEMENTED=12]="UNIMPLEMENTED",WE[WE.INTERNAL=13]="INTERNAL",WE[WE.UNAVAILABLE=14]="UNAVAILABLE",WE[WE.DATA_LOSS=15]="DATA_LOSS";var $E=function(){function t(t,e){this.comparator=t,this.root=e||ZE.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ZE.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ZE.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new JE(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new JE(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new JE(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new JE(this.root,t,this.comparator,!0)},t}(),JE=function(){function t(t,e,n,i){this.isReverse=i,this.nodeStack=[];for(var r=1;!t.isEmpty();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ZE=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw IT();if(this.right.isRed())throw IT();var t=this.left.check();if(t!==this.right.check())throw IT();return t+(this.isRed()?0:1)},t}();ZE.EMPTY=null,ZE.RED=!0,ZE.BLACK=!1,ZE.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw IT()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw IT()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw IT()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw IT()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw IT()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new ZE(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var tI=function(){function t(t){this.comparator=t,this.data=new $E(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new eI(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new eI(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),eI=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),nI=new $E(JT.comparator);function iI(){return nI}function rI(){return iI()}var oI=new $E(JT.comparator);function aI(){return oI}var sI=new $E(JT.comparator);function cI(){return sI}var lI=new tI(JT.comparator);function uI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=lI,i=0,r=t;i<r.length;i++){var o=r[i];n=n.add(o)}return n}var hI=new tI(zT);function dI(){return hI}var pI=function(){function t(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,fI.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(cE.min(),i,dI(),iI(),uI())},t}(),fI=function(){function t(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ZT.EMPTY_BYTE_STRING,n,uI(),uI(),uI())},t}(),gI=function(t,e,n,i){this.C=t,this.removedTargetIds=e,this.key=n,this.N=i},mI=function(t,e){this.targetId=t,this.$=e},vI=function(t,e,n,i){void 0===n&&(n=ZT.EMPTY_BYTE_STRING),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},bI=function(){function t(){this.F=0,this.O=CI(),this.k=ZT.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=uI(),e=uI(),n=uI();return this.O.forEach(function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:IT()}}),new fI(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=CI()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),_I=function(){function t(t){this.X=t,this.Z=new Map,this.tt=iI(),this.et=yI(),this.nt=new tI(zT)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var i=n[e];t.N instanceof xS?this.it(i,t.N):t.N instanceof wS&&this.rt(i,t.key,t.N)}for(var r=0,o=t.removedTargetIds;r<o.length;r++)this.rt(i=o[r],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,function(n){var i=e.ct(n);switch(t.state){case 0:e.at(n)&&i.U(t.resumeToken);break;case 1:i.J(),i.B||i.W(),i.U(t.resumeToken);break;case 2:i.J(),i.B||e.removeTarget(n);break;case 3:e.at(n)&&(i.Y(),i.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),i.U(t.resumeToken));break;default:IT()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach(function(t,i){n.at(i)&&e(i)})},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,i=this.lt(e);if(i){var r=i.target;if(TS(r))if(0===n){var o=new JT(r.path);this.rt(e,o,new wS(o,cE.min()))}else RT(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach(function(i,r){var o=e.lt(r);if(o){if(i.current&&TS(o.target)){var a=new JT(o.target.path);null!==e.tt.get(a)||e.wt(r,a)||e.rt(r,a,new wS(a,t))}i.q&&(n.set(r,i.K()),i.W())}});var i=uI();this.et.forEach(function(t,n){var r=!0;n.forEachWhile(function(t){var n=e.lt(t);return!n||2===n.purpose||(r=!1,!1)}),r&&(i=i.add(t))});var r=new pI(t,n,this.nt,this.tt,i);return this.tt=iI(),this.et=yI(),this.nt=new tI(zT),r},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var i=this.ct(t);this.wt(t,e)?i.j(e,1):i.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new bI,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new tI(zT),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||AT("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new bI),this.X.getRemoteKeysForTarget(t).forEach(function(n){e.rt(t,n,null)})},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function yI(){return new $E(JT.comparator)}function CI(){return new $E(JT.comparator)}var xI={asc:"ASCENDING",desc:"DESCENDING"},wI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MI=function(t,e){this.databaseId=t,this.V=e};function OI(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function PI(t,e){return t.V?e.toBase64():e.toUint8Array()}function kI(t,e){return OI(t,e.toTimestamp())}function AI(t){return RT(!!t),cE.fromTimestamp(function(t){var e=eS(t);return new rS(e.seconds,e.nanos)}(t))}function TI(t,e){return function(t){return new KT(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function SI(t){var e=KT.fromString(t);return RT(tR(e)),e}function EI(t,e){return TI(t.databaseId,e.path)}function II(t,e){var n=SI(e);if(n.get(1)!==t.databaseId.projectId)throw new QT(GT.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new QT(GT.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new JT(LI(n))}function RI(t,e){return TI(t.databaseId,e)}function DI(t){var e=SI(t);return 4===e.length?KT.emptyPath():LI(e)}function NI(t){return new KT(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LI(t){return RT(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function zI(t,e,n){return{name:EI(t,e),fields:n.proto.mapValue.fields}}function jI(t,e,n){var i=II(t,e.name),r=AI(e.updateTime),o=new uE({mapValue:{fields:e.fields}});return new xS(i,r,o,{hasCommittedMutations:!!n})}function FI(t,e){var n;if(e instanceof jE)n={update:zI(t,e.key,e.value)};else if(e instanceof GE)n={delete:EI(t,e.key)};else if(e instanceof FE)n={update:zI(t,e.key,e.data),updateMask:ZI(e.fieldMask)};else{if(!(e instanceof QE))return IT();n={verify:EI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof yE)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof CE)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wE)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof OE)return{fieldPath:e.field.canonicalString(),increment:n.S};throw IT()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:kI(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:IT()}(t,e.precondition)),n}function qI(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?SE.updateTime(AI(t.updateTime)):void 0!==t.exists?SE.exists(t.exists):SE.none()}(e.currentDocument):SE.none(),i=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(RT("REQUEST_TIME"===e.setToServerValue),n=new yE):"appendMissingElements"in e?n=new CE(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new wE(e.removeAllFromArray.values||[]):"increment"in e?n=new OE(t,e.increment):IT();var i=$T.fromServerFormat(e.fieldPath);return new AE(i,n)}(t,e)}):[];if(e.update){var r=II(t,e.update.name),o=new uE({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new lE((t.fieldPaths||[]).map(function(t){return $T.fromServerFormat(t)}))}(e.updateMask);return new FE(r,o,a,n,i)}return new jE(r,o,n,i)}if(e.delete){var s=II(t,e.delete);return new GE(s,n)}if(e.verify){var c=II(t,e.verify);return new QE(c,n)}return IT()}function BI(t,e){return{documents:[RI(t,e.path)]}}function UI(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=RI(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=RI(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var r=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(_S(t.value))return{unaryFilter:{field:KI(t.field),op:"IS_NAN"}};if(bS(t.value))return{unaryFilter:{field:KI(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_S(t.value))return{unaryFilter:{field:KI(t.field),op:"IS_NOT_NAN"}};if(bS(t.value))return{unaryFilter:{field:KI(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:KI(t.field),op:YI(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:KI(t.field),direction:QI(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.V||HT(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=WI(e.startAt)),e.endAt&&(n.structuredQuery.endAt=WI(e.endAt)),n}function HI(t){var e=DI(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){RT(1===i);var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=VI(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new BS(XI(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return HT(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=GI(n.startAt));var u=null;return n.endAt&&(u=GI(n.endAt)),GS(e,r,s,a,c,"F",l,u)}function VI(t){return t?void 0!==t.unaryFilter?[JI(t)]:void 0!==t.fieldFilter?[$I(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return VI(t)}).reduce(function(t,e){return t.concat(e)}):IT():[]}function WI(t){return{before:t.before,values:t.position}}function GI(t){return new FS(t.values||[],!!t.before)}function QI(t){return xI[t]}function YI(t){return wI[t]}function KI(t){return{fieldPath:t.canonicalString()}}function XI(t){return $T.fromServerFormat(t.fieldPath)}function $I(t){return SS.create(XI(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return IT()}}(t.fieldFilter.op),t.fieldFilter.value)}function JI(t){switch(t.unaryFilter.op){case"IS_NAN":var e=XI(t.unaryFilter.field);return SS.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=XI(t.unaryFilter.field);return SS.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=XI(t.unaryFilter.field);return SS.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=XI(t.unaryFilter.field);return SS.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return IT()}}function ZI(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function tR(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function eR(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=iR(e)),e=nR(t.get(n),e);return iR(e)}function nR(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function iR(t){return t+"\x01\x01"}function rR(t){var e=t.length;if(RT(e>=2),2===e)return RT("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),KT.emptyPath();for(var n=e-2,i=[],r="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&IT(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),c=void 0;0===r.length?c=s:(c=r+=s,r=""),i.push(c);break;case"\x10":r+=t.substring(o,a),r+="\0";break;case"\x11":r+=t.substring(o,a+1);break;default:IT()}o=a+2}return new KT(i)}var oR=function(t,e){this.seconds=t,this.nanoseconds=e},aR=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};aR.store="owner",aR.key="owner";var sR=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};sR.store="mutationQueues",sR.keyPath="userId";var cR=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};cR.store="mutations",cR.keyPath="batchId",cR.userMutationsIndex="userMutationsIndex",cR.userMutationsKeyPath=["userId","batchId"];var lR=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,eR(e)]},t.key=function(t,e,n){return[t,eR(e),n]},t}();lR.store="documentMutations",lR.PLACEHOLDER=new lR;var uR=function(t,e){this.path=t,this.readTime=e},hR=function(t,e){this.path=t,this.version=e},dR=function(t,e,n,i,r,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o};dR.store="remoteDocuments",dR.readTimeIndex="readTimeIndex",dR.readTimeIndexPath="readTime",dR.collectionReadTimeIndex="collectionReadTimeIndex",dR.collectionReadTimeIndexPath=["parentPath","readTime"];var pR=function(t){this.byteSize=t};pR.store="remoteDocumentGlobal",pR.key="remoteDocumentGlobalKey";var fR=function(t,e,n,i,r,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=a};fR.store="targets",fR.keyPath="targetId",fR.queryTargetsIndexName="queryTargetsIndex",fR.queryTargetsKeyPath=["canonicalId","targetId"];var gR=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};gR.store="targetDocuments",gR.keyPath=["targetId","path"],gR.documentTargetsIndex="documentTargetsIndex",gR.documentTargetsKeyPath=["path","targetId"];var mR=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};mR.key="targetGlobalKey",mR.store="targetGlobal";var vR=function(t,e){this.collectionId=t,this.parent=e};vR.store="collectionParents",vR.keyPath=["collectionId","parent"];var bR=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};bR.store="clientMetadata",bR.keyPath="clientId";var _R=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};_R.store="bundles",_R.keyPath="bundleId";var yR=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};yR.store="namedQueries",yR.keyPath="name";var CR=Object(MT.f)(Object(MT.f)([],Object(MT.f)(Object(MT.f)([],Object(MT.f)(Object(MT.f)([],Object(MT.f)(Object(MT.f)([],[sR.store,cR.store,lR.store,dR.store,fR.store,aR.store,mR.store,gR.store]),[bR.store])),[pR.store])),[vR.store])),[_R.store,yR.store]),xR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wR=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),MR=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},OR=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&IT(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,r){i.nextCallback=function(n){i.wrapSuccess(e,n).next(t,r)},i.catchCallback=function(e){i.wrapFailure(n,e).next(t,r)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var i=0,r=0,o=!1;e.forEach(function(e){++i,e.next(function(){++r,o&&r===i&&t()},function(t){return n(t)})}),o=!0,r===i&&t()})},t.or=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},r=0,o=e;r<o.length;r++)i(o[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach(function(t,r){i.push(e.call(n,t,r))}),this.waitFor(i)},t}(),PR=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new MR,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new TR(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var i=DR(e.target.error);n.gt.reject(new TR(t,i))}}return t.open=function(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(e){throw new TR(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(AT("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ER(e)},t}(),kR=function(){function t(e,n,i){this.name=e,this.version=n,this.Tt=i,12.2===t.It(Object(xO.p)())&&TT("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return AT("SimpleDb","Removing database:",t),IR(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(xO.p)(),n=t.It(e),i=0<n&&n<10,r=t.bt(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n=this;return Object(MT.d)(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(AT("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,i){var r=indexedDB.open(n.name,n.version);r.onsuccess=function(t){e(t.target.result)},r.onblocked=function(){i(new TR(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var n=e.target.error;i("VersionError"===n.name?new QT(GT.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new TR(t,n))},r.onupgradeneeded=function(t){AT("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,r.transaction,t.oldVersion,n.version).next(function(){AT("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=i.sent(),i.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}})})},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return Object(MT.b)(this,void 0,void 0,function(){var r,o,a,s,c;return Object(MT.d)(this,function(l){switch(l.label){case 0:r="readonly"===e,o=0,a=function(){var e,a,c,l,u;return Object(MT.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Vt(t)];case 2:return s.db=h.sent(),e=PR.open(s.db,t,r?"readonly":"readwrite",n),a=i(e).catch(function(t){return e.abort(t),OR.reject(t)}).toPromise(),c={},a.catch(function(){}),[4,e.Et];case 3:return[2,(c.value=(h.sent(),a),c)];case 4:return AT("SimpleDb","Transaction failed with error:",(l=h.sent()).message,"Retrying:",u="FirebaseError"!==l.name&&o<3),s.close(),u?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},s=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),AR=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return IR(this.xt.delete())},t}(),TR=function(t){function e(e,n){var i=this;return(i=t.call(this,GT.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",i}return Object(MT.c)(e,t),e}(QT);function SR(t){return"IndexedDbTransactionError"===t.name}var ER=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(AT("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(AT("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),IR(n)},t.prototype.add=function(t){return AT("SimpleDb","ADD",this.store.name,t,t),IR(this.store.add(t))},t.prototype.get=function(t){var e=this;return IR(this.store.get(t)).next(function(n){return void 0===n&&(n=null),AT("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return AT("SimpleDb","DELETE",this.store.name,t),IR(this.store.delete(t))},t.prototype.count=function(){return AT("SimpleDb","COUNT",this.store.name),IR(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.Mt(n,function(t,e){i.push(e)}).next(function(){return i})},t.prototype.Lt=function(t,e){AT("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var i=this.cursor(n);return this.Mt(i,function(t,e,n){return n.delete()})},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.Mt(i,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new OR(function(n,i){e.onerror=function(t){var e=DR(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next(function(t){t?i.continue():n()}):n()}})},t.prototype.Mt=function(t,e){var n=[];return new OR(function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new AR(r),a=e(r.primaryKey,r.value,o);if(a instanceof OR){var s=a.catch(function(t){return o.done(),OR.reject(t)});n.push(s)}o.isDone?i():null===o.Ft?r.continue():r.continue(o.Ft)}else i()}}).next(function(){return OR.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function IR(t){return new OR(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=DR(t.target.error);n(e)}})}var RR=!1;function DR(t){var e=kR.It(Object(xO.p)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new QT("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return RR||(RR=!0,setTimeout(function(){throw i},0)),i}}return t}var NR=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Qt=e,i.currentSequenceNumber=n,i}return Object(MT.c)(e,t),e}(wR);function LR(t,e){var n=DT(t);return kR.Pt(n.Qt,e)}var zR=function(){function t(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var i=n.mutationResults,r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(t)&&(e=RE(o,e,i[r]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t)&&(e=DE(a,e,this.localWriteTime));for(var r=0,o=this.mutations;r<o.length;r++){var a;(a=o[r]).key.isEqual(t)&&(e=DE(a,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(i){var r=e.applyToLocalView(i.key,t.get(i.key));r&&(n=n.insert(i.key,r))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},uI())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&jT(this.mutations,t.mutations,function(t,e){return LE(t,e)})&&jT(this.baseMutations,t.baseMutations,function(t,e){return LE(t,e)})},t}(),jR=function(){function t(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}return t.from=function(e,n,i){RT(e.mutations.length===i.length);for(var r=cI(),o=e.mutations,a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new t(e,n,i,r)},t}(),FR=function(){function t(t,e,n,i,r,o,a){void 0===r&&(r=cE.min()),void 0===o&&(o=cE.min()),void 0===a&&(a=ZT.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),qR=function(t){this.Kt=t};function BR(t,e){if(e.document)return jI(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=JT.fromSegments(e.noDocument.path),i=GR(e.noDocument.readTime);return new wS(n,i,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var r=JT.fromSegments(e.unknownDocument.path);return i=GR(e.unknownDocument.version),new MS(r,i)}return IT()}function UR(t,e,n){var i=HR(n),r=e.key.path.popLast().toArray();if(e instanceof xS){var o=function(t,e){return{name:EI(t,e.key),fields:e.toProto().mapValue.fields,updateTime:OI(t,e.version.toTimestamp())}}(t.Kt,e),a=e.hasCommittedMutations;return new dR(null,null,o,a,i,r)}if(e instanceof wS){var s=e.key.path.toArray(),c=WR(e.version);return a=e.hasCommittedMutations,new dR(null,new uR(s,c),null,a,i,r)}if(e instanceof MS){var l=e.key.path.toArray(),u=WR(e.version);return new dR(new hR(l,u),null,null,!0,i,r)}return IT()}function HR(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function VR(t){var e=new rS(t[0],t[1]);return cE.fromTimestamp(e)}function WR(t){var e=t.toTimestamp();return new oR(e.seconds,e.nanoseconds)}function GR(t){var e=new rS(t.seconds,t.nanoseconds);return cE.fromTimestamp(e)}function QR(t,e){for(var n=(e.baseMutations||[]).map(function(e){return qI(t.Kt,e)}),i=0;i<e.mutations.length-1;++i)i+1<e.mutations.length&&void 0!==e.mutations[i+1].transform&&(e.mutations[i].updateTransforms=e.mutations[i+1].transform.fieldTransforms,e.mutations.splice(i+1,1),++i);var r=e.mutations.map(function(e){return qI(t.Kt,e)}),o=rS.fromMillis(e.localWriteTimeMs);return new zR(e.batchId,o,n,r)}function YR(t){var e,n,i=GR(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?GR(t.lastLimboFreeSnapshotVersion):cE.min();return void 0!==t.query.documents?(RT(1===(n=t.query).documents.length),e=tE(QS(DI(n.documents[0])))):e=function(t){return tE(HI(t))}(t.query),new FR(e,t.targetId,0,t.lastListenSequenceNumber,i,r,ZT.fromBase64String(t.resumeToken))}function KR(t,e){var n,i=WR(e.snapshotVersion),r=WR(e.lastLimboFreeSnapshotVersion);n=TS(e.target)?BI(t.Kt,e.target):UI(t.Kt,e.target);var o=e.resumeToken.toBase64();return new fR(e.targetId,kS(e.target),i,o,e.sequenceNumber,r,n)}function XR(t){var e=HI({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?eE(e,e.limit,"L"):e}var $R=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return JR(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:GR(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return JR(t).put({bundleId:(n=e).id,createTime:WR(AI(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return ZR(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:XR(e.bundledQuery),readTime:GR(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return ZR(t).put(function(t){return{name:t.name,readTime:WR(AI(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function JR(t){return LR(t,_R.store)}function ZR(t){return LR(t,yR.store)}var tD=function(){function t(){this.Wt=new eD}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),OR.resolve()},t.prototype.getCollectionParents=function(t,e){return OR.resolve(this.Wt.getEntries(e))},t}(),eD=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new tI(KT.comparator),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new tI(KT.comparator)).toArray()},t}(),nD=function(){function t(){this.jt=new eD}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(function(){n.jt.add(e)});var o={collectionId:i,parent:eR(r)};return iD(t).put(o)}return OR.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[FT(e),""],!1,!0);return iD(t).kt(i).next(function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.collectionId!==e)break;n.push(rR(o.parent))}return n})},t}();function iD(t){return LR(t,vR.store)}var rD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oD=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function aD(t,e,n){var i=t.store(cR.store),r=t.store(lR.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,c=i.qt({range:a},function(t,e,n){return s++,n.delete()});o.push(c.next(function(){RT(1===s)}));for(var l=[],u=0,h=n.mutations;u<h.length;u++){var d=h[u],p=lR.key(e,d.key.path,n.batchId);o.push(r.delete(p)),l.push(d.key)}return OR.waitFor(o).next(function(){return l})}function sD(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw IT();e=t.noDocument}return JSON.stringify(e).length}oD.DEFAULT_COLLECTION_PERCENTILE=10,oD.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oD.DEFAULT=new oD(41943040,oD.DEFAULT_COLLECTION_PERCENTILE,oD.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oD.DISABLED=new oD(-1,0,0);var cD=function(){function t(t,e,n,i){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=i,this.zt={}}return t.Ht=function(e,n,i,r){return RT(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,i,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uD(t).qt({index:cR.userMutationsIndex,range:n},function(t,n,i){e=!1,i.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,i){var r=this,o=hD(t),a=uD(t);return a.add({}).next(function(s){RT("number"==typeof s);for(var c=new zR(s,e,n,i),l=function(t,e,n){var i=n.baseMutations.map(function(e){return FI(t.Kt,e)}),r=n.mutations.map(function(e){return FI(t.Kt,e)});return new cR(e,n.batchId,n.localWriteTime.toMillis(),i,r)}(r.D,r.userId,c),u=[],h=new tI(function(t,e){return zT(t.canonicalString(),e.canonicalString())}),d=0,p=i;d<p.length;d++){var f=p[d],g=lR.key(r.userId,f.key.path,s);h=h.add(f.key.path.popLast()),u.push(a.put(l)),u.push(o.put(g,lR.PLACEHOLDER))}return h.forEach(function(e){u.push(r.Gt.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){r.zt[s]=c.keys()}),OR.waitFor(u).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return uD(t).get(e).next(function(t){return t?(RT(t.userId===n.userId),QR(n.D,t)):null})},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?OR.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var i=t.keys();return n.zt[e]=i,i}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return uD(t).qt({index:cR.userMutationsIndex,range:r},function(t,e,r){e.userId===n.userId&&(RT(e.batchId>=i),o=QR(n.D,e)),r.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return uD(t).qt({index:cR.userMutationsIndex,range:e,reverse:!0},function(t,e,i){n=e.batchId,i.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uD(t).kt(cR.userMutationsIndex,n).next(function(t){return t.map(function(t){return QR(e.D,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=lR.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return hD(t).qt({range:r},function(i,r,a){var s=i[0],c=i[2],l=rR(i[1]);if(s===n.userId&&e.path.isEqual(l))return uD(t).get(c).next(function(t){if(!t)throw IT();RT(t.userId===n.userId),o.push(QR(n.D,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new tI(zT),r=[];return e.forEach(function(e){var o=lR.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=hD(t).qt({range:a},function(t,r,o){var a=t[0],s=t[2],c=rR(t[1]);a===n.userId&&e.path.isEqual(c)?i=i.add(s):o.done()});r.push(s)}),OR.waitFor(r).next(function(){return n.Yt(t,i)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,i=e.path,r=i.length+1,o=lR.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(o),s=new tI(zT);return hD(t).qt({range:a},function(t,e,o){var a=t[0],c=t[2],l=rR(t[1]);a===n.userId&&i.isPrefixOf(l)?l.length===r&&(s=s.add(c)):o.done()}).next(function(){return n.Yt(t,s)})},t.prototype.Yt=function(t,e){var n=this,i=[],r=[];return e.forEach(function(e){r.push(uD(t).get(e).next(function(t){if(null===t)throw IT();RT(t.userId===n.userId),i.push(QR(n.D,t))}))}),OR.waitFor(r).next(function(){return i})},t.prototype.removeMutationBatch=function(t,e){var n=this;return aD(t.Qt,this.userId,e).next(function(i){return t.addOnCommittedListener(function(){n.Xt(e.batchId)}),OR.forEach(i,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return OR.resolve();var i=IDBKeyRange.lowerBound(lR.prefixForUser(e.userId)),r=[];return hD(t).qt({range:i},function(t,n,i){if(t[0]===e.userId){var o=rR(t[1]);r.push(o)}else i.done()}).next(function(){RT(0===r.length)})})},t.prototype.containsKey=function(t,e){return lD(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return dD(t).get(this.userId).next(function(t){return t||new sR(e.userId,-1,"")})},t}();function lD(t,e,n){var i=lR.prefixForPath(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),a=!1;return hD(t).qt({range:o,Bt:!0},function(t,n,i){t[0]===e&&t[1]===r&&(a=!0),i.done()}).next(function(){return a})}function uD(t){return LR(t,cR.store)}function hD(t){return LR(t,lR.store)}function dD(t){return LR(t,sR.store)}var pD=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),fD=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next(function(n){var i=new pD(n.highestTargetId);return n.highestTargetId=i.next(),e.ie(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(t){return cE.fromTimestamp(new rS(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var i=this;return this.se(t).next(function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.ie(t,r)})},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next(function(){return n.se(t).next(function(i){return i.targetCount+=1,n.oe(e,i),n.ie(t,i)})})},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return gD(t).delete(e.targetId)}).next(function(){return n.se(t)}).next(function(e){return RT(e.targetCount>0),e.targetCount-=1,n.ie(t,e)})},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return gD(t).qt(function(a,s){var c=YR(s);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(r++,o.push(i.removeTargetData(t,c)))}).next(function(){return OR.waitFor(o)}).next(function(){return r})},t.prototype.forEachTarget=function(t,e){return gD(t).qt(function(t,n){var i=YR(n);e(i)})},t.prototype.se=function(t){return mD(t).get(mR.key).next(function(t){return RT(null!==t),t})},t.prototype.ie=function(t,e){return mD(t).put(mR.key,e)},t.prototype.re=function(t,e){return gD(t).put(KR(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=kS(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return gD(t).qt({range:i,index:fR.queryTargetsIndexName},function(t,n,i){var o=YR(n);AS(e,o.target)&&(r=o,i.done())}).next(function(){return r})},t.prototype.addMatchingKeys=function(t,e,n){var i=this,r=[],o=vD(t);return e.forEach(function(e){var a=eR(e.path);r.push(o.put(new gR(n,a))),r.push(i.referenceDelegate.addReference(t,n,e))}),OR.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var i=this,r=vD(t);return OR.forEach(e,function(e){var o=eR(e.path);return OR.waitFor([r.delete([n,o]),i.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=vD(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=vD(t),r=uI();return i.qt({range:n,Bt:!0},function(t,e,n){var i=rR(t[1]),o=new JT(i);r=r.add(o)}).next(function(){return r})},t.prototype.containsKey=function(t,e){var n=eR(e.path),i=IDBKeyRange.bound([n],[FT(n)],!1,!0),r=0;return vD(t).qt({index:gR.documentTargetsIndex,Bt:!0,range:i},function(t,e,n){0!==t[0]&&(r++,n.done())}).next(function(){return r>0})},t.prototype.yt=function(t,e){return gD(t).get(e).next(function(t){return t?YR(t):null})},t}();function gD(t){return LR(t,fR.store)}function mD(t){return LR(t,mR.store)}function vD(t){return LR(t,gR.store)}function bD(t){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(e){if(t.code!==GT.FAILED_PRECONDITION||t.message!==xR)throw t;return AT("LocalStore","Unexpectedly lost primary lease"),[2]})})}function _D(t,e){var n=t[1],i=e[1],r=zT(t[0],e[0]);return 0===r?zT(n,i):r}var yD=function(){function t(t){this.ce=t,this.buffer=new tI(_D),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();_D(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),CD=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;AT("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(MT.b)(e,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return SR(e=n.sent())?(AT("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,bD(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}})})})},t}(),xD=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return OR.resolve(OT.o);var i=new yD(e);return this.we.forEachTarget(t,function(t){return i.he(t.sequenceNumber)}).next(function(){return n.we.me(t,function(t){return i.he(t)})}).next(function(){return i.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(AT("LruGarbageCollector","Garbage collection skipped; disabled"),OR.resolve(rD)):this.getCacheSize(t).next(function(i){return i<n.params.cacheSizeCollectionThreshold?(AT("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),rD):n.ye(t,e)})},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,i,r,o,a,s,c,l=this,u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(AT("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),i=l.params.maximumSequenceNumbersToCollect):i=e,o=Date.now(),l.nthSequenceNumber(t,i)}).next(function(i){return n=i,a=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return r=e,s=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),kT()<=CO.a.DEBUG&&AT("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-u)+"ms\n\tDetermined least recently used "+i+" in "+(a-o)+"ms\n\tRemoved "+r+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(c-s)+"ms\nTotal Duration: "+(c-u)+"ms"),OR.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})})},t}(),wD=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new xD(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.ge=function(t){var e=0;return this.me(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return MD(t,n)},t.prototype.removeReference=function(t,e,n){return MD(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return MD(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return dD(t).Ut(function(i){return lD(t,i,e).next(function(t){return t&&(n=!0),OR.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.pe(t,function(a,s){if(s<=e){var c=n.Ee(t,a).next(function(e){if(!e)return o++,i.getEntry(t,a).next(function(){return i.removeEntry(a),vD(t).delete([0,eR(a.path)])})});r.push(c)}}).next(function(){return OR.waitFor(r)}).next(function(){return i.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return MD(t,e)},t.prototype.pe=function(t,e){var n,i=vD(t),r=OT.o;return i.qt({index:gR.documentTargetsIndex},function(t,i){var o=i.path,a=i.sequenceNumber;0===t[0]?(r!==OT.o&&e(new JT(rR(n)),r),r=a,n=o):r=OT.o}).next(function(){r!==OT.o&&e(new JT(rR(n)),r)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function MD(t,e){return vD(t).put(function(t,e){return new gR(0,eR(t.path),e)}(e,t.currentSequenceNumber))}var OD=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){BT(this.inner,function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return UT(this.inner)},t}(),PD=function(){function t(){this.changes=new OD(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:cE.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?OR.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),kD=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return SD(t).put(ED(e),n)},t.prototype.removeEntry=function(t,e){var n=SD(t),i=ED(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(i){return i.byteSize+=e,n.Te(t,i)})},t.prototype.getEntry=function(t,e){var n=this;return SD(t).get(ED(e)).next(function(t){return n.Ie(t)})},t.prototype.Ae=function(t,e){var n=this;return SD(t).get(ED(e)).next(function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:sD(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,i=rI();return this.Re(t,e,function(t,e){var r=n.Ie(e);i=i.insert(t,r)}).next(function(){return i})},t.prototype.be=function(t,e){var n=this,i=rI(),r=new $E(JT.comparator);return this.Re(t,e,function(t,e){var o=n.Ie(e);o?(i=i.insert(t,o),r=r.insert(t,sD(e))):(i=i.insert(t,null),r=r.insert(t,0))}).next(function(){return{ve:i,Pe:r}})},t.prototype.Re=function(t,e,n){if(e.isEmpty())return OR.resolve();var i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),r=e.getIterator(),o=r.getNext();return SD(t).qt({range:i},function(t,e,i){for(var a=JT.fromSegments(t);o&&JT.comparator(o,a)<0;)n(o,null),o=r.getNext();o&&o.isEqual(a)&&(n(o,e),o=r.hasNext()?r.getNext():null),o?i.Ot(o.path.toArray()):i.done()}).next(function(){for(;o;)n(o,null),o=r.hasNext()?r.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var i=this,r=aI(),o=e.path.length+1,a={};if(n.isEqual(cE.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var c=e.path.toArray(),l=HR(n);a.range=IDBKeyRange.lowerBound([c,l],!0),a.index=dR.collectionReadTimeIndex}return SD(t).qt(a,function(t,n,a){if(t.length===o){var s=BR(i.D,n);e.path.isPrefixOf(s.key.path)?s instanceof xS&&oE(e,s)&&(r=r.insert(s.key,s)):a.done()}}).next(function(){return r})},t.prototype.newChangeBuffer=function(t){return new AD(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return TD(t).get(pR.key).next(function(t){return RT(!!t),t})},t.prototype.Te=function(t,e){return TD(t).put(pR.key,e)},t.prototype.Ie=function(t){if(t){var e=BR(this.D,t);return e instanceof wS&&e.version.isEqual(cE.min())?null:e}return null},t}(),AD=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Ve=e,i.trackRemovals=n,i.Se=new OD(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),i}return Object(MT.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],i=0,r=new tI(function(t,e){return zT(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Se.get(o);if(a.maybeDocument){var c=UR(e.Ve.D,a.maybeDocument,e.getReadTime(o));r=r.add(o.path.popLast());var l=sD(c);i+=l-s,n.push(e.Ve.addEntry(t,o,c))}else if(i-=s,e.trackRemovals){var u=UR(e.Ve.D,new wS(o,cE.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,u))}else n.push(e.Ve.removeEntry(t,o))}),r.forEach(function(i){n.push(e.Ve.Gt.addToCollectionParentIndex(t,i))}),n.push(this.Ve.updateMetadata(t,i)),OR.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next(function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next(function(t){var e=t.ve;return t.Pe.forEach(function(t,e){n.Se.set(t,e)}),e})},e}(PD);function TD(t){return LR(t,pR.store)}function SD(t){return LR(t,dR.store)}function ED(t){return t.path.toArray()}var ID=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,i){var r=this;RT(n<i&&n>=0&&i<=11);var o=new PR("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(aR.store)}(t),function(t){t.createObjectStore(sR.store,{keyPath:sR.keyPath}),t.createObjectStore(cR.store,{keyPath:cR.keyPath,autoIncrement:!0}).createIndex(cR.userMutationsIndex,cR.userMutationsKeyPath,{unique:!0}),t.createObjectStore(lR.store)}(t),RD(t),function(t){t.createObjectStore(dR.store)}(t));var a=OR.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(gR.store),t.deleteObjectStore(fR.store),t.deleteObjectStore(mR.store)}(t),RD(t)),a=a.next(function(){return function(t){var e=t.store(mR.store),n=new mR(0,0,cE.min().toTimestamp(),0);return e.put(mR.key,n)}(o)})),n<4&&i>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(cR.store).kt().next(function(n){t.deleteObjectStore(cR.store),t.createObjectStore(cR.store,{keyPath:cR.keyPath,autoIncrement:!0}).createIndex(cR.userMutationsIndex,cR.userMutationsKeyPath,{unique:!0});var i=e.store(cR.store),r=n.map(function(t){return i.put(t)});return OR.waitFor(r)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(bR.store,{keyPath:bR.keyPath})}(t)})),n<5&&i>=5&&(a=a.next(function(){return r.De(o)})),n<6&&i>=6&&(a=a.next(function(){return function(t){t.createObjectStore(pR.store)}(t),r.Ce(o)})),n<7&&i>=7&&(a=a.next(function(){return r.xe(o)})),n<8&&i>=8&&(a=a.next(function(){return r.Ne(t,o)})),n<9&&i>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(dR.store);e.createIndex(dR.readTimeIndex,dR.readTimeIndexPath,{unique:!1}),e.createIndex(dR.collectionReadTimeIndex,dR.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&i>=10&&(a=a.next(function(){return r.$e(o)})),n<11&&i>=11&&(a=a.next(function(){!function(t){t.createObjectStore(_R.store,{keyPath:_R.keyPath})}(t),function(t){t.createObjectStore(yR.store,{keyPath:yR.keyPath})}(t)})),a},t.prototype.Ce=function(t){var e=0;return t.store(dR.store).qt(function(t,n){e+=sD(n)}).next(function(){var n=new pR(e);return t.store(pR.store).put(pR.key,n)})},t.prototype.De=function(t){var e=this,n=t.store(sR.store),i=t.store(cR.store);return n.kt().next(function(n){return OR.forEach(n,function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.kt(cR.userMutationsIndex,r).next(function(i){return OR.forEach(i,function(i){RT(i.userId===n.userId);var r=QR(e.D,i);return aD(t,n.userId,r).next(function(){})})})})})},t.prototype.xe=function(t){var e=t.store(gR.store),n=t.store(dR.store);return t.store(mR.store).get(mR.key).next(function(t){var i=[];return n.qt(function(n,r){var o=new KT(n),a=function(t){return[0,eR(t)]}(o);i.push(e.get(a).next(function(n){return n?OR.resolve():function(n){return e.put(new gR(0,eR(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return OR.waitFor(i)})})},t.prototype.Ne=function(t,e){t.createObjectStore(vR.store,{keyPath:vR.keyPath});var n=e.store(vR.store),i=new eD,r=function(t){if(i.add(t)){var e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:eR(r)})}};return e.store(dR.store).qt({Bt:!0},function(t,e){var n=new KT(t);return r(n.popLast())}).next(function(){return e.store(lR.store).qt({Bt:!0},function(t,e){var n=rR(t[1]);return r(n.popLast())})})},t.prototype.$e=function(t){var e=this,n=t.store(fR.store);return n.qt(function(t,i){var r=YR(i),o=KR(e.D,r);return n.put(o)})},t}();function RD(t){t.createObjectStore(gR.store,{keyPath:gR.keyPath}).createIndex(gR.documentTargetsIndex,gR.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(fR.store,{keyPath:fR.keyPath}).createIndex(fR.queryTargetsIndexName,fR.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(mR.store)}var DD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ND=function(){function t(e,n,i,r,o,a,s,c,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Fe=o,this.window=a,this.document=s,this.Oe=l,this.ke=u,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new QT(GT.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wD(this,r),this.We=n+"main",this.D=new qR(c),this.je=new kR(this.We,11,new ID(this.D)),this.Ge=new fD(this.referenceDelegate,this.D),this.Gt=new nD,this.ze=function(t,e){return new kD(t,e)}(this.D,this.Gt),this.He=new $R,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===u&&TT("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new QT(GT.FAILED_PRECONDITION,DD);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ge.getHighestSequenceNumber(e)})}).then(function(e){t.Me=new OT(e,t.Oe)}).then(function(){t.Le=!0}).catch(function(e){return t.je&&t.je.close(),Promise.reject(e)})},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(MT.b)(e,void 0,void 0,function(){return Object(MT.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct(function(n){return Object(MT.b)(e,void 0,void 0,function(){return Object(MT.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return Object(MT.b)(e,void 0,void 0,function(){return Object(MT.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return zD(e).put(new bR(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(e).next(function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(e)}).next(function(n){return t.isPrimary&&!n?t.rn(e).next(function(){return!1}):!!n&&t.on(e).next(function(){return!0})})}).catch(function(e){if(SR(e))return AT("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return AT("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable(function(){return t.Ke(e)}),t.isPrimary=e})},t.prototype.nn=function(t){var e=this;return LD(t).get(aR.key).next(function(t){return OR.resolve(e.cn(t))})},t.prototype.an=function(t){return zD(t).delete(this.clientId)},t.prototype.un=function(){return Object(MT.b)(this,void 0,void 0,function(){var t,e,n,i=this;return Object(MT.d)(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=LR(t,bR.store);return e.kt().next(function(t){var n=i.ln(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)});return OR.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=r.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));r.label=2;case 2:return[2]}})})},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?OR.resolve(!0):LD(t).get(aR.key).next(function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new QT(GT.FAILED_PRECONDITION,DD);return!1}}return!(!e.networkEnabled||!e.inForeground)||zD(t).kt().next(function(t){return void 0===e.ln(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&AT("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(MT.b)(this,void 0,void 0,function(){var t=this;return Object(MT.d)(this,function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[aR.store,bR.store],function(e){var n=new NR(e,OT.o);return t.rn(n).next(function(){return t.an(n)})})];case 1:return e.sent(),this.je.close(),this.yn(),[2]}})})},t.prototype.ln=function(t,e){var n=this;return t.filter(function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)})},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return zD(e).kt().next(function(e){return t.ln(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return cD.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var i,r=this;return AT("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",CR,function(o){return i=new NR(o,r.Me?r.Me.next():OT.o),"readwrite-primary"===e?r.nn(i).next(function(t){return!!t||r.sn(i)}).next(function(e){if(!e)throw TT("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Fe.enqueueRetryable(function(){return r.Ke(!1)}),new QT(GT.FAILED_PRECONDITION,xR);return n(i)}).next(function(t){return r.on(i).next(function(){return t})}):r.pn(i).next(function(){return n(i)})}).then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.pn=function(t){var e=this;return LD(t).get(aR.key).next(function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new QT(GT.FAILED_PRECONDITION,DD)})},t.prototype.on=function(t){var e=new aR(this.clientId,this.allowTabSynchronization,Date.now());return LD(t).put(aR.key,e)},t.At=function(){return kR.At()},t.prototype.rn=function(t){var e=this,n=LD(t);return n.get(aR.key).next(function(t){return e.cn(t)?(AT("IndexedDbPersistence","Releasing primary lease."),n.delete(aR.key)):OR.resolve()})},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(TT("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return AT("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return TT("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){TT("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function LD(t){return LR(t,aR.store)}function zD(t){return LR(t,bR.store)}function jD(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var FD=function(t,e){this.progress=t,this.En=e},qD=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(i){return n.An(t,e,i)})},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next(function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].applyToLocalView(e,t);return t})},t.prototype.Rn=function(t,e,n){var i=rI();return e.forEach(function(t,e){for(var r=0,o=n;r<o.length;r++)e=o[r].applyToLocalView(t,e);i=i.insert(t,e)}),i},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next(function(e){return n.vn(t,e)})},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(i){var r=n.Rn(t,e,i),o=iI();return r.forEach(function(t,e){e||(e=new wS(t,cE.min())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return JT.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):JS(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new JT(e)).next(function(t){var e=aI();return t instanceof xS&&(e=e.insert(t.key,t)),e})},t.prototype.Vn=function(t,e,n){var i=this,r=e.collectionGroup,o=aI();return this.Gt.getCollectionParents(t,r).next(function(a){return OR.forEach(a,function(a){var s=function(t,e){return new WS(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(r));return i.Sn(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.Sn=function(t,e,n){var i,r,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next(function(n){return i=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Dn(t,r=e,i).next(function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var c=s[a],l=c.key,u=DE(c,i.get(l),o.localWriteTime);i=u instanceof xS?i.insert(l,u):i.remove(l)}})}).next(function(){return i.forEach(function(t,n){oE(e,n)||(i=i.remove(t))}),i})},t.prototype.Dn=function(t,e,n){for(var i=uI(),r=0,o=e;r<o.length;r++)for(var a=0,s=o[r].mutations;a<s.length;a++){var c=s[a];c instanceof FE&&null===n.get(c.key)&&(i=i.add(c.key))}var l=n;return this.ze.getEntries(t,i).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof xS&&(l=l.insert(t,e))}),l})},t}(),BD=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=i}return t.Nn=function(e,n){for(var i=uI(),r=uI(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),UD=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,i){var r=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(cE.min())?this.On(t,e):this.Fn.bn(t,i).next(function(o){var a=r.kn(e,o);return(YS(e)||KS(e))&&r.Mn(e.limitType,a,i,n)?r.On(t,e):(kT()<=CO.a.DEBUG&&AT("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),rE(e)),r.Fn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.kn=function(t,e){var n=new tI(aE(t));return e.forEach(function(e,i){i instanceof xS&&oE(t,i)&&(n=n.add(i))}),n},t.prototype.Mn=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)},t.prototype.On=function(t,e){return kT()<=CO.a.DEBUG&&AT("QueryEngine","Using full collection scan to execute query:",rE(e)),this.Fn.getDocumentsMatchingQuery(t,e,cE.min())},t}(),HD=function(){function t(t,e,n,i){this.persistence=t,this.Ln=e,this.D=i,this.Bn=new $E(zT),this.qn=new OD(function(t){return kS(t)},AS),this.Un=cE.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new qD(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Bn)})},t}();function VD(t,e,n,i){return new HD(t,e,n,i)}function WD(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o;return Object(MT.d)(this,function(a){switch(a.label){case 0:return n=DT(t),i=n.Tn,r=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Tn.getAllMutationBatches(t).next(function(a){return o=a,i=n.persistence.getMutationQueue(e),r=new qD(n.Qn,i,n.persistence.getIndexManager()),i.getAllMutationBatches(t)}).next(function(e){for(var n=[],i=[],a=uI(),s=0,c=o;s<c.length;s++){var l=c[s];n.push(l.batchId);for(var u=0,h=l.mutations;u<h.length;u++)a=a.add(h[u].key)}for(var d=0,p=e;d<p.length;d++){var f=p[d];i.push(f.batchId);for(var g=0,m=f.mutations;g<m.length;g++)a=a.add(m[g].key)}return r.bn(t,a).next(function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:i}})})})];case 1:return o=a.sent(),[2,(n.Tn=i,n.Kn=r,n.Ln.$n(n.Kn),o)]}})})}function GD(t,e){var n=DT(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var i=e.batch.keys(),r=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){var r=n.batch,o=r.keys(),a=OR.resolve();return o.forEach(function(t){a=a.next(function(){return i.getEntry(e,t)}).next(function(e){var o=e,a=n.docVersions.get(t);RT(null!==a),(!o||o.version.compareTo(a)<0)&&(o=r.applyToRemoteDocument(t,o,n))&&i.addEntry(o,n.commitVersion)})}),a.next(function(){return t.Tn.removeMutationBatch(e,r)})}(n,t,e,r).next(function(){return r.apply(t)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,i)})})}function QD(t){var e=DT(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ge.getLastRemoteSnapshotVersion(t)})}function YD(t,e){var n=DT(t),i=e.snapshotVersion,r=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});r=n.Bn;var a=[];e.targetChanges.forEach(function(e,o){var s=r.get(o);if(s){a.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)}));var c=e.resumeToken;if(c.approximateByteSize()>0){var l=s.withResumeToken(c,i).withSequenceNumber(t.currentSequenceNumber);r=r.insert(o,l),function(t,e,n){return RT(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,l,e)&&a.push(n.Ge.updateTargetData(t,l))}}});var s=iI();if(e.documentUpdates.forEach(function(i,r){e.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))}),a.push(KD(t,o,e.documentUpdates,i,void 0).next(function(t){s=t})),!i.isEqual(cE.min())){var c=n.Ge.getLastRemoteSnapshotVersion(t).next(function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,i)});a.push(c)}return OR.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Kn.vn(t,s)})}).then(function(t){return n.Bn=r,t})}function KD(t,e,n,i,r){var o=uI();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=iI();return n.forEach(function(n,a){var s=t.get(n),c=(null==r?void 0:r.get(n))||i;a instanceof wS&&a.version.isEqual(cE.min())?(e.removeEntry(n,c),o=o.insert(n,a)):null==s||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,c),o=o.insert(n,a)):AT("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function XD(t,e){var n=DT(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)})}function $D(t,e){var n=DT(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var i;return n.Ge.getTargetData(t,e).next(function(r){return r?OR.resolve(i=r):n.Ge.allocateTargetId(t).next(function(r){return i=new FR(e,r,0,t.currentSequenceNumber),n.Ge.addTargetData(t,i).next(function(){return i})})})}).then(function(t){var i=n.Bn.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function JD(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r,o,a;return Object(MT.d)(this,function(s){switch(s.label){case 0:i=DT(t),r=i.Bn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",o,function(t){return i.persistence.referenceDelegate.removeTarget(t,r)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!SR(a=s.sent()))throw a;return AT("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.Bn=i.Bn.remove(e),i.qn.delete(r.target),[2]}})})}function ZD(t,e,n){var i=DT(t),r=cE.min(),o=uI();return i.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var i=DT(t),r=i.qn.get(n);return void 0!==r?OR.resolve(i.Bn.get(r)):i.Ge.getTargetData(e,n)}(i,t,tE(e)).next(function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.Ge.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return i.Ln.getDocumentsMatchingQuery(t,e,n?r:cE.min(),n?o:uI())}).next(function(t){return{documents:t,jn:o}})})}function tN(t,e){var n=DT(t),i=DT(n.Ge),r=n.Bn.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",function(t){return i.yt(t,e).next(function(t){return t?t.target:null})})}function eN(t){var e=DT(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var i=DT(t),r=iI(),o=HR(n),a=SD(e),s=IDBKeyRange.lowerBound(o,!0);return a.qt({index:dR.readTimeIndex,range:s},function(t,e){var n=BR(i.D,e);r=r.insert(n.key,n),o=e.readTime}).next(function(){return{En:r,readTime:VR(o)}})}(e.Qn,t,e.Un)}).then(function(t){var n=t.En;return e.Un=t.readTime,n})}function nN(t){return Object(MT.b)(this,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){return[2,(e=DT(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=SD(t),n=cE.min();return e.qt({index:dR.readTimeIndex,reverse:!0},function(t,e,i){e.readTime&&(n=VR(e.readTime)),i.done()}).next(function(){return n})}(t)}).then(function(t){e.Un=t})]})})}function iN(t,e,n,i){return Object(MT.b)(this,void 0,void 0,function(){var r,o,a,s,c,l,u,h,d,p;return Object(MT.d)(this,function(f){switch(f.label){case 0:for(r=DT(t),o=uI(),a=iI(),s=cI(),c=0,l=n;c<l.length;c++)h=e.Gn((u=l[c]).metadata.name),u.document&&(o=o.add(h)),a=a.insert(h,e.zn(u)),s=s.insert(h,e.Hn(u.metadata.readTime));return d=r.Qn.newChangeBuffer({trackRemovals:!0}),[4,$D(r,function(t){return tE(QS(KT.fromString("__bundle__/docs/"+t)))}(i))];case 1:return p=f.sent(),[2,r.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return KD(t,d,a,cE.min(),s).next(function(e){return d.apply(t),e}).next(function(e){return r.Ge.removeMatchingKeysForTargetId(t,p.targetId).next(function(){return r.Ge.addMatchingKeys(t,o,p.targetId)}).next(function(){return r.Kn.vn(t,e)})})})]}})})}function rN(t,e,n){return void 0===n&&(n=uI()),Object(MT.b)(this,void 0,void 0,function(){var i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return[4,$D(t,tE(XR(e.bundledQuery)))];case 1:return i=o.sent(),[2,(r=DT(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=AI(e.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.He.saveNamedQuery(t,e);var a=i.withResumeToken(ZT.EMPTY_BYTE_STRING,o);return r.Bn=r.Bn.insert(a.targetId,a),r.Ge.updateTargetData(t,a).next(function(){return r.Ge.removeMatchingKeysForTargetId(t,i.targetId)}).next(function(){return r.Ge.addMatchingKeys(t,n,i.targetId)}).next(function(){return r.He.saveNamedQuery(t,e)})})]}})})}var oN=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return OR.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:AI(n.createTime)}),OR.resolve()},t.prototype.getNamedQuery=function(t,e){return OR.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:XR(t.bundledQuery),readTime:AI(t.readTime)}}(e)),OR.resolve()},t}(),aN=function(){function t(){this.Xn=new tI(sN.Zn),this.ts=new tI(sN.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new sN(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.ss(new sN(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.os=function(t){var e=this,n=new JT(new KT([])),i=new sN(n,t),r=new sN(n,t+1),o=[];return this.ts.forEachInRange([i,r],function(t){e.ss(t),o.push(t.key)}),o},t.prototype.cs=function(){var t=this;this.Xn.forEach(function(e){return t.ss(e)})},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new JT(new KT([])),n=new sN(e,t),i=new sN(e,t+1),r=uI();return this.ts.forEachInRange([n,i],function(t){r=r.add(t.key)}),r},t.prototype.containsKey=function(t){var e=new sN(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),sN=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return JT.comparator(t.key,e.key)||zT(t.hs,e.hs)},t.es=function(t,e){return zT(t.hs,e.hs)||JT.comparator(t.key,e.key)},t}(),cN=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new tI(sN.Zn)}return t.prototype.checkEmpty=function(t){return OR.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,i){var r=this.ls;this.ls++;var o=new zR(r,e,n,i);this.Tn.push(o);for(var a=0,s=i;a<s.length;a++){var c=s[a];this.fs=this.fs.add(new sN(c.key,r)),this.Gt.addToCollectionParentIndex(t,c.key.path.popLast())}return OR.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return OR.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),i=n<0?0:n;return OR.resolve(this.Tn.length>i?this.Tn[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return OR.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return OR.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=new sN(e,0),r=new sN(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([i,r],function(t){var e=n.ds(t.hs);o.push(e)}),OR.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new tI(zT);return e.forEach(function(t){var e=new sN(t,0),r=new sN(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,r],function(t){i=i.add(t.hs)})}),OR.resolve(this._s(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,i=n.length+1,r=n;JT.isDocumentKey(r)||(r=r.child(""));var o=new sN(new JT(r),0),a=new tI(zT);return this.fs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(a=a.add(t.hs)),!0)},o),OR.resolve(this._s(a))},t.prototype._s=function(t){var e=this,n=[];return t.forEach(function(t){var i=e.ds(t);null!==i&&n.push(i)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;RT(0===this.ys(e.batchId,"removed")),this.Tn.shift();var i=this.fs;return OR.forEach(e.mutations,function(r){var o=new sN(r.key,e.batchId);return i=i.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(function(){n.fs=i})},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new sN(e,0),i=this.fs.firstAfterOrEqual(n);return OR.resolve(e.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(t){return OR.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),lN=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new $E(JT.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var i=e.key,r=this.docs.get(i),o=r?r.size:0,a=this.gs(e);return this.docs=this.docs.insert(i,{maybeDocument:e,size:a,readTime:n}),this.size+=a-o,this.Gt.addToCollectionParentIndex(t,i.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return OR.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,i=rI();return e.forEach(function(t){var e=n.docs.get(t);i=i.insert(t,e?e.maybeDocument:null)}),OR.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var i=aI(),r=new JT(e.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var a=o.getNext(),s=a.value,c=s.maybeDocument,l=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;l.compareTo(n)<=0||c instanceof xS&&oE(e,c)&&(i=i.insert(c.key,c))}return OR.resolve(i)},t.prototype.ps=function(t,e){return OR.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new uN(this)},t.prototype.getSize=function(t){return OR.resolve(this.size)},t}(),uN=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(MT.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(i,r){r&&r.maybeDocument?n.push(e.Ve.addEntry(t,r.maybeDocument,e.getReadTime(i))):e.Ve.removeEntry(i)}),OR.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(PD),hN=function(){function t(t){this.persistence=t,this.Es=new OD(function(t){return kS(t)},AS),this.lastRemoteSnapshotVersion=cE.min(),this.highestTargetId=0,this.Ts=0,this.Is=new aN,this.targetCount=0,this.As=pD.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach(function(t,n){return e(n)}),OR.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return OR.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return OR.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),OR.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),OR.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new pD(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,OR.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),OR.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,OR.resolve()},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return this.Es.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(i.Es.delete(a),o.push(i.removeMatchingKeysForTargetId(t,s.targetId)),r++)}),OR.waitFor(o).next(function(){return r})},t.prototype.getTargetCount=function(t){return OR.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return OR.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),OR.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach(function(e){r.push(i.markPotentiallyOrphaned(t,e))}),OR.waitFor(r)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),OR.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return OR.resolve(n)},t.prototype.containsKey=function(t,e){return OR.resolve(this.Is.containsKey(e))},t}(),dN=function(){function t(t,e){var n=this;this.Rs={},this.Me=new OT(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new hN(this),this.Gt=new tD,this.ze=function(t,e){return new lN(t,function(t){return n.referenceDelegate.bs(t)})}(this.Gt),this.D=new qR(e),this.He=new oN(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new cN(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var i=this;AT("MemoryPersistence","Starting transaction:",t);var r=new pN(this.Me.next());return this.referenceDelegate.vs(),n(r).next(function(t){return i.referenceDelegate.Ps(r).next(function(){return t})}).toPromise().then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.Vs=function(t,e){return OR.or(Object.values(this.Rs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),pN=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(MT.c)(e,t),e}(wR),fN=function(){function t(t){this.persistence=t,this.Ss=new aN,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw IT()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),OR.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),OR.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),OR.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach(function(t){return n.xs.add(t.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.xs.add(t.toString())})}).next(function(){return i.removeTargetData(t,e)})},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return OR.forEach(this.xs,function(i){var r=JT.fromPath(i);return e.Ns(t,r).next(function(t){t||n.removeEntry(r)})}).next(function(){return e.Ds=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next(function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())})},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return OR.or([function(){return OR.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),gN=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function mN(t,e){return"firestore_clients_"+t+"_"+e}function vN(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function bN(t,e){return"firestore_targets_"+t+"_"+e}gN.UNAUTHENTICATED=new gN(null),gN.GOOGLE_CREDENTIALS=new gN("google-credentials-uid"),gN.FIRST_PARTY=new gN("first-party-uid");var _N=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.$s=function(e,n,i){var r,o=JSON.parse(i),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(r=new QT(o.error.code,o.error.message)),a?new t(e,n,o.state,r):(TT("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),yN=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var i,r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new QT(r.error.code,r.error.message)),o?new t(e,r.state,i):(TT("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),CN=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=dI(),a=0;r&&a<i.activeTargetIds.length;++a)r=WT(i.activeTargetIds[a]),o=o.add(i.activeTargetIds[a]);return r?new t(e,o):(TT("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),xN=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(TT("SharedClientState","Failed to parse online state: "+e),null)},t}(),wN=function(){function t(){this.activeTargetIds=dI()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),MN=function(){function t(t,e,n,i,r){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new $E(zT),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.Qs=mN(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new wN),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(MT.b)(this,void 0,void 0,function(){var t,e,n,i,r,o,a,s,c,l,u=this;return Object(MT.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ms&&(r=this.getItem(mN(this.persistenceKey,i)))&&(o=CN.$s(i,r))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(a=this.storage.getItem(this.zs))&&(s=this.Ys(a))&&this.Xs(s),c=0,l=this.Us;c<l.length;c++)this.Bs(l[c]);return this.Us=[],this.window.addEventListener("unload",function(){return u.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach(function(n,i){i.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(bN(this.persistenceKey,t));if(n){var i=yN.$s(t,n);i&&(e=i.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(bN(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var i=this;e.forEach(function(t){i.ei(t)}),this.currentUser=t,n.forEach(function(t){i.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return AT("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){AT("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){AT("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(AT("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void TT("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return Object(MT.b)(e,void 0,void 0,function(){var t,e,i,r,o,a;return Object(MT.d)(this,function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(i=this.ui(n.key,n.newValue)))return[2,this.hi(i)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(r=this.li(n.key,n.newValue)))return[2,this.fi(r)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(a=function(t){var e=OT.o;if(null!=t)try{var n=JSON.parse(t);RT("number"==typeof n),e=n}catch(t){TT("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==OT.o&&this.sequenceNumberHandler(a);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var i=new _N(this.currentUser,t,e,n),r=vN(this.persistenceKey,this.currentUser,t);this.setItem(r,i.Fs())},t.prototype.ei=function(t){var e=vN(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var i=bN(this.persistenceKey,t),r=new yN(t,e,n);this.setItem(i,r.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return CN.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),i=Number(n[1]);return _N.$s(new gN(void 0!==n[2]?n[2]:null),i,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),i=Number(n[1]);return yN.$s(i,e)},t.prototype.Ys=function(t){return xN.$s(t)},t.prototype.hi=function(t){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(AT("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,i=e?this.qs.insert(t,e):this.qs.remove(t),r=this.Zs(this.qs),o=this.Zs(i),a=[],s=[];return o.forEach(function(t){r.has(t)||a.push(t)}),r.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.mi(a,s).then(function(){n.qs=i})},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=dI();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),ON=function(){function t(){this.yi=new wN,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new wN,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),PN=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),kN=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){AT("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){AT("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),AN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},TN=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),SN=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(MT.c)(e,t),e.prototype.qi=function(t,e,n,i){return new Promise(function(r,o){var a=new wT;a.listenOnce(yT.COMPLETE,function(){try{switch(a.getLastErrorCode()){case _T.NO_ERROR:var e=a.getResponseJson();AT("Connection","XHR received:",JSON.stringify(e)),r(e);break;case _T.TIMEOUT:AT("Connection",'RPC "'+t+'" timed out'),o(new QT(GT.DEADLINE_EXCEEDED,"Request time out"));break;case _T.HTTP_ERROR:var n=a.getStatus();if(AT("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var i=a.getResponseJson().error;if(i&&i.status&&i.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(GT).indexOf(e)>=0?e:GT.UNKNOWN}(i.status);o(new QT(s,i.message))}else o(new QT(GT.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new QT(GT.UNAVAILABLE,"Connection failed."));break;default:IT()}}finally{AT("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(i);a.send(e,"POST",s,n,15)})},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new fT,r=vk(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(o.initMessageHeaders,e),Object(xO.x)()||Object(xO.A)()||Object(xO.t)()||Object(xO.v)()||Object(xO.B)()||Object(xO.s)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");AT("Connection","Creating WebChannel: "+a,o);var s=i.createWebChannel(a,o),c=!1,l=!1,u=new TN({vi:function(t){l?AT("Connection","Not sending because WebChannel is closed:",t):(c||(AT("Connection","Opening WebChannel transport."),s.open(),c=!0),AT("Connection","WebChannel sending:",t),s.send(t))},Pi:function(){return s.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(s,xT.EventType.OPEN,function(){l||AT("Connection","WebChannel transport opened.")}),h(s,xT.EventType.CLOSE,function(){l||(l=!0,AT("Connection","WebChannel transport closed"),u.$i())}),h(s,xT.EventType.ERROR,function(t){l||(l=!0,ST("Connection","WebChannel transport errored:",t),u.$i(new QT(GT.UNAVAILABLE,"The operation could not be completed")))}),h(s,xT.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];RT(!!n);var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){AT("Connection","WebChannel received error:",i);var r=i.status,o=function(t){var e=VE[t];if(void 0!==e)return XE(e)}(r),a=i.message;void 0===o&&(o=GT.INTERNAL,a="Unknown error status: "+r+" with message "+i.message),l=!0,u.$i(new QT(o,a)),s.close()}else AT("Connection","WebChannel received:",n),u.Fi(n)}}),h(r,CT.STAT_EVENT,function(t){10===t.stat?AT("Connection","Detected buffering proxy"):11===t.stat&&AT("Connection","Detected no buffering proxy")}),setTimeout(function(){u.Ni()},0),u},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,i){var r=this.Li(t,e);AT("RestConnection","Sending: ",r,n);var o={};return this.Bi(o,i),this.qi(t,r,o,n).then(function(t){return AT("RestConnection","Received: ",t),t},function(e){throw ST("RestConnection",t+" failed with error: ",e,"url: ",r,"request:",n),e})},t.prototype.Ui=function(t,e,n,i){return this.Mi(t,e,n,i)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+AN[t]},t}());function EN(){return"undefined"!=typeof window?window:null}function IN(){return"undefined"!=typeof document?document:null}function RN(t){return new MI(t,!0)}var DN=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=i,this.ji=r,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),i=Math.max(0,Date.now()-this.Hi),r=Math.max(0,n-i);r>0&&AT("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,r,function(){return e.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),NN=function(){function t(t,e,n,i,r,o){this.Fe=t,this.tr=n,this.er=i,this.nr=r,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new DN(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===GT.RESOURCE_EXHAUSTED?(TT(e.toString()),TT("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===GT.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}})})},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then(function(e){t.sr===n&&t.gr(e)},function(n){e(function(){var e=new QT(GT.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)})})},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){n(function(){return e.state=2,e.listener.Vi()})}),this.stream.Di(function(t){n(function(){return e.pr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return Object(MT.b)(t,void 0,void 0,function(){return Object(MT.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.pr=function(t){return AT("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget(function(){return e.sr===t?n():(AT("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),LN=function(t){function e(e,n,i,r,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,o)||this).D=r,a}return Object(MT.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:IT()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(t,e){return t.V?(RT(void 0===e||"string"==typeof e),ZT.fromBase64String(e||"")):(RT(void 0===e||e instanceof Uint8Array),ZT.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?GT.UNKNOWN:XE(t.code);return new QT(e,t.message||"")}(s);n=new vI(i,r,o,a||null)}else if("documentChange"in e){r=II(t,(i=e.documentChange).document.name),o=AI(i.document.updateTime);var s=new uE({mapValue:{fields:i.document.fields}}),c=(a=new xS(r,o,s,{}),i.targetIds||[]);n=new gI(c,i.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)r=II(t,(i=e.documentDelete).document),o=i.readTime?AI(i.readTime):cE.min(),s=new wS(r,o),n=new gI([],a=i.removedTargetIds||[],s.key,s);else if("documentRemove"in e)r=II(t,(i=e.documentRemove).document),n=new gI([],o=i.removedTargetIds||[],r,null);else{if(!("filter"in e))return IT();var l=e.filter;r=new YE(i=l.count||0),n=new mI(o=l.targetId,r)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return cE.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?cE.min():e.readTime?AI(e.readTime):cE.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=NI(this.D),e.addTarget=function(t,e){var n,i=e.target;return(n=TS(i)?{documents:BI(t,i)}:{query:UI(t,i)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=PI(t,e.resumeToken):e.snapshotVersion.compareTo(cE.min())>0&&(n.readTime=OI(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return IT()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=NI(this.D),e.removeTarget=t,this.wr(e)},e}(NN),zN=function(t){function e(e,n,i,r,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,o)||this).D=r,a.Rr=!1,a}return Object(MT.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(RT(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(RT(void 0!==e),t.map(function(t){return function(t,e){var n=AI(t.updateTime?t.updateTime:e);return n.isEqual(cE.min())&&(n=AI(e)),new TE(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=AI(t.commitTime);return this.listener.Pr(n,e)}return RT(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=NI(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return FI(e.D,t)})};this.wr(n)},e}(NN),jN=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).credentials=e,r.er=n,r.D=i,r.Dr=!1,r}return Object(MT.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new QT(GT.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var i=this;return this.Cr(),this.credentials.getToken().then(function(r){return i.er.Mi(t,e,n,r)}).catch(function(t){throw t.code===GT.UNAUTHENTICATED&&i.credentials.invalidateToken(),t})},e.prototype.Ui=function(t,e,n){var i=this;return this.Cr(),this.credentials.getToken().then(function(r){return i.er.Ui(t,e,n,r)}).catch(function(t){throw t.code===GT.UNAUTHENTICATED&&i.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Dr=!1},e}(function(){}),FN=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(TT(e),this.Fr=!1):AT("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),qN=function(t,e,n,i,r){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=r,this.Wr.pi(function(t){n.enqueueAndForget(function(){return Object(MT.b)(o,void 0,void 0,function(){return Object(MT.d)(this,function(t){switch(t.label){case 0:return KN(this)?(AT("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(MT.b)(this,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return(e=DT(t)).Qr.add(4),[4,UN(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,BN(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.jr=new FN(n,i)};function BN(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n;return Object(MT.d)(this,function(i){switch(i.label){case 0:if(!KN(t))return[3,4];e=0,n=t.Kr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function UN(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n;return Object(MT.d)(this,function(i){switch(i.label){case 0:e=0,n=t.Kr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function HN(t,e){var n=DT(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),YN(n)?QN(n):uL(n).ar()&&WN(n,e))}function VN(t,e){var n=DT(t),i=uL(n);n.Ur.delete(e),i.ar()&&GN(n,e),0===n.Ur.size&&(i.ar()?i.lr():KN(n)&&n.jr.set("Unknown"))}function WN(t,e){t.Gr.H(e.targetId),uL(t).Ir(e)}function GN(t,e){t.Gr.H(e),uL(t).Ar(e)}function QN(t){t.Gr=new _I({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),uL(t).start(),t.jr.Or()}function YN(t){return KN(t)&&!uL(t).cr()&&t.Ur.size>0}function KN(t){return 0===DT(t).Qr.size}function XN(t){t.Gr=void 0}function $N(t){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(e){return t.Ur.forEach(function(e,n){WN(t,e)}),[2]})})}function JN(t,e){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(n){return XN(t),YN(t)?(t.jr.Lr(e),QN(t)):t.jr.set("Unknown"),[2]})})}function ZN(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r,o;return Object(MT.d)(this,function(a){switch(a.label){case 0:if(t.jr.set("Online"),!(e instanceof vI&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o;return Object(MT.d)(this,function(a){switch(a.label){case 0:n=e.cause,i=0,r=e.targetIds,a.label=1;case 1:return i<r.length?t.Ur.has(o=r[i])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),AT("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,tL(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof gI?t.Gr.st(e):e instanceof mI?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(cE.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,QD(t.localStore)];case 8:return r=a.sent(),n.compareTo(r)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach(function(n,i){if(n.resumeToken.approximateByteSize()>0){var r=t.Ur.get(i);r&&t.Ur.set(i,r.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(ZT.EMPTY_BYTE_STRING,n.snapshotVersion)),GN(t,e);var i=new FR(n.target,e,1,n.sequenceNumber);WN(t,i)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return AT("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,tL(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function tL(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i=this;return Object(MT.d)(this,function(r){switch(r.label){case 0:if(!SR(e))throw e;return t.Qr.add(1),[4,UN(t)];case 1:return r.sent(),t.jr.set("Offline"),n||(n=function(){return QD(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(MT.b)(i,void 0,void 0,function(){return Object(MT.d)(this,function(e){switch(e.label){case 0:return AT("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,BN(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function eL(t,e){return e().catch(function(n){return tL(t,n,e)})}function nL(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n,i,r,o;return Object(MT.d)(this,function(a){switch(a.label){case 0:e=DT(t),n=hL(e),i=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return KN(t)&&t.qr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,XD(e.localStore,i)];case 3:return null===(r=a.sent())?(0===e.qr.length&&n.lr(),[3,7]):(i=r.batchId,function(t,e){t.qr.push(e);var n=hL(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,r),[3,6]);case 4:return o=a.sent(),[4,tL(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return iL(e)&&rL(e),[2]}})})}function iL(t){return KN(t)&&!hL(t).cr()&&t.qr.length>0}function rL(t){hL(t).start()}function oL(t){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(e){return hL(t).Sr(),[2]})})}function aL(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n,i;return Object(MT.d)(this,function(r){for(e=hL(t),n=0,i=t.qr;n<i.length;n++)e.vr(i[n].mutations);return[2]})})}function sL(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return i=t.qr.shift(),r=jR.from(i,e,n),[4,eL(t,function(){return t.remoteSyncer.applySuccessfulWrite(r)})];case 1:return o.sent(),[4,nL(t)];case 2:return o.sent(),[2]}})})}function cL(t,e){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(n){switch(n.label){case 0:return e&&hL(t).br?[4,function(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return KE(i=e.code)&&i!==GT.ABORTED?(n=t.qr.shift(),hL(t).hr(),[4,eL(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return r.sent(),[4,nL(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return iL(t)&&rL(t),[2]}})})}function lL(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return n=DT(t),e?(n.Qr.delete(2),[4,BN(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,UN(n)]);case 3:i.sent(),n.jr.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function uL(t){var e=this;return t.zr||(t.zr=function(t,e,n){var i=DT(t);return i.Cr(),new LN(e,i.er,i.credentials,i.D,n)}(t.datastore,t.asyncQueue,{Vi:$N.bind(null,t),Di:JN.bind(null,t),Tr:ZN.bind(null,t)}),t.Kr.push(function(n){return Object(MT.b)(e,void 0,void 0,function(){return Object(MT.d)(this,function(e){switch(e.label){case 0:return n?(t.zr.hr(),YN(t)?QN(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),XN(t),e.label=3;case 3:return[2]}})})})),t.zr}function hL(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var i=DT(t);return i.Cr(),new zN(e,i.er,i.credentials,i.D,n)}(t.datastore,t.asyncQueue,{Vi:oL.bind(null,t),Di:cL.bind(null,t),Vr:aL.bind(null,t),Pr:sL.bind(null,t)}),t.Kr.push(function(n){return Object(MT.b)(e,void 0,void 0,function(){return Object(MT.d)(this,function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,nL(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(AT("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}})})})),t.Hr}var dL=function(){function t(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new MR,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,i,r,o){var a=new t(e,n,Date.now()+i,r,o);return a.start(i),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new QT(GT.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function pL(t,e){if(TT("AsyncQueue",e+": "+t),SR(t))return new QT(GT.UNAVAILABLE,e+": "+t);throw t}var fL=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||JT.comparator(e.key,n.key)}:function(t,e){return JT.comparator(t.key,e.key)},this.keyedMap=aI(),this.sortedSet=new $E(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),gL=function(){function t(){this.Jr=new $E(JT.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):IT():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),mL=function(){function t(t,e,n,i,r,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,i,r){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,fL.emptySet(n),o,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nE(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),vL=function(){this.Xr=void 0,this.listeners=[]},bL=function(){this.queries=new OD(function(t){return iE(t)},nE),this.onlineState="Unknown",this.Zr=new Set};function _L(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o,a,s,c;return Object(MT.d)(this,function(l){switch(l.label){case 0:if(n=DT(t),r=!1,(o=n.queries.get(i=e.query))||(r=!0,o=new vL),!r)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),a=o,[4,n.onListen(i)];case 2:return a.Xr=l.sent(),[3,4];case 3:return s=l.sent(),c=pL(s,"Initialization of query '"+rE(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(i,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&wL(n),[2]}})})}function yL(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o,a;return Object(MT.d)(this,function(s){return n=DT(t),r=!1,(o=n.queries.get(i=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),r=0===o.listeners.length),r?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function CL(t,e){for(var n=DT(t),i=!1,r=0,o=e;r<o.length;r++){var a=o[r],s=n.queries.get(a.query);if(s){for(var c=0,l=s.listeners;c<l.length;c++)l[c].no(a)&&(i=!0);s.Xr=a}}i&&wL(n)}function xL(t,e,n){var i=DT(t),r=i.queries.get(e);if(r)for(var o=0,a=r.listeners;o<a.length;o++)a[o].onError(n);i.queries.delete(e)}function wL(t){t.Zr.forEach(function(t){t.next()})}var ML=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new mL(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=mL.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),OL=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),PL=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return II(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?jI(this.D,t.document,!1):new wS(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return AI(t)},t}(),kL=function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=AL(t)}return t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new PL(this.D),i=0,r=t;i<r.length;i++){var o=r[i];if(o.metadata.queries)for(var a=n.Gn(o.metadata.name),s=0,c=o.metadata.queries;s<c.length;s++){var l=c[s],u=(e.get(l)||uI()).add(a);e.set(l,u)}}return e},t.prototype.complete=function(){return Object(MT.b)(this,void 0,void 0,function(){var t,e,n,i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return[4,iN(this.localStore,new PL(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,i=this.queries,o.label=2;case 2:return n<i.length?[4,rN(this.localStore,r=i[n],e.get(r.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new FD(Object.assign({},this.progress),t))]}})})},t}();function AL(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var TL=function(t){this.key=t},SL=function(t){this.key=t},EL=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=uI(),this.mutatedKeys=uI(),this.po=aE(t),this.Eo=new fL(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,i=e?e.Ao:new gL,r=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,a=r,s=!1,c=YS(this.query)&&r.size===this.query.limit?r.last():null,l=KS(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(function(t,e){var u=r.get(t),h=e instanceof xS?e:null;h&&(h=oE(n.query,h)?h:null);var d=!!u&&n.mutatedKeys.has(u.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),f=!1;u&&h?u.data().isEqual(h.data())?d!==p&&(i.track({type:3,doc:h}),f=!0):n.Ro(u,h)||(i.track({type:2,doc:h}),f=!0,(c&&n.po(h,c)>0||l&&n.po(h,l)<0)&&(s=!0)):!u&&h?(i.track({type:0,doc:h}),f=!0):u&&!h&&(i.track({type:1,doc:u}),f=!0,(c||l)&&(s=!0)),f&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),YS(this.query)||KS(this.query))for(;a.size>this.query.limit;){var u=YS(this.query)?a.last():a.first();a=a.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{Eo:a,Ao:i,Mn:s,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var i=this,r=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return IT()}};return n(t)-n(e)}(t.type,e.type)||i.po(t.doc,e.doc)}),this.bo(n);var a=e?this.vo():[],s=0===this.yo.size&&this.current?1:0,c=s!==this.mo;return this.mo=s,0!==o.length||c?{snapshot:new mL(this.query,t.Eo,r,o,t.mutatedKeys,0===s,c,!1),Po:a}:{Po:a}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new gL,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._o=e._o.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e._o=e._o.delete(t)}),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=uI(),this.Eo.forEach(function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))});var n=[];return e.forEach(function(e){t.yo.has(e)||n.push(new SL(e))}),this.yo.forEach(function(t){e.has(t)||n.push(new TL(t))}),n},t.prototype.So=function(t){this._o=t.jn,this.yo=uI();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return mL.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),IL=function(t,e,n){this.query=t,this.targetId=e,this.view=n},RL=function(t){this.key=t,this.Co=!1},DL=function(){function t(t,e,n,i,r,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new OD(function(t){return iE(t)},nE),this.$o=new Map,this.Fo=new Set,this.Oo=new $E(JT.comparator),this.ko=new Map,this.Mo=new aN,this.Lo={},this.Bo=new Map,this.qo=pD.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function NL(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o,a;return Object(MT.d)(this,function(s){switch(s.label){case 0:return n=uz(t),(r=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.Do(),[3,4]):[3,1];case 1:return[4,$D(n.localStore,tE(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,LL(n,e,o.targetId,"current"===a)];case 3:i=s.sent(),n.isPrimaryClient&&HN(n.remoteStore,o),s.label=4;case 4:return[2,i]}})})}function LL(t,e,n,i){return Object(MT.b)(this,void 0,void 0,function(){var r,o,a,s,c,l;return Object(MT.d)(this,function(u){switch(u.label){case 0:return t.Qo=function(e,n,i){return function(t,e,n,i){return Object(MT.b)(this,void 0,void 0,function(){var r,o,a;return Object(MT.d)(this,function(s){switch(s.label){case 0:return(r=e.view.Io(n)).Mn?[4,ZD(t.localStore,e.query,!1).then(function(t){return e.view.Io(t.documents,r)})]:[3,2];case 1:r=s.sent(),s.label=2;case 2:return o=i&&i.targetChanges.get(e.targetId),a=e.view.applyChanges(r,t.isPrimaryClient,o),[2,(KL(t,e.targetId,a.Po),a.snapshot)]}})})}(t,e,n,i)},[4,ZD(t.localStore,e,!0)];case 1:return r=u.sent(),o=new EL(e,r.jn),a=o.Io(r.documents),s=fI.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),c=o.applyChanges(a,t.isPrimaryClient,s),KL(t,n,c.Po),l=new IL(e,n,o),[2,(t.No.set(e,l),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),c.snapshot)]}})})}function zL(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return n=DT(t),i=n.No.get(e),(r=n.$o.get(i.targetId)).length>1?[2,(n.$o.set(i.targetId,r.filter(function(t){return!nE(t,e)})),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,JD(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),VN(n.remoteStore,i.targetId),QL(n,i.targetId)}).catch(bD)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return QL(n,i.targetId),[4,JD(n.localStore,i.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function jL(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r,o,a;return Object(MT.d)(this,function(s){switch(s.label){case 0:i=hz(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,i=DT(t),r=rS.now(),o=e.reduce(function(t,e){return t.add(e.key)},uI());return i.persistence.runTransaction("Locally write mutations","readwrite",function(t){return i.Kn.bn(t,o).next(function(o){n=o;for(var a=[],s=0,c=e;s<c.length;s++){var l=c[s],u=NE(l,n.get(l.key));null!=u&&a.push(new FE(l.key,u,dE(u.proto.mapValue),SE.exists(!0)))}return i.Tn.addMutationBatch(t,r,a,e)})}).then(function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}})}(i.localStore,e)];case 2:return r=s.sent(),i.sharedClientState.addPendingMutation(r.batchId),function(t,e,n){var i=t.Lo[t.currentUser.toKey()];i||(i=new $E(zT)),i=i.insert(e,n),t.Lo[t.currentUser.toKey()]=i}(i,r.batchId,n),[4,JL(i,r.changes)];case 3:return s.sent(),[4,nL(i.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=pL(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function FL(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:n=DT(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,YD(n.localStore,e)];case 2:return i=r.sent(),e.targetChanges.forEach(function(t,e){var i=n.ko.get(e);i&&(RT(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.Co=!0:t.modifiedDocuments.size>0?RT(i.Co):t.removedDocuments.size>0&&(RT(i.Co),i.Co=!1))}),[4,JL(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,bD(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function qL(t,e,n){var i=DT(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){var r=[];i.No.forEach(function(t,n){var i=n.view.eo(e);i.snapshot&&r.push(i.snapshot)}),function(t,e){var n=DT(t);n.onlineState=e;var i=!1;n.queries.forEach(function(t,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].eo(e)&&(i=!0)}),i&&wL(n)}(i.eventManager,e),r.length&&i.xo.Tr(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function BL(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r,o,a,s,c;return Object(MT.d)(this,function(l){switch(l.label){case 0:return(i=DT(t)).sharedClientState.updateQueryState(e,"rejected",n),r=i.ko.get(e),(o=r&&r.key)?(a=(a=new $E(JT.comparator)).insert(o,new wS(o,cE.min())),s=uI().add(o),c=new pI(cE.min(),new Map,new tI(zT),a,s),[4,FL(i,c)]):[3,2];case 1:return l.sent(),i.Oo=i.Oo.remove(o),i.ko.delete(e),$L(i),[3,4];case 2:return[4,JD(i.localStore,e,!1).then(function(){return QL(i,e,n)}).catch(bD)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function UL(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:n=DT(t),i=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,GD(n.localStore,e)];case 2:return r=o.sent(),GL(n,i,null),WL(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,JL(n,r)];case 3:return o.sent(),[3,6];case 4:return[4,bD(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function HL(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:i=DT(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=DT(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var i;return n.Tn.lookupMutationBatch(t,e).next(function(e){return RT(null!==e),i=e.keys(),n.Tn.removeMutationBatch(t,e)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,i)})})}(i.localStore,e)];case 2:return r=o.sent(),GL(i,e,n),WL(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,JL(i,r)];case 3:return o.sent(),[3,6];case 4:return[4,bD(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function VL(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o,a;return Object(MT.d)(this,function(s){switch(s.label){case 0:KN((n=DT(t)).remoteStore)||AT("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=DT(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(i=s.sent())?[2,void e.resolve()]:((r=n.Bo.get(i)||[]).push(e),n.Bo.set(i,r),[3,4]);case 3:return o=s.sent(),a=pL(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function WL(t,e){(t.Bo.get(e)||[]).forEach(function(t){t.resolve()}),t.Bo.delete(e)}function GL(t,e,n){var i=DT(t),r=i.Lo[i.currentUser.toKey()];if(r){var o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Lo[i.currentUser.toKey()]=r}}function QL(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,r=t.$o.get(e);i<r.length;i++){var o=r[i];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach(function(e){t.Mo.containsKey(e)||YL(t,e)})}function YL(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(VN(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),$L(t))}function KL(t,e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];o instanceof TL?(t.Mo.addReference(o.key,e),XL(t,o)):o instanceof SL?(AT("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||YL(t,o.key)):IT()}}function XL(t,e){var n=e.key,i=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(i)||(AT("SyncEngine","New document in limbo: "+n),t.Fo.add(i),$L(t))}function $L(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new JT(KT.fromString(e)),i=t.qo.next();t.ko.set(i,new RL(n)),t.Oo=t.Oo.insert(n,i),HN(t.remoteStore,new FR(tE(QS(n.path)),i,2,OT.o))}}function JL(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r,o,a;return Object(MT.d)(this,function(s){switch(s.label){case 0:return i=DT(t),r=[],o=[],a=[],i.No.isEmpty()?[3,3]:(i.No.forEach(function(t,s){a.push(i.Qo(s,e,n).then(function(t){if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),r.push(t);var e=BD.Nn(s.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),i.xo.Tr(r),[4,function(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o,a,s,c,l;return Object(MT.d)(this,function(u){switch(u.label){case 0:n=DT(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return OR.forEach(e,function(e){return OR.forEach(e.Cn,function(i){return n.persistence.referenceDelegate.addReference(t,e.targetId,i)}).next(function(){return OR.forEach(e.xn,function(i){return n.persistence.referenceDelegate.removeReference(t,e.targetId,i)})})})})];case 2:return u.sent(),[3,4];case 3:if(!SR(i=u.sent()))throw i;return AT("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(r=0,o=e;r<o.length;r++)s=(a=o[r]).targetId,a.fromCache||(c=n.Bn.get(s),l=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Bn=n.Bn.insert(s,l));return[2]}})})}(i.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function ZL(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return(n=DT(t)).currentUser.isEqual(e)?[3,3]:(AT("SyncEngine","User change. New user:",e.toKey()),[4,WD(n.localStore,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.Bo.forEach(function(t){t.forEach(function(t){t.reject(new QT(GT.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,JL(n,i.Wn)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}function tz(t,e){var n=DT(t),i=n.ko.get(e);if(i&&i.Co)return uI().add(i.key);var r=uI(),o=n.$o.get(e);if(!o)return r;for(var a=0,s=o;a<s.length;a++){var c=n.No.get(s[a]);r=r.unionWith(c.view.To)}return r}function ez(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return[4,ZD((n=DT(t)).localStore,e.query,!0)];case 1:return i=o.sent(),r=e.view.So(i),[2,(n.isPrimaryClient&&KL(n,e.targetId,r.Po),r)]}})})}function nz(t){return Object(MT.b)(this,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){return[2,eN((e=DT(t)).localStore).then(function(t){return JL(e,t)})]})})}function iz(t,e,n,i){return Object(MT.b)(this,void 0,void 0,function(){var r,o;return Object(MT.d)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=DT(t),i=DT(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return i.Jt(t,e).next(function(e){return e?n.Kn.bn(t,e):OR.resolve(null)})})}((r=DT(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,nL(r.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(GL(r,e,i||null),WL(r,e),function(t,e){DT(DT(t).Tn).Xt(e)}(r.localStore,e)):IT(),a.label=4;case 4:return[4,JL(r,o)];case 5:return a.sent(),[3,7];case 6:AT("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function rz(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o,a,s,c;return Object(MT.d)(this,function(l){switch(l.label){case 0:return uz(n=DT(t)),hz(n),!0!==e||!0===n.Uo?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,oz(n,i.toArray())]);case 1:return r=l.sent(),n.Uo=!0,[4,lL(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=r;o<a.length;o++)HN(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(s=[],c=Promise.resolve(),n.$o.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):c=c.then(function(){return QL(n,e),JD(n.localStore,e,!0)}),VN(n.remoteStore,e)}),[4,c]);case 4:return l.sent(),[4,oz(n,s)];case 5:return l.sent(),function(t){var e=DT(t);e.ko.forEach(function(t,n){VN(e.remoteStore,n)}),e.Mo.cs(),e.ko=new Map,e.Oo=new $E(JT.comparator)}(n),n.Uo=!1,[4,lL(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}function oz(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o,a,s,c,l,u,h,d,p,f;return Object(MT.d)(this,function(g){switch(g.label){case 0:n=DT(t),i=[],r=[],o=0,a=e,g.label=1;case 1:return o<a.length?(c=void 0,(l=n.$o.get(s=a[o]))&&0!==l.length?[4,$D(n.localStore,tE(l[0]))]:[3,7]):[3,13];case 2:c=g.sent(),u=0,h=l,g.label=3;case 3:return u<h.length?(d=n.No.get(h[u]),[4,ez(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&r.push(p.snapshot),g.label=5;case 5:return u++,[3,3];case 6:return[3,11];case 7:return[4,tN(n.localStore,s)];case 8:return f=g.sent(),[4,$D(n.localStore,f)];case 9:return c=g.sent(),[4,LL(n,az(f),s,!1)];case 10:g.sent(),g.label=11;case 11:i.push(c),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(r),i)]}})})}function az(t){return GS(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function sz(t){var e=DT(t);return DT(DT(e.localStore).persistence).gn()}function cz(t,e,n,i){return Object(MT.b)(this,void 0,void 0,function(){var r,o,a;return Object(MT.d)(this,function(s){switch(s.label){case 0:return(r=DT(t)).Uo?(AT("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!r.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,eN(r.localStore)];case 3:return o=s.sent(),a=pI.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,JL(r,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,JD(r.localStore,e,!0)];case 6:return s.sent(),QL(r,e,i),[3,8];case 7:IT(),s.label=8;case 8:return[2]}})})}function lz(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r,o,a,s,c,l,u,h;return Object(MT.d)(this,function(d){switch(d.label){case 0:if(!(i=uz(t)).Uo)return[3,10];r=0,o=e,d.label=1;case 1:return r<o.length?i.$o.has(a=o[r])?(AT("SyncEngine","Adding an already active target "+a),[3,5]):[4,tN(i.localStore,a)]:[3,6];case 2:return s=d.sent(),[4,$D(i.localStore,s)];case 3:return c=d.sent(),[4,LL(i,az(s),c.targetId,!1)];case 4:d.sent(),HN(i.remoteStore,c),d.label=5;case 5:return r++,[3,1];case 6:l=function(t){return Object(MT.d)(this,function(e){switch(e.label){case 0:return i.$o.has(t)?[4,JD(i.localStore,t,!1).then(function(){VN(i.remoteStore,t),QL(i,t)}).catch(bD)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},u=0,h=n,d.label=7;case 7:return u<h.length?[5,l(h[u])]:[3,10];case 8:d.sent(),d.label=9;case 9:return u++,[3,7];case 10:return[2]}})})}function uz(t){var e=DT(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BL.bind(null,e),e.xo.Tr=CL.bind(null,e.eventManager),e.xo.Ko=xL.bind(null,e.eventManager),e}function hz(t){var e=DT(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HL.bind(null,e),e}function dz(t,e,n){var i=DT(t);(function(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r,o,a,s,c;return Object(MT.d)(this,function(l){switch(l.label){case 0:return l.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return i=l.sent(),[4,function(t,e){var n=DT(t),i=AI(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(t){return n.He.getBundleMetadata(t,e.id)}).then(function(t){return!!t&&t.createTime.compareTo(i)>=0})}(t.localStore,i)];case 2:return l.sent()?[4,e.close()]:[3,4];case 3:return[2,(l.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)))];case 4:return n._updateProgress(AL(i)),r=new kL(i,t.localStore,e.D),[4,e.Wo()];case 5:o=l.sent(),l.label=6;case 6:return o?[4,r.fo(o)]:[3,10];case 7:return(a=l.sent())&&n._updateProgress(a),[4,e.Wo()];case 8:o=l.sent(),l.label=9;case 9:return[3,6];case 10:return[4,r.complete()];case 11:return s=l.sent(),[4,JL(t,s.En,void 0)];case 12:return l.sent(),[4,function(t,e){var n=DT(t);return n.persistence.runTransaction("Save bundle","readwrite",function(t){return n.He.saveBundleMetadata(t,e)})}(t.localStore,i)];case 13:return l.sent(),n._completeWith(s.progress),[3,15];case 14:return ST("SyncEngine","Loading bundle failed with "+(c=l.sent())),n._failWith(c),[3,15];case 15:return[2]}})})})(i,e,n).then(function(){i.sharedClientState.notifyBundleLoaded()})}var pz=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(e){switch(e.label){case 0:return this.D=RN(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return VD(this.persistence,new UD,t.initialUser,this.D)},t.prototype.Go=function(t){return new dN(fN.Cs,this.D)},t.prototype.jo=function(t){return new ON},t.prototype.terminate=function(){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),fz=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Jo=e,r.cacheSizeBytes=n,r.forceOwnership=i,r.synchronizeTabs=!1,r}return Object(MT.c)(e,t),e.prototype.initialize=function(e){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,nN(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,hz(this.Jo.syncEngine)];case 4:return n.sent(),[4,nL(this.Jo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ho=function(t){return VD(this.persistence,new UD,t.initialUser,this.D)},e.prototype.zo=function(t){return new CD(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=jD(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?oD.withCacheSize(this.cacheSizeBytes):oD.DEFAULT;return new ND(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,EN(),IN(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new ON},e}(pz),gz=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n,!1)||this).Jo=e,i.cacheSizeBytes=n,i.synchronizeTabs=!0,i}return Object(MT.c)(e,t),e.prototype.initialize=function(e){return Object(MT.b)(this,void 0,void 0,function(){var n,i=this;return Object(MT.d)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof MN?(this.sharedClientState.syncEngine={wi:iz.bind(null,n),_i:cz.bind(null,n),mi:lz.bind(null,n),gn:sz.bind(null,n),di:nz.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.en(function(t){return Object(MT.b)(i,void 0,void 0,function(){return Object(MT.d)(this,function(e){switch(e.label){case 0:return[4,rz(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return r.sent(),[2]}})})},e.prototype.jo=function(t){var e=EN();if(!MN.At(e))throw new QT(GT.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=jD(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new MN(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(fz),mz=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n=this;return Object(MT.d)(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return qL(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ZL.bind(null,this.syncEngine),[4,lL(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new bL},t.prototype.createDatastore=function(t){var e=RN(t.databaseInfo.databaseId),n=new SN(t.databaseInfo);return function(t,e,n){return new jN(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,i,r,o,a=this;return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=function(t){return qL(a.syncEngine,t,0)},o=kN.At()?new kN:new PN,new qN(e,n,i,r,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,i,r,o,a){var s=new DL(t,e,n,i,r,o);return a&&(s.Uo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(MT.b)(this,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return e=DT(t),AT("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,UN(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function vz(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(MT.b)(this,void 0,void 0,function(){var i;return Object(MT.d)(this,function(r){return n<t.byteLength?(i={value:t.slice(n,n+e),done:!1},[2,(n+=e,i)]):[2,{done:!0}]})})},cancel:function(){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var bz=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),_z=function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new MR,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}return t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Wo=function(){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},t.prototype.ec=function(){return Object(MT.b)(this,void 0,void 0,function(){var t,e,n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return[4,this.nc()];case 1:return null===(t=r.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return i=r.sent(),[2,new OL(JSON.parse(i),t.length+n)]}})})},t.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.nc=function(){return Object(MT.b)(this,void 0,void 0,function(){var t,e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.ic=function(t){return Object(MT.b)(this,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(MT.b)(this,void 0,void 0,function(){var t,e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},t}(),yz=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n=this;return Object(MT.d)(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new QT(GT.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o,a,s;return Object(MT.d)(this,function(c){switch(c.label){case 0:return n=DT(t),i=NI(n.D)+"/documents",r={documents:e.map(function(t){return EI(n.D,t)})},[4,n.Ui("BatchGetDocuments",i,r)];case 1:return o=c.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){RT(!!e.found);var n=II(t,e.found.name),i=AI(e.found.updateTime),r=new uE({mapValue:{fields:e.found.fields}});return new xS(n,i,r,{})}(t,e):"missing"in e?function(t,e){RT(!!e.missing),RT(!!e.readTime);var n=II(t,e.missing),i=AI(e.readTime);return new wS(n,i)}(t,e):IT()}(n.D,t);a.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=a.get(t.toString());RT(!!e),s.push(e)}),s)]}})})}(this.datastore,t)];case 1:return[2,((e=i.sent()).forEach(function(t){t instanceof wS||t instanceof xS?n.recordVersion(t):IT()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new GE(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(MT.b)(this,void 0,void 0,function(){var t,e=this;return Object(MT.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var i=JT.fromPath(n);e.mutations.push(new QE(i,e.precondition(i)))}),[4,function(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return n=DT(t),i=NI(n.D)+"/documents",r={writes:e.map(function(t){return FI(n.D,t)})},[4,n.Mi("Commit",i,r)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof xS)e=t.version;else{if(!(t instanceof wS))throw IT();e=cE.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new QT(GT.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?SE.updateTime(e):SE.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(cE.min()))throw new QT(GT.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return SE.updateTime(e)}return SE.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Cz=function(){function t(t,e,n,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=i,this.cc=5,this.rr=new DN(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi(function(){return Object(MT.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(MT.d)(this,function(i){return t=new yz(this.datastore),(e=this.uc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.hc(t)})})}).catch(function(t){n.hc(t)}),[2]})})})},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!HT(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return e.ac(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!KE(e)}return!1},t}(),xz=function(){function t(t,e,n){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=gN.UNAUTHENTICATED,this.clientId=LT.u(),this.credentialListener=function(){},this.receivedInitialUser=new MR,this.credentials.setChangeListener(function(t){AT("FirestoreClient","Received user=",t.uid),i.user=t,i.credentialListener(t),i.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new QT(GT.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new MR;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(MT.b)(t,void 0,void 0,function(){var t,n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:i.sent(),i.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=i.sent(),n=pL(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function wz(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r=this;return Object(MT.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),AT("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),i=n.initialUser,t.setCredentialChangeListener(function(n){i.isEqual(n)||(i=n,t.asyncQueue.enqueueRetryable(function(){return Object(MT.b)(r,void 0,void 0,function(){return Object(MT.d)(this,function(t){switch(t.label){case 0:return[4,WD(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Mz(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Oz(t)];case 1:return n=r.sent(),AT("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=r.sent(),[4,e.initialize(n,i)];case 3:return r.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return(n=DT(t)).asyncQueue.verifyOperationInProgress(),AT("RemoteStore","RemoteStore received new credentials"),i=KN(n),n.Qr.add(3),[4,UN(n)];case 1:return r.sent(),i&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return r.sent(),n.Qr.delete(3),[4,BN(n)];case 3:return r.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Oz(t){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(AT("FirestoreClient","Using default OfflineComponentProvider"),[4,wz(t,new pz)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Pz(t){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(AT("FirestoreClient","Using default OnlineComponentProvider"),[4,Mz(t,new mz)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function kz(t){return Oz(t).then(function(t){return t.persistence})}function Az(t){return Oz(t).then(function(t){return t.localStore})}function Tz(t){return Pz(t).then(function(t){return t.remoteStore})}function Sz(t){return Pz(t).then(function(t){return t.syncEngine})}function Ez(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return[4,Pz(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=NL.bind(null,e.syncEngine),n.onUnlisten=zL.bind(null,e.syncEngine),n)]}})})}function Iz(t,e,n){var i=this;void 0===n&&(n={});var r=new MR;return t.asyncQueue.enqueueAndForget(function(){return Object(MT.b)(i,void 0,void 0,function(){var i;return Object(MT.d)(this,function(o){switch(o.label){case 0:return i=function(t,e,n,i,r){var o=new bz({next:function(o){e.enqueueAndForget(function(){return yL(t,a)});var s=o.docs.has(n);!s&&o.fromCache?r.reject(new QT(GT.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&i&&"server"===i.source?r.reject(new QT(GT.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:function(t){return r.reject(t)}}),a=new ML(QS(n.path),o,{includeMetadataChanges:!0,uo:!0});return _L(t,a)},[4,Ez(t)];case 1:return[2,i.apply(void 0,[o.sent(),t.asyncQueue,e,n,r])]}})})}),r.promise}function Rz(t,e,n){var i=this;void 0===n&&(n={});var r=new MR;return t.asyncQueue.enqueueAndForget(function(){return Object(MT.b)(i,void 0,void 0,function(){var i;return Object(MT.d)(this,function(o){switch(o.label){case 0:return i=function(t,e,n,i,r){var o=new bz({next:function(n){e.enqueueAndForget(function(){return yL(t,a)}),n.fromCache&&"server"===i.source?r.reject(new QT(GT.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:function(t){return r.reject(t)}}),a=new ML(n,o,{includeMetadataChanges:!0,uo:!0});return _L(t,a)},[4,Ez(t)];case 1:return[2,i.apply(void 0,[o.sent(),t.asyncQueue,e,n,r])]}})})}),r.promise}var Dz=function(t,e,n,i,r,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r,this.autoDetectLongPolling=o},Nz=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Lz=new Map,zz=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},jz=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(gN.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Fz=function(){function t(t){var e=this;this.fc=null,this.currentUser=gN.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.dc!==e?(AT("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(RT("string"==typeof n.accessToken),new zz(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return RT(null===t||"string"==typeof t),new gN(t)},t}(),qz=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=gN.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Bz=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new qz(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(gN.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Uz(t,e,n){if(!n)throw new QT(GT.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Hz(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new QT(GT.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Vz(t,e,n,i){if(!0===e&&!0===i)throw new QT(GT.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Wz(t){if(!JT.isDocumentKey(t))throw new QT(GT.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Gz(t){if(JT.isDocumentKey(t))throw new QT(GT.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Qz(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":IT()}function Yz(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new QT(GT.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Qz(t);throw new QT(GT.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Kz(t,e){if(e<=0)throw new QT(GT.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Xz=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new QT(GT.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new QT(GT.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Vz("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),$z=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Xz({}),this._settingsFrozen=!1,t instanceof Nz?(this._databaseId=t,this._credentials=new jz):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new QT(GT.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nz(t.options.projectId)}(t),this._credentials=new Fz(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new QT(GT.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new QT(GT.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xz(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new jz;switch(t.type){case"gapi":var e=t.client;return RT(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Bz(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new QT(GT.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Lz.get(this))&&(AT("ComponentProvider","Removing Datastore"),Lz.delete(this),t.terminate()),Promise.resolve();var t},t}(),Jz=function(t){this._delegate=t},Zz=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ej(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),tj=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),ej=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,QS(i))||this).firestore=e,r._path=i,r.type="collection",r}return Object(MT.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Zz(this.firestore,null,new JT(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(tj);function nj(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t instanceof Jz&&(t=t._delegate),Uz("collection","path",e),t instanceof $z)return Gz(n=KT.fromString.apply(KT,Object(MT.f)([e],i))),new ej(t,null,n);if(!(t instanceof Zz||t instanceof ej))throw new QT(GT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gz(n=KT.fromString.apply(KT,Object(MT.f)([t.path],i)).child(KT.fromString(e))),new ej(t.firestore,null,n)}function ij(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t instanceof Jz&&(t=t._delegate),1===arguments.length&&(e=LT.u()),Uz("doc","path",e),t instanceof $z)return Wz(n=KT.fromString.apply(KT,Object(MT.f)([e],i))),new Zz(t,null,new JT(n));if(!(t instanceof Zz||t instanceof ej))throw new QT(GT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Wz(n=t._path.child(KT.fromString.apply(KT,Object(MT.f)([e],i)))),new Zz(t.firestore,t instanceof ej?t._converter:null,new JT(n))}function rj(t,e){return t instanceof Jz&&(t=t._delegate),e instanceof Jz&&(e=e._delegate),(t instanceof Zz||t instanceof ej)&&(e instanceof Zz||e instanceof ej)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function oj(t,e){return t instanceof Jz&&(t=t._delegate),e instanceof Jz&&(e=e._delegate),t instanceof tj&&e instanceof tj&&t.firestore===e.firestore&&nE(t._query,e._query)&&t._converter===e._converter}var aj=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new DN(this,"async_queue_retry"),this.bc=function(){var e=IN();e&&AT("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=IN();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=IN();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(t){}):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.gc.push(t),e.Vc()})},t.prototype.Vc=function(){return Object(MT.b)(this,void 0,void 0,function(){var t,e=this;return Object(MT.d)(this,function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!SR(t=n.sent()))throw t;return AT("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return e.Vc()}),n.label=5;case 5:return[2]}})})},t.prototype.Pc=function(t){var e=this,n=this.yc.then(function(){return e.Ac=!0,t().catch(function(t){throw e.Ic=t,e.Ac=!1,TT("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ac=!1,t})});return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var i=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var r=dL.createAndSchedule(this,t,e,n,function(t){return i.Sc(t)});return this.Tc.push(r),r},t.prototype.vc=function(){this.Ic&&IT()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(MT.b)(this,void 0,void 0,function(){var t;return Object(MT.d)(this,function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then(function(){e.Tc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,i=e.Tc;n<i.length;n++){var r=i[n];if(r.skipDelay(),"all"!==t&&r.timerId===t)break}return e.Dc()})},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function sj(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var cj=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new MR,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),lj=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this)._queue=new aj,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return Object(MT.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||hj(this),this._firestoreClient.terminate()},e}($z);function uj(t){return t._firestoreClient||hj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hj(t){var e=t._freezeSettings(),n=function(t,e,n){return new Dz(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new xz(t._credentials,t._queue,n)}function dj(t,e,n){var i=this,r=new MR;return t.asyncQueue.enqueue(function(){return Object(MT.b)(i,void 0,void 0,function(){var i;return Object(MT.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,wz(t,n)];case 1:return o.sent(),[4,Mz(t,e)];case 2:return o.sent(),r.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===GT.FAILED_PRECONDITION||t.code===GT.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=o.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i),[3,4];case 4:return[2]}})})}).then(function(){return r.promise})}function pj(t){if(t._initialized||t._terminated)throw new QT(GT.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var fj=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new QT(GT.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $T(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),gj=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ZT.fromBase64String(e))}catch(e){throw new QT(GT.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ZT.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),mj=function(t){this._methodName=t},vj=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new QT(GT.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new QT(GT.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return zT(this._lat,t._lat)||zT(this._long,t._long)},t}(),bj=/^__.*__$/,_j=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new FE(t,this.data,this.fieldMask,e,this.fieldTransforms):new jE(t,this.data,e,this.fieldTransforms)},t}(),yj=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new FE(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Cj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw IT()}}var xj=function(){function t(t,e,n,i,r,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=i,void 0===r&&this.$c(),this.fieldTransforms=r||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Oc({path:n,Mc:!1});return i.Lc(t),i},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Oc({path:n,Mc:!1});return i.$c(),i},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return Uj(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(Cj(this.Fc)&&bj.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),wj=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||RN(t)}return t.prototype.Wc=function(t,e,n,i){return void 0===i&&(i=!1),new xj({Fc:t,methodName:e,Kc:n,path:$T.emptyPath(),Mc:!1,Qc:i},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function Mj(t){var e=t._freezeSettings(),n=RN(t._databaseId);return new wj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Oj(t,e,n,i,r,o){void 0===o&&(o={});var a=t.Wc(o.merge||o.mergeFields?2:0,e,n,r);jj("Data must be an object, but it was:",a,i);var s,c,l=Lj(i,a);if(o.merge)s=new lE(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){for(var u=[],h=0,d=o.mergeFields;h<d.length;h++){var p=Fj(e,d[h],n);if(!a.contains(p))throw new QT(GT.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Hj(u,p)||u.push(p)}s=new lE(u),c=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,c=a.fieldTransforms;return new _j(new uE(l),s,c)}var Pj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(MT.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(mj);function kj(t,e,n){return new xj({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var Aj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(MT.c)(e,t),e.prototype._toFieldTransform=function(t){return new AE(t.path,new yE)},e.prototype.isEqual=function(t){return t instanceof e},e}(mj),Tj=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).jc=n,i}return Object(MT.c)(e,t),e.prototype._toFieldTransform=function(t){var e=kj(this,t,!0),n=this.jc.map(function(t){return Nj(t,e)}),i=new CE(n);return new AE(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(mj),Sj=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).jc=n,i}return Object(MT.c)(e,t),e.prototype._toFieldTransform=function(t){var e=kj(this,t,!0),n=this.jc.map(function(t){return Nj(t,e)}),i=new wE(n);return new AE(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(mj),Ej=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Gc=n,i}return Object(MT.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new OE(t.D,gE(t.D,this.Gc));return new AE(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(mj);function Ij(t,e,n,i){var r=t.Wc(1,e,n);jj("Data must be an object, but it was:",r,i);var o=[],a=new hE;BT(i,function(t,i){var s=Bj(e,t,n);i instanceof Jz&&(i=i._delegate);var c=r.Bc(s);if(i instanceof Pj)o.push(s);else{var l=Nj(i,c);null!=l&&(o.push(s),a.set(s,l))}});var s=new lE(o);return new yj(a.v(),s,r.fieldTransforms)}function Rj(t,e,n,i,r,o){var a=t.Wc(1,e,n),s=[Fj(e,i,n)],c=[r];if(o.length%2!=0)throw new QT(GT.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)s.push(Fj(e,o[l])),c.push(o[l+1]);for(var u=[],h=new hE,d=s.length-1;d>=0;--d)if(!Hj(u,s[d])){var p=s[d],f=c[d];f instanceof Jz&&(f=f._delegate);var g=a.Bc(p);if(f instanceof Pj)u.push(p);else{var m=Nj(f,g);null!=m&&(u.push(p),h.set(p,m))}}var v=new lE(u);return new yj(h.v(),v,a.fieldTransforms)}function Dj(t,e,n,i){return void 0===i&&(i=!1),Nj(n,t.Wc(i?4:3,e))}function Nj(t,e){if(t instanceof Jz&&(t=t._delegate),zj(t))return jj("Unsupported field value:",e,t),Lj(t,e);if(t instanceof mj)return function(t,e){if(!Cj(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var a=Nj(o[r],e.qc(i));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Jz&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return gE(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=rS.fromDate(t);return{timestampValue:OI(e.D,n)}}if(t instanceof rS)return n=new rS(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:OI(e.D,n)};if(t instanceof vj)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gj)return{bytesValue:PI(e.D,t._byteString)};if(t instanceof Zz){var i=t.firestore._databaseId;if(!i.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:TI(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+Qz(t))}(t,e)}function Lj(t,e){var n={};return UT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):BT(t,function(t,i){var r=Nj(i,e.kc(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function zj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof rS||t instanceof vj||t instanceof gj||t instanceof Zz||t instanceof mj)}function jj(t,e,n){if(!zj(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var i=Qz(n);throw e.Uc("an object"===i?t+" a custom object":t+" "+i)}}function Fj(t,e,n){if(e instanceof Jz&&(e=e._delegate),e instanceof fj)return e._internalPath;if("string"==typeof e)return Bj(t,e);throw Uj("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var qj=new RegExp("[~\\*/\\[\\]]");function Bj(t,e,n){if(e.search(qj)>=0)throw Uj("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(fj.bind.apply(fj,Object(MT.f)([void 0],e.split(".")))))._internalPath}catch(i){throw Uj("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Uj(t,e,n,i,r){var o=i&&!i.isEmpty(),a=void 0!==r,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var c="";return(o||a)&&(c+=" (found",o&&(c+=" in field "+i),a&&(c+=" in document "+r),c+=")"),new QT(GT.INVALID_ARGUMENT,(s+=". ")+t+c)}function Hj(t,e){return t.some(function(t){return t.isEqual(e)})}var Vj=function(){function t(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Zz(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Wj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(Gj("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Wj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(MT.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Vj);function Gj(t,e){return"string"==typeof e?Bj(t,e):e instanceof Jz?e._delegate._internalPath:e._internalPath}var Qj=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Yj=function(t){function e(e,n,i,r,o,a){var s=this;return(s=t.call(this,e,n,i,r,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(MT.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Kj(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(Gj("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Vj),Kj=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(MT.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Yj),Xj=function(){function t(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Qj(i.hasPendingWrites,i.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(i){t.call(e,new Kj(n._firestore,n._userDataWriter,i.key,i,new Qj(n._snapshot.mutatedKeys.has(i.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new QT(GT.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Kj(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Qj(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Kj(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Qj(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),r=-1,o=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:$j(e.type),doc:n,oldIndex:r,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function $j(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return IT()}}function Jj(t,e){return t instanceof Yj&&e instanceof Yj?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Xj&&e instanceof Xj&&t._firestore===e._firestore&&oj(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Zj(t){if(KS(t)&&0===t.explicitOrderBy.length)throw new QT(GT.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tF=function(){};function eF(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];t=o._apply(t)}return t}var nF=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).zc=e,r.Hc=n,r.Jc=i,r.type="where",r}return Object(MT.c)(e,t),e.prototype._apply=function(t){var e=Mj(t.firestore),n=function(t,e,n,i,r,o,a){var s;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new QT(GT.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){lF(a,o);for(var c=[],l=0,u=a;l<u.length;l++)c.push(cF(i,t,u[l]));s={arrayValue:{values:c}}}else s=cF(i,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||lF(a,o),s=Dj(n,"where",a,"in"===o||"not-in"===o);var h=SS.create(r,o,s);return function(t,e){if(e.g()){var n=$S(t);if(null!==n&&!n.isEqual(e.field))throw new QT(GT.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var i=XS(t);null!==i&&uF(0,e.field,i)}var r=function(t,e){for(var n=0,i=t.filters;n<i.length;n++){var r=i[n];if(e.indexOf(r.op)>=0)return r.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new QT(GT.INVALID_ARGUMENT,r===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+r.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new tj(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new WS(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(tF),iF=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).zc=e,i.Yc=n,i.type="orderBy",i}return Object(MT.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new QT(GT.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new QT(GT.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new BS(e,n);return function(t,e){if(null===XS(t)){var n=$S(t);null!==n&&uF(0,n,e.field)}}(t,i),i}(t._query,this.zc,this.Yc);return new tj(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new WS(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(tF),rF=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Xc=n,r.Zc=i,r}return Object(MT.c)(e,t),e.prototype._apply=function(t){return new tj(t.firestore,t._converter,eE(t._query,this.Xc,this.Zc))},e}(tF),oF=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.ta=n,r.ea=i,r}return Object(MT.c)(e,t),e.prototype._apply=function(t){var e=sF(t,this.type,this.ta,this.ea);return new tj(t.firestore,t._converter,function(t,e){return new WS(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(tF),aF=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.ta=n,r.ea=i,r}return Object(MT.c)(e,t),e.prototype._apply=function(t){var e=sF(t,this.type,this.ta,this.ea);return new tj(t.firestore,t._converter,function(t,e){return new WS(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(tF);function sF(t,e,n,i){if(n[0]instanceof Jz&&(n[0]=n[0]._delegate),n[0]instanceof Vj)return function(t,e,n,i,r){if(!i)throw new QT(GT.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=ZS(t);a<s.length;a++){var c=s[a];if(c.field.isKeyField())o.push(gS(e,i.key));else{var l=i.field(c.field);if(oS(l))throw new QT(GT.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var u=c.field.canonicalString();throw new QT(GT.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}o.push(l)}}return new FS(o,r)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var r=Mj(t.firestore);return function(t,e,n,i,r,o){var a=t.explicitOrderBy;if(r.length>a.length)throw new QT(GT.INVALID_ARGUMENT,"Too many arguments provided to "+i+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],c=0;c<r.length;c++){var l=r[c];if(a[c].field.isKeyField()){if("string"!=typeof l)throw new QT(GT.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+i+"(), but got a "+typeof l);if(!JS(t)&&-1!==l.indexOf("/"))throw new QT(GT.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+i+"() must be a plain document ID, but '"+l+"' contains a slash.");var u=t.path.child(KT.fromString(l));if(!JT.isDocumentKey(u))throw new QT(GT.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+i+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var h=new JT(u);s.push(gS(e,h))}else{var d=Dj(n,i,l);s.push(d)}}return new FS(s,o)}(t._query,t.firestore._databaseId,r,e,n,i)}function cF(t,e,n){if(n instanceof Jz&&(n=n._delegate),"string"==typeof n){if(""===n)throw new QT(GT.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!JS(e)&&-1!==n.indexOf("/"))throw new QT(GT.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(KT.fromString(n));if(!JT.isDocumentKey(i))throw new QT(GT.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return gS(t,new JT(i))}if(n instanceof Zz)return gS(t,n._key);throw new QT(GT.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Qz(n)+".")}function lF(t,e){if(!Array.isArray(t)||0===t.length)throw new QT(GT.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new QT(GT.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function uF(t,e,n){if(!n.isEqual(e))throw new QT(GT.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var hF=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),cS(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nS(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(iS(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw IT()}},t.prototype.convertObject=function(t,e){var n=this,i={};return BT(t.fields||{},function(t,r){i[t]=n.convertValue(r,e)}),i},t.prototype.convertGeoPoint=function(t){return new vj(nS(t.latitude),nS(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=aS(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(sS(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=eS(t);return new rS(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=KT.fromString(t);RT(tR(n));var i=new Nz(n.get(1),n.get(3)),r=new JT(n.popFirst(5));return i.isEqual(e)||TT("Document "+r+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),r},t}();function dF(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var pF=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(MT.c)(e,t),e.prototype.convertBytes=function(t){return new gj(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zz(this.firestore,null,e)},e}(hF),fF=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Mj(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var i=gF(t,this._firestore),r=dF(i._converter,e,n),o=Oj(this._dataReader,"WriteBatch.set",i._key,r,null!==i._converter,n);return this._mutations.push(o.toMutation(i._key,SE.none())),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this._verifyNotCommitted();var o,a=gF(t,this._firestore);return e instanceof Jz&&(e=e._delegate),o="string"==typeof e||e instanceof fj?Rj(this._dataReader,"WriteBatch.update",a._key,e,n,i):Ij(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,SE.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=gF(t,this._firestore);return this._mutations=this._mutations.concat(new GE(e._key,SE.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new QT(GT.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function gF(t,e){if(t instanceof Jz&&(t=t._delegate),t.firestore!==e)throw new QT(GT.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var mF=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(MT.c)(e,t),e.prototype.convertBytes=function(t){return new gj(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zz(this.firestore,null,e)},e}(hF);function vF(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];t=Yz(t,Zz);var o=Yz(t.firestore,lj),a=Mj(o);return e instanceof Jz&&(e=e._delegate),_F(o,[("string"==typeof e||e instanceof fj?Rj(a,"updateDoc",t._key,e,n,i):Ij(a,"updateDoc",t._key,e)).toMutation(t._key,SE.exists(!0))])}function bF(t){for(var e,n,i,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t instanceof Jz&&(t=t._delegate);var a={includeMetadataChanges:!1},s=0;"object"!=typeof r[s]||sj(r[s])||(a=r[s],s++);var c,l,u,h={includeMetadataChanges:a.includeMetadataChanges};if(sj(r[s])){var d=r[s];r[s]=null===(e=d.next)||void 0===e?void 0:e.bind(d),r[s+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),r[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}if(t instanceof Zz)l=Yz(t.firestore,lj),u=QS(t._key.path),c={next:function(e){r[s]&&r[s](yF(l,t,e))},error:r[s+1],complete:r[s+2]};else{var p=Yz(t,tj);l=Yz(p.firestore,lj),u=p._query;var f=new mF(l);c={next:function(t){r[s]&&r[s](new Xj(l,f,p,t))},error:r[s+1],complete:r[s+2]},Zj(t._query)}return function(t,e,n,i){var r=this,o=new bz(i),a=new ML(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(MT.b)(r,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return e=_L,[4,Ez(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(MT.b)(r,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return e=yL,[4,Ez(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(uj(l),u,h,c)}function _F(t,e){return function(t,e){var n=this,i=new MR;return t.asyncQueue.enqueueAndForget(function(){return Object(MT.b)(n,void 0,void 0,function(){var n;return Object(MT.d)(this,function(r){switch(r.label){case 0:return n=jL,[4,Sz(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(uj(t),e)}function yF(t,e,n){var i=n.docs.get(e._key),r=new mF(t);return new Yj(t,r,e._key,i,new Qj(n.hasPendingWrites,n.fromCache),e._converter)}var CF=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this)._firestore=e,i}return Object(MT.c)(e,t),e.prototype.get=function(e){var n=this,i=gF(e,this._firestore),r=new mF(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Yj(n._firestore,r,i._key,t._document,new Qj(!1,!1),i._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Mj(t)}return t.prototype.get=function(t){var e=this,n=gF(t,this._firestore),i=new pF(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return IT();var r=t[0];if(r instanceof wS)return new Vj(e._firestore,i,n._key,null,n._converter);if(r instanceof xS)return new Vj(e._firestore,i,r.key,r,n._converter);throw IT()})},t.prototype.set=function(t,e,n){var i=gF(t,this._firestore),r=dF(i._converter,e,n),o=Oj(this._dataReader,"Transaction.set",i._key,r,null!==i._converter,n);return this._transaction.set(i._key,o),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var o,a=gF(t,this._firestore);return e instanceof Jz&&(e=e._delegate),o="string"==typeof e||e instanceof fj?Rj(this._dataReader,"Transaction.update",a._key,e,n,i):Ij(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=gF(t,this._firestore);return this._transaction.delete(e._key),this},t}());function xF(){if("undefined"==typeof Uint8Array)throw new QT(GT.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function wF(){if("undefined"==typeof atob)throw new QT(GT.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var MF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(MT.c)(e,t),e.fromBase64String=function(t){return wF(),new e(gj.fromBase64String(t))},e.fromUint8Array=function(t){return xF(),new e(gj.fromUint8Array(t))},e.prototype.toBase64=function(){return wF(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return xF(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Jz),OF=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){pj(t=Yz(t,lj));var n=uj(t),i=t._freezeSettings(),r=new mz;return dj(n,r,new fz(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){pj(t=Yz(t,lj));var e=uj(t),n=t._freezeSettings(),i=new mz;return dj(e,i,new gz(i,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new QT(GT.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new MR;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(MT.b)(e,void 0,void 0,function(){var e;return Object(MT.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(e){switch(e.label){case 0:return kR.At()?[4,kR.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(jD(t._databaseId,t._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),PF=function(t){function e(e,n,i){var r=this;return(r=t.call(this,n)||this).na=i,r.INTERNAL={delete:function(){return r.terminate()}},e instanceof Nz||(r.sa=e),r}return Object(MT.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var i=(t=Yz(t,$z))._getSettings();"firestore.googleapis.com"!==i.host&&i.host!==e&&ST("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(MT.b)(e,void 0,void 0,function(){var e,n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return[4,kz(t)];case 1:return e=i.sent(),[4,Tz(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=DT(t);return e.Qr.delete(0),BN(e)}(n))]}})})})}(uj(Yz(this._delegate,lj)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(MT.b)(e,void 0,void 0,function(){var e,n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return[4,kz(t)];case 1:return e=i.sent(),[4,Tz(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(MT.b)(this,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return(e=DT(t)).Qr.add(0),[4,UN(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}})})}(n))]}})})})}(uj(Yz(this._delegate,lj)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Vz("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new MR;return t.asyncQueue.enqueueAndForget(function(){return Object(MT.b)(e,void 0,void 0,function(){var e;return Object(MT.d)(this,function(i){switch(i.label){case 0:return e=VL,[4,Sz(t)];case 1:return[2,e.apply(void 0,[i.sent(),n])]}})})}),n.promise}(uj(Yz(this._delegate,lj)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new bz(e);return t.asyncQueue.enqueueAndForget(function(){return Object(MT.b)(n,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){DT(t).Zr.add(e),e.next()},[4,Ez(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})}),function(){i.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(MT.b)(n,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){DT(t).Zr.delete(e)},[4,Ez(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})})}}(uj(t=Yz(t,lj)),sj(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new QT(GT.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new qF(this,nj(this._delegate,t))}catch(t){throw IF(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new EF(this,ij(this._delegate,t))}catch(t){throw IF(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new zF(this,function(t,e){if(t=Yz(t,$z),Uz("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new QT(GT.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new tj(t,null,function(t){return new WS(KT.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw IF(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new MR;return t.asyncQueue.enqueueAndForget(function(){return Object(MT.b)(n,void 0,void 0,function(){var n;return Object(MT.d)(this,function(r){switch(r.label){case 0:return[4,function(t){return Pz(t).then(function(t){return t.datastore})}(t)];case 1:return n=r.sent(),new Cz(t.asyncQueue,n,e,i).run(),[2]}})})}),i.promise}(uj(t),function(n){return e(new CF(t,n))})}(this._delegate,function(n){return t(new AF(e,n))})},e.prototype.batch=function(){var t=this;return uj(this._delegate),new TF(new fF(this._delegate,function(e){return _F(t._delegate,e)}))},e.prototype.loadBundle=function(t){throw new QT(GT.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new QT(GT.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Jz),kF=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(MT.c)(e,t),e.prototype.convertBytes=function(t){return new MF(new gj(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return EF.ia(e,this.firestore,null)},e}(hF),AF=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this)._firestore=e,i._userDataWriter=new kF(e),i}return Object(MT.c)(e,t),e.prototype.get=function(t){var e=this,n=BF(t);return this._delegate.get(n).then(function(t){return new NF(e._firestore,new Yj(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},e.prototype.set=function(t,e,n){var i=BF(t);return n?(Hz("Transaction.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},e.prototype.update=function(t,e,n){for(var i,r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a=BF(t);return 2===arguments.length?this._delegate.update(a,e):(i=this._delegate).update.apply(i,Object(MT.f)([a,e,n],r)),this},e.prototype.delete=function(t){var e=BF(t);return this._delegate.delete(e),this},e}(Jz),TF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(MT.c)(e,t),e.prototype.set=function(t,e,n){var i=BF(t);return n?(Hz("WriteBatch.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},e.prototype.update=function(t,e,n){for(var i,r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a=BF(t);return 2===arguments.length?this._delegate.update(a,e):(i=this._delegate).update.apply(i,Object(MT.f)([a,e,n],r)),this},e.prototype.delete=function(t){var e=BF(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(Jz),SF=function(t){function e(e,n,i){var r=this;return(r=t.call(this,i)||this)._firestore=e,r._userDataWriter=n,r}return Object(MT.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Kj(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new LF(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var i=e.oa,r=i.get(t);r||(r=new WeakMap,i.set(t,r));var o=r.get(n);return o||(o=new e(t,new kF(t),n),r.set(n,o)),o},e}(Jz);SF.oa=new WeakMap;var EF=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).firestore=e,i._userDataWriter=new kF(e),i}return Object(MT.c)(e,t),e.ca=function(t,n,i){if(t.length%2!=0)throw new QT(GT.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Zz(n._delegate,i,new JT(t)))},e.ia=function(t,n,i){return new e(n,new Zz(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new qF(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new qF(this.firestore,nj(this._delegate,t))}catch(t){throw IF(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Jz&&(t=t._delegate),t instanceof Zz&&rj(this._delegate,t)},e.prototype.set=function(t,e){e=Hz("DocumentReference.set",e);try{return function(t,e,n){t=Yz(t,Zz);var i=Yz(t.firestore,lj),r=dF(t._converter,e,n);return _F(i,[Oj(Mj(i),"setDoc",t._key,r,null!==t._converter,n).toMutation(t._key,SE.none())])}(this._delegate,t,e)}catch(t){throw IF(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?vF(this._delegate,t):vF.apply(void 0,Object(MT.f)([this._delegate,t,e],n))}catch(t){throw IF(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return _F(Yz((t=this._delegate).firestore,lj),[new GE(t._key,SE.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=RF(e),r=DF(e,function(e){return new NF(t.firestore,new Yj(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return bF(this._delegate,i,r)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Yz(t,Zz);var e=Yz(t.firestore,lj),n=uj(e),i=new mF(e);return function(t,e){var n=this,i=new MR;return t.asyncQueue.enqueueAndForget(function(){return Object(MT.b)(n,void 0,void 0,function(){var n;return Object(MT.d)(this,function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=DT(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Kn.In(t,e)})}(t,e)];case 1:return(r=o.sent())instanceof xS?n.resolve(r):r instanceof wS?n.resolve(null):n.reject(new QT(GT.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),r=pL(i,"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}})})},[4,Az(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(n,t._key).then(function(n){return new Yj(e,i,t._key,n,new Qj(n instanceof xS&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Yz(t,Zz);var e=Yz(t.firestore,lj);return Iz(uj(e),t._key,{source:"server"}).then(function(n){return yF(e,t,n)})}(this._delegate):function(t){t=Yz(t,Zz);var e=Yz(t.firestore,lj);return Iz(uj(e),t._key).then(function(n){return yF(e,t,n)})}(this._delegate)).then(function(t){return new NF(e.firestore,new Yj(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?SF.ra(this.firestore,t):null))},e}(Jz);function IF(t,e,n){return t.message=t.message.replace(e,n),t}function RF(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if("object"==typeof i&&!sj(i))return i}return{}}function DF(t,e){var n,i,r;return{next:function(t){r.next&&r.next(e(t))},error:null===(n=(r=sj(t[0])?t[0]:sj(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}var NF=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this)._firestore=e,i}return Object(MT.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new EF(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return Jj(this._delegate,t._delegate)},e}(Jz),LF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(MT.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(NF),zF=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).firestore=e,i._userDataWriter=new kF(e),i}return Object(MT.c)(e,t),e.prototype.where=function(t,n,i){try{return new e(this.firestore,eF(this._delegate,function(t,e,n){var i=e,r=Gj("where",t);return new nF(r,i,n)}(t,n,i)))}catch(t){throw IF(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,eF(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,i=Gj("orderBy",t);return new iF(i,n)}(t,n)))}catch(t){throw IF(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,eF(this._delegate,function(t){return Kz("limit",t),new rF("limit",t,"F")}(t)))}catch(t){throw IF(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,eF(this._delegate,function(t){return Kz("limitToLast",t),new rF("limitToLast",t,"L")}(t)))}catch(t){throw IF(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,eF(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new oF("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw IF(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,eF(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new oF("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw IF(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,eF(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new aF("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw IF(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,eF(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new aF("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw IF(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return oj(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Yz(t,tj);var e=Yz(t.firestore,lj),n=uj(e),i=new mF(e);return function(t,e){var n=this,i=new MR;return t.asyncQueue.enqueueAndForget(function(){return Object(MT.b)(n,void 0,void 0,function(){var n;return Object(MT.d)(this,function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r,o,a,s;return Object(MT.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,ZD(t,e,!0)];case 1:return s=c.sent(),i=new EL(e,s.jn),r=i.Io(s.documents),o=i.applyChanges(r,!1),n.resolve(o.snapshot),[3,3];case 2:return a=c.sent(),s=pL(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,Az(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(n,t._query).then(function(n){return new Xj(e,i,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Yz(t,tj);var e=Yz(t.firestore,lj),n=uj(e),i=new mF(e);return Rz(n,t._query,{source:"server"}).then(function(n){return new Xj(e,i,t,n)})}(this._delegate):function(t){t=Yz(t,tj);var e=Yz(t.firestore,lj),n=uj(e),i=new mF(e);return Zj(t._query),Rz(n,t._query).then(function(n){return new Xj(e,i,t,n)})}(this._delegate)).then(function(t){return new FF(e.firestore,new Xj(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=RF(e),r=DF(e,function(e){return new FF(t.firestore,new Xj(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return bF(this._delegate,i,r)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?SF.ra(this.firestore,t):null))},e}(Jz),jF=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this)._firestore=e,i}return Object(MT.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new LF(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(Jz),FF=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this)._firestore=e,i}return Object(MT.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new zF(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new LF(t._firestore,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new jF(e._firestore,t)})},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(i){t.call(e,new LF(n._firestore,i))})},e.prototype.isEqual=function(t){return Jj(this._delegate,t._delegate)},e}(Jz),qF=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).firestore=e,i._delegate=n,i}return Object(MT.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new EF(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new EF(this.firestore,void 0===t?ij(this._delegate):ij(this._delegate,t))}catch(t){throw IF(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Yz(t.firestore,lj),i=ij(t),r=dF(t._converter,e);return _F(n,[Oj(Mj(t.firestore),"addDoc",i._key,r,null!==t._converter,{}).toMutation(i._key,SE.exists(!1))]).then(function(){return i})}(this._delegate,t).then(function(t){return new EF(e.firestore,t)})},e.prototype.isEqual=function(t){return rj(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?SF.ra(this.firestore,t):null))},e}(zF);function BF(t){return t instanceof Jz&&(t=t._delegate),Yz(t,Zz)}var UF,HF,VF=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(fj.bind.apply(fj,Object(MT.f)([void 0],e))))||this}return Object(MT.c)(e,t),e.documentId=function(){return new e($T.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof Jz&&(t=t._delegate),t instanceof fj&&this._delegate._internalPath.isEqual(t._internalPath)},e}(Jz),WF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(MT.c)(e,t),e.serverTimestamp=function(){var t=new Aj("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Pj("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tj("arrayUnion",t)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sj("arrayRemove",t)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(t){return new Ej("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(Jz),GF=n("/6Yf"),QF={Firestore:PF,GeoPoint:vj,Timestamp:rS,Blob:MF,Transaction:AF,WriteBatch:TF,DocumentReference:EF,DocumentSnapshot:NF,Query:zF,QueryDocumentSnapshot:LF,QuerySnapshot:FF,CollectionReference:qF,FieldPath:VF,FieldValue:WF,setLogLevel:function(t){PT.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new GF.a("firestore",function(t){return function(t,e){return new PF(t,new lj(t,e),new OF)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},QF)))})(UF=yO.a),UF.registerVersion("@firebase/firestore","2.2.1"),(HF=PF).prototype.loadBundle=function(t){return function(t,e){var n=uj(t=Yz(t,lj)),i=new cj;return function(t,e,n,i){var r=this,o=function(t,e){return function(t,e){return new _z(t,e)}(function(t,e){if(t instanceof Uint8Array)return vz(t,e);if(t instanceof ArrayBuffer)return vz(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,RN(e));t.asyncQueue.enqueueAndForget(function(){return Object(MT.b)(r,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return e=dz,[4,Sz(t)];case 1:return e.apply(void 0,[n.sent(),o,i]),[2]}})})})}(n,t._databaseId,e,i),i}(this._delegate,t)},HF.prototype.namedQuery=function(t){var e,n,i=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return Object(MT.b)(n,void 0,void 0,function(){var n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return n=function(t,e){var n=DT(t);return n.persistence.runTransaction("Get named query","readonly",function(t){return n.He.getNamedQuery(t,e)})},[4,Az(t)];case 1:return[2,n.apply(void 0,[i.sent(),e])]}})})})}(uj(e=Yz(e,lj)),n).then(function(t){return t?new tj(e,null,t.query):null})).then(function(t){return t?new zF(i,t):null})};var YF={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},KF=function(t){function e(n,i,r){var o=t.call(this,i)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=r,o}return Object(MT.c)(e,t),e}(Error),XF=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return Object(MT.b)(this,void 0,void 0,function(){var t;return Object(MT.d)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(UF){return[2,void 0]}return[2]})})},t.prototype.getContext=function(){return Object(MT.b)(this,void 0,void 0,function(){var t,e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function $F(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}var JF,ZF,tq,eq=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return $F(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?$F(t,function(t){return e.decode(t)}):t},t}(),nq=function(){function t(t,e,n,i,r){var o=this;void 0===i&&(i="us-central1"),this.app_=t,this.fetchImpl=r,this.serializer=new eq,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new XF(e,n),this.cancelAllRequests=new Promise(function(t){o.deleteService=function(){return t()}});try{var a=new URL(i);this.customDomain=a.origin,this.region="us-central1"}catch(UF){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(i){return n.call(t,i,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return i=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:r=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,i.json()];case 6:return r=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:i.status,json:r}]}})})},t.prototype.call=function(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r,o,a,s,c,l,u,h,d;return Object(MT.d)(this,function(p){switch(p.label){case 0:return i=this._url(t),e=this.serializer.encode(e),r={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=function(t){var e,n=new Promise(function(n,i){e=setTimeout(function(){i(new KF("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(n.timeout||7e4),c=s.timer,l=s.promise,[4,Promise.race([iq(c,this.postJSON(i,r,o)),l,iq(c,this.cancelAllRequests)])];case 2:if(!(u=p.sent()))throw new KF("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var i=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),r=i,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!YF[s])return new KF("internal","internal");i=YF[s],r=s}var c=a.message;"string"==typeof c&&(r=c),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(UF){}return"ok"===i?null:new KF(i,r,o)}(u.status,u.json,this.serializer))throw h;if(!u.json)throw new KF("internal","Response is not valid JSON object.");if(void 0===(d=u.json.data)&&(d=u.json.result),void 0===d)throw new KF("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}})})},t}();function iq(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return[4,e];case 1:return n=i.sent(),clearTimeout(t),[2,n]}})})}JF=yO.a,ZF=fetch.bind(self),tq={Functions:nq},JF.INTERNAL.registerComponent(new GF.a("functions",function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("messaging");return new nq(i,r,o,n,ZF)},"PUBLIC").setServiceProps(tq).setMultipleInstances(!0)),yO.a.registerVersion("@firebase/functions","0.6.4");var rq,oq=n("nbvr"),aq=((rq={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',rq["not-registered"]="Firebase Installation is not registered.",rq["installation-not-found"]="Firebase Installation not found.",rq["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',rq["app-offline"]="Could not process request. Application offline.",rq["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",rq),sq=new xO.b("installations","Installations",aq);function cq(t){return t instanceof xO.c&&t.code.includes("request-failed")}function lq(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function uq(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function hq(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=r.sent(),[2,sq.create("request-failed",{requestName:t,serverCode:(i=n.error).code,serverMessage:i.message,serverStatus:i.status})]}})})}function dq(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function pq(t,e){var n=e.refreshToken,i=dq(t);return i.append("Authorization",function(t){return"FIS_v2 "+t}(n)),i}function fq(t){return Object(MT.b)(this,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function gq(t,e){var n=e.fid;return Object(MT.b)(this,void 0,void 0,function(){var e,i,r,o,a;return Object(MT.d)(this,function(s){switch(s.label){case 0:return e=lq(t),i=dq(t),r={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.22"})},[4,fq(function(){return fetch(e,r)})];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:uq(a.authToken)}];case 3:return[4,hq("Create Installation",o)];case 4:throw s.sent()}})})}function mq(t){return new Promise(function(e){setTimeout(e,t)})}var vq=/^[cdef][\w-]{21}$/;function bq(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(MT.f)([],Object(MT.e)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return vq.test(e)?e:""}catch(a2){return""}}function _q(t){return t.appName+"!"+t.appId}var yq=new Map;function Cq(t,e){var n=_q(t);xq(n,e),function(t,e){var n=Mq();n&&n.postMessage({key:t,fid:e}),Oq()}(n,e)}function xq(t,e){var n,i,r=yq.get(t);if(r)try{for(var o=Object(MT.g)(r),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(s){n={error:s}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}var wq=null;function Mq(){return!wq&&"BroadcastChannel"in self&&((wq=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){xq(t.data.key,t.data.fid)}),wq}function Oq(){0===yq.size&&wq&&(wq.close(),wq=null)}var Pq,kq="firebase-installations-store",Aq=null;function Tq(){return Aq||(Aq=Object(oq.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(kq)}})),Aq}function Sq(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o,a;return Object(MT.d)(this,function(s){switch(s.label){case 0:return n=_q(t),[4,Tq()];case 1:return i=s.sent(),r=i.transaction(kq,"readwrite"),[4,(o=r.objectStore(kq)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,r.complete];case 4:return s.sent(),a&&a.fid===e.fid||Cq(t,e.fid),[2,e]}})})}function Eq(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return e=_q(t),[4,Tq()];case 1:return n=r.sent(),[4,(i=n.transaction(kq,"readwrite")).objectStore(kq).delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}})})}function Iq(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o,a,s;return Object(MT.d)(this,function(c){switch(c.label){case 0:return n=_q(t),[4,Tq()];case 1:return i=c.sent(),r=i.transaction(kq,"readwrite"),[4,(o=r.objectStore(kq)).get(n)];case 2:return a=c.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:c.sent(),c.label=6;case 6:return[4,r.complete];case 7:return c.sent(),!s||a&&a.fid===s.fid||Cq(t,s.fid),[2,s]}})})}function Rq(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return[4,Iq(t,function(n){var i=function(t){return Lq(t||{fid:bq(),registrationStatus:0})}(n),r=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(sq.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,gq(t,e)];case 1:return n=r.sent(),[2,Sq(t,n)];case 2:return cq(i=r.sent())&&409===i.customData.serverCode?[4,Eq(t)]:[3,4];case 3:return r.sent(),[3,6];case 4:return[4,Sq(t,{fid:e.fid,registrationStatus:0})];case 5:r.sent(),r.label=6;case 6:throw i;case 7:return[2]}})})}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Dq(t)}:{installationEntry:e}}(t,i);return e=r.registrationPromise,r.installationEntry})];case 1:return""!==(n=r.sent()).fid?[3,3]:(i={},[4,e]);case 2:return[2,(i.installationEntry=r.sent(),i)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function Dq(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n,i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return[4,Nq(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,mq(100)];case 3:return o.sent(),[4,Nq(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,Rq(t)];case 6:return n=o.sent(),i=n.installationEntry,(r=n.registrationPromise)?[2,r]:[2,i];case 7:return[2,e]}})})}function Nq(t){return Iq(t,function(t){if(!t)throw sq.create("installation-not-found");return Lq(t)})}function Lq(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function zq(t,e){var n=t.appConfig,i=t.platformLoggerProvider;return Object(MT.b)(this,void 0,void 0,function(){var t,r,o,a,s;return Object(MT.d)(this,function(c){switch(c.label){case 0:return t=function(t,e){var n=e.fid;return lq(t)+"/"+n+"/authTokens:generate"}(n,e),r=pq(n,e),(o=i.getImmediate({optional:!0}))&&r.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:"w:0.4.22"}})},[4,fq(function(){return fetch(t,a)})];case 1:return(s=c.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,uq(c.sent())];case 3:return[4,hq("Generate Auth Token",s)];case 4:throw c.sent()}})})}function jq(t,e){return void 0===e&&(e=!1),Object(MT.b)(this,void 0,void 0,function(){var n,i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return[4,Iq(t.appConfig,function(i){if(!qq(i))throw sq.create("not-registered");var r,o=i.authToken;if(!e&&2===(r=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(r))return i;if(1===o.requestStatus)return n=function(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return[4,Fq(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,mq(100)];case 3:return r.sent(),[4,Fq(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(i=n.authToken).requestStatus?[2,jq(t,e)]:[2,i]}})})}(t,e),i;if(!navigator.onLine)throw sq.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(MT.a)(Object(MT.a)({},t),{authToken:e})}(i);return n=function(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,zq(t,e)];case 1:return n=o.sent(),r=Object(MT.a)(Object(MT.a)({},e),{authToken:n}),[4,Sq(t.appConfig,r)];case 2:return o.sent(),[2,n];case 3:return!cq(i=o.sent())||401!==i.customData.serverCode&&404!==i.customData.serverCode?[3,5]:[4,Eq(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return r=Object(MT.a)(Object(MT.a)({},e),{authToken:{requestStatus:0}}),[4,Sq(t.appConfig,r)];case 6:o.sent(),o.label=7;case 7:throw i;case 8:return[2]}})})}(t,a),a})];case 1:return i=o.sent(),n?[4,n]:[3,3];case 2:return r=o.sent(),[3,4];case 3:r=i.authToken,o.label=4;case 4:return[2,r]}})})}function Fq(t){return Iq(t,function(t){if(!qq(t))throw sq.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(MT.a)(Object(MT.a)({},t),{authToken:{requestStatus:0}}):t})}function qq(t){return void 0!==t&&2===t.registrationStatus}function Bq(t){return Object(MT.b)(this,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return[4,Rq(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function Uq(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o;return Object(MT.d)(this,function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return lq(t)+"/"+n}(t,e),i=pq(t,e),r={method:"DELETE",headers:i},[4,fq(function(){return fetch(n,r)})];case 1:return(o=a.sent()).ok?[3,3]:[4,hq("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function Hq(t){return sq.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new GF.a("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Hq("App Configuration");if(!t.name)throw Hq("App Name");try{for(var i=Object(MT.g)(["projectId","apiKey","appId"]),r=i.next();!r.done;r=i.next()){var o=r.value;if(!t.options[o])throw Hq(o)}}catch(a){e={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return[4,Rq(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(i=e.registrationPromise)?i.catch(console.error):jq(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(n){switch(n.label){case 0:return[4,Bq(t.appConfig)];case 1:return n.sent(),[4,jq(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return[4,Iq(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=i.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw sq.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw sq.create("app-offline");case 3:return[4,Uq(e,n)];case 4:return i.sent(),[4,Eq(e)];case 5:i.sent(),i.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){Mq();var n=_q(t),i=yq.get(n);i||(i=new Set,yq.set(n,i)),i.add(e)}(n,e),function(){!function(t,e){var n=_q(t),i=yq.get(n);i&&(i.delete(e),0===i.size&&yq.delete(n),Oq())}(n,e)}}(n,t)}}},"PUBLIC")),t.registerVersion("@firebase/installations","0.4.22")}(yO.a);var Vq=((Pq={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Pq["only-available-in-window"]="This method is available in a Window context.",Pq["only-available-in-sw"]="This method is available in a service worker context.",Pq["permission-default"]="The notification permission was not granted and dismissed instead.",Pq["permission-blocked"]="The notification permission was not granted and blocked instead.",Pq["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Pq["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Pq["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Pq["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Pq["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Pq["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Pq["token-update-no-token"]="FCM returned no token when updating the user to push.",Pq["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Pq["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Pq["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Pq["invalid-vapid-key"]="The public VAPID key must be a string.",Pq["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Pq),Wq=new xO.b("messaging","Messaging",Vq),Gq="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Qq=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function Yq(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(MT.f)([],Object(MT.e)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kq(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}function Xq(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n=this;return Object(MT.d)(this,function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!i.sent().map(function(t){return t.name}).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return e=null,[4,Object(oq.openDb)("fcm_token_details_db",5,function(i){return Object(MT.b)(n,void 0,void 0,function(){var n,r,o,a;return Object(MT.d)(this,function(s){switch(s.label){case 0:return i.oldVersion<2?[2]:i.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=i.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return r=s.sent(),[4,n.clear()];case 2:if(s.sent(),!r)return[2];if(2===i.oldVersion){if(!(o=r).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:Yq(o.vapidKey)}}}else(3===i.oldVersion||4===i.oldVersion)&&(e={token:(o=r).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Yq(o.auth),p256dh:Yq(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Yq(o.vapidKey)}});return[2]}})})})];case 3:return i.sent().close(),[4,Object(oq.deleteDb)("fcm_token_details_db")];case 4:return i.sent(),[4,Object(oq.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(oq.deleteDb)("undefined")];case 6:return i.sent(),[2,$q(e)?e:null]}})})}function $q(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var Jq=null;function Zq(){return Jq||(Jq=Object(oq.openDb)("firebase-messaging-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore("firebase-messaging-store")}})),Jq}function tB(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return e=iB(t),[4,Zq()];case 1:return[4,r.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(e)];case 2:return(n=r.sent())?[2,n]:[3,3];case 3:return[4,Xq(t.appConfig.senderId)];case 4:return(i=r.sent())?[4,eB(t,i)]:[3,6];case 5:return r.sent(),[2,i];case 6:return[2]}})})}function eB(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return n=iB(t),[4,Zq()];case 1:return i=o.sent(),[4,(r=i.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(e,n)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2,e]}})})}function nB(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return e=iB(t),[4,Zq()];case 1:return n=r.sent(),[4,(i=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(e)];case 2:return r.sent(),[4,i.complete];case 3:return r.sent(),[2]}})})}function iB(t){return t.appConfig.appId}function rB(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o,a;return Object(MT.d)(this,function(s){switch(s.label){case 0:return[4,cB(t)];case 1:n=s.sent(),i=lB(e),r={method:"POST",headers:n,body:JSON.stringify(i)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(sB(t.appConfig),r)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),Wq.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw Wq.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Wq.create("token-subscribe-no-token");return[2,o.token]}})})}function oB(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o,a;return Object(MT.d)(this,function(s){switch(s.label){case 0:return[4,cB(t)];case 1:n=s.sent(),i=lB(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(sB(t.appConfig)+"/"+e.token,r)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),Wq.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw Wq.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Wq.create("token-update-no-token");return[2,o.token]}})})}function aB(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o;return Object(MT.d)(this,function(a){switch(a.label){case 0:return[4,cB(t)];case 1:n=a.sent(),i={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(sB(t.appConfig)+"/"+e,i)];case 3:return[4,a.sent().json()];case 4:if((r=a.sent()).error)throw Wq.create("token-unsubscribe-failed",{errorInfo:r.error.message});return[3,6];case 5:throw o=a.sent(),Wq.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}})})}function sB(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function cB(t){var e=t.appConfig,n=t.installations;return Object(MT.b)(this,void 0,void 0,function(){var t;return Object(MT.d)(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return t=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function lB(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==Gq&&(n.web.applicationPubKey=e),n}function uB(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r,o,a;return Object(MT.d)(this,function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw Wq.create("permission-blocked");return[4,fB(e,n)];case 1:return i=s.sent(),[4,tB(t)];case 2:return r=s.sent(),o={vapidKey:n,swScope:e.scope,endpoint:i.endpoint,auth:Yq(i.getKey("auth")),p256dh:Yq(i.getKey("p256dh"))},r?[3,3]:[2,pB(t,o)];case 3:if(u=(l=o).endpoint===(c=r.subscriptionOptions).endpoint,l.vapidKey===c.vapidKey&&u&&l.auth===c.auth&&l.p256dh===c.p256dh)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,aB(t,r.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,pB(t,o)];case 8:return Date.now()>=r.createTime+6048e5?[2,dB({token:r.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,r.token];case 9:return[2]}var c,l,u})})}function hB(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return[4,tB(t)];case 1:return(n=r.sent())?[4,aB(t,n.token)]:[3,4];case 2:return r.sent(),[4,nB(t)];case 3:r.sent(),r.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(i=r.sent())?[2,i.unsubscribe()]:[2,!0]}})})}function dB(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r,o;return Object(MT.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,oB(e,t)];case 1:return i=a.sent(),r=Object(MT.a)(Object(MT.a)({},t),{token:i,createTime:Date.now()}),[4,eB(e,r)];case 2:return a.sent(),[2,i];case 3:return o=a.sent(),[4,hB(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function pB(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return[4,rB(t,e)];case 1:return n=r.sent(),i={token:n,createTime:Date.now(),subscriptionOptions:e},[4,eB(t,i)];case 2:return r.sent(),[2,i.token]}})})}function fB(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=i.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Kq(e)})]}})})}function gB(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function mB(t){return new Promise(function(e){setTimeout(e,t)})}var vB=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw Wq.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(MT.b)(this,void 0,void 0,function(){var n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,tB(this.firebaseDependencies)];case 1:n=i.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:Gq,i.label=2;case 2:return[2,uB(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return hB(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Wq.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Wq.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Wq.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw Wq.create("only-available-in-window")},t.prototype.onMessage=function(){throw Wq.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Wq.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n,i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,CB()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,yB(n,e)]:(i=!1,e.notification?[4,xB(bB(e))]:[3,3]);case 2:o.sent(),i=!0,o.label=3;case 3:return!0===i&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(r=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var i=e.notification.body;i&&(t.notification.body=i);var r=e.notification.image;r&&(t.notification.image=r)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var i=e.fcmOptions.analytics_label;i&&(t.fcmOptions.analyticsLabel=i)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[4,mB(1e3)]);case 4:return o.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return Object(MT.b)(this,void 0,void 0,function(){var i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return t.newSubscription?[3,2]:[4,hB(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,tB(this.firebaseDependencies)];case 3:return i=r.sent(),[4,hB(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,uB(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==i?void 0:i.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:Gq)];case 5:return r.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return Object(MT.b)(this,void 0,void 0,function(){var i,r,o,a,s;return Object(MT.d)(this,function(c){switch(c.label){case 0:return(i=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(r=function(t){var e,n,i;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(i=t.notification)||void 0===i?void 0:i.click_action)||(gB(t.data)?self.location.origin:null)}(i))?(o=new URL(r,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,_B(o)]):[2]):[2];case 1:return(s=c.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return s=c.sent(),[4,mB(3e3)];case 3:return c.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=c.sent(),c.label=6;case 6:return s?(i.messageType=Qq.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,s.postMessage(i)]):[2]}})})},t}();function bB(t){var e,n=Object(MT.a)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function _B(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n,i,r,o,a,s;return Object(MT.d)(this,function(c){switch(c.label){case 0:return[4,CB()];case 1:e=c.sent();try{for(n=Object(MT.g)(e),i=n.next();!i.done;i=n.next())if(r=i.value,o=new URL(r.url,self.location.href),t.host===o.host)return[2,r]}catch(l){a={error:l}}finally{try{i&&!i.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function yB(t,e){var n,i;e.isFirebaseMessaging=!0,e.messageType=Qq.PUSH_RECEIVED;try{for(var r=Object(MT.g)(t),o=r.next();!o.done;o=r.next())o.value.postMessage(e)}catch(a){n={error:a}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}function CB(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function xB(t){var e,n=t.actions,i=Notification.maxActions;return n&&i&&n.length>i&&console.warn("This browser only supports "+i+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var wB=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===Qq.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),gB(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw Wq.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,uB(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Gq),[2]})})},t.prototype.updateSwReg=function(t){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Wq.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return Object(MT.b)(this,void 0,void 0,function(){var t,e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),Wq.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,hB(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return Object(MT.b)(this,void 0,void 0,function(){var t;return Object(MT.d)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw Wq.create("denied"===t?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Wq.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Wq.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Wq.create("invalid-sw-registration");if(this.swRegistration)throw Wq.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Wq.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Wq.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return n=function(t){switch(t){case Qq.NOTIFICATION_CLICKED:return"notification_open";case Qq.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function MB(t){return Wq.create("missing-app-config-values",{valueName:t})}var OB={isSupported:PB};function PB(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}yO.a.INTERNAL.registerComponent(new GF.a("messaging",function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw MB("App Configuration Object");if(!t.name)throw MB("App Name");var i=t.options;try{for(var r=Object(MT.g)(["projectId","apiKey","appId","messagingSenderId"]),o=r.next();!o.done;o=r.next()){var a=o.value;if(!i[a])throw MB(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!PB())throw Wq.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new vB(n):new wB(n)},"PUBLIC").setServiceProps(OB));var kB=function(t){function e(n,i){var r=t.call(this,AB(n),"Firebase Storage: "+i+" ("+AB(n)+")")||this;return r.customData={serverResponse:null},Object.setPrototypeOf(r,e.prototype),r}return Object(MT.c)(e,t),e.prototype._codeEquals=function(t){return AB(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(xO.c);function AB(t){return"storage/"+t}function TB(){return new kB("unknown","An unknown error occurred, please check the error payload for server response.")}function SB(){return new kB("canceled","User canceled the upload/download.")}function EB(){return new kB("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function IB(t){return new kB("invalid-argument",t)}function RB(){return new kB("app-deleted","The Firebase app was deleted.")}function DB(t){return new kB("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function NB(t,e){return new kB("invalid-format","String does not match format '"+t+"': "+e)}function LB(t){throw new kB("internal-error","Internal error: "+t)}var zB={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},jB=function(t,e){this.data=t,this.contentType=e||null};function FB(t,e){switch(t){case zB.RAW:return new jB(qB(e));case zB.BASE64:case zB.BASE64URL:return new jB(BB(t,e));case zB.DATA_URL:return new jB((n=new UB(e)).base64?BB(zB.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(UF){throw NB(zB.DATA_URL,"Malformed data URL.")}return qB(e)}(n.rest),new UB(e).contentType)}var n;throw TB()}function qB(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var r=i,o=t.charCodeAt(++n);e.push(240|(i=65536|(1023&r)<<10|1023&o)>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189);else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function BB(t,e){switch(t){case zB.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i)throw NB(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case zB.BASE64URL:var r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw NB(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(UF){throw NB(t,"Invalid character found")}for(var s=new Uint8Array(a.length),c=0;c<a.length;c++)s[c]=a.charCodeAt(c);return s}var UB=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw NB(zB.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=function(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)},HB={STATE_CHANGED:"state_changed"},VB={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function WB(t){switch(t){case"running":case"pausing":case"canceling":return VB.RUNNING;case"paused":return VB.PAUSED;case"success":return VB.SUCCESS;case"canceled":return VB.CANCELED;case"error":default:return VB.ERROR}}var GB=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),QB=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=GB.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=GB.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=GB.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,i){if(this.sent_)throw LB("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==i)for(var r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw LB("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw LB("cannot .getStatus() before sending");try{return this.xhr_.status}catch(UF){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw LB("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),YB=function(){function t(){}return t.prototype.createXhrIo=function(){return new QB},t}(),KB=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(UF){return new t(e,"")}if(""===n.path)return n;throw new kB("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function r(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:r},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:r}],s=0;s<a.length;s++){var c=a[s],l=c.regex.exec(e);if(l){var u=l[c.indices.path];u||(u=""),n=new t(l[c.indices.bucket],u),c.postModify(n);break}}if(null==n)throw function(t){return new kB("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}(),XB=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function $B(t){return"string"==typeof t||t instanceof String}function JB(t){return ZB()&&t instanceof Blob}function ZB(){return"undefined"!=typeof Blob}function tU(t,e,n,i){if(i<e)throw IB("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(i>n)throw IB("Invalid value for '"+t+"'. Expected "+n+" or less.")}function eU(t){return"https://firebasestorage.googleapis.com/v0"+t}function nU(t){var e=encodeURIComponent,n="?";for(var i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n.slice(0,-1)}var iU=function(){function t(t,e,n,i,r,o,a,s,c,l,u){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=l,this.timeout_=c,this.pool_=u,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var i,r=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());void 0!==s?r(s):r()}catch(UF){o(UF)}else null!==a?((i=TB()).serverResponse=a.getResponseText(),o(t.errorCallback_?t.errorCallback_(a,i):i)):o(i=n.canceled?t.appDelete_?RB():SB():new kB("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new rU(!1,null,!0)):this.backoffId_=function(e,n,i){var r=1,o=null,a=!1,s=0;function c(){return 2===s}var l=!1;function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l||(l=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new rU(!1,null,!0));else{var i=t.pool_.createXhrIo();t.pendingXhr_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(r),t.pendingXhr_=null;var i=(n=n).getErrorCode()===GB.NO_ERROR,o=n.getStatus();if(i&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new rU(a,n))}else{var s=n.getErrorCode()===GB.ABORT;e(!1,new rU(!1,null,s))}})}function r(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)u.call.apply(u,Object(MT.f)([null,t],e));else{var i;c()||a?u.call.apply(u,Object(MT.f)([null,t],e)):(r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),h(i))}}var p=!1;function f(t){p||(p=!0,l||(null!==o?(t||(s=2),clearTimeout(o),h(0)):t||(s=1)))}return h(0),setTimeout(function(){a=!0,f(!0)},i),f}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||i},t}(),rU=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function oU(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function aU(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=oU();if(void 0!==n){for(var i=new n,r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(ZB())return new Blob(t);throw new kB("unsupported-environment","This browser doesn't seem to support creating Blobs")}var sU=function(){function t(t,e){var n=0,i="";JB(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(JB(this.data_)){var i=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new t(i)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(ZB()){var i=e.map(function(e){return e instanceof t?e.data_:e});return new t(aU.apply(null,i))}var r=e.map(function(t){return $B(t)?FB(zB.RAW,t).data:t.data_}),o=0;r.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return r.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function cU(t){var e,n;try{e=JSON.parse(t)}catch(UF){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function lU(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function uU(t,e){return e}var hU=function(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||uU},dU=null;function pU(){if(dU)return dU;var t=[];t.push(new hU("bucket")),t.push(new hU("generation")),t.push(new hU("metageneration")),t.push(new hU("name","fullPath",!0));var e=new hU("name");e.xform=function(t,e){return function(t){return!$B(t)||t.length<2?t:lU(t)}(e)},t.push(e);var n=new hU("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new hU("timeCreated")),t.push(new hU("updated")),t.push(new hU("md5Hash",null,!0)),t.push(new hU("cacheControl",null,!0)),t.push(new hU("contentDisposition",null,!0)),t.push(new hU("contentEncoding",null,!0)),t.push(new hU("contentLanguage",null,!0)),t.push(new hU("contentType",null,!0)),t.push(new hU("metadata","customMetadata",!0)),dU=t}function fU(t,e,n){var i=cU(e);return null===i?null:function(t,e,n){for(var i={type:"file"},r=n.length,o=0;o<r;o++){var a=n[o];i[a.local]=a.xform(i,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new KB(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(i,t),i}(t,i,n)}function gU(t,e){for(var n={},i=e.length,r=0;r<i;r++){var o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var mU=function(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function vU(t){if(!t)throw TB()}function bU(t,e){return function(n,i){var r=fU(t,i,e);return vU(null!==r),r}}function _U(t){return function(e,n){var i;return(i=401===e.getStatus()?new kB("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new kB("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new kB("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,i}}function yU(t){var e=_U(t);return function(n,i){var r=e(n,i);return 404===n.getStatus()&&(r=new kB("object-not-found","Object '"+t.path+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function CU(t,e,n){var i=eU(e.fullServerUrl()),r=t.maxOperationRetryTime,o=new mU(i,"GET",bU(t,n),r);return o.errorHandler=yU(e),o}function xU(t,e,n){var i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),i}var wU=function(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null};function MU(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(UF){vU(!1)}return vU(!!n&&-1!==(e||["active"]).indexOf(n)),n}var OU=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}};function PU(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var kU=function(){function t(t,e,n){var i=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=pU(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){i._request=void 0,i._chunkMultiplier=1,t._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=t,i._transition("error"))},this._metadataErrorHandler=function(t){i._request=void 0,t._codeEquals("canceled")?i.completeTransitions_():(i._error=t,i._transition("error"))},this._promise=new Promise(function(t,e){i._resolve=t,i._reject=e,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),a=xU(e,i,r),s={name:a.fullPath},c=eU(o),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},u=gU(a,n),h=new mU(c,"POST",function(t){var e;MU(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(UF){vU(!1)}return vU($B(e)),e},t.maxUploadRetryTime);return h.urlParams=s,h.headers=l,h.body=u,h.errorHandler=_U(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(n,e);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var i=function(t,e,n,i){var r=new mU(n,"POST",function(t){var e=MU(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(UF){vU(!1)}n||vU(!1);var r=Number(n);return vU(!isNaN(r)),new wU(r,i.size(),"final"===e)},t.maxUploadRetryTime);return r.headers={"X-Goog-Upload-Command":"query"},r.errorHandler=_U(e),r}(t._ref.storage,t._ref._location,e,t._blob),r=t._ref.storage._makeRequest(i,n);t._request=r,r.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new wU(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(r){var o;try{o=function(t,e,n,i,r,o,a,s){var c=new wU(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw new kB("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=c.total-c.current,u=l;r>0&&(u=Math.min(u,r));var h=c.current,d={"X-Goog-Upload-Command":u===l?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},p=i.slice(h,h+u);if(null===p)throw EB();var f=new mU(n,"POST",function(t,n){var r,a=MU(t,["active","final"]),s=c.current+u,l=i.size();return r="final"===a?bU(e,o)(t,n):null,new wU(s,l,"final"===a,r)},e.maxUploadRetryTime);return f.headers=d,f.body=p.uploadData(),f.progressCallback=s||null,f.errorHandler=_U(t),f}(t._ref._location,t._ref.storage,i,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(UF){return t._error=UF,void t._transition("error")}var a=t._ref.storage._makeRequest(o,r);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=CU(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(n,e);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var c=xU(e,i,r),l=gU(c,n),u=sU.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+s+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+s+"--");if(null===u)throw EB();var h={name:c.fullPath},d=eU(o),p=t.maxUploadRetryTime,f=new mU(d,"POST",bU(t,n),p);return f.urlParams=h,f.headers=a,f.body=u.uploadData(),f.errorHandler=_U(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(n,e);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=SB(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=WB(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,i){var r=this,o=new OU(e,n,i);return this._addObserver(o),function(){r._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(WB(this._state)){case VB.SUCCESS:PU(this._resolve.bind(null,this.snapshot))();break;case VB.CANCELED:case VB.ERROR:PU(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(WB(this._state)){case VB.RUNNING:case VB.PAUSED:t.next&&PU(t.next.bind(t,this.snapshot))();break;case VB.SUCCESS:t.complete&&PU(t.complete.bind(t))();break;case VB.CANCELED:case VB.ERROR:t.error&&PU(t.error.bind(t,this._error))();break;default:t.error&&PU(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),AU=function(){function t(t,e){this._service=t,this._location=e instanceof KB?e:KB.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new KB(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return lU(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new KB(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw DB(t)},t}();function TU(t){var e={prefixes:[],items:[]};return SU(t,e).then(function(){return e})}function SU(t,e,n){return Object(MT.b)(this,void 0,void 0,function(){var i,r,o;return Object(MT.d)(this,function(a){switch(a.label){case 0:return[4,EU(t,{pageToken:n})];case 1:return i=a.sent(),(r=e.prefixes).push.apply(r,i.prefixes),(o=e.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,SU(t,e,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function EU(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i,r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&tU("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),r=function(t,e,n,i,r){var o={};o.prefix=e.isRoot?"":e.path+"/","/".length>0&&(o.delimiter="/"),i&&(o.pageToken=i),r&&(o.maxResults=r);var a=eU(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime,c=new mU(a,"GET",function(t,e){return function(n,i){var r=function(t,e,n){var i=cU(n);return null===i?null:function(t,e,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var r=0,o=n.prefixes;r<o.length;r++){var a=o[r].replace(/\/$/,""),s=t._makeStorageReference(new KB(e,a));i.prefixes.push(s)}if(n.items)for(var c=0,l=n.items;c<l.length;c++)s=t._makeStorageReference(new KB(e,l[c].name)),i.items.push(s);return i}(t,e,i)}(t,e,i);return vU(null!==r),r}}(t,e.bucket),s);return c.urlParams=o,c.errorHandler=_U(e),c}(t.storage,t._location,0,(i=e||{}).pageToken,i.maxResults),[2,t.storage._makeRequest(r,n).getPromise()]}})})}function IU(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),i=new KB(t._location.bucket,n);return new AU(t.storage,i)}function RU(t){return/^[A-Za-z]+:\/\//.test(t)}function DU(t,e){if(t instanceof LU){var n=t;if(null==n._bucket)throw new kB("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new AU(n,n._bucket);return null!=e?DU(i,e):i}if(void 0!==e){if(e.includes(".."))throw IB('`path` param cannot contain ".."');return IU(t,e)}return t}function NU(t,e){if(e&&RU(e)){if(t instanceof LU)return new AU(t,e);throw IB("To use ref(service, url), the first argument must be a Storage instance.")}return DU(t,e)}var LU=function(){function t(t,e,n,i,r){var o,a;this.app=t,this._authProvider=e,this._pool=n,this._url=i,this._firebaseVersion=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?KB.makeFromBucketSpec(i):null==(a=null==(o=this.app.options)?void 0:o.storageBucket)?null:KB.makeFromBucketSpec(a)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){tU("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){tU("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(MT.b)(this,void 0,void 0,function(){var t,e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new AU(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new XB(RB());var i=function(t,e,n,i,r){var o=nU(t.urlParams),a=t.url+o,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(s,r),new iU(a,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return n._requests.delete(i)},function(){return n._requests.delete(i)}),i},t}();function zU(t,e){return NU(t,e)}var jU=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),FU=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new jU(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new jU(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,i){var r=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new jU(t,r,r._ref))}:{next:e.next?function(t){return e.next(new jU(t,r,r._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,i||void 0)},t}(),qU=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new BU(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new BU(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),BU=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return IU(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new FU(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new kU(t,new sU(e),n)}(t,e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=zB.RAW),this._throwIfRoot("putString");var i=FB(e,t),r=Object(MT.a)({},n);return null==r.contentType&&null!=i.contentType&&(r.contentType=i.contentType),new FU(new kU(this._delegate,new sU(i.data,!0),r),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,TU(t)).then(function(t){return new qU(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return EU(t,e)}(this._delegate,t||void 0).then(function(t){return new qU(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=i.sent(),n=CU(t.storage,t._location,pU()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i;return Object(MT.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=r.sent(),i=function(t,e,n,i){var r=eU(e.fullServerUrl()),o=gU(n,i),a=t.maxOperationRetryTime,s=new mU(r,"PATCH",bU(t,i),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=yU(e),s}(t.storage,t._location,e,pU()),[2,t.storage._makeRequest(i,n).getPromise()]}})})}(t,e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=i.sent(),n=function(t,e,n){var i=eU(e.fullServerUrl()),r=t.maxOperationRetryTime,o=new mU(i,"GET",function(t,e){return function(n,i){var r=fU(t,i,e);return vU(null!==r),function(t,e){var n=cU(e);if(null===n)return null;if(!$B(n.downloadTokens))return null;var i=n.downloadTokens;if(0===i.length)return null;var r=encodeURIComponent;return i.split(",").map(function(e){var n=t.fullPath;return eU("/b/"+r(t.bucket)+"/o/"+r(n))+nU({alt:"media",token:e})})[0]}(r,i)}}(t,n),r);return o.errorHandler=yU(e),o}(t.storage,t._location,pU()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new kB("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=i.sent(),n=function(t,e){var n=eU(e.fullServerUrl()),i=new mU(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return i.successCodes=[200,204],i.errorHandler=yU(e),i}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw DB(t)},t}(),UU=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(RU(t))throw IB("ref() expected a child path but got a URL, use refFromURL instead.");return new BU(zU(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!RU(t))throw IB("refFromURL() expected a full URL but got a child path, use ref() instead.");try{KB.makeFromUrl(t)}catch(UF){throw IB("refFromUrl() expected a valid full URL but got an invalid one.")}return new BU(zU(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function HU(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new UU(i,new LU(i,r,new YB,n,yO.a.SDK_VERSION))}!function(t){var e={TaskState:VB,TaskEvent:HB,StringFormat:zB,Storage:LU,Reference:BU};t.INTERNAL.registerComponent(new GF.a("storage",HU,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.5")}(yO.a);var VU,WU,GU,QU=((VU={})["trace started"]="Trace {$traceName} was started before.",VU["trace stopped"]="Trace {$traceName} is not running.",VU["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",VU["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",VU["no window"]="Window is not available.",VU["no app id"]="App id is not available.",VU["no project id"]="Project id is not available.",VU["no api key"]="Api key is not available.",VU["invalid cc log"]="Attempted to queue invalid cc event",VU["FB not default"]="Performance can only start when Firebase app instance is the default one.",VU["RC response not ok"]="RC response is not ok",VU["invalid attribute name"]="Attribute name {$attributeName} is invalid.",VU["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",VU["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",VU["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",VU),YU=new xO.b("performance","Performance",QU),KU=new CO.b("Performance");KU.logLevel=CO.a.INFO;var XU,$U=function(){function t(t){if(this.window=t,!t)throw YU.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(xO.w)()||(KU.info("IndexedDB is not supported by current browswer"),!1):(KU.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,i=t.getEntries();n<i.length;n++)e(i[n])}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===WU&&(WU=new t(GU)),WU},t}();function JU(t,e){var n=t.length-e.length;if(n<0||n>1)throw YU.create("invalid String merger input");for(var i=[],r=0;r<t.length;r++)i.push(t.charAt(r)),e.length>r&&i.push(e.charAt(r));return i.join("")}var ZU,tH=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=JU("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=JU("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw YU.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw YU.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw YU.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===XU&&(XU=new t),XU},t}();function eH(){return ZU}var nH=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),iH=["firebase_","google_","ga_"],rH=new RegExp("^[a-zA-Z]\\w*$");function oH(){var t=$U.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function aH(){switch($U.getInstance().document.visibilityState){case"visible":return nH.VISIBLE;case"hidden":return nH.HIDDEN;default:return nH.UNKNOWN}}function sH(){var t=$U.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function cH(t){if(!t)return t;var e=tH.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=lH(e.tracesSamplingRate),e.logNetworkAfterSampling=lH(e.networkRequestsSamplingRate),t}function lH(t){return Math.random()<=t}var uH,hH=1;function dH(){return hH=2,uH=uH||function(){var t=$U.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){t.addEventListener("readystatechange",function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())})}else e()})}().then(function(){return(t=tH.getInstance().installationsService.getId()).then(function(t){ZU=t}),t;var t}).then(function(t){return function(t){var e=function(){var t=$U.getInstance().localStorage;if(t){var e=t.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()){var n=t.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(a2){return}}}}();return e?(cH(e),Promise.resolve()):function(t){return(e=tH.getInstance().installationsService.getToken(),e.then(function(t){}),e).then(function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+tH.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+tH.getInstance().getApiKey(),i=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:tH.getInstance().getAppId(),app_version:"0.4.8",sdk_version:"0.0.1"})});return fetch(i).then(function(t){if(t.ok)return t.json();throw YU.create("RC response not ok")})}).catch(function(){KU.info("Could not fetch config, will use default configs")});var e}(t).then(cH).then(function(t){return function(t){var e=$U.getInstance().localStorage;t&&e&&(e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*tH.getInstance().configTimeToLive*60*1e3)))}(t)},function(){})}(t)}).then(function(){return pH()},function(){return pH()})}function pH(){hH=3}var fH,gH=3,mH=[],vH=!1;function bH(t){setTimeout(function(){var t,e;if(0!==gH)return mH.length?(e=(t=mH.splice(0,1e3)).map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}),void function(t,e){return function(t){var e=tH.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(t){return t.ok||KU.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),i=1e4;isNaN(n)||(i=Math.max(n,i));var r=t.logResponseDetails;Array.isArray(r)&&r.length>0&&"RETRY_REQUEST_LATER"===r[0].responseAction&&(mH=Object(MT.f)(Object(MT.f)([],e),mH),KU.info("Retry transport request later.")),gH=3,bH(i)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:tH.getInstance().logSource,log_event:e},t).catch(function(){mH=Object(MT.f)(Object(MT.f)([],t),mH),gH--,KU.info("Tries left: "+gH+"."),bH(1e4)})):bH(1e4)},t)}function _H(t){if(!t.eventTime||!t.message)throw YU.create("invalid cc log");mH=Object(MT.f)(Object(MT.f)([],mH),[t])}function yH(t,e){var n;fH||(n=wH,fH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];_H({message:n.apply(void 0,t),eventTime:Date.now()})}),fH(t,e)}function CH(t){var e=tH.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&$U.getInstance().requiredApisAvailable()&&(t.isAuto&&aH()!==nH.VISIBLE||(3===hH?xH(t):dH().then(function(){return xH(t)},function(){return xH(t)})))}function xH(t){if(eH()){var e=tH.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return yH(t,1)},0)}}function wH(t,e){return 0===e?(i={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},r={application_info:MH(),network_request_metric:i},JSON.stringify(r)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var i={application_info:MH(),trace_metric:e};return JSON.stringify(i)}(t);var n,i,r}function MH(){return{google_app_id:tH.getInstance().getAppId(),app_instance_id:eH(),web_app_info:{sdk_version:"0.4.8",page_url:$U.getInstance().getUrl(),service_worker_status:oH(),visibility_state:aH(),effective_connection_type:sH()},application_process_state:0}}var OH=["_fp","_fcp","_fid"],PH=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=$U.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw YU.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw YU.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),CH(this)},t.prototype.record=function(t,e,n){if(t<=0)throw YU.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw YU.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(MT.a)({},n.attributes)),n&&n.metrics)for(var i=0,r=Object.keys(n.metrics);i<r.length;i++){var o=r[i];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}CH(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(o=this.name,0===(r=t).length||r.length>100||!(o&&o.startsWith("_wt_")&&OH.indexOf(r)>-1)&&r.startsWith("_"))throw YU.create("invalid custom metric name",{customMetricName:t});var n,i,r,o;this.counters[t]=(n=e,(i=Math.floor(n))<n&&KU.info("Metric value should be an Integer, setting the value as : "+i+"."),i)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,i=!(0===(n=t).length||n.length>40||iH.some(function(t){return n.startsWith(t)})||!n.match(rH)),r=function(t){return 0!==t.length&&t.length<=100}(e);if(i&&r)this.customAttributes[t]=e;else{if(!i)throw YU.create("invalid attribute name",{attributeName:t});if(!r)throw YU.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(MT.a)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,i){var r=$U.getInstance().getUrl();if(r){var o=new t("_wt_"+r,!0),a=Math.floor(1e3*$U.getInstance().getTimeOrigin());if(o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var s=n.find(function(t){return"first-paint"===t.name});s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var c=n.find(function(t){return"first-contentful-paint"===t.name});c&&c.startTime&&o.putMetric("_fcp",Math.floor(1e3*c.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}CH(o)}},t.createUserTimingTrace=function(e){CH(new t(e,!1,e))},t}();function kH(t){var e=t;if(e&&void 0!==e.responseStart){var n=$U.getInstance().getTimeOrigin(),i=Math.floor(1e3*(e.startTime+n)),r=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=tH.getInstance();if(e.instrumentationEnabled){var n=t.url,i=e.logEndPointUrl.split("?")[0],r=e.flTransportEndpointUrl.split("?")[0];n!==i&&n!==r&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return yH(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:i,timeToResponseInitiatedUs:r,timeToResponseCompletedUs:o})}}function AH(){eH()&&(setTimeout(function(){return function(){var t=$U.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var i=setTimeout(function(){PH.createOobTrace(e,n),i=void 0},5e3);t.onFirstInputDelay(function(t){i&&(clearTimeout(i),PH.createOobTrace(e,n,t))})}else PH.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=$U.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)kH(n[e]);t.setupObserver("resource",kH)}()},0),setTimeout(function(){return function(){for(var t=$U.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)TH(n[e]);t.setupObserver("measure",TH)}()},0))}function TH(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&PH.createUserTimingTrace(e)}var SH=function(){function t(t){this.app=t,$U.getInstance().requiredApisAvailable()&&Object(xO.N)().then(function(t){t&&(vH||(bH(5500),vH=!0),dH().then(AH,AH))}).catch(function(t){KU.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new PH(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return tH.getInstance().instrumentationEnabled},set:function(t){tH.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return tH.getInstance().dataCollectionEnabled},set:function(t){tH.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new GF.a("performance",function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw YU.create("FB not default");if("undefined"==typeof window)throw YU.create("no window");return function(t){GU=t}(window),tH.getInstance().firebaseAppInstance=t,tH.getInstance().installationsService=e,new SH(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance","0.4.8")}(yO.a);var EH,IH="https://www.googletagmanager.com/gtag/js",RH=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),DH=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),NH=new CO.b("@firebase/analytics");function LH(t,e,n,i,r,o){return Object(MT.b)(this,void 0,void 0,function(){var a,s,c,l;return Object(MT.d)(this,function(u){switch(u.label){case 0:a=i[r],u.label=1;case 1:return u.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=u.sent(),(c=s.find(function(t){return t.measurementId===r}))?[4,e[c.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return l=u.sent(),NH.error(l),[3,8];case 8:return t(RH.CONFIG,r,o),[2]}})})}function zH(t,e,n,i,r){return Object(MT.b)(this,void 0,void 0,function(){var o,a,s,c,l,u,h;return Object(MT.d)(this,function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],r&&r.send_to?(a=r.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),c=function(t){var n=s.find(function(e){return e.measurementId===t}),i=n&&e[n.appId];if(!i)return o=[],"break";o.push(i)},l=0,u=a;l<u.length&&"break"!==c(u[l]);l++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(RH.EVENT,i,r||{}),[3,5];case 4:return h=d.sent(),NH.error(h),[3,5];case 5:return[2]}})})}var jH=((EH={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",EH["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",EH["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",EH["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",EH["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",EH["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",EH["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",EH["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',EH["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',EH),FH=new xO.b("analytics","Analytics",jH),qH=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function BH(t){var e;return Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o,a,s;return Object(MT.d)(this,function(c){switch(c.label){case 0:return n=t.appId,i={method:"GET",headers:(l=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":l}))},r="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(r,i)];case 1:if(200===(o=c.sent()).status||304===o.status)return[3,6];a="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.json()];case 3:return s=c.sent(),(null===(e=s.error)||void 0===e?void 0:e.message)&&(a=s.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw FH.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a});case 6:return[2,o.json()]}var l})})}function UH(t,e,n,i){var r=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===i&&(i=qH),Object(MT.b)(this,void 0,void 0,function(){var e,a,s,c,l,u,h;return Object(MT.d)(this,function(d){switch(d.label){case 0:e=t.appId,a=t.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,HH(n,r)];case 2:return d.sent(),[3,4];case 3:if(s=d.sent(),a)return NH.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:e,measurementId:a}];throw s;case 4:return d.trys.push([4,6,,7]),[4,BH(t)];case 5:return c=d.sent(),i.deleteThrottleMetadata(e),[2,c];case 6:if(!function(t){if(!(t instanceof xO.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l=d.sent())){if(i.deleteThrottleMetadata(e),a)return NH.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:e,measurementId:a}];throw l}return u=503===Number(l.customData.httpStatus)?Object(xO.j)(o,i.intervalMillis,30):Object(xO.j)(o,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:o+1},i.setThrottleMetadata(e,h),NH.debug("Calling attemptFetch again in "+u+" millis"),[2,UH(t,h,n,i)];case 7:return[2]}})})}function HH(t,e){return new Promise(function(n,i){var r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(function(){clearTimeout(o),i(FH.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var VH,WH,GH=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),QH={},YH=[],KH={},XH="dataLayer",$H="gtag",JH=!1;function ZH(t){if(JH)throw FH.create("already-initialized");t.dataLayerName&&(XH=t.dataLayerName),t.gtagName&&($H=t.gtagName)}function tV(){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(t){switch(t.label){case 0:if(Object(xO.s)())return[2,!1];if(!Object(xO.e)())return[2,!1];if(!Object(xO.w)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(xO.N)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new GF.a("analytics",function(t){return function(t,e){!function(){var t=[];if(Object(xO.s)()&&t.push("This is a browser extension environment."),Object(xO.e)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=FH.create("invalid-analytics-context",{errorInfo:e});NH.warn(n.message)}}();var n,i,r=t.options.appId;if(!r)throw FH.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw FH.create("no-api-key");NH.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=QH[r])throw FH.create("already-exists",{id:r});if(!JH){n=XH,i=[],Array.isArray(window[n])?i=window[n]:window[n]=i;var o=function(t,e,n,i,r){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function(t,e,n,i){return function(r,o,a){return Object(MT.b)(this,void 0,void 0,function(){var s;return Object(MT.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),r!==RH.EVENT?[3,2]:[4,zH(t,e,n,o,a)];case 1:return c.sent(),[3,5];case 2:return r!==RH.CONFIG?[3,4]:[4,LH(t,e,n,i,o,a)];case 3:return c.sent(),[3,5];case 4:t(RH.SET,o),c.label=5;case 5:return[3,7];case 6:return s=c.sent(),NH.error(s),[3,7];case 7:return[2]}})})}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}(QH,YH,KH,XH,$H);WH=o.wrappedGtag,VH=o.gtagCore,JH=!0}return QH[r]=function(t,e,n,i,r,o){return Object(MT.b)(this,void 0,void 0,function(){var a,s,c,l,u,h,d;return Object(MT.d)(this,function(p){switch(p.label){case 0:return(a=function(t,e,n){return void 0===e&&(e=qH),Object(MT.b)(this,void 0,void 0,function(){var n,i,r,o,a,s,c=this;return Object(MT.d)(this,function(l){if(r=(n=t.options).apiKey,o=n.measurementId,!(i=n.appId))throw FH.create("no-app-id");if(!r){if(o)return[2,{measurementId:o,appId:i}];throw FH.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new GH,setTimeout(function(){return Object(MT.b)(c,void 0,void 0,function(){return Object(MT.d)(this,function(t){return s.abort(),[2]})})},6e4),[2,UH({appId:i,apiKey:r,measurementId:o},a,s,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&NH.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return NH.error(t)}),e.push(a),s=function(){return Object(MT.b)(this,void 0,void 0,function(){var t;return Object(MT.d)(this,function(e){switch(e.label){case 0:return Object(xO.w)()?[3,1]:(NH.warn(FH.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(xO.N)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),NH.warn(FH.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?i.getId():void 0}),[4,Promise.all([a,s])];case 1:return c=p.sent(),l=c[0],u=c[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var i=n[e];if(i.src&&i.src.includes(IH))return i}return null}()||function(t,e){var n=document.createElement("script");n.src=IH+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,l.measurementId),r("js",new Date),(d={}).origin="firebase",d.update=!0,h=d,null!=u&&(h.firebase_id=u),r(RH.CONFIG,l.measurementId,h),[2,l.measurementId]}})})}(t,YH,KH,e,VH,XH),{app:t,logEvent:function(t,e,n){(function(t,e,n,i,r){return Object(MT.b)(this,void 0,void 0,function(){var o,a;return Object(MT.d)(this,function(s){switch(s.label){case 0:return r&&r.global?(t(RH.EVENT,n,i),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=Object(MT.a)(Object(MT.a)({},i),{send_to:o}),t(RH.EVENT,n,a),s.label=3;case 3:return[2]}})})})(WH,QH[r],t,e,n).catch(function(t){return NH.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,i){return Object(MT.b)(this,void 0,void 0,function(){var r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return i&&i.global?(t(RH.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:r=o.sent(),t(RH.CONFIG,r,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(WH,QH[r],t,e).catch(function(t){return NH.error(t)})},setUserId:function(t,e){(function(t,e,n,i){return Object(MT.b)(this,void 0,void 0,function(){var r;return Object(MT.d)(this,function(o){switch(o.label){case 0:return i&&i.global?(t(RH.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:r=o.sent(),t(RH.CONFIG,r,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(WH,QH[r],t,e).catch(function(t){return NH.error(t)})},setUserProperties:function(t,e){(function(t,e,n,i){return Object(MT.b)(this,void 0,void 0,function(){var r,o,a,s,c;return Object(MT.d)(this,function(l){switch(l.label){case 0:if(!i||!i.global)return[3,1];for(r={},o=0,a=Object.keys(n);o<a.length;o++)r["user_properties."+(s=a[o])]=n[s];return t(RH.SET,r),[2,Promise.resolve()];case 1:return[4,e];case 2:c=l.sent(),t(RH.CONFIG,c,{update:!0,user_properties:n}),l.label=3;case 3:return[2]}})})})(WH,QH[r],t,e).catch(function(t){return NH.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return[4,t];case 1:return n=i.sent(),window["ga-disable-"+n]=!e,[2]}})})})(QH[r],t).catch(function(t){return NH.error(t)})},INTERNAL:{delete:function(){return delete QH[r],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:ZH,EventName:DH,isSupported:tV})),t.INTERNAL.registerComponent(new GF.a("analytics-internal",function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(UF){throw FH.create("interop-component-reg-failed",{reason:UF})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.6")}(yO.a);var eV,nV=function(){function t(t,e,n,i){this.client=t,this.storage=e,this.storageCache=n,this.logger=i}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,i=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+i+"."),i},t.prototype.fetch=function(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n,i,r,o;return Object(MT.d)(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],(i=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return r=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===r.status&&o.push(this.storage.setLastSuccessfulFetchResponse(r)),[4,Promise.all(o)];case 3:return a.sent(),[2,r]}})})},t}(),iV=((eV={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",eV["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",eV["registration-api-key"]="Undefined API key. Check Firebase app initialization.",eV["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",eV["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",eV["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",eV["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",eV["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",eV["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",eV["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',eV["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',eV["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",eV["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",eV),rV=new xO.b("remoteconfig","Remote Config",iV),oV=function(){function t(t,e,n,i,r,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=i,this.apiKey=r,this.appId=o}return t.prototype.fetch=function(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n,i,r,o,a,s,c,l,u,h,d,p,f,g,m;return Object(MT.d)(this,function(v){switch(v.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=v.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,r={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===b&&(b=navigator),b.languages&&b.languages[0]||b.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(r)},a=fetch(i,o),s=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),v.label=2;case 2:return v.trys.push([2,5,,6]),[4,Promise.race([a,s])];case 3:return v.sent(),[4,a];case 4:return c=v.sent(),[3,6];case 5:throw l=v.sent(),u="fetch-client-network","AbortError"===l.name&&(u="fetch-timeout"),rV.create(u,{originalErrorMessage:l.message});case 6:if(h=c.status,d=c.headers.get("ETag")||void 0,200!==c.status)return[3,11];g=void 0,v.label=7;case 7:return v.trys.push([7,9,,10]),[4,c.json()];case 8:return g=v.sent(),[3,10];case 9:throw m=v.sent(),rV.create("fetch-client-parse",{originalErrorMessage:m.message});case 10:p=g.entries,f=g.state,v.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===f?h=500:"NO_CHANGE"===f?h=304:"NO_TEMPLATE"!==f&&"EMPTY_CONFIG"!==f||(p={}),304!==h&&200!==h)throw rV.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:d,config:p}]}var b})})},t}(),aV=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),sV=["1","true","t","yes","y","on"],cV=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&sV.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),lV=function(){function t(t,e,n,i,r){this.app=t,this._client=e,this._storageCache=n,this._storage=i,this._logger=r,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=CO.a.DEBUG;break;case"silent":this._logger.logLevel=CO.a.SILENT;break;default:this._logger.logLevel=CO.a.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(MT.b)(this,void 0,void 0,function(){var t,e,n;return Object(MT.d)(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return Object(MT.b)(this,void 0,void 0,function(){var t,e,n,i=this;return Object(MT.d)(this,function(r){switch(r.label){case 0:t=new aV,setTimeout(function(){return Object(MT.b)(i,void 0,void 0,function(){return Object(MT.d)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return r.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return r.sent(),[3,6];case 4:return e=r.sent(),n=function(t,e){return t instanceof xO.c&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw r.sent(),e;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return Object(MT.b)(this,void 0,void 0,function(){return Object(MT.d)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Object(MT.a)(Object(MT.a)({},t),e))).reduce(function(t,e){return t[e]=n.getValue(e),t},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new cV("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new cV("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new cV("static"))},t}();function uV(t,e){var n=t.target.error||void 0;return rV.create(e,{originalErrorMessage:n&&n.message})}var hV=function(){function t(t,e,n,i){void 0===i&&(i=new Promise(function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(uV(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n=this;return Object(MT.d)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise(function(i,r){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){r(uV(t,"storage-get"))},s.onsuccess=function(t){var e=t.target.result;i(e?e.value:void 0)}}catch(UF){r(rV.create("storage-get",{originalErrorMessage:UF&&UF.message}))}})]}})})},t.prototype.set=function(t,e){return Object(MT.b)(this,void 0,void 0,function(){var n,i=this;return Object(MT.d)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return n=r.sent(),[2,new Promise(function(r,o){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=i.createCompositeKey(t);try{var c=a.put({compositeKey:s,value:e});c.onerror=function(t){o(uV(t,"storage-set"))},c.onsuccess=function(){r()}}catch(UF){o(rV.create("storage-set",{originalErrorMessage:UF&&UF.message}))}})]}})})},t.prototype.delete=function(t){return Object(MT.b)(this,void 0,void 0,function(){var e,n=this;return Object(MT.d)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return e=i.sent(),[2,new Promise(function(i,r){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){r(uV(t,"storage-delete"))},s.onsuccess=function(){i()}}catch(UF){r(rV.create("storage-delete",{originalErrorMessage:UF&&UF.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),dV=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(MT.b)(this,void 0,void 0,function(){var t,e,n,i,r,o;return Object(MT.d)(this,function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(i=a.sent())&&(this.lastFetchStatus=i),[4,e];case 2:return(r=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=r),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function pV(t,e){return new Promise(function(n,i){var r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(function(){clearTimeout(o),i(rV.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var fV,gV=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(MT.b)(this,void 0,void 0,function(){var e;return Object(MT.d)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,i=e.backoffCount;return Object(MT.b)(this,void 0,void 0,function(){var e,r,o;return Object(MT.d)(this,function(a){switch(a.label){case 0:return[4,pV(t.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof xO.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(r=a.sent()))throw r;return o={throttleEndTimeMillis:Date.now()+Object(xO.j)(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}})})},t}();function mV(t,e){return e?lr(function(){return t},e):lr(function(){return t})}(fV=yO.a).INTERNAL.registerComponent(new GF.a("remoteConfig",function(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw rV.create("registration-window");var o=i.options,a=o.projectId,s=o.apiKey,c=o.appId;if(!a)throw rV.create("registration-project-id");if(!s)throw rV.create("registration-api-key");if(!c)throw rV.create("registration-app-id");var l=new hV(c,i.name,n=n||"firebase"),u=new dV(l),h=new CO.b("@firebase/remote-config");h.logLevel=CO.a.ERROR;var d=new oV(r,fV.SDK_VERSION,n,a,s,c),p=new gV(d,l),f=new nV(p,l,u,h),g=new lV(i,f,u,l,h);return g.ensureInitialized(),g},"PUBLIC").setMultipleInstances(!0)),fV.registerVersion("@firebase/remote-config","0.1.33"),yO.a.registerVersion("firebase","8.3.1","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),yO.a.registerVersion("firebase","8.3.1");var vV,bV=n("tf+s"),_V=n("spgP"),yV=new i.q("angularfire2.auth.use-emulator"),CV=new i.q("angularfire2.auth.settings"),xV=new i.q("angularfire2.auth.tenant-id"),wV=new i.q("angularfire2.auth.langugage-code"),MV=new i.q("angularfire2.auth.use-device-language"),OV=new i.q("angularfire.auth.persistence"),PV=((vV=function t(e,i,r,o,a,s,c,l,u,h){_classCallCheck(this,t);var d=new _V.d(o),p=Object(_V.h)(d),f=new zi.a,g=Object(qn.a)(void 0).pipe(Object(fr.b)(d.outsideAngular),lr(function(){return o.runOutsideAngular(function(){return n.e(5).then(n.bind(null,"6nsN"))})}),Object(Gt.a)(function(){return Object(_V.g)(e,o,i)}),Object(Gt.a)(function(t){return o.runOutsideAngular(function(){var e=a,n=s;return Object(_V.f)(t.name+".auth","AngularFireAuth",t,function(){var i=o.runOutsideAngular(function(){return t.auth()});return e&&i.useEmulator("http://"+e.join(":")),c&&(i.tenantId=c),i.languageCode=l,u&&i.useDeviceLanguage(),n&&(i.settings=n),h&&i.setPersistence(h),i},[e,c,l,u,n,h])})}),_r({bufferSize:1,refCount:!1}));if(it(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(qn.a)(null);else{g.pipe(ju()).subscribe();var m=g.pipe(lr(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),p,_r({bufferSize:1,refCount:!1})),v=function(t){return new Vt.a(function(e){return{unsubscribe:o.runOutsideAngular(function(){return t(e)})}})},b=g.pipe(lr(function(t){return v(t.onAuthStateChanged.bind(t))})),_=g.pipe(lr(function(t){return v(t.onIdTokenChanged.bind(t))}));this.authState=m.pipe(mV(b),Object(bV.a)(d.outsideAngular),Object(fr.b)(d.insideAngular)),this.user=m.pipe(mV(_),Object(bV.a)(d.outsideAngular),Object(fr.b)(d.insideAngular)),this.idToken=this.user.pipe(lr(function(t){return t?Object(Yt.a)(t.getIdToken()):Object(qn.a)(null)})),this.idTokenResult=this.user.pipe(lr(function(t){return t?Object(Yt.a)(t.getIdTokenResult()):Object(qn.a)(null)})),this.credential=Object(Br.a)(m,f,this.authState.pipe(Vn(function(t){return!t}))).pipe(Object(Gt.a)(function(t){return(null==t?void 0:t.user)?t:null}),Object(bV.a)(d.outsideAngular),Object(fr.b)(d.insideAngular))}return Object(_V.i)(this,g,o,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return f.next(t)})}}})}).\u0275fac=function(t){return new(t||vV)(i.Yb(_V.c),i.Yb(_V.b,8),i.Yb(i.B),i.Yb(i.z),i.Yb(yV,8),i.Yb(CV,8),i.Yb(xV,8),i.Yb(wV,8),i.Yb(MV,8),i.Yb(OV,8))},vV.\u0275prov=Object(i.Ib)({factory:function(){return new vV(Object(i.Yb)(_V.c),Object(i.Yb)(_V.b,8),Object(i.Yb)(i.B),Object(i.Yb)(i.z),Object(i.Yb)(yV,8),Object(i.Yb)(CV,8),Object(i.Yb)(xV,8),Object(i.Yb)(wV,8),Object(i.Yb)(MV,8),Object(i.Yb)(OV,8))},token:vV,providedIn:"any"}),vV);Object(_V.e)(PV,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var kV,AV=((kV=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:kV}),kV.\u0275inj=i.Jb({factory:function(t){return new(t||kV)},providers:[PV]}),kV),TV=n("Jgta");function SV(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gi.b;return new Vt.a(function(n){var i;return null!=e?e.schedule(function(){i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=i&&i()}})}(t,e)}function EV(t,e){return SV(t,e).pipe(Object(Gt.a)(function(t){return{payload:t,type:"query"}}))}function IV(t,e){return EV(t,e).pipe(or(void 0),ar(),Object(Gt.a)(function(t){var e=_slicedToArray(t,2),n=e[0],i=e[1],r=i.payload.docChanges(),o=r.map(function(t){return{type:t.type,payload:t}});return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var i=r.find(function(e){return e.doc.ref.isEqual(t.ref)}),a=null==n?void 0:n.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});i&&JSON.stringify(i.doc.metadata)===JSON.stringify(t.metadata)||!i&&a&&JSON.stringify(a.metadata)===JSON.stringify(t.metadata)||o.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),o}))}function RV(t,e,n){return IV(t,n).pipe(Cu(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return DV(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return DV(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return DV(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),function(t){return t.lift(new Vi(void 0,void 0))},Object(Gt.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function DV(t,e,n){for(var i=t.slice(),r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];return i.splice.apply(i,[e,n].concat(o)),i}function NV(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var LV=function(){function t(e,n,i){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=i}return _createClass(t,[{key:"stateChanges",value:function(t){var e=IV(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Gt.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),e.pipe(or(void 0),ar(),Vn(function(t){var e=_slicedToArray(t,2),n=e[0];return e[1].length>0||!n}),Object(Gt.a)(function(t){var e=_slicedToArray(t,2);e[0];return e[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Cu(function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=NV(t);return RV(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return EV(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(function(e){return e.payload.docs.map(function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty({},t.idField,e.id)):e.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Yt.a)(this.query.get(t)).pipe(Object(fr.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new zV(this.ref.doc(t),this.afs)}}]),t}(),zV=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=HV(this.ref.collection(t),e),i=n.ref,r=n.query;return new LV(i,r,this.afs)}},{key:"snapshotChanges",value:function(){return SV(this.ref,this.afs.schedulers.outsideAngular).pipe(or(void 0),ar(),Object(Gt.a)(function(t){var e=_slicedToArray(t,2),n=e[0],i=e[1];return i.exists?(null==n?void 0:n.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(Gt.a)(function(e){var n=e.payload;return t.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},t.idField,n.id)):n.data()}))}},{key:"get",value:function(t){return Object(Yt.a)(this.ref.get(t)).pipe(Object(fr.b)(this.afs.schedulers.insideAngular))}}]),t}(),jV=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?IV(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Vn(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):IV(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Cu(function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=NV(t);return RV(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return EV(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(function(e){return e.payload.docs.map(function(e){return t.idField?Object.assign(_defineProperty({},t.idField,e.id),e.data()):e.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Yt.a)(this.query.get(t)).pipe(Object(fr.b)(this.afs.schedulers.insideAngular))}}]),t}(),FV=new i.q("angularfire2.enableFirestorePersistence"),qV=new i.q("angularfire2.firestore.persistenceSettings"),BV=new i.q("angularfire2.firestore.settings"),UV=new i.q("angularfire2.firestore.use-emulator");function HV(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var VV,WV,GV,QV=((GV=function(){function t(e,n,i,r,o,a,s,c,l){_classCallCheck(this,t),this.schedulers=new _V.d(a),this.keepUnstableUntilFirst=Object(_V.h)(this.schedulers);var u=Object(_V.g)(e,a,n);!TV.a.auth&&l&&Object(_V.j)();var h=c,d=_slicedToArray(Object(_V.f)(u.name+".firestore","AngularFirestore",u,function(){var t=a.runOutsideAngular(function(){return u.firestore()});return r&&t.settings(r),h&&t.useEmulator.apply(t,_toConsumableArray(h)),i&&!it(o)?[t,a.runOutsideAngular(function(){try{return Object(Yt.a)(t.enablePersistence(s||void 0).then(function(){return!0},function(){return!1}))}catch(UF){return"undefined"!=typeof console&&console.warn(UF),Object(qn.a)(!1)}})]:[t,Object(qn.a)(!1)]},[r,h,i]),2);this.firestore=d[0],this.persistenceEnabled$=d[1]}return _createClass(t,[{key:"collection",value:function(t,e){var n=HV("string"==typeof t?this.firestore.collection(t):t,e),i=n.ref,r=n.query,o=this.schedulers.ngZone.run(function(){return i});return new LV(o,r,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},i=this.firestore.collectionGroup(t);return new jV(n(i),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new zV(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||GV)(i.Yb(_V.c),i.Yb(_V.b,8),i.Yb(FV,8),i.Yb(BV,8),i.Yb(i.B),i.Yb(i.z),i.Yb(qV,8),i.Yb(UV,8),i.Yb(yV,8))},GV.\u0275prov=Object(i.Ib)({factory:function(){return new GV(Object(i.Yb)(_V.c),Object(i.Yb)(_V.b,8),Object(i.Yb)(FV,8),Object(i.Yb)(BV,8),Object(i.Yb)(i.B),Object(i.Yb)(i.z),Object(i.Yb)(qV,8),Object(i.Yb)(UV,8),Object(i.Yb)(yV,8))},token:GV,providedIn:"any"}),GV),YV=((WV=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:FV,useValue:!0},{provide:qV,useValue:e}]}}}]),t}()).\u0275mod=i.Kb({type:WV}),WV.\u0275inj=i.Jb({factory:function(t){return new(t||WV)},providers:[QV]}),WV),KV=((VV=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this.afAuth=e,this.afs=n,this.router=i,this.User=r,this.user=this.afAuth.authState.pipe(lr(function(t){return t?o.afs.doc("users/"+t.uid).valueChanges():Object(qn.a)(null)}))}return _createClass(t,[{key:"login",value:function(t,e){var n=this;return this.afAuth.signInWithEmailAndPassword(t,e).then(function(t){return console.log(t),n.updateUserData(t.user)})}},{key:"googleLogin",value:function(){var t=new yO.a.auth.GoogleAuthProvider;return this.oAuthLogin(t)}},{key:"oAuthLogin",value:function(t){var e=this;return this.afAuth.signInWithPopup(t).then(function(t){e.updateUserData(t.user)}).catch(function(t){return console.log(t)})}},{key:"updateUserData",value:function(t){return this.afs.doc("users/"+t.uid).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL},{merge:!0})}},{key:"signOut",value:function(){var t=this;this.User.loggedIn=!1,this.afAuth.signOut().then(function(){t.router.navigate(["/"])})}}]),t}()).\u0275fac=function(t){return new(t||VV)(i.Yb(PV),i.Yb(QV),i.Yb(pp),i.Yb(dO))},VV.\u0275prov=i.Ib({token:VV,factory:VV.\u0275fac,providedIn:"root"}),VV);function XV(t,e){1&t&&(i.Rb(0,"p",35),i.Ac(1,"\u5165\u529b"),i.Qb())}function $V(t,e){if(1&t){var n=i.Sb();i.Rb(0,"a",40),i.bc("click",function(){return i.rc(n),i.dc(2).contentsDailogShow(10)}),i.Rb(1,"div",7),i.Nb(2,"img",41),i.Qb(),i.Rb(3,"p"),i.Ac(4,"\u5909\u4f4d"),i.Qb(),i.Qb()}}function JV(t,e){if(1&t){var n=i.Sb();i.Rb(0,"a",42),i.bc("click",function(){return i.rc(n),i.dc(2).contentsDailogShow(11)}),i.Rb(1,"div",7),i.Nb(2,"img",43),i.Qb(),i.Rb(3,"p"),i.Ac(4,"\u652f\u70b9\u53cd\u529b"),i.Qb(),i.Qb()}}function ZV(t,e){if(1&t){var n=i.Sb();i.Rb(0,"a",44),i.bc("click",function(){return i.rc(n),i.dc(2).contentsDailogShow(12)}),i.Rb(1,"div",7),i.Nb(2,"img",45),i.Qb(),i.Rb(3,"p"),i.Ac(4,"\u8377\u91cd\u65ad\u9762\u529b"),i.Qb(),i.Qb()}}function tW(t,e){if(1&t&&(i.Rb(0,"div",36),i.yc(1,$V,5,0,"a",37),i.yc(2,JV,5,0,"a",38),i.yc(3,ZV,5,0,"a",39),i.Rb(4,"p",35),i.Ac(5,"\u51fa\u529b"),i.Qb(),i.Qb()),2&t){var n=i.dc();i.Ab(1),i.ic("ngIf",n.isCalculated),i.Ab(1),i.ic("ngIf",n.isCalculated),i.Ab(1),i.ic("ngIf",n.isCalculated)}}function eW(t,e){if(1&t){var n=i.Sb();i.Rb(0,"div",46),i.Rb(1,"div",47),i.Nb(2,"div",48),i.Rb(3,"div",49),i.Rb(4,"button",50),i.bc("click",function(){return i.rc(n),i.dc().dialogClose()}),i.Rb(5,"span"),i.Ac(6,"\xd7"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Nb(7,"router-outlet"),i.Qb()}}var nW,iW,rW,oW,aW,sW,cW,lW,uW,hW,dW,pW,fW,gW,mW,vW,bW=((vW=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this._router=e,this.ResultData=n,this.user=i,this.printService=r,this.authService=o}return _createClass(t,[{key:"ngOnInit",value:function(){this.user.isContentsDailogShow=!1,this.isCalculated=!1}},{key:"dialogClose",value:function(){this.user.isContentsDailogShow=!1}},{key:"contentsDailogShow",value:function(t){this.deactiveButtons(),document.getElementById(t).classList.add("active"),this.user.isContentsDailogShow=!0}},{key:"Calculated",value:function(t){this.isCalculated=!0,this.btnReac=t.reac.REAC_ROWS_COUNT>0?"btn btn-outline-primary":"btn btn-outline-primary disabled"}},{key:"deactiveButtons",value:function(){for(var t=0;t<=13;t++){var e=document.getElementById(t+"");null!=e&&e.classList.contains("active")&&e.classList.remove("active")}}},{key:"setDialogHeight",value:function(){setTimeout(function(){var t=document.getElementById("contents-dialog-id"),e=document.getElementsByClassName("header"),n=document.getElementsByClassName("container");t.style.height=window.innerHeight-(n[0].clientHeight+e[0].clientHeight+50)+"px",console.log("dialog height:"+t.style.height)},100)}},{key:"getDialogHeight",value:function(){var t=document.getElementById("contents-dialog-id"),e=parseFloat(t.style.height);return isNaN(e)?e=window.innerHeight-200:e-=80,e}},{key:"onPrintInvoice",value:function(){this.printService.printDocument("invoice",["101","102"])}},{key:"login",value:function(){this.authService.googleLogin()}},{key:"logout",value:function(){this.authService.signOut()}}]),t}()).\u0275fac=function(t){return new(t||vW)(i.Mb(pp),i.Mb(hO),i.Mb(dO),i.Mb(_O),i.Mb(KV))},vW.\u0275cmp=i.Gb({type:vW,selectors:[["app-root"]],decls:66,vars:5,consts:[[1,"header"],[1,"container"],[1,"liner"],[1,"body-container"],[1,"btn-group"],[1,"input-area"],["routerLink","./input-nodes","routerLinkActive","selected-item","id","0",1,"btn-md","btn-blue",3,"click"],[1,"icon-img","ppt"],["src","./assets/img/setten.png","width","60","height","40"],["routerLink","./input-fix_nodes","routerLinkActive","selected-item","id","1",1,"btn-md","btn-blue",3,"click"],["src","./assets/img/shiten.png","width","60","height","40"],["routerLink","./input-members","routerLinkActive","selected-item","id","2",1,"btn-md","btn-blue",3,"click"],["src","./assets/img/buzai.png","width","60","height","40"],["routerLink","./input-elements","routerLinkActive","selected-item","id","3",1,"btn-md","btn-blue",3,"click"],[1,"icon-img"],["src","./assets/img/zairyo.png","width","50","height","50"],["routerLink","./input-panel","routerLinkActive","selected-item","id","4",1,"btn-md","btn-blue",3,"click"],["src","./assets/img/panel.png","width","60","height","40"],["routerLink","./input-joints","routerLinkActive","selected-item","id","5",1,"btn-md","btn-blue",3,"click"],["src","./assets/img/ketsugo.png","width","60","height","40"],["routerLink","./input-notice_points","routerLinkActive","selected-item","id","6",1,"btn-md","btn-blue",3,"click"],["src","./assets/img/eye.png","width","50","height","50"],["routerLink","./input-fix_members","routerLinkActive","selected-item","id","7",1,"btn-md","btn-blue",3,"click"],[1,"icon-img","ppt",2,"margin-left","-7px"],["src","./assets/img/bane.png","width","60","height","40"],["routerLink","./input-load-name","routerLinkActive","selected-item","id","8",1,"btn-md","btn-blue",3,"click"],["src","./assets/img/force.png","width","60","height","40",2,"margin-right","-3px"],["routerLink","./input-define","routerLinkActive","selected-item","id","9",1,"btn-md","btn-blue",3,"click"],["src","./assets/img/comb.png","width","60","height","40"],["class","guide",4,"ngIf"],["class","output-area",4,"ngIf"],["id","body-container-id",1,"boy-container"],["id","three-container-id",1,"three-container"],["cdkDrag","","class","contents-dailog","id","contents-dialog-id",4,"ngIf"],["name","print"],[1,"guide"],[1,"output-area"],["routerLink","./result-disg","id","10","class","btn-md btn-blue ",3,"click",4,"ngIf"],["routerLink","./result-reac","id","11","class","btn-md btn-blue",3,"click",4,"ngIf"],["routerLink","./result-fsec","routerLinkActive","selected-item","id","12","class","btn-md btn-blue",3,"click",4,"ngIf"],["routerLink","./result-disg","id","10",1,"btn-md","btn-blue",3,"click"],["src","./assets/img/heni.png","width","50","height","40"],["routerLink","./result-reac","id","11",1,"btn-md","btn-blue",3,"click"],["src","./assets/img/shitenhanryoku.png","width","60","height","40"],["routerLink","./result-fsec","routerLinkActive","selected-item","id","12",1,"btn-md","btn-blue",3,"click"],["src","./assets/img/danmen.png","width","60","height","40"],["cdkDrag","","id","contents-dialog-id",1,"contents-dailog"],[1,"dialog-header"],["cdkDragHandle","",1,"dialog-drag-handle"],[1,"button-area"],[1,"dialog-close-button",3,"click"]],template:function(t,e){1&t&&(i.Rb(0,"div"),i.Rb(1,"div",0),i.Rb(2,"div",1),i.Rb(3,"div",2),i.Nb(4,"app-menu"),i.Qb(),i.Qb(),i.Qb(),i.Rb(5,"div",3),i.Rb(6,"div",4),i.Rb(7,"nav"),i.Rb(8,"div",5),i.Rb(9,"a",6),i.bc("click",function(){return e.contentsDailogShow(0)}),i.Rb(10,"div",7),i.Nb(11,"img",8),i.Qb(),i.Rb(12,"p"),i.Ac(13,"\u7bc0\u70b9"),i.Qb(),i.Qb(),i.Rb(14,"a",9),i.bc("click",function(){return e.contentsDailogShow(1)}),i.Rb(15,"div",7),i.Nb(16,"img",10),i.Qb(),i.Rb(17,"p"),i.Ac(18,"\u652f\u70b9"),i.Qb(),i.Qb(),i.Rb(19,"a",11),i.bc("click",function(){return e.contentsDailogShow(2)}),i.Rb(20,"div",7),i.Nb(21,"img",12),i.Qb(),i.Rb(22,"p"),i.Ac(23,"\u90e8\u6750"),i.Qb(),i.Qb(),i.Rb(24,"a",13),i.bc("click",function(){return e.contentsDailogShow(3)}),i.Rb(25,"div",14),i.Nb(26,"img",15),i.Qb(),i.Rb(27,"p"),i.Ac(28,"\u6750\u6599"),i.Qb(),i.Qb(),i.Rb(29,"a",16),i.bc("click",function(){return e.contentsDailogShow(4)}),i.Rb(30,"div",7),i.Nb(31,"img",17),i.Qb(),i.Rb(32,"p"),i.Ac(33,"\u30d1\u30cd\u30eb"),i.Qb(),i.Qb(),i.Rb(34,"a",18),i.bc("click",function(){return e.contentsDailogShow(5)}),i.Rb(35,"div",7),i.Nb(36,"img",19),i.Qb(),i.Rb(37,"p"),i.Ac(38,"\u7d50\u5408"),i.Qb(),i.Qb(),i.Rb(39,"a",20),i.bc("click",function(){return e.contentsDailogShow(6)}),i.Rb(40,"div",14),i.Nb(41,"img",21),i.Qb(),i.Rb(42,"p"),i.Ac(43,"\u7740\u76ee\u70b9"),i.Qb(),i.Qb(),i.Rb(44,"a",22),i.bc("click",function(){return e.contentsDailogShow(7)}),i.Rb(45,"div",23),i.Nb(46,"img",24),i.Qb(),i.Rb(47,"p"),i.Ac(48,"\u30d0\u30cd"),i.Qb(),i.Qb(),i.Rb(49,"a",25),i.bc("click",function(){return e.contentsDailogShow(8)}),i.Rb(50,"div",7),i.Nb(51,"img",26),i.Qb(),i.Rb(52,"p"),i.Ac(53,"\u8377\u91cd"),i.Qb(),i.Qb(),i.Rb(54,"a",27),i.bc("click",function(){return e.contentsDailogShow(9)}),i.Rb(55,"div",7),i.Nb(56,"img",28),i.Qb(),i.Rb(57,"p"),i.Ac(58,"\u7d44\u5408\u305b"),i.Qb(),i.Qb(),i.yc(59,XV,2,0,"p",29),i.Qb(),i.yc(60,tW,6,3,"div",30),i.Qb(),i.Qb(),i.Qb(),i.Rb(61,"div",31),i.Rb(62,"div",32),i.Nb(63,"app-three"),i.Qb(),i.Qb(),i.yc(64,eW,8,0,"div",33),i.Nb(65,"router-outlet",34),i.Qb()),2&t&&(i.Eb("isPrinting",e.printService.isPrinting),i.Ab(59),i.ic("ngIf",e.isCalculated),i.Ab(1),i.ic("ngIf",e.isCalculated),i.Ab(4),i.ic("ngIf",e.user.isContentsDailogShow))},styles:["@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),vW),_W=((mW=function(){function t(e,n,i,r){_classCallCheck(this,t),this.scene=e,this.nodeThree=n,this.node=i,this.fixnode=r,this.fixnodeList=new Array,this.isVisible=null,this.scale=1,this.params={fixnodeScale:this.scale},this.gui=null}return _createClass(t,[{key:"visibleChange",value:function(t){if(this.isVisible!==t){var e,n=_createForOfIteratorHelper(this.fixnodeList);try{for(n.s();!(e=n.n()).done;)e.value.visible=t}catch(i){n.e(i)}finally{n.f()}this.isVisible=t,!0===t?this.fixnodeList.length>0&&this.guiEnable():this.guiDisable()}}},{key:"guiEnable",value:function(){var t=this;null===this.gui&&(this.gui=this.scene.gui.add(this.params,"fixnodeScale",0,80).step(.08).onChange(function(e){t.scale=e,t.onResize(),t.scene.render()}))}},{key:"guiDisable",value:function(){null!==this.gui&&(this.scene.gui.remove(this.gui),this.gui=null)}},{key:"baseScale",value:function(){return this.nodeThree.minDistance}},{key:"center",value:function(){return this.nodeThree.center}},{key:"changeData",value:function(t){this.ClearData();var e=this.node.getNodeJson(0);if(!(Object.keys(e).length<=0)){var n=t.toString(),i=this.fixnode.getFixNodeJson(0,n);if(!(Object.keys(i).length<=0)){var r,o=_createForOfIteratorHelper(i[n]);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.n in e){var s=e[a.n],c={x:s.x,y:s.y,z:s.z},l={direction:"x",relationship:"small",color:0};0!==Math.pow(a.tx,2)&&1!==Math.pow(a.tx,2)&&(l.color=16711680,l.direction="x",c.x<=this.center().x?l.relationship="small":c.x>this.center().x&&(l.relationship="large"),this.CreateSpring(l,c,this.baseScale())),0!==Math.pow(a.ty,2)&&1!==Math.pow(a.ty,2)&&(l.color=65280,l.direction="y",c.y<=this.center().y?l.relationship="small":c.y>this.center().y&&(l.relationship="large"),this.CreateSpring(l,c,this.baseScale())),0!==Math.pow(a.tz,2)&&1!==Math.pow(a.tz,2)&&(l.color=255,l.direction="z",c.z<=this.center().z?l.relationship="small":c.z>this.center().z&&(l.relationship="large"),this.CreateSpring(l,c,this.baseScale()));var u={direction:"x",color:0};0!==Math.pow(a.rx,2)&&1!==Math.pow(a.rx,2)&&(u.color=16711680,u.direction="x",this.CreateRotatingSpring(u,c,this.baseScale())),0!==Math.pow(a.ry,2)&&1!==Math.pow(a.ry,2)&&(u.color=65280,u.direction="y",this.CreateRotatingSpring(u,c,this.baseScale())),0!==Math.pow(a.rz,2)&&1!==Math.pow(a.rz,2)&&(u.color=255,u.direction="z",this.CreateRotatingSpring(u,c,this.baseScale()));var h={relationshipX:"small",relationshipY:"small",relationshipZ:"small",color:8421504};if(1!==a.rx||1!==a.ry||1!==a.rz||1!==a.tx||1!==a.ty||1!==a.tz){if(1===a.tx){var d={direction:"x",color:16711680};c.x<=this.center().x?d.relationship="small":c.x>this.center().x&&(d.relationship="large"),this.CreatePin(d,c,this.baseScale())}if(1===a.ty){var p={direction:"y",color:65280};c.y<=this.center().y?p.relationship="small":c.y>this.center().y&&(p.relationship="large"),this.CreatePin(p,c,this.baseScale())}if(1===a.tz){var f={direction:"z",color:255};c.z<=this.center().z?f.relationship="small":c.z>this.center().z&&(f.relationship="large"),this.CreatePin(f,c,this.baseScale())}var g={direction:"x",relationship:"small",color:8421504};1===a.rx&&(g.color=16711680,g.direction="x",c.x<=this.center().x?g.relationship="small":c.x>this.center().x&&(g.relationship="large"),this.CreateFixed(g,c,this.baseScale())),1===a.ry&&(g.color=65280,g.direction="y",c.y<=this.center().y?g.relationship="small":c.y>this.center().y&&(g.relationship="large"),this.CreateFixed(g,c,this.baseScale())),1===a.rz&&(g.color=255,g.direction="z",c.z<=this.center().z?g.relationship="small":c.z>this.center().z&&(g.relationship="large"),this.CreateFixed(g,c,this.baseScale()))}else c.x<=this.center().x?h.relationshipX="small":c.x>this.center().x&&(h.relationshipX="large"),c.y<=this.center().y?h.relationshipY="small":c.y>this.center().y&&(h.relationshipY="large"),c.z<=this.center().z?h.relationshipZ="small":c.z>this.center().z&&(h.relationshipZ="large"),this.CreateFixed_P(h,c,this.baseScale())}}}catch(m){o.e(m)}finally{o.f()}this.onResize(),this.guiEnable()}}}},{key:"CreatePin",value:function(t,e,n){var i=.2*n,r=new wy(.3*i,i,12,1,!1);r.translate(0,-i/2,0);var o=new qm(r,new $g({color:t.color}));switch(o.position.set(e.x,e.y,e.z),t.direction){case"x":switch(t.relationship){case"small":o.rotation.z=Math.PI/2*3;break;case"large":o.rotation.z=Math.PI/2}break;case"y":switch(t.relationship){case"small":break;case"large":o.rotation.y=Math.PI/2}break;case"z":switch(t.relationship){case"small":o.rotation.x=Math.PI/2;break;case"large":o.rotation.x=Math.PI/2*3}}this.fixnodeList.push(o),this.scene.add(o)}},{key:"CreateFixed",value:function(t,e,n){var i=.06*n,r=new ov(i,2.5*i),o=new qm(r,new $g({color:t.color,side:2})),a=e.x,s=e.y,c=e.z;switch(t.direction){case"x":o.rotation.y=Math.PI/2;break;case"y":o.rotation.z=Math.PI/2,o.rotation.x=Math.PI/2}o.position.set(a,s,c),this.fixnodeList.push(o),this.scene.add(o),r=new ov}},{key:"CreateFixed_P",value:function(t,e,n){t.color=8421504;var i=.2*n,r=new qm(new Hm(i,i,i),new $g({color:t.color}));switch(t.directionX){case"small":e.x=e.x-i/2;break;case"large":e.x=e.x+i/2}switch(t.directionY){case"small":e.y=e.y-i/2;break;case"large":e.y=e.y+i/2}switch(t.directionZ){case"small":e.z=e.z-i/2;break;case"large":e.z=e.z+i/2}r.position.set(e.x,e.y,e.z),this.fixnodeList.push(r),this.scene.add(r)}},{key:"CreateSpring",value:function(t,e,n){new xm;var i=[],r=15e-5;switch(t.relationship){case"small":r=1e-4;break;case"large":r=-1e-4}for(var o=e.x,a=e.y,s=e.z,c=0;c<=1800;c+=10){switch(t.direction){case"x":o=-c*r*n,a=.02*Math.cos(Math.PI/180*c)*n,s=.02*Math.sin(Math.PI/180*c)*n;break;case"y":o=.02*Math.cos(Math.PI/180*c)*n,a=-c*r*n,s=.02*Math.sin(Math.PI/180*c)*n;break;case"z":o=.02*Math.cos(Math.PI/180*c)*n,a=.02*Math.sin(Math.PI/180*c)*n,s=-c*r*n}i.push(new Pf(o,a,s))}var l=new ty((new xm).setFromPoints(i),new Y_({color:t.color}));l.position.set(e.x,e.y,e.z),this.fixnodeList.push(l),this.scene.add(l),new xm}},{key:"CreateRotatingSpring",value:function(t,e,n){new xm;for(var i=[],r=e.x,o=e.y,a=e.z,s=0;s<=1170;s+=10){switch(t.direction){case"x":r=0,o=1e-4*Math.cos(Math.PI/180*s)*n*s,a=1e-4*Math.sin(Math.PI/180*s)*n*s;break;case"y":r=1e-4*Math.cos(Math.PI/180*s)*n*s,o=0,a=1e-4*Math.sin(Math.PI/180*s)*n*s;break;case"z":r=1e-4*Math.cos(Math.PI/180*s)*n*s,o=1e-4*Math.sin(Math.PI/180*s)*n*s,a=0}i.push(new Pf(r,o,a))}var c=new ty((new xm).setFromPoints(i),new Y_({color:t.color}));c.position.set(e.x,e.y,e.z),this.fixnodeList.push(c),this.scene.add(c)}},{key:"ClearData",value:function(){var t,e=_createForOfIteratorHelper(this.fixnodeList);try{for(e.s();!(t=e.n()).done;){for(var n=t.value;n.children.length>0;){var i=n.children[0];i.parent.remove(i)}this.scene.remove(n)}}catch(r){e.e(r)}finally{e.f()}this.fixnodeList=new Array}},{key:"onResize",value:function(){var t,e=_createForOfIteratorHelper(this.fixnodeList);try{for(e.s();!(t=e.n()).done;)t.value.scale.set(this.scale,this.scale,this.scale)}catch(n){e.e(n)}finally{e.f()}}}]),t}()).\u0275fac=function(t){return new(t||mW)(i.Yb(WM),i.Yb(aO),i.Yb(Qp.a),i.Yb(gO))},mW.\u0275prov=i.Ib({token:mW,factory:mW.\u0275fac,providedIn:"root"}),mW),yW=((gW=function(){function t(e,n,i,r,o,a){_classCallCheck(this,t),this.scene=e,this.nodeThree=n,this.node=i,this.member=r,this.fixmember=o,this.three_member=a,this.fixmemberList=new Array,this.isVisible=null,this.scale=1,this.params={fixmenberScale:this.scale},this.gui=null}return _createClass(t,[{key:"baseScale",value:function(){return this.nodeThree.minDistance}},{key:"center",value:function(){return this.nodeThree.center}},{key:"visibleChange",value:function(t){if(this.isVisible!==t){var e,n=_createForOfIteratorHelper(this.fixmemberList);try{for(n.s();!(e=n.n()).done;)e.value.visible=t}catch(i){n.e(i)}finally{n.f()}this.isVisible=t,!0===t?this.fixmemberList.length>0&&this.guiEnable():this.guiDisable()}}},{key:"guiEnable",value:function(){var t=this;null===this.gui&&(this.gui=this.scene.gui.add(this.params,"fixmenberScale",0,80).step(.08).onChange(function(e){t.scale=e,t.onResize(),t.scene.render()}))}},{key:"guiDisable",value:function(){null!==this.gui&&(this.scene.gui.remove(this.gui),this.gui=null)}},{key:"changeData",value:function(t){this.ClearData();var e=this.node.getNodeJson(0);if(!(Object.keys(e).length<=0)){var n=this.member.getMemberJson(0);if(!(Object.keys(n).length<=0)){var i=t.toString(),r=this.fixmember.getFixMemberJson(0,i);if(!(Object.keys(r).length<=0)){var o,a=_createForOfIteratorHelper(r[i]);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=n[s.m];if(void 0!==c){var l=e[c.ni],u=e[c.nj];if(void 0!==l&&void 0!==u){var h=this.three_member.localAxis(l.x,l.y,l.z,u.x,u.y,u.z,c.cg),d=new Pf(u.x-l.x,u.y-l.y,u.z-l.z).length(),p={direction:"z",relationship:"large",color:16711680},f={x:(l.x+u.x)/2,y:(l.y+u.y)/2,z:(l.z+u.z)/2};0!==s.tx&&(p.direction="x",p.color=16746632,this.MultipleDrawing(p,f,h,d,this.baseScale())),0!==s.ty&&(p.direction="y",p.color=8978312,p.relationship=f.y<=this.center().y?"small":"large",this.MultipleDrawing(p,f,h,d,this.baseScale())),0!==s.tz&&(p.direction="z",p.color=8947967,p.relationship=f.z<=this.center().z?"small":"large",this.MultipleDrawing(p,f,h,d,this.baseScale())),0!==s.tr&&(p.direction="r",p.color=8421504,this.MultipleDrawing(p,f,h,d,this.baseScale()))}}}}catch(g){a.e(g)}finally{a.f()}this.onResize(),this.guiEnable()}}}}},{key:"MultipleDrawing",value:function(t,e,n,i,r){var o=0,a={x:e.x,y:e.x,z:e.x};if("x"===t.direction||"y"===t.direction||"z"===t.direction)for(var s=-(o=Math.floor(i/2/.3-.5));s<=o;s+=1)a.x=e.x+n.x.x*s*.3,a.y=e.y+n.x.y*s*.3,a.z=e.z+n.x.z*s*.3,this.CreateSpring(t,a,n,r);if("r"===t.direction)for(var c=-(o=Math.floor(i/2/.3-.5));c<=o;c+=1)a.x=e.x+n.x.x*c*.3,a.y=e.y+n.x.y*c*.3,a.z=e.z+n.x.z*c*.3,this.CreateRotatingSpring(t,a,n,r)}},{key:"CreateSpring",value:function(t,e,n,i){new xm;var r=[],o=1e-4;switch(t.relationship){case"small":o=1e-4;break;case"large":o=-1e-4}for(var a=e.x,s=e.y,c=e.z,l=0;l<=1080;l+=10)a=.03*Math.cos(Math.PI/180*l)*i,s=.03*Math.sin(Math.PI/180*l)*i,c=-l*o*i,r.push(new Pf(a,s,c));var u=new ty((new xm).setFromPoints(r),new Y_({color:t.color}));switch(t.direction){case"x":u.lookAt(n.x.x,n.x.y,n.x.z);break;case"y":u.lookAt(n.y.x,n.y.y,n.y.z);break;case"z":u.lookAt(n.z.x,n.z.y,n.z.z)}u.position.set(e.x,e.y,e.z),this.fixmemberList.push(u),this.scene.add(u)}},{key:"CreateRotatingSpring",value:function(t,e,n,i){new xm;for(var r=[],o=e.x,a=e.y,s=e.z,c=0;c<=1170;c+=10)o=5e-5*Math.cos(Math.PI/180*c)*i*c,a=5e-5*Math.sin(Math.PI/180*c)*i*c,s=0,r.push(new Pf(o,a,s));var l=new ty((new xm).setFromPoints(r),new Y_({color:t.color}));l.lookAt(e.x+n.x.x,e.y+n.x.y,e.z+n.x.z),l.position.set(e.x,e.y,e.z),this.fixmemberList.push(l),this.scene.add(l)}},{key:"ClearData",value:function(){var t,e=_createForOfIteratorHelper(this.fixmemberList);try{for(e.s();!(t=e.n()).done;){for(var n=t.value;n.children.length>0;){var i=n.children[0];i.parent.remove(i)}this.scene.remove(n)}}catch(r){e.e(r)}finally{e.f()}this.fixmemberList=new Array}},{key:"onResize",value:function(){var t,e=_createForOfIteratorHelper(this.fixmemberList);try{for(e.s();!(t=e.n()).done;)t.value.scale.set(this.scale,this.scale,this.scale)}catch(n){e.e(n)}finally{e.f()}}}]),t}()).\u0275fac=function(t){return new(t||gW)(i.Yb(WM),i.Yb(aO),i.Yb(Qp.a),i.Yb($p.a),i.Yb(fO),i.Yb(sO))},gW.\u0275prov=i.Ib({token:gW,factory:gW.\u0275fac,providedIn:"root"}),gW),CW=((fW=function(){function t(e,n,i,r,o,a){_classCallCheck(this,t),this.scene=e,this.nodeThree=n,this.node=i,this.member=r,this.joint=o,this.three_member=a,this.jointList=new Array,this.isVisible=null}return _createClass(t,[{key:"visibleChange",value:function(t){if(this.isVisible!==t){var e,n=_createForOfIteratorHelper(this.jointList);try{for(n.s();!(e=n.n()).done;)e.value.visible=t}catch(i){n.e(i)}finally{n.f()}this.isVisible=t}}},{key:"changeData",value:function(t){this.ClearData();var e=this.node.getNodeJson(0);if(!(Object.keys(e).length<=0)){var n=this.member.getMemberJson(0);if(!(Object.keys(n).length<=0)){var i=t.toString(),r=this.joint.getJointJson(1,i);if(!(Object.keys(r).length<=0)){var o,a=_createForOfIteratorHelper(r[i]);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.m in n){var c=n[s.m];if(void 0!==c){var l=e[c.ni],u=e[c.nj];if(void 0!==l&&void 0!==u){var h=this.three_member.localAxis(l.x,l.y,l.z,u.x,u.y,u.z,c.cg),d={x:l.x,y:l.y,z:l.z},p={x:s.xi,y:s.yi,z:s.zi};this.createJoint(d,p,h),d={x:u.x,y:u.y,z:u.z},p={x:s.xj,y:s.yj,z:s.zj},this.createJoint(d,p,h)}}}}}catch(f){a.e(f)}finally{a.f()}}}}}},{key:"createJoint",value:function(t,e,n){if(0===e.x){var i=this.createJoint_base(t,16711680);i.lookAt(t.x+n.x.x,t.y+n.x.y,t.z+n.x.z),i.name="0xFF0000",this.jointList.push(i),this.scene.add(i)}if(0===e.y){var r=this.createJoint_base(t,65280);r.lookAt(t.x+n.y.x,t.y+n.y.y,t.z+n.y.z),r.name="0x00FF00",this.jointList.push(r),this.scene.add(r)}if(0===e.z){var o=this.createJoint_base(t,255);o.lookAt(t.x+n.z.x,t.y+n.z.y,t.z+n.z.z),o.name="0x0000FF",this.jointList.push(o),this.scene.add(o)}}},{key:"createJoint_base",value:function(t,e){var n=new qm(new sC(.1,.01,16,64),new $g({color:e,side:2}));return n.position.set(t.x,t.y,t.z),n}},{key:"ClearData",value:function(){var t,e=_createForOfIteratorHelper(this.jointList);try{for(e.s();!(t=e.n()).done;){for(var n=t.value;n.children.length>0;){var i=n.children[0];i.parent.remove(i)}this.scene.remove(n)}}catch(r){e.e(r)}finally{e.f()}this.jointList=new Array}},{key:"detectObject",value:function(t,e){var n=this;if(0!==this.jointList.length){var i=t.intersectObjects(this.jointList);if(!(i.length<=0)){switch(e){case"click":this.jointList.map(function(t){i.length>0&&t===i[0].object&&("0xFF0000"===t.name?t.material.color.setHex(16711680):"0x00FF00"===t.name?t.material.color.setHex(65280):"0x0000FF"===t.name&&t.material.color.setHex(255),t.material.opacity=1)});break;case"select":this.selectionItem=null,this.jointList.map(function(t){i.length>0&&t===i[0].object?("0xFF0000"===t.name?t.material.color.setHex(16711680):"0x00FF00"===t.name?t.material.color.setHex(65280):"0x0000FF"===t.name&&t.material.color.setHex(255),t.material.opacity=1,n.selectionItem=t):("0xFF0000"===t.name?t.material.color.setHex(16711680):"0x00FF00"===t.name?t.material.color.setHex(65280):"0x0000FF"===t.name&&t.material.color.setHex(255),t.material.opacity=.5)});break;case"hover":this.jointList.map(function(t){i.length>0&&t===i[0].object?("0xFF0000"===t.name?t.material.color.setHex(16711680):"0x00FF00"===t.name?t.material.color.setHex(65280):"0x0000FF"===t.name&&t.material.color.setHex(255),t.material.opacity=.25):t===n.selectionItem?("0xFF0000"===t.name?t.material.color.setHex(16711680):"0x00FF00"===t.name?t.material.color.setHex(65280):"0x0000FF"===t.name&&t.material.color.setHex(255),t.material.opacity=1):("0xFF0000"===t.name?t.material.color.setHex(16711680):"0x00FF00"===t.name?t.material.color.setHex(65280):"0x0000FF"===t.name&&t.material.color.setHex(255),t.material.opacity=.5)});break;default:return}this.scene.render()}}}}]),t}()).\u0275fac=function(t){return new(t||fW)(i.Yb(WM),i.Yb(aO),i.Yb(Qp.a),i.Yb($p.a),i.Yb(mO),i.Yb(sO))},fW.\u0275prov=i.Ib({token:fW,factory:fW.\u0275fac,providedIn:"root"}),fW),xW=((pW=function(){function t(e){_classCallCheck(this,t),this.font=e}return _createClass(t,[{key:"create",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"center",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bottom",o=new aC(t,{font:this.font,size:n,height:.001,curveSegments:4,bevelEnabled:!1}),a=[new $g({color:0}),new $g({color:0})];o.center();var s=new qm(o,a);s.position.set(e.x,e.y,0);var c=Math.abs(s.geometry.boundingBox.max.y-s.geometry.boundingBox.min.y),l=Math.abs(s.geometry.boundingBox.max.x-s.geometry.boundingBox.min.x);"bottom"===r?s.position.y+=.5*c:"top"===r&&(s.position.y-=.5*c),"left"===i?s.position.x+=.5*l:"right"===i&&(s.position.x-=.5*l),s.rotateZ(Math.PI),s.rotateY(Math.PI);var u=new r_;return u.add(s),u.name="text",u}}]),t}()).\u0275fac=function(t){return new(t||pW)(i.Yb(Lx))},pW.\u0275prov=i.Ib({token:pW,factory:pW.\u0275fac,providedIn:"root"}),pW),wW=((dW=function(){function t(e){_classCallCheck(this,t),this.text=e,this.line_mat=new Y_({color:0})}return _createClass(t,[{key:"create",value:function(t,e){var n=[new Pf(t[0].x,t[0].y,0),new Pf(t[1].x,t[1].y,0),new Pf(t[2].x,t[2].y,0),new Pf(t[3].x,t[3].y,0)],i=new r_;i.add(this.getLine(n));var r=new Pf(.5,1,0),o=new Pf(-1,0,0),a=new yw(o,r,.5,0);a.position.set(t[1].x+.5,t[1].y,0),a.name="arrow1",i.add(a);var s=new Pf(1,0,0),c=new yw(s,r,.5,0);c.position.set(t[2].x-.5,t[2].y,0),c.name="arrow2",i.add(c);var l="top";t[1].y>=0?t[1].y<t[0].y&&(l="bottom"):t[1].y>t[0].y&&(l="bottom");var u=this.text.create(e,new mf(t[1].x+(t[2].x-t[1].x)/2,t[1].y+(t[2].y-t[1].y)/2),.1,"center",l);return u.name="text",i.add(u),i}},{key:"getLine",value:function(t){var e=new ty((new xm).setFromPoints(t),this.line_mat);return e.name="line",e}}]),t}()).\u0275fac=function(t){return new(t||dW)(i.Yb(xW))},dW.\u0275prov=i.Ib({token:dW,factory:dW.\u0275fac,providedIn:"root"}),dW),MW=((hW=function(){function t(e){_classCallCheck(this,t),this.text=e}return _createClass(t,[{key:"create",value:function(t,e,n,i,r){var o=16711680;"ty"===r?o=65280:"tz"===r&&(o=255);var a=new r_;a.name="child";var s=new Pf(-1,0,0),c=new Pf(1,0,0),l=new yw(c,s,1,o);l.name="arrow",a.add(l),n<0&&a.rotation.set(-Math.PI,0,-Math.PI),a.scale.set(i,i,i);var u=new r_;a.position.y=e,u.add(a),u.name="group";var h=new r_;return h.add(u),h.name="PointLoad",h.value=n,"ty"===r?h.rotation.set(Math.PI/2,Math.PI/2,0):"tz"===r&&h.rotation.set(-Math.PI/2,0,-Math.PI/2),h.position.set(t.x,t.y,t.z),h}},{key:"setSize",value:function(t,e){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;)n.value.scale.set(e,e,e)}catch(r){i.e(r)}finally{i.f()}}},{key:"setOffset",value:function(t,e){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;)n.value.position.x=e}catch(r){i.e(r)}finally{i.f()}}},{key:"setScale",value:function(t,e){t.scale.set(e,e,e)}}]),t}()).\u0275fac=function(t){return new(t||hW)(i.Yb(xW))},hW.\u0275prov=i.Ib({token:hW,factory:hW.\u0275fac,providedIn:"root"}),hW),OW=((uW=function(){function t(e,n){_classCallCheck(this,t),this.text=e,this.dim=n,this.face_mat_Red=new $g({transparent:!0,side:2,color:16711680,opacity:.3}),this.face_mat_Green=new $g({transparent:!0,side:2,color:65280,opacity:.3}),this.face_mat_Blue=new $g({transparent:!0,side:2,color:255,opacity:.3}),this.line_mat_Red=new Y_({color:16711680}),this.line_mat_Green=new Y_({color:65280}),this.line_mat_Blue=new Y_({color:255})}return _createClass(t,[{key:"create",value:function(t,e,n,i,r,o,a,s){var c=this.getColor(i),l=new r_,u=this.getPoints(t,e,i,r,o,a,s,1),h=u.points;l.add(this.getFace(c,h)),l.add(this.getLine(c,h)),l.name="child",l.position.y=0;var d=new r_;d.add(l),d.name="group";var p=new r_;if(p.add(d),p.value=u.Pmax,p.position.set(t.x,t.y,t.z),i.indexOf("g")<0){var f=new mf(n.x.x,n.x.y).normalize();p.rotateZ(Math.asin(f.y));var g=Math.sqrt(Math.pow(n.x.x,2)+Math.pow(n.x.y,2)),m=new mf(g,n.x.z).normalize();p.rotateY(-Math.asin(m.y)),"z"===i?p.rotateX(-Math.PI/2):"y"===i&&p.rotateX(Math.PI)}else"gx"===i?p.rotation.z=Math.asin(-Math.PI/2):"gz"===i&&(p.rotation.x=Math.asin(-Math.PI/2));return p.name="DistributeLoad",p}},{key:"getColor",value:function(t){var e=16711680;return"y"===t||"gy"===t?e=65280:"z"!==t&&"gz"!==t||(e=255),e}},{key:"getPoints",value:function(t,e,n,i,r,o,a,s){var c=t.distanceTo(e),l=c;"gx"===n?l=new mf(t.z,t.y).distanceTo(new mf(e.z,e.y)):"gy"===n?l=new mf(t.x,t.z).distanceTo(new mf(e.x,e.z)):"gz"===n&&(l=new mf(t.x,t.y).distanceTo(new mf(e.x,e.y)));var u=i*c/l,h=r*c/l,d=c-u-h,p=0;"gx"===n?p=Math.abs(t.x-e.x)*(d/c)*(l/c):"gy"===n?p=Math.abs(t.y-e.y)*(d/c)*(l/c):"gz"===n&&(p=Math.abs(t.z-e.z)*(d/c)*(l/c));var f=u,g=u+d,m=(f+g)/2,v=Math.abs(o)>Math.abs(a)?o:a,b=Math.abs(v),_=o/b*s+p,y=a/b*s+p,C=(_+y)/2,x=Math.sign(o),w=Math.sign(a);if(x!==w&&x*w!=0){var M=Math.abs(o);m=d*M/(M+Math.abs(a))+f,C=0}return{points:[new Pf(f,p,0),new Pf(f,_,0),new Pf(m,C,0),new Pf(g,y,0),new Pf(g,p,0)],L1:u,L:d,L2:h,Pmax:v}}},{key:"getFace",value:function(t,e){var n;n=16711680===t?this.face_mat_Red:65280===t?this.face_mat_Green:this.face_mat_Blue;var i=new yy;i.vertices=e,i.faces.push(new Yg(0,1,2)),i.faces.push(new Yg(2,3,4)),i.faces.push(new Yg(0,2,4));var r=new qm(i,n);return r.name="face",r}},{key:"getLine",value:function(t,e){var n;n=16711680===t?this.line_mat_Red:65280===t?this.line_mat_Green:this.line_mat_Blue;var i=new ty((new xm).setFromPoints(e),n);return i.name="line",i}},{key:"setSize",value:function(t,e){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;)n.value.scale.set(1,e,e)}catch(r){i.e(r)}finally{i.f()}}},{key:"setOffset",value:function(t,e){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;)n.value.position.y=e}catch(r){i.e(r)}finally{i.f()}}},{key:"setGlobalOffset",value:function(t,e,n){var i,r=n.replace("wg",""),o=_createForOfIteratorHelper(t.children);try{for(o.s();!(i=o.n()).done;)i.value.position[r]=e}catch(a){o.e(a)}finally{o.f()}}},{key:"setScale",value:function(t,e){t.scale.set(1,e,e)}}]),t}()).\u0275fac=function(t){return new(t||uW)(i.Yb(xW),i.Yb(wW))},uW.\u0275prov=i.Ib({token:uW,factory:uW.\u0275fac,providedIn:"root"}),uW),PW=((lW=function(){function t(e,n){_classCallCheck(this,t),this.text=e,this.dim=n,this.matLine=new kw({color:16777215,linewidth:.001,vertexColors:!0,dashed:!1}),this.three_color=new Qg(16711680),this.arrow_mat=new $g({color:16711680})}return _createClass(t,[{key:"create",value:function(t,e,n,i,r,o,a,s){var c=new r_,l=t.distanceTo(e)-r-o,u=[];u.push(0,0,0),u.push(l,0,0);var h=[];h.push(this.three_color.r,this.three_color.g,this.three_color.b),h.push(this.three_color.r,this.three_color.g,this.three_color.b);var d=new Ew;d.setPositions(u),d.setColors(h);var p=new Iw(d,this.matLine);p.computeLineDistances(),p.position.x=r,p.name="line2",c.add(p);var f=new qm(new wy(.05,.25,3,1,!1),this.arrow_mat);f.rotation.z=-Math.PI/2,f.position.x=r+l,f.name="arrow",c.add(f),c.name="child",c.name="child",c.position.y=.1;var g=new r_;g.add(c),g.name="group";var m=new r_;m.add(g),m.value=Math.max(Math.abs(a),Math.abs(s)),m.position.set(t.x,t.y,t.z);var v=new mf(n.x.x,n.x.y).normalize();m.rotateZ(Math.asin(v.y));var b=Math.sqrt(Math.pow(n.x.x,2)+Math.pow(n.x.y,2)),_=new mf(b,n.x.z).normalize();return m.rotateY(-Math.asin(_.y)),m.name="AxialLoad",m}},{key:"setSize",value:function(t,e){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;)n.value.scale.set(1,e,e)}catch(r){i.e(r)}finally{i.f()}}},{key:"setScale",value:function(t,e){t.scale.set(1,e,e)}}]),t}()).\u0275fac=function(t){return new(t||lW)(i.Yb(xW),i.Yb(wW))},lW.\u0275prov=i.Ib({token:lW,factory:lW.\u0275fac,providedIn:"root"}),lW),kW=((cW=function(){function t(e){_classCallCheck(this,t),this.text=e,this.arrow_mat_Red=new $g({color:16711680}),this.arrow_mat_Green=new $g({color:65280}),this.arrow_mat_Blue=new $g({color:255}),this.line_mat_Red=new Y_({color:16711680}),this.line_mat_Green=new Y_({color:65280}),this.line_mat_Blue=new Y_({color:255}),this.point_mat=new oy({size:.1,color:526344})}return _createClass(t,[{key:"create",value:function(t,e,n,i,r){var o,a,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;null===s&&(o=this.arrow_mat_Red,a=this.line_mat_Red,"ry"===r?(o=this.arrow_mat_Green,a=this.line_mat_Green):"rz"===r&&(o=this.arrow_mat_Blue,a=this.line_mat_Blue));var c=new r_;c.name="child";var l=new qm(new wy(.05,.25,3,1,!1),o);l.rotation.x=Math.PI,l.position.set(1,0,0),l.name="arrow",c.add(l);var u=new QC(0,0,1,1,0,1.5*Math.PI,!1,0).getPoints(12),h=new ty((new xm).setFromPoints(u),a);h.name="line",c.add(h),"rx"===r||"ry"===r?n>0?c.rotation.set(0,0,0):n<0&&c.rotation.set(-Math.PI,0,-Math.PI):"rz"===r&&(n>0?c.rotation.set(-Math.PI,0,-Math.PI):n<0&&c.rotation.set(0,0,0)),c.scale.set(i,i,i);var d=new r_;c.position.z=e,"rx"===r?(d.rotation.x=Math.PI/2,d.rotation.y=-Math.PI/2):"ry"===r&&(d.rotation.x=Math.PI/2);var p=new yy;p.vertices.push(new Pf(0,0,0));var f=new uy(p,this.point_mat);f.name="points_center",f.visible=!1,d.add(f),d.add(c),d.name="group";var g=new r_;return g.add(d),g.position.set(t.x,t.y,t.z),g.name="MomentLoad",g.value=Math.abs(n),g}},{key:"setSize",value:function(t,e){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;)n.value.scale.set(e,e,e)}catch(r){i.e(r)}finally{i.f()}}},{key:"setOffset",value:function(t,e){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;)n.value.position.z=e}catch(r){i.e(r)}finally{i.f()}}},{key:"setScale",value:function(t,e){t.scale.set(e,e,e)}}]),t}()).\u0275fac=function(t){return new(t||cW)(i.Yb(xW))},cW.\u0275prov=i.Ib({token:cW,factory:cW.\u0275fac,providedIn:"root"}),cW),AW=((sW=function(){function t(e,n,i){_classCallCheck(this,t),this.text=e,this.dim=n,this.moment=i,this.cylinder_Red=new $g({transparent:!0,side:2,color:16711680,opacity:.3}),this.cylinder_Blue=new $g({transparent:!0,side:2,color:255,opacity:.3})}return _createClass(t,[{key:"create",value:function(t,e,n,i,r,o,a,s){var c,l=this.getColor([a,s]),u=new r_,h=this.getPoints(t,e,i,r,o,a,s,.5),d=h.points,p=_createForOfIteratorHelper(this.getFace(l,d));try{for(p.s();!(c=p.n()).done;){var f=c.value;u.add(f)}}catch(x){p.e(x)}finally{p.f()}var g,m=_createForOfIteratorHelper(this.getArrow([a,s],l,[d[0],d[2]]));try{for(m.s();!(g=m.n()).done;){var v=g.value;u.add(v)}}catch(x){m.e(x)}finally{m.f()}u.name="child";var b=new r_;b.add(u),b.name="TorsionLoad",b.value=h.Pmax,b.position.set(t.x,t.y,t.z);var _=new mf(n.x.x,n.x.y).normalize();b.rotateZ(Math.asin(_.y));var y=Math.sqrt(Math.pow(n.x.x,2)+Math.pow(n.x.y,2)),C=new mf(y,n.x.z).normalize();return b.rotateY(-Math.asin(C.y)),b.name="TorsionLoad",b}},{key:"getColor",value:function(t){var e=[];return t.forEach(function(t){e.push(Math.sign(t)>0?16711680:Math.sign(t)<0?255:0)}),0!==e[0]&&0!==e[1]||(0===e[0]?e[0]=e[1]:0===e[1]&&(e[1]=e[0])),e}},{key:"getPoints",value:function(t,e,n,i,r,o,a,s){var c=t.distanceTo(e)-i-r,l=i,u=i+c,h=(l+u)/2,d=Math.abs(o)>Math.abs(a)?o:a,p=Math.abs(d),f=o/p*s,g=a/p*s,m=(f+g)/2,v=Math.sign(o),b=Math.sign(a);if(v!==b&&v*b!=0){var _=Math.abs(o);h=c*_/(_+Math.abs(a))+l,m=0}return{points:[new Pf(l,f,0),new Pf(h,m,0),new Pf(u,g,0)],L1:i,L:c,L2:r,Pmax:d}}},{key:"getFace",value:function(t,e){for(var n=new Array,i=0;i<t.length;i++){var r=16711680===t[i]?this.cylinder_Red:this.cylinder_Blue,o=e[i+1].x-e[i].x,a=new qm(new Cy(Math.abs(e[i].y),Math.abs(e[i+1].y),o,12,1,!0,-Math.PI/2,1.5*Math.PI),r);a.rotation.z=Math.PI/2,a.position.x=o/2+e[i].x,a.name="mesh"+(i+1).toString(),n.push(a)}return n}},{key:"getArrow",value:function(t,e,n){for(var i=new Array,r=0;r<t.length;r++){var o=this.moment.create(new Pf(n[r].x,0,0),0,t[r],Math.abs(n[r].y),"rx",e[r]);t[r]<0&&o.rotation.set(-Math.PI/2,0,0),i.push(o)}return i}},{key:"setSize",value:function(t,e){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;)n.value.scale.set(1,e,e)}catch(r){i.e(r)}finally{i.f()}}},{key:"setScale",value:function(t,e){t.scale.set(1,e,e)}}]),t}()).\u0275fac=function(t){return new(t||sW)(i.Yb(xW),i.Yb(wW),i.Yb(kW))},sW.\u0275prov=i.Ib({token:sW,factory:sW.\u0275fac,providedIn:"root"}),sW),TW=((aW=function(){function t(e,n){_classCallCheck(this,t),this.text=e,this.dim=n;var i=new Qg(16711680);this.colors=[],this.colors.push(i.r,i.g,i.b),this.colors.push(i.r,i.g,i.b),this.arrow_mat=new $g({color:16711680}),this.matLine=new kw({color:16777215,linewidth:.001,vertexColors:!0,dashed:!1})}return _createClass(t,[{key:"create",value:function(t,e,n,i){var r=new r_,o=t.distanceTo(e),a=[];a.push(0,0,0),a.push(o,0,0);var s=new Ew;s.setPositions(a),s.setColors(this.colors);var c=new Iw(s,this.matLine);c.computeLineDistances(),c.name="line2",r.add(c);var l=new qm(new wy(.05,.25,3,1,!1),this.arrow_mat);l.rotation.z=-Math.PI/2,l.name="arrow",r.add(l),r.name="child",r.name="child",r.position.y=.1;var u=new r_;u.add(r),u.name="group";var h=new r_;h.add(u),h.value=Math.abs(i),h.position.set(t.x,t.y,t.z);var d=new mf(n.x.x,n.x.y).normalize();h.rotateZ(Math.asin(d.y));var p=Math.sqrt(Math.pow(n.x.x,2)+Math.pow(n.x.y,2)),f=new mf(p,n.x.z).normalize();return h.rotateY(-Math.asin(f.y)),h.name="TemperatureLoad",h}},{key:"setSize",value:function(t,e){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;)n.value.scale.set(1,e,e)}catch(r){i.e(r)}finally{i.f()}}},{key:"setScale",value:function(t,e){t.scale.set(1,e,e)}}]),t}()).\u0275fac=function(t){return new(t||aW)(i.Yb(xW),i.Yb(wW))},aW.\u0275prov=i.Ib({token:aW,factory:aW.\u0275fac,providedIn:"root"}),aW),SW=((oW=function(){function t(e,n,i){_classCallCheck(this,t),this.text=e,this.dim=n,this.point=i}return _createClass(t,[{key:"create",value:function(t,e,n,i,r,o,a,s){var c,l=new r_,u=this.getPoints(t,e,i,r,o,a,s,1),h=u.L1,d=u.L2,p=_createForOfIteratorHelper(this.getArrow(i,[a,s],[h,d]));try{for(p.s();!(c=p.n()).done;){var f=c.value;l.add(f)}}catch(y){p.e(y)}finally{p.f()}l.name="child",l.position.y=0;var g=new r_;g.add(l),g.name="group";var m=new r_;if(m.add(g),m.value=u.Pmax,m.position.set(t.x,t.y,t.z),i.indexOf("g")<0){var v=new mf(n.x.x,n.x.y).normalize();m.rotateZ(Math.asin(v.y));var b=Math.sqrt(Math.pow(n.x.x,2)+Math.pow(n.x.y,2)),_=new mf(b,n.x.z).normalize();m.rotateY(-Math.asin(_.y)),"z"===i?m.rotateX(-Math.PI/2):"y"===i&&m.rotateX(Math.PI)}else"gx"===i?m.rotation.z=Math.asin(-Math.PI/2):"gz"===i&&(m.rotation.x=Math.asin(-Math.PI/2));return m.name="MemberPointLoad",m}},{key:"getPoints",value:function(t,e,n,i,r,o,a,s){var c=t.distanceTo(e),l=c;"gx"===n?l=new mf(t.z,t.y).distanceTo(new mf(e.z,e.y)):"gy"===n?l=new mf(t.x,t.z).distanceTo(new mf(e.x,e.z)):"gz"===n&&(l=new mf(t.x,t.y).distanceTo(new mf(e.x,e.y)));var u=i*c/l,h=r*c/l,d=u,p=h,f=Math.abs(o)>Math.abs(a)?o:a,g=Math.abs(f),m=o/g*s,v=a/g*s;return"x"===n&&(m=s/10,v=s/10),{points:[new Pf(d,m,0),new Pf(p,v,0)],L1:u,L2:h,Pmax:f}}},{key:"getArrow",value:function(t,e,n){for(var i=new Array,r="t"+t,o=0;o<2;o++){var a=e[o];if(0!==a){var s=new Pf(n[o],0,0);"x"===t&&(s.y=.1);var c=this.point.create(s,0,a,1,r);"y"===t?c.rotation.z+=Math.PI:"z"===t&&(c.rotation.x+=Math.PI/2),i.push(c)}}return i}},{key:"setSize",value:function(t,e){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;)n.value.scale.set(1,e,e)}catch(r){i.e(r)}finally{i.f()}}},{key:"setOffset",value:function(t,e){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;)n.value.position.y=e}catch(r){i.e(r)}finally{i.f()}}},{key:"setGlobalOffset",value:function(t,e,n){var i,r=n.replace("wg",""),o=_createForOfIteratorHelper(t.children);try{for(o.s();!(i=o.n()).done;)i.value.position[r]=e}catch(a){o.e(a)}finally{o.f()}}},{key:"setScale",value:function(t,e){t.scale.set(1,e,e)}}]),t}()).\u0275fac=function(t){return new(t||oW)(i.Yb(xW),i.Yb(wW),i.Yb(MW))},oW.\u0275prov=i.Ib({token:oW,factory:oW.\u0275fac,providedIn:"root"}),oW),EW=((rW=function(){function t(e,n,i){_classCallCheck(this,t),this.text=e,this.dim=n,this.moment=i}return _createClass(t,[{key:"create",value:function(t,e,n,i,r,o,a,s){var c,l=new r_,u=this.getPoints(t,e,i,r,o,a,s,1),h=u.L1,d=u.L2,p=_createForOfIteratorHelper(this.getArrow(i,[a,s],[h,d]));try{for(p.s();!(c=p.n()).done;){var f=c.value;l.add(f)}}catch(y){p.e(y)}finally{p.f()}l.name="child",l.position.y=0;var g=new r_;g.add(l),g.name="group";var m=new r_;if(m.add(g),m.value=u.Pmax,m.position.set(t.x,t.y,t.z),i.indexOf("g")<0){var v=new mf(n.x.x,n.x.y).normalize();m.rotateZ(Math.asin(v.y));var b=Math.sqrt(Math.pow(n.x.x,2)+Math.pow(n.x.y,2)),_=new mf(b,n.x.z).normalize();m.rotateY(-Math.asin(_.y))}else"gx"===i?m.rotation.z=Math.asin(-Math.PI/2):"gz"===i&&(m.rotation.x=Math.asin(-Math.PI/2));return m.name="MemberMomentLoad",m}},{key:"getPoints",value:function(t,e,n,i,r,o,a,s){var c=t.distanceTo(e),l=c;"gx"===n?l=new mf(t.z,t.y).distanceTo(new mf(e.z,e.y)):"gy"===n?l=new mf(t.x,t.z).distanceTo(new mf(e.x,e.z)):"gz"===n&&(l=new mf(t.x,t.y).distanceTo(new mf(e.x,e.y)));var u=i*c/l,h=r*c/l,d=u,p=h,f=Math.abs(o)>Math.abs(a)?o:a,g=Math.abs(f),m=o/g*s,v=a/g*s;return"x"===n&&(m=s/10,v=s/10),{points:[new Pf(d,m,0),new Pf(p,v,0)],L1:u,L2:h,Pmax:f}}},{key:"getArrow",value:function(t,e,n){for(var i=new Array,r="r"+t,o=0;o<2;o++){var a=e[o];if(0!==a){var s=new Pf(n[o],0,0),c=this.moment.create(s,0,a,1,r);i.push(c)}}return i}},{key:"setSize",value:function(t,e){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;){var r,o=_createForOfIteratorHelper(n.value.children);try{for(o.s();!(r=o.n()).done;){var a=r.value;if("child"===a.name){var s,c=_createForOfIteratorHelper(a.children);try{for(c.s();!(s=c.n()).done;){var l=s.value;if("MomentLoad"===l.name){var u,h=_createForOfIteratorHelper(l.children);try{for(h.s();!(u=h.n()).done;){var d=u.value;if("group"===d.name){var p,f=_createForOfIteratorHelper(d.children);try{for(f.s();!(p=f.n()).done;){var g=p.value;"child"===g.name&&g.scale.set(e,e,e)}}catch(m){f.e(m)}finally{f.f()}}}}catch(m){h.e(m)}finally{h.f()}}}}catch(m){c.e(m)}finally{c.f()}}}}catch(m){o.e(m)}finally{o.f()}}}catch(m){i.e(m)}finally{i.f()}}},{key:"setOffset",value:function(t,e){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;)n.value.position.y=e}catch(r){i.e(r)}finally{i.f()}}},{key:"setGlobalOffset",value:function(t,e,n){var i,r=n.replace("wg",""),o=_createForOfIteratorHelper(t.children);try{for(o.s();!(i=o.n()).done;)i.value.position[r]=e}catch(a){o.e(a)}finally{o.f()}}},{key:"setScale",value:function(t,e){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;){var r,o=_createForOfIteratorHelper(n.value.children);try{for(o.s();!(r=o.n()).done;){var a=r.value;if("child"===a.name){var s,c=_createForOfIteratorHelper(a.children);try{for(c.s();!(s=c.n()).done;){var l=s.value;if("MomentLoad"===l.name){var u,h=_createForOfIteratorHelper(l.children);try{for(h.s();!(u=h.n()).done;){var d=u.value;if("group"===d.name){var p,f=_createForOfIteratorHelper(d.children);try{for(f.s();!(p=f.n()).done;){var g=p.value;"child"===g.name&&g.scale.set(e,e,e)}}catch(m){f.e(m)}finally{f.f()}}}}catch(m){h.e(m)}finally{h.f()}}}}catch(m){c.e(m)}finally{c.f()}}}}catch(m){o.e(m)}finally{o.f()}}}catch(m){i.e(m)}finally{i.f()}}}]),t}()).\u0275fac=function(t){return new(t||rW)(i.Yb(xW),i.Yb(wW),i.Yb(kW))},rW.\u0275prov=i.Ib({token:rW,factory:rW.\u0275fac,providedIn:"root"}),rW),IW=((iW=function(){function t(e,n,i,r,o,a){var s=this;_classCallCheck(this,t),this.scene=e,this.nodeThree=n,this.node=i,this.member=r,this.load=o,this.three_member=a,this.isVisible={object:!1,gui:!1},(new jx).load("./assets/fonts/helvetiker_regular.typeface.json",function(t){var e=new xW(t),n=new wW(e);s.pointLoad=new MW(e),s.momentLoad=new kW(e),s.distributeLoad=new OW(e,n),s.axialLoad=new PW(e,n),s.torsionLoad=new AW(e,n,s.momentLoad),s.temperatureLoad=new TW(e,n),s.memberPointLoad=new SW(e,n,s.pointLoad),s.memberMomentLoad=new EW(e,n,s.momentLoad)}),this.AllCaseLoadList={},this.currentIndex=null,this.nodeData=null,this.memberData=null,this.newNodeData=null,this.newMemberData=null,this.LoadScale=100,this.params={LoadScale:this.LoadScale},this.gui={}}return _createClass(t,[{key:"ClearData",value:function(){for(var t=0,e=Object.keys(this.AllCaseLoadList);t<e.length;t++){var n=e[t];this.removeCase(n)}this.AllCaseLoadList={},this.currentIndex=null,this.nodeData=null,this.memberData=null,this.newNodeData=null,this.newMemberData=null}},{key:"ResetData",value:function(){this.ClearData();for(var t=0,e=Object.keys(this.load.load);t<e.length;t++){var n=e[t];this.addCase(n)}if(this.nodeData=this.node.getNodeJson(0),this.newNodeData=null,!(Object.keys(this.nodeData).length<=0)){for(var i=this.load.getNodeLoadJson(0),r=0,o=Object.keys(this.AllCaseLoadList);r<o.length;r++){var a=o[r],s=this.AllCaseLoadList[a];if(this.currentIndex=a,a in i){var c=i[a];this.setMaxNodeLoad(c),this.createPointLoad(c,this.nodeData,s.ThreeObject,s.pointLoadList)}if(this.memberData=this.member.getMemberJson(0),this.newMemberData=null,Object.keys(this.memberData).length>0){var l=this.load.getMemberLoadJson(0);if(a in l){var u=l[a];this.setMaxMemberLoad(u),this.createMemberLoad(u,this.nodeData,this.memberData,s.ThreeObject,s.memberLoadList)}}this.setOffset(a),this.onResize(a)}this.currentIndex="-1"}}},{key:"changeCase",value:function(t){var e=t.toString();if(this.currentIndex!==e){if(t<1){for(var n=0,i=Object.keys(this.AllCaseLoadList);n<i.length;n++){var r=i[n];this.AllCaseLoadList[r].ThreeObject.visible=!1}return this.scene.render(),void(this.currentIndex=e)}e in this.AllCaseLoadList||this.addCase(e);for(var o=0,a=Object.keys(this.AllCaseLoadList);o<a.length;o++){var s=a[o];this.AllCaseLoadList[s].ThreeObject.visible=s===e}this.currentIndex=e,this.scene.render()}}},{key:"addCase",value:function(t){var e=new Og;e.name=t,e.visible=!1,this.AllCaseLoadList[t]={ThreeObject:e,pointLoadList:{},memberLoadList:{},pMax:0,mMax:0,wMax:0,rMax:0,qMax:0},this.scene.add(e)}},{key:"removeCase",value:function(t){t in this.AllCaseLoadList&&(this.scene.remove(this.AllCaseLoadList[t].ThreeObject),delete this.AllCaseLoadList[t])}},{key:"changeNode",value:function(t){this.newNodeData=t}},{key:"changeMember",value:function(t){this.newMemberData=t}},{key:"reDrawNodeMember",value:function(){if(null!==this.newNodeData||null!==this.newMemberData){var t={};if(null!==this.newNodeData){for(var e=0,n=Object.keys(this.nodeData);e<n.length;e++){var i=n[e];i in this.newNodeData||(t[i]="delete")}for(var r=0,o=Object.keys(this.newNodeData);r<o.length;r++){var a=o[r];if(a in this.nodeData){var s=this.nodeData[a],c=this.newNodeData[a];s.x===c.x&&s.y===c.y&&s.z===c.z||(t[a]="change")}else t[a]="add"}}var l={};if(null!==this.newMemberData){for(var u=0,h=Object.keys(this.memberData);u<h.length;u++){var d=h[u];d in this.newMemberData||(l[d]="delete")}for(var p=0,f=Object.keys(this.newMemberData);p<f.length;p++){var g=f[p];if(g in this.memberData){var m=this.memberData[g],v=this.newMemberData[g];m.ni===v.ni&&m.nj===v.nj||(l[g]="change")}else l[g]="add"}}for(var b=null!==this.newMemberData?this.newMemberData:this.memberData,_=0,y=Object.keys(b);_<y.length;_++){var C=y[_],x=b[C];(x.ni in t||x.nj in t)&&(l[C]="node change")}var w=this.currentIndex;this.nodeData=null!==this.newNodeData?this.newNodeData:this.nodeData,this.memberData=null!==this.newMemberData?this.newMemberData:this.memberData;for(var M=this.load.getNodeLoadJson(0),O=this.load.getMemberLoadJson(0),P=0,k=Object.keys(this.AllCaseLoadList);P<k.length;P++){var A=k[P];this.currentIndex=A;var T=!1;if(this.currentIndex in M){var S,E=_createForOfIteratorHelper(M[this.currentIndex]);try{for(E.s();!(S=E.n()).done;){var I=S.value;I.n.toString()in t&&this.changeNodeLode(I.row,M),T=!0}}catch(L){E.e(L)}finally{E.f()}}if(this.currentIndex in O){var R,D=_createForOfIteratorHelper(O[this.currentIndex]);try{for(D.s();!(R=D.n()).done;){var N=R.value;N.m.toString()in l&&(this.changeMemberLode(N.row,O),T=!0)}}catch(L){D.e(L)}finally{D.f()}}!0===T&&(this.setOffset(),this.onResize())}this.newNodeData=null,this.newMemberData=null,this.currentIndex=w}}},{key:"changeData",value:function(t){if(this.currentIndex in this.load.load){if(!(Object.keys(this.nodeData).length<=0)){var e=this.load.getNodeLoadJson(0,this.currentIndex);if(this.changeNodeLode(t,e),!(Object.keys(this.memberData).length<=0)){var n=this.load.getMemberLoadJson(0,this.currentIndex);this.changeMemberLode(t,n),this.setOffset(),this.onResize(),this.scene.render(),this.isVisible.object=!0}}}else this.removeCase(this.currentIndex)}},{key:"changeNodeLode",value:function(t,e){var n=this.AllCaseLoadList[this.currentIndex];if(this.currentIndex in e){var i=e[this.currentIndex];this.setMaxNodeLoad(i);for(var r=i.filter(function(e){return e.row===t}),o=0,a=Object.keys(n.pointLoadList);o<a.length;o++)for(var s=a[o],c=n.pointLoadList[s],l=0,u=["tx","ty","tz","rx","ry","rz"];l<u.length;l++)for(var h=u[l],d=c[h].length-1;d>=0;d--){var p=c[h][d];p.row===t&&(n.ThreeObject.remove(p),c[h].splice(d,1))}this.createPointLoad(r,this.nodeData,n.ThreeObject,n.pointLoadList)}else for(var f=0,g=Object.keys(n.pointLoadList);f<g.length;f++){for(var m=g[f],v=n.pointLoadList[m],b=0,_=["tx","ty","tz","rx","ry","rz"];b<_.length;b++){var y,C=_createForOfIteratorHelper(v[_[b]]);try{for(C.s();!(y=C.n()).done;){var x=y.value;n.ThreeObject.remove(x)}}catch(w){C.e(w)}finally{C.f()}}n.pointLoadList[m]={tx:[],ty:[],tz:[],rx:[],ry:[],rz:[]}}}},{key:"changeMemberLode",value:function(t,e){var n=this.AllCaseLoadList[this.currentIndex];if(this.currentIndex in e){var i=e[this.currentIndex];this.setMaxMemberLoad(i);for(var r=i.filter(function(e){return e.row===t}),o=0,a=Object.keys(n.memberLoadList);o<a.length;o++)for(var s=a[o],c=n.memberLoadList[s],l=0,u=["gy","gx","gz","x","y","z","t","r"];l<u.length;l++)for(var h=u[l],d=c[h].length-1;d>=0;d--){var p=c[h][d];p.row===t&&(n.ThreeObject.remove(p),c[h].splice(d,1))}this.createMemberLoad(r,this.nodeData,this.memberData,n.ThreeObject,n.memberLoadList)}else for(var f=0,g=Object.keys(n.memberLoadList);f<g.length;f++){for(var m=g[f],v=n.memberLoadList[m],b=0,_=["gx","gy","gz","x","y","z","t","r"];b<_.length;b++){var y,C=_createForOfIteratorHelper(v[_[b]]);try{for(C.s();!(y=C.n()).done;){var x=y.value;n.ThreeObject.remove(x)}}catch(w){C.e(w)}finally{C.f()}}n.memberLoadList[m]={gx:[],gy:[],gz:[],x:[],y:[],z:[],t:[],r:[]}}}},{key:"createPointLoad",value:function(t,e,n,i){if(void 0!==t){var r,o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.n.toString();if(s in e){for(var c=e[s],l=(s in i?i[s]:{tx:[],ty:[],tz:[],rx:[],ry:[],rz:[]}),u=0,h=["tx","ty","tz"];u<h.length;u++){var d=h[u];if(0!==a[d]){var p=this.pointLoad.create(c,0,a[d],1,d);p.row=a.row,l[d].push(p),n.add(p),i[s]=l}}for(var f=0,g=["rx","ry","rz"];f<g.length;f++){var m=g[f];if(0!==a[m]){var v,b=a[m],_=0,y=_createForOfIteratorHelper(l[m]);try{for(y.s();!(v=y.n()).done;)!1!==v.value.visible&&(_+=.1)}catch(x){y.e(x)}finally{y.f()}var C=this.momentLoad.create(c,_,b,1,m);C.row=a.row,l[m].push(C),n.add(C),i[s]=l}}}}}catch(x){o.e(x)}finally{o.f()}}}},{key:"setMaxNodeLoad",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.AllCaseLoadList[this.currentIndex];if(e.pMax=0,e.mMax=0,null===t){var n=this.load.getNodeLoadJson(0,this.currentIndex);if(!(this.currentIndex in n))return;t=n[this.currentIndex]}t.forEach(function(t){e.pMax=Math.max(e.pMax,Math.abs(t.tx),Math.abs(t.ty),Math.abs(t.tz))}),t.forEach(function(t){e.mMax=Math.max(e.mMax,Math.abs(t.rx),Math.abs(t.ry),Math.abs(t.rz))})}},{key:"setMaxMemberLoad",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.AllCaseLoadList[this.currentIndex];if(e.wMax=0,e.rMax=0,e.qMax=0,null===t){var n=this.load.getMemberLoadJson(0,this.currentIndex);if(!(this.currentIndex in n))return;t=n[this.currentIndex]}var i,r=_createForOfIteratorHelper(t);try{for(r.s();!(i=r.n()).done;){var o=i.value,a=Math.max(Math.abs(o.P1),Math.abs(o.P2));2===o.mark?"r"===o.direction?e.rMax=Math.max(e.rMax,a):"x"===o.direction?e.qMax=Math.max(e.qMax,a):e.wMax=Math.max(e.wMax,a):1===o.mark?e.pMax=Math.max(e.pMax,a):11===o.mark&&(e.mMax=Math.max(e.mMax,a))}}catch(s){r.e(s)}finally{r.f()}}},{key:"createMemberLoad",value:function(t,e,n,i,r){if(void 0!==t){var o,a=_createForOfIteratorHelper(JSON.parse(JSON.stringify({temp:t})).temp);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.m in n){var c=s.m.toString(),l=n[c];if(l.ni in e&&l.nj in e&&(0!==s.P1||0!==s.P2)){var u=e[l.ni],h=e[l.nj],d=new Pf(u.x,u.y,u.z),p=new Pf(h.x,h.y,h.z),f=this.three_member.localAxis(u.x,u.y,u.z,h.x,h.y,h.z,l.cg),g=c in r?r[c]:{localAxis:f,x:[],y:[],z:[],gx:[],gy:[],gz:[],r:[],t:[]},m=s.P1,v=s.P2,b=s.direction;b=null===b?"":(b=b.trim()).toLowerCase(),0===f.x.y&&0===f.x.z?("gx"===b&&(b="x"),"gy"===b&&(b="y"),"gz"===b&&(b="z")):0===f.x.x&&0===f.x.z?("gx"===b&&(b="y",m=-m,v=-v),"gy"===b&&(b="x"),"gz"===b&&(b="z")):0===f.x.x&&0===f.x.y&&("gx"===b&&(b="y",m=-m,v=-v),"gy"===b&&(b="z"),"gz"===b&&(b="x",m=-m,v=-v));var _=null;2===s.mark?"y"===b||"z"===b||"gx"===b||"gy"===b||"gz"===b?_=this.distributeLoad.create(d,p,f,b,s.L1,s.L2,m,v):"r"===b?_=this.torsionLoad.create(d,p,f,b,s.L1,s.L2,m,v):"x"===b&&(_=this.axialLoad.create(d,p,f,b,s.L1,s.L2,m,v)):9===s.mark?(_=this.temperatureLoad.create(d,p,f,m),b="t"):1===s.mark?["x","y","z","gx","gy","gz"].indexOf(b)>=0&&(_=this.memberPointLoad.create(d,p,f,b,s.L1,s.L2,m,v)):11===s.mark&&["x","y","z","gx","gy","gz"].indexOf(b)>=0&&(_=this.memberMomentLoad.create(d,p,f,b,s.L1,s.L2,m,v),b="r"),null!==_&&(_.row=s.row,g[b].push(_),i.add(_),r[c]=g)}}}}catch(y){a.e(y)}finally{a.f()}}}},{key:"visibleChange",value:function(t,e){if(!1===t)return this.guiDisable(),this.changeCase(-1),void(this.isVisible.object=!1);!0===e?this.guiEnable():(this.selectionItem=null,this.guiDisable()),this.isVisible.gui=e,!0!==this.isVisible.object&&(this.changeCase(1),this.isVisible.object=!0)}},{key:"guiEnable",value:function(){var t=this;console.log("three load!","guiEnable"),"LoadScale"in this.gui||(this.gui.LoadScale=this.scene.gui.add(this.params,"LoadScale",0,200).step(1).onChange(function(e){t.LoadScale=e,t.onResize(),t.scene.render()}))}},{key:"guiDisable",value:function(){console.log("three load!","guiDisable");for(var t=0,e=Object.keys(this.gui);t<e.length;t++){var n=e[t];this.scene.gui.remove(this.gui[n])}this.gui={}}},{key:"baseScale",value:function(){return 10*this.nodeThree.baseScale}},{key:"onResize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentIndex;if(e in this.AllCaseLoadList){for(var n=this.AllCaseLoadList[e],i=this.LoadScale/100*this.baseScale(),r=0,o=Object.keys(n.pointLoadList);r<o.length;r++)for(var a=o[r],s=n.pointLoadList[a],c=0,l=Object.keys(s);c<l.length;c++){var u=l[c];s[u].forEach(function(e){"PointLoad"===e.name?t.pointLoad.setScale(e,i):"MomentLoad"===e.name&&t.momentLoad.setScale(e,i)})}for(var h=0,d=Object.keys(n.memberLoadList);h<d.length;h++)for(var p=d[h],f=n.memberLoadList[p],g=0,m=["gx","gy","gz","r","x","y","z"];g<m.length;g++){var v=m[g];f[v].forEach(function(e){"DistributeLoad"===e.name?t.distributeLoad.setScale(e,i):"TorsionLoad"===e.name?t.torsionLoad.setScale(e,i):"AxialLoad"===e.name?t.axialLoad.setScale(e,i):"MemberPointLoad"===e.name?t.memberPointLoad.setScale(e,i):"MemberMomentLoad"===e.name&&t.memberMomentLoad.setScale(e,i)})}}}},{key:"setOffset",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentIndex;if(e in this.AllCaseLoadList){for(var n=this.AllCaseLoadList[e],i=function(){var e=o[r],i=n.pointLoadList[e];["tx","ty","tz"].forEach(function(e){var r,o=0,a=0,s=_createForOfIteratorHelper(i[e]);try{for(s.s();!(r=s.n()).done;){var c=r.value,l=4*Math.abs(c.value)/n.pMax;t.pointLoad.setSize(c,l),c.value>0?(t.pointLoad.setOffset(c,o),o-=1*l):(t.pointLoad.setOffset(c,a),a+=1*l)}}catch(u){s.e(u)}finally{s.f()}}),["rx","ry","rz"].forEach(function(e){var r,o=0,a=_createForOfIteratorHelper(i[e]);try{for(a.s();!(r=a.n()).done;){var s=r.value;t.momentLoad.setSize(s,s.value/n.mMax),t.momentLoad.setOffset(s,o),o+=.1*t.baseScale()}}catch(c){a.e(c)}finally{a.f()}})},r=0,o=Object.keys(n.pointLoadList);r<o.length;r++)i();for(var a=function(){var e,i=c[s],r=n.memberLoadList[i],o=0,a=_createForOfIteratorHelper(r.r);try{for(a.s();!(e=a.n()).done;){var l=e.value;if("MemberMomentLoad"===l.name){var u=1*Math.abs(l.value)/n.mMax;t.memberMomentLoad.setSize(l,u)}else if("TorsionLoad"===l.name){var h=1*Math.abs(l.value/n.rMax);t.torsionLoad.setSize(l,h),o+=.5*h}}}catch(d){a.e(d)}finally{a.f()}["y","z"].forEach(function(e){var i=o,a=o;r[e].forEach(function(e){if("DistributeLoad"===e.name){var r=1*Math.abs(e.value)/n.wMax;t.distributeLoad.setSize(e,r),e.value>0?(t.distributeLoad.setOffset(e,i),i+=1*r):(t.distributeLoad.setOffset(e,a),a-=1*r)}else if("MemberPointLoad"===e.name){var o=1*Math.abs(e.value)/n.pMax;t.memberPointLoad.setSize(e,o),e.value>0?(t.memberPointLoad.setOffset(e,i),i+=1*o):(t.memberPointLoad.setOffset(e,a),a-=1*o)}})}),["gx","gy","gz"].forEach(function(e){var i=o,a=o;r[e].forEach(function(r){if("DistributeLoad"===r.name){var o=1*Math.abs(r.value)/n.wMax;t.distributeLoad.setSize(r,o),r.value>0?(t.distributeLoad.setGlobalOffset(r,i,e),i-=1*o):(t.distributeLoad.setGlobalOffset(r,a,e),a+=1*o)}else if("MemberPointLoad"===r.name){var s=1*Math.abs(r.value)/n.pMax;t.memberPointLoad.setSize(r,s),r.value>0?(t.memberPointLoad.setGlobalOffset(r,i,e),i-=1*s):(t.memberPointLoad.setGlobalOffset(r,a,e),a+=1*s)}})}),r.x.forEach(function(e){if("MemberPointLoad"===e.name){var i=1*Math.abs(e.value)/n.pMax;t.memberPointLoad.setSize(e,i)}else if("AxialLoad"===e.name){var r=1*Math.abs(e.value)/n.qMax;t.axialLoad.setSize(e,r)}})},s=0,c=Object.keys(n.memberLoadList);s<c.length;s++)a()}}},{key:"detectObject",value:function(t,e){}},{key:"getParent",value:function(t){return["AxialLoad","DistributeLoad","MemberMomentLoad","MemberPointLoad","MomentLoad","PointLoad","TemperatureLoad","TorsionLoad"].indexOf(t.name)>=0?t:this.getParent(t.parent)}},{key:"textVisible",value:function(t,e){if("name"in t&&("Dimension"===t.name&&(t.visible=e),"text"===t.name&&(t.visible=e),"points_center"===t.name&&(t.visible=e)),"children"in t){var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.textVisible(r,e)}}catch(o){i.e(o)}finally{i.f()}}}}]),t}()).\u0275fac=function(t){return new(t||iW)(i.Yb(WM),i.Yb(aO),i.Yb(Qp.a),i.Yb($p.a),i.Yb(Jp),i.Yb(sO))},iW.\u0275prov=i.Ib({token:iW,factory:iW.\u0275fac,providedIn:"root"}),iW),RW=((nW=function(){function t(e,n,i,r,o,a,s,c,l,u){_classCallCheck(this,t),this.scene=e,this.node=n,this.member=i,this.fixNode=r,this.fixMember=o,this.joint=a,this.load=s,this.disg=c,this.reac=l,this.fsec=u}return _createClass(t,[{key:"OnInit",value:function(){this.node.OnInit(),this.member.OnInit()}},{key:"fileload",value:function(){this.node.changeData(),this.member.changeData(),this.fixNode.ClearData(),this.fixMember.ClearData(),this.joint.ClearData(),this.load.ResetData(),this.disg.ClearData(),this.reac.ClearData(),this.fsec.ClearData(),this.scene.render()}},{key:"changeData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;switch(t){case"nodes":this.load.changeNode(this.node.changeData()),this.member.changeData();break;case"members":this.load.changeMember(this.member.changeData());break;case"elements":case"notice_points":break;case"joints":this.joint.changeData(e);break;case"fix_nodes":this.fixNode.changeData(e);break;case"fix_member":this.fixMember.changeData(e);break;case"load_names":this.load.changeCase(e);break;case"load_values":this.load.changeData(e);break;default:return}this.scene.render(),this.currentIndex=e}},{key:"selectChange",value:function(t,e){console.log("selectChange",t,e)}},{key:"ClearData",value:function(){this.node.ClearData(),this.member.ClearData(),this.fixNode.ClearData(),this.fixMember.ClearData(),this.joint.ClearData(),this.load.ClearData(),this.disg.ClearData(),this.reac.ClearData(),this.fsec.ClearData(),this.disg.ClearData(),this.fsec.ClearData(),this.reac.ClearData(),this.scene.render()}},{key:"ChangePage",value:function(t){if(this.currentIndex!==t){switch(this.mode){case"elements":break;case"joints":this.joint.changeData(t);case"fix_nodes":this.fixNode.changeData(t);break;case"fix_member":this.fixMember.changeData(t);break;case"load_names":case"load_values":this.load.changeCase(t);break;case"disg":this.disg.changeData(t);break;case"comb_disg":case"pik_disg":break;case"reac":this.reac.changeData(t);break;case"comb_reac":case"pik_reac":break;case"fsec":case"comb_fsec":case"pik_fsec":this.fsec.changeData(t,this.mode)}this.currentIndex=t,this.scene.render()}}},{key:"ChangeMode",value:function(t){this.mode!==t&&("nodes"===t&&(this.node.visibleChange(!0,!0,!0),this.member.visibleChange(!0,!1,!1),this.fixNode.visibleChange(!1),this.fixMember.visibleChange(!1),this.joint.visibleChange(!1),this.load.visibleChange(!1,!1),this.disg.visibleChange(!1),this.reac.visibleChange(!1),this.fsec.visibleChange(!1)),"members"!==t&&"elements"!==t||(this.node.visibleChange(!0,!1,!1),this.member.visibleChange(!0,!0,!0),this.fixNode.visibleChange(!1),this.fixMember.visibleChange(!1),this.joint.visibleChange(!1),this.load.visibleChange(!1,!1),this.disg.visibleChange(!1),this.reac.visibleChange(!1),this.fsec.visibleChange(!1)),"notice_points"===t&&(this.node.visibleChange(!0,!1,!1),this.member.visibleChange(!0,!0,!1),this.fixNode.visibleChange(!1),this.fixMember.visibleChange(!1),this.joint.visibleChange(!1),this.load.visibleChange(!1,!1),this.disg.visibleChange(!1),this.reac.visibleChange(!1),this.fsec.visibleChange(!1)),"joints"===t&&(this.node.visibleChange(!0,!1,!1),this.member.visibleChange(!0,!0,!1),this.fixNode.visibleChange(!1),this.fixMember.visibleChange(!1),this.joint.visibleChange(!0),this.load.visibleChange(!1,!1),this.disg.visibleChange(!1),this.reac.visibleChange(!1),this.fsec.visibleChange(!1)),"fix_nodes"===t&&(this.node.visibleChange(!0,!0,!1),this.member.visibleChange(!0,!1,!1),this.fixNode.visibleChange(!0),this.fixMember.visibleChange(!1),this.joint.visibleChange(!1),this.load.visibleChange(!1,!1),this.disg.visibleChange(!1),this.reac.visibleChange(!1),this.fsec.visibleChange(!1)),"fix_member"===t&&(this.node.visibleChange(!0,!1,!1),this.member.visibleChange(!0,!0,!1),this.fixNode.visibleChange(!1),this.fixMember.visibleChange(!0),this.joint.visibleChange(!1),this.load.visibleChange(!1,!1),this.disg.visibleChange(!1),this.reac.visibleChange(!1),this.fsec.visibleChange(!1)),"load_names"!==t&&"load_values"!==t||(this.load.reDrawNodeMember(),"load_names"===t&&(this.node.visibleChange(!0,!1,!1),this.member.visibleChange(!0,!1,!1),this.fixNode.visibleChange(!0),this.fixMember.visibleChange(!0),this.joint.visibleChange(!0),this.load.visibleChange(!0,!1)),"load_values"===t&&(this.node.visibleChange(!0,!0,!1),this.member.visibleChange(!0,!0,!1),this.fixNode.visibleChange(!1),this.fixMember.visibleChange(!1),this.joint.visibleChange(!1),this.load.visibleChange(!0,!0)),this.disg.visibleChange(!1),this.reac.visibleChange(!1),this.fsec.visibleChange(!1)),"disg"===t&&(this.node.visibleChange(!0,!0,!1),this.member.visibleChange(!0,!1,!1),this.fixNode.visibleChange(!1),this.fixMember.visibleChange(!1),this.joint.visibleChange(!1),this.load.visibleChange(!1,!1),this.disg.visibleChange(!0),this.reac.visibleChange(!1),this.fsec.visibleChange(!1)),"comb_disg"!==t&&"pik_disg"!==t||(this.node.visibleChange(!0,!0,!0),this.member.visibleChange(!0,!1,!1),this.fixNode.visibleChange(!1),this.fixMember.visibleChange(!1),this.joint.visibleChange(!1),this.load.visibleChange(!1,!1),this.disg.visibleChange(!1),this.reac.visibleChange(!1),this.fsec.visibleChange(!1)),"reac"===t&&(this.node.visibleChange(!0,!0,!1),this.member.visibleChange(!0,!1,!1),this.fixNode.visibleChange(!1),this.fixMember.visibleChange(!1),this.joint.visibleChange(!1),this.load.visibleChange(!1,!1),this.disg.visibleChange(!1),this.reac.visibleChange(!0),this.fsec.visibleChange(!1)),"comb_reac"!==t&&"pik_reac"!==t||(this.node.visibleChange(!0,!0,!0),this.member.visibleChange(!0,!1,!1),this.fixNode.visibleChange(!1),this.fixMember.visibleChange(!1),this.joint.visibleChange(!1),this.load.visibleChange(!1,!1),this.disg.visibleChange(!1),this.reac.visibleChange(!1),this.fsec.visibleChange(!1)),"fsec"!==t&&"comb_fsec"!==t&&"pik_fsec"!==t||(this.node.visibleChange(!0,!1,!1),this.member.visibleChange(!0,!0,!1),this.fixNode.visibleChange(!1),this.fixMember.visibleChange(!1),this.joint.visibleChange(!1),this.load.visibleChange(!1,!1),this.disg.visibleChange(!1),this.reac.visibleChange(!1),this.fsec.visibleChange(!0)),this.mode=t,this.currentIndex=-1,this.scene.render())}},{key:"detectObject",value:function(t,e){var n=this.scene.getRaycaster(t);switch(this.mode){case"nodes":case"fix_nodes":this.node.detectObject(n,e);break;case"joints":this.joint.detectObject(n,e);break;case"members":case"elements":case"fix_member":this.member.detectObject(n,e);break;case"load_values":this.load.detectObject(n,e)}}}]),t}()).\u0275fac=function(t){return new(t||nW)(i.Yb(WM),i.Yb(aO),i.Yb(sO),i.Yb(_W),i.Yb(yW),i.Yb(CW),i.Yb(IW),i.Yb(uO),i.Yb(lO),i.Yb(cO))},nW.\u0275prov=i.Ib({token:nW,factory:nW.\u0275fac,providedIn:"root"}),nW),DW=n("Ne9s"),NW=n.n(DW);n("zqb7"),n("U5H6");var LW,zW,jW,FW=["pqgrid"],qW=((LW=function(){function t(){_classCallCheck(this,t),this.grid=null}return _createClass(t,[{key:"createGrid",value:function(){this.grid=NW.a.grid(this.div.nativeElement,this.options)}},{key:"ngOnChanges",value:function(t){t.options.firstChange||(this.grid.destroy(),this.createGrid())}},{key:"ngAfterViewInit",value:function(){this.createGrid()}},{key:"refreshDataAndView",value:function(){null!==this.grid&&(this.grid.refreshDataAndView(),console.log("refreshDataAndView"))}}]),t}()).\u0275fac=function(t){return new(t||LW)},LW.\u0275cmp=i.Gb({type:LW,selectors:[["app-sheet"]],viewQuery:function(t,e){var n;1&t&&i.Ec(FW,!0),2&t&&i.oc(n=i.cc())&&(e.div=n.first)},inputs:{options:"options"},features:[i.yb],decls:3,vars:0,consts:[[1,"datasheet"],["pqgrid",""]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Nb(1,"div",null,1),i.Qb())},styles:["div.pq-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px}button.delete_btn[_ngcontent-%COMP%]{margin:-3px 0}.pq-row-delete[_ngcontent-%COMP%]{text-decoration:line-through}.pq-row-delete[_ngcontent-%COMP%] > .pq-grid-cell[_ngcontent-%COMP%]{background-color:pink}.datasheet[_ngcontent-%COMP%]{padding:16px;z-index:1}"]}),LW),BW=["grid"],UW=((zW=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this.data=e,this.helper=n,this.app=i,this.three=r,this.dataset=[],this.columnHeaders=[{title:"X",dataType:"float",format:"#.000",dataIndx:"x",sortable:!1,width:90},{title:"Y",dataType:"float",format:"#.000",dataIndx:"y",sortable:!1,width:90},{title:"Z",dataType:"float",format:"#.000",dataIndx:"z",sortable:!1,width:90}],this.ROWS_COUNT=15,this.options={showTop:!1,reactive:!0,sortable:!1,locale:"jp",height:this.tableHeight(),numberCell:{show:!0,width:45},colModel:this.columnHeaders,animModel:{on:!0},dataModel:{data:this.dataset},beforeTableView:function(t,e){var n=o.dataset.length;null!=e.initV&&e.finalV>=n-1&&(o.loadData(n+o.ROWS_COUNT),o.grid.refreshDataAndView())},selectEnd:function(t,e){o.three.selectChange("nodes",e.selection.iCells.ranges[0].r1+1)},change:function(t,e){o.three.changeData("nodes")}}}return _createClass(t,[{key:"ngOnInit",value:function(){this.ROWS_COUNT=this.rowsCount(),this.three.ChangeMode("nodes")}},{key:"loadData",value:function(t){for(var e=this.dataset.length+1;e<=t;e++){var n=this.data.getNodeColumns(e);this.dataset.push(n)}}},{key:"tableHeight",value:function(){return this.app.getDialogHeight().toString()}},{key:"rowsCount",value:function(){var t=this.app.getDialogHeight();return Math.round(t/30)}}]),t}()).\u0275fac=function(t){return new(t||zW)(i.Mb(Qp.a),i.Mb(Yp.a),i.Mb(bW),i.Mb(RW))},zW.\u0275cmp=i.Gb({type:zW,selectors:[["app-input-nodes"]],viewQuery:function(t,e){var n;1&t&&i.Ec(BW,!0),2&t&&i.oc(n=i.cc())&&(e.grid=n.first)},decls:3,vars:1,consts:[[1,"datasheet_inner"],[3,"options"],["grid",""]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Nb(1,"app-sheet",1,2),i.Qb()),2&t&&(i.Ab(1),i.ic("options",e.options))},directives:[qW],styles:[".datasheet_inner[_ngcontent-%COMP%]{width:380px}","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),zW),HW=["grid"],VW=((jW=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this.data=e,this.helper=n,this.app=i,this.three=r,this.dataset=[],this.columnHeaders=[{title:"i\u7aef",dataType:"integer",dataIndx:"ni",sortable:!1,minwidth:10,width:10},{title:"j\u7aef",dataType:"integer",dataIndx:"nj",sortable:!1,minwidth:10,width:10},{title:"\u90e8\u6750\u9577",dataType:"float",format:"#.000",dataIndx:"L",sortable:!1,width:100,editable:!1,style:{background:"#dae6f0"}},{title:"\u6750\u6599No",dataType:"integer",dataIndx:"e",sortable:!1,minwidth:10,width:10},{title:"\u30b3\u30fc\u30c9\u30a2\u30f3\u30b0\u30eb",dataType:"float",dataIndx:"cg",sortable:!1,width:130}],this.ROWS_COUNT=15,this.options={showTop:!1,reactive:!0,sortable:!1,locale:"jp",height:this.tableHeight(),numberCell:{show:!0,width:45},colModel:this.columnHeaders,animModel:{on:!0},dataModel:{data:this.dataset},beforeTableView:function(t,e){var n=o.dataset.length;null!=e.initV&&e.finalV>=n-1&&(o.loadData(n+o.ROWS_COUNT),o.grid.refreshDataAndView())},selectEnd:function(t,e){o.three.selectChange("members",e.selection.iCells.ranges[0].r1+1)},change:function(t,e){var n,i=_createForOfIteratorHelper(e.updateList);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.rowIndx;if("ni"in r.newRow||"nj"in r.newRow){var s=o.dataset[a].id;if(""!==s){var c=o.data.getMemberLength(s);null!=c&&(o.dataset[a].L=c.toFixed(3),o.grid.refreshDataAndView())}}}}catch(l){i.e(l)}finally{i.f()}o.three.changeData("members")}}}return _createClass(t,[{key:"ngOnInit",value:function(){this.ROWS_COUNT=this.rowsCount(),this.three.ChangeMode("members")}},{key:"loadData",value:function(t){for(var e=this.dataset.length+1;e<=t;e++){var n=this.data.getMemberColumns(e),i=n.id;if(""!==i){var r=this.data.getMemberLength(i);n.L=null!=r?r.toFixed(3):r}this.dataset.push(n)}}},{key:"tableHeight",value:function(){return this.app.getDialogHeight().toString()}},{key:"rowsCount",value:function(){var t=this.app.getDialogHeight();return Math.round(t/30)}}]),t}()).\u0275fac=function(t){return new(t||jW)(i.Mb($p.a),i.Mb(Yp.a),i.Mb(bW),i.Mb(RW))},jW.\u0275cmp=i.Gb({type:jW,selectors:[["app-input-members"]],viewQuery:function(t,e){var n;1&t&&i.Ec(HW,!0),2&t&&i.oc(n=i.cc())&&(e.grid=n.first)},decls:3,vars:1,consts:[[1,"datasheet_inner"],[3,"options"],["grid",""]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Nb(1,"app-sheet",1,2),i.Qb()),2&t&&(i.Ab(1),i.ic("options",e.options))},directives:[qW],styles:[".datasheet_inner[_ngcontent-%COMP%]{width:480px}","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),jW),WW=function(){function t(e,n){_classCallCheck(this,t),this.dueTime=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new GW(t,this.dueTime,this.scheduler))}}]),t}(),GW=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).dueTime=i,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(QW,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(Hn.a);function QW(t){t.debouncedNext()}var YW,KW,XW,$W,JW=(($W=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}()).\u0275fac=function(t){return new(t||$W)},$W.\u0275prov=Object(i.Ib)({factory:function(){return new $W},token:$W,providedIn:"root"}),$W),ZW=((XW=function(){function t(e){_classCallCheck(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach(function(e,n){return t._cleanupObserver(n)})}},{key:"observe",value:function(t){var e=this,n=Li(t);return new Vt.a(function(t){var i=e._observeElement(n).subscribe(t);return function(){i.unsubscribe(),e._unobserveElement(n)}})}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new zi.a,n=this._mutationObserverFactory.create(function(t){return e.next(t)});n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,i=e.stream;n&&n.disconnect(),i.complete(),this._observedElements.delete(t)}}}]),t}()).\u0275fac=function(t){return new(t||XW)(i.Yb(JW))},XW.\u0275prov=Object(i.Ib)({factory:function(){return new XW(Object(i.Yb)(JW))},token:XW,providedIn:"root"}),XW),tG=((KW=function(){function t(e,n,r){_classCallCheck(this,t),this._contentObserver=e,this._elementRef=n,this._ngZone=r,this.event=new i.n,this._disabled=!1,this._currentSubscription=null}return _createClass(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Di(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=Ni(t),this._subscribe()}},{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(function(){t._currentSubscription=(t.debounce?e.pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gi.a;return function(n){return n.lift(new WW(t,e))}}(t.debounce)):e).subscribe(t.event)})}},{key:"_unsubscribe",value:function(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||KW)(i.Mb(ZW),i.Mb(i.l),i.Mb(i.z))},KW.\u0275dir=i.Hb({type:KW,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),KW),eG=((YW=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:YW}),YW.\u0275inj=i.Jb({factory:function(t){return new(t||YW)},providers:[JW]}),YW);"undefined"!=typeof Element&&Element;var nG,iG,rG=((nG=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._document=n}return _createClass(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}()).\u0275fac=function(t){return new(t||nG)(i.Yb(Or),i.Yb(c))},nG.\u0275prov=Object(i.Ib)({factory:function(){return new nG(Object(i.Yb)(Or),Object(i.Yb)(c))},token:nG,providedIn:"root"}),nG),oG=new i.P("11.0.4"),aG=new i.P("11.0.4"),sG=new i.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),cG=((iG=function(){function t(e,n,i){_classCallCheck(this,t),this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(t,[{key:"_getWindow",value:function(){var t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}},{key:"_checksAreEnabled",value:function(){return Object(i.W)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&aG.full!==oG.full&&console.warn("The Angular Material version ("+aG.full+") does not match the Angular CDK version ("+oG.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}()).\u0275mod=i.Kb({type:iG}),iG.\u0275inj=i.Jb({factory:function(t){return new(t||iG)(i.Yb(rG),i.Yb(sG,8),i.Yb(c))},imports:[[zr],zr]}),iG);try{"undefined"!=typeof Intl}catch(a2){!1}var lG,uG=((lG=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}()).\u0275fac=function(t){return new(t||lG)},lG.\u0275prov=Object(i.Ib)({factory:function(){return new lG},token:lG,providedIn:"root"}),lG),hG=["underline"],dG=["connectionContainer"],pG=["inputContainer"],fG=["label"];function gG(t,e){1&t&&(i.Pb(0),i.Rb(1,"div",14),i.Nb(2,"div",15),i.Nb(3,"div",16),i.Nb(4,"div",17),i.Qb(),i.Rb(5,"div",18),i.Nb(6,"div",15),i.Nb(7,"div",16),i.Nb(8,"div",17),i.Qb(),i.Ob())}function mG(t,e){1&t&&(i.Rb(0,"div",19),i.gc(1,1),i.Qb())}function vG(t,e){if(1&t&&(i.Pb(0),i.gc(1,2),i.Rb(2,"span"),i.Ac(3),i.Qb(),i.Ob()),2&t){var n=i.dc(2);i.Ab(3),i.Bc(n._control.placeholder)}}function bG(t,e){1&t&&i.gc(0,3,["*ngSwitchCase","true"])}function _G(t,e){1&t&&(i.Rb(0,"span",23),i.Ac(1," *"),i.Qb())}function yG(t,e){if(1&t){var n=i.Sb();i.Rb(0,"label",20,21),i.bc("cdkObserveContent",function(){return i.rc(n),i.dc().updateOutlineGap()}),i.yc(2,vG,4,1,"ng-container",12),i.yc(3,bG,1,0,"ng-content",12),i.yc(4,_G,2,0,"span",22),i.Qb()}if(2&t){var r=i.dc();i.Eb("mat-empty",r._control.empty&&!r._shouldAlwaysFloat())("mat-form-field-empty",r._control.empty&&!r._shouldAlwaysFloat())("mat-accent","accent"==r.color)("mat-warn","warn"==r.color),i.ic("cdkObserveContentDisabled","outline"!=r.appearance)("id",r._labelId)("ngSwitch",r._hasLabel()),i.Bb("for",r._control.id)("aria-owns",r._control.id),i.Ab(2),i.ic("ngSwitchCase",!1),i.Ab(1),i.ic("ngSwitchCase",!0),i.Ab(1),i.ic("ngIf",!r.hideRequiredMarker&&r._control.required&&!r._control.disabled)}}function CG(t,e){1&t&&(i.Rb(0,"div",24),i.gc(1,4),i.Qb())}function xG(t,e){if(1&t&&(i.Rb(0,"div",25,26),i.Nb(2,"span",27),i.Qb()),2&t){var n=i.dc();i.Ab(2),i.Eb("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function wG(t,e){if(1&t&&(i.Rb(0,"div"),i.gc(1,5),i.Qb()),2&t){var n=i.dc();i.ic("@transitionMessages",n._subscriptAnimationState)}}function MG(t,e){if(1&t&&(i.Rb(0,"div",31),i.Ac(1),i.Qb()),2&t){var n=i.dc(2);i.ic("id",n._hintLabelId),i.Ab(1),i.Bc(n.hintLabel)}}function OG(t,e){if(1&t&&(i.Rb(0,"div",28),i.yc(1,MG,2,2,"div",29),i.gc(2,6),i.Nb(3,"div",30),i.gc(4,7),i.Qb()),2&t){var n=i.dc();i.ic("@transitionMessages",n._subscriptAnimationState),i.Ab(1),i.ic("ngIf",n.hintLabel)}}var PG,kG,AG,TG,SG,EG,IG,RG,DG,NG,LG,zG,jG,FG=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],qG=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],BG=new i.q("MatError"),UG={transitionMessages:function(t,e){return{type:7,name:t,definitions:e,options:{}}}("transitionMessages",[(PG="enter",kG=Qo({opacity:1,transform:"translateY(0%)"}),{type:0,name:PG,styles:kG,options:AG}),function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}("void => enter",[Qo({opacity:0,transform:"translateY(-100%)"}),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},HG=((TG=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||TG)},TG.\u0275dir=i.Hb({type:TG}),TG),VG=new i.q("MatHint"),WG=((EG=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||EG)},EG.\u0275dir=i.Hb({type:EG,selectors:[["mat-label"]]}),EG),GG=((SG=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||SG)},SG.\u0275dir=i.Hb({type:SG,selectors:[["mat-placeholder"]]}),SG),QG=new i.q("MatPrefix"),YG=new i.q("MatSuffix"),KG=0,XG=(IG="primary",function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).defaultColor=IG,t.color=IG,t}return _createClass(n,[{key:"color",get:function(){return this._color},set:function(t){var e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}]),n}(function t(e){_classCallCheck(this,t),this._elementRef=e})),$G=new i.q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),JG=new i.q("MatFormField"),ZG=((DG=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a,s,c,l){var u;return _classCallCheck(this,n),(u=e.call(this,t))._elementRef=t,u._changeDetectorRef=i,u._dir=o,u._defaults=a,u._platform=s,u._ngZone=c,u._outlineGapCalculationNeededImmediately=!1,u._outlineGapCalculationNeededOnStable=!1,u._destroyed=new zi.a,u._showAlwaysAnimate=!1,u._subscriptAnimationState="",u._hintLabel="",u._hintLabelId="mat-hint-"+KG++,u._labelId="mat-form-field-label-"+KG++,u.floatLabel=u._getDefaultFloatLabelState(),u._animationsEnabled="NoopAnimations"!==l,u.appearance=a&&a.appearance?a.appearance:"legacy",u._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker,u}return _createClass(n,[{key:"appearance",get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=Di(t)}},{key:"_shouldAlwaysFloat",value:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",value:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t}},{key:"getLabelId",value:function(){return this._hasFloatingLabel()?this._labelId:null}},{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+e.controlType),e.stateChanges.pipe(or(null)).subscribe(function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(tr(this._destroyed)).subscribe(function(){return t._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.pipe(tr(t._destroyed)).subscribe(function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()})}),Object(Br.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(or(null)).subscribe(function(){t._processHints(),t._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(or(null)).subscribe(function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(tr(this._destroyed)).subscribe(function(){"function"==typeof requestAnimationFrame?t._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){return t.updateOutlineGap()})}):t.updateOutlineGap()})}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Fi(this._label.nativeElement,"transitionend").pipe(Vr(1)).subscribe(function(){t._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push.apply(t,_toConsumableArray(this._control.userAriaDescribedBy.split(" "))),"hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find(function(t){return"start"===t.align}):null,n=this._hintChildren?this._hintChildren.find(function(t){return"end"===t.align}):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push.apply(t,_toConsumableArray(this._errorChildren.map(function(t){return t.id})));this._control.setDescribedByIds(t)}}},{key:"_validateControlChild",value:function(){}},{key:"updateOutlineGap",value:function(){var t=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var e=0,n=0,i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var a=i.getBoundingClientRect();if(0===a.width&&0===a.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);for(var s=this._getStartEnd(a),c=t.children,l=this._getStartEnd(c[0].getBoundingClientRect()),u=0,h=0;h<c.length;h++)u+=c[h].offsetWidth;e=Math.abs(l-s)-5,n=u>0?.75*u+10:0}for(var d=0;d<r.length;d++)r[d].style.width=e+"px";for(var p=0;p<o.length;p++)o[p].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}},{key:"_isAttachedToDOM",value:function(){var t=this._elementRef.nativeElement;if(t.getRootNode){var e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}]),n}(XG)).\u0275fac=function(t){return new(t||DG)(i.Mb(i.l),i.Mb(i.h),i.Mb(i.l),i.Mb(Lr,8),i.Mb($G,8),i.Mb(Or),i.Mb(i.z),i.Mb(uc,8))},DG.\u0275cmp=i.Gb({type:DG,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var r;1&t&&(i.Fb(n,HG,!0),i.vc(n,HG,!0),i.Fb(n,WG,!0),i.vc(n,WG,!0),i.Fb(n,GG,!0),i.Fb(n,BG,!0),i.Fb(n,VG,!0),i.Fb(n,QG,!0),i.Fb(n,YG,!0)),2&t&&(i.oc(r=i.cc())&&(e._controlNonStatic=r.first),i.oc(r=i.cc())&&(e._controlStatic=r.first),i.oc(r=i.cc())&&(e._labelChildNonStatic=r.first),i.oc(r=i.cc())&&(e._labelChildStatic=r.first),i.oc(r=i.cc())&&(e._placeholderChild=r.first),i.oc(r=i.cc())&&(e._errorChildren=r),i.oc(r=i.cc())&&(e._hintChildren=r),i.oc(r=i.cc())&&(e._prefixChildren=r),i.oc(r=i.cc())&&(e._suffixChildren=r))},viewQuery:function(t,e){var n;1&t&&(i.Ec(hG,!0),i.wc(dG,!0),i.Ec(pG,!0),i.Ec(fG,!0)),2&t&&(i.oc(n=i.cc())&&(e.underlineRef=n.first),i.oc(n=i.cc())&&(e._connectionContainerRef=n.first),i.oc(n=i.cc())&&(e._inputContainerRef=n.first),i.oc(n=i.cc())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&i.Eb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[i.zb([{provide:JG,useExisting:DG}]),i.xb],ngContentSelectors:qG,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(i.hc(FG),i.Rb(0,"div",0),i.Rb(1,"div",1,2),i.bc("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),i.yc(3,gG,9,0,"ng-container",3),i.yc(4,mG,2,0,"div",4),i.Rb(5,"div",5,6),i.gc(7),i.Rb(8,"span",7),i.yc(9,yG,5,16,"label",8),i.Qb(),i.Qb(),i.yc(10,CG,2,0,"div",9),i.Qb(),i.yc(11,xG,3,4,"div",10),i.Rb(12,"div",11),i.yc(13,wG,2,1,"div",12),i.yc(14,OG,5,2,"div",13),i.Qb(),i.Qb()),2&t&&(i.Ab(3),i.ic("ngIf","outline"==e.appearance),i.Ab(1),i.ic("ngIf",e._prefixChildren.length),i.Ab(5),i.ic("ngIf",e._hasFloatingLabel()),i.Ab(1),i.ic("ngIf",e._suffixChildren.length),i.Ab(1),i.ic("ngIf","outline"!=e.appearance),i.Ab(1),i.ic("ngSwitch",e._getDisplayedMessages()),i.Ab(1),i.ic("ngSwitchCase","error"),i.Ab(1),i.ic("ngSwitchCase","hint"))},directives:[U,X,$,tG],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[UG.transitionMessages]},changeDetection:0}),DG),tQ=((RG=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:RG}),RG.\u0275inj=i.Jb({factory:function(t){return new(t||RG)},imports:[[nt,cG,eG],cG]}),RG),eQ=Tr({passive:!0}),nQ=((LG=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._ngZone=n,this._monitoredElements=new Map}return _createClass(t,[{key:"monitor",value:function(t){var e=this;if(!this._platform.isBrowser)return Hr.a;var n=Li(t),i=this._monitoredElements.get(n);if(i)return i.subject;var r=new zi.a,o="cdk-text-field-autofilled",a=function(t){"cdk-text-field-autofill-start"!==t.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===t.animationName&&n.classList.contains(o)&&(n.classList.remove(o),e._ngZone.run(function(){return r.next({target:t.target,isAutofilled:!1})})):(n.classList.add(o),e._ngZone.run(function(){return r.next({target:t.target,isAutofilled:!0})}))};return this._ngZone.runOutsideAngular(function(){n.addEventListener("animationstart",a,eQ),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:r,unlisten:function(){n.removeEventListener("animationstart",a,eQ)}}),r}},{key:"stopMonitoring",value:function(t){var e=Li(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}},{key:"ngOnDestroy",value:function(){var t=this;this._monitoredElements.forEach(function(e,n){return t.stopMonitoring(n)})}}]),t}()).\u0275fac=function(t){return new(t||LG)(i.Yb(Or),i.Yb(i.z))},LG.\u0275prov=Object(i.Ib)({factory:function(){return new LG(Object(i.Yb)(Or),Object(i.Yb)(i.z))},token:LG,providedIn:"root"}),LG),iQ=((NG=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:NG}),NG.\u0275inj=i.Jb({factory:function(t){return new(t||NG)},imports:[[Pr]]}),NG),rQ=new i.q("MAT_INPUT_VALUE_ACCESSOR"),oQ=["button","checkbox","file","hidden","image","radio","range","reset","submit"],aQ=0,sQ=function(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).errorState=!1,t.stateChanges=new zi.a,t}return _createClass(n,[{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}]),n}(t)}(function t(e,n,i,r){_classCallCheck(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}),cQ=((jG=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a,s,c,l,u,h){var d;_classCallCheck(this,n),(d=e.call(this,s,o,a,r))._elementRef=t,d._platform=i,d.ngControl=r,d._autofillMonitor=l,d._formField=h,d._uid="mat-input-"+aQ++,d.focused=!1,d.stateChanges=new zi.a,d.controlType="mat-input",d.autofilled=!1,d._disabled=!1,d._required=!1,d._type="text",d._readonly=!1,d._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(function(t){return Ar().has(t)});var p=d._elementRef.nativeElement,f=p.nodeName.toLowerCase();return d._inputValueAccessor=c||p,d._previousNativeValue=d.value,d.id=d.id,i.IOS&&u.runOutsideAngular(function(){t.nativeElement.addEventListener("keyup",function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),d._isServer=!d._platform.isBrowser,d._isNativeSelect="select"===f,d._isTextarea="textarea"===f,d._isNativeSelect&&(d.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select"),d}return _createClass(n,[{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=Di(t),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=Di(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Ar().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(t){this._readonly=Di(t)}},{key:"ngAfterViewInit",value:function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()})}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_focusChanged",value:function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckPlaceholder",value:function(){var t,e,n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){var i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}},{key:"_dirtyCheckNativeValue",value:function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}},{key:"_validateType",value:function(){oQ.indexOf(this._type)}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}},{key:"setDescribedByIds",value:function(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}}]),n}(sQ)).\u0275fac=function(t){return new(t||jG)(i.Mb(i.l),i.Mb(Or),i.Mb(Re,10),i.Mb(On,8),i.Mb(Tn,8),i.Mb(uG),i.Mb(rQ,10),i.Mb(nQ),i.Mb(i.z),i.Mb(JG,8))},jG.\u0275dir=i.Hb({type:jG,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&i.bc("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(i.Ub("disabled",e.disabled)("required",e.required),i.Bb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),i.Eb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[i.zb([{provide:HG,useExisting:jG}]),i.xb,i.yb]}),jG),lQ=((zG=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:zG}),zG.\u0275inj=i.Jb({factory:function(t){return new(t||zG)},providers:[uG],imports:[[iQ,tQ,cG],iQ,tQ]}),zG);function uQ(t,e){if(1&t){var n=i.Sb();i.Rb(0,"ul",7),i.Rb(1,"li"),i.Rb(2,"a",8),i.bc("click",function(){return i.rc(n),i.dc(2).moveToNextPage(-5)}),i.Ac(3,"\u300a"),i.Qb(),i.Qb(),i.Rb(4,"li"),i.Rb(5,"a",9),i.bc("click",function(){return i.rc(n),i.dc(2).moveToNextPage(-2)}),i.Ac(6),i.Qb(),i.Qb(),i.Rb(7,"li"),i.Rb(8,"a",10),i.bc("click",function(){return i.rc(n),i.dc(2).moveToNextPage(-1)}),i.Ac(9),i.Qb(),i.Qb(),i.Rb(10,"li"),i.Rb(11,"a",11),i.bc("click",function(){return i.rc(n),i.dc(2).moveToNextPage(0)}),i.Ac(12),i.Qb(),i.Qb(),i.Rb(13,"li"),i.Rb(14,"a",12),i.bc("click",function(){return i.rc(n),i.dc(2).moveToNextPage(1)}),i.Ac(15),i.Qb(),i.Qb(),i.Rb(16,"li"),i.Rb(17,"a",13),i.bc("click",function(){return i.rc(n),i.dc(2).moveToNextPage(2)}),i.Ac(18),i.Qb(),i.Qb(),i.Rb(19,"li"),i.Rb(20,"a",14),i.bc("click",function(){return i.rc(n),i.dc(2).moveToNextPage(5)}),i.Ac(21,"\u300b"),i.Qb(),i.Qb(),i.Qb()}if(2&t){var r=i.dc(2);i.Ab(5),i.Eb("active",r.liActive[0]),i.Ab(1),i.Bc(r.liNumber[0]),i.Ab(2),i.Eb("active",r.liActive[1]),i.Ab(1),i.Bc(r.liNumber[1]),i.Ab(2),i.Eb("active",r.liActive[2]),i.Ab(1),i.Bc(r.liNumber[2]),i.Ab(2),i.Eb("active",r.liActive[3]),i.Ab(1),i.Bc(r.liNumber[3]),i.Ab(2),i.Eb("active",r.liActive[4]),i.Ab(1),i.Bc(r.liNumber[4])}}function hQ(t,e){1&t&&(i.Rb(0,"div"),i.Rb(1,"mat-form-field"),i.Nb(2,"input",15),i.Qb(),i.Qb())}function dQ(t,e){if(1&t){var n=i.Sb();i.Rb(0,"div",1),i.Rb(1,"div",2),i.Rb(2,"form",3),i.yc(3,uQ,22,15,"ul",4),i.yc(4,hQ,3,0,"div",5),i.Rb(5,"button",6),i.bc("click",function(){return i.rc(n),i.dc().click()}),i.Ac(6,"click"),i.Qb(),i.Qb(),i.Qb(),i.Qb()}if(2&t){var r=i.dc();i.Ab(2),i.ic("formGroup",r.myControl),i.Ab(1),i.ic("ngIf",!r.Editing),i.Ab(1),i.ic("ngIf",r.Editing)}}var pQ,fQ,gQ,mQ,vQ,bQ,_Q,yQ,CQ,xQ,wQ,MQ,OQ=((pQ=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.event=new i.n,this.liActive=[!1,!1,!1,!1,!1],this.liNumber=[1,2,3,4,5],this.Editing=!1,this.changePage(1)}return _createClass(t,[{key:"ngOnInit",value:function(){this.myControl=new Cn({number2:new yn})}},{key:"changePage",value:function(t){if(t!==this.page){this.page=t,this.event.emit(this.page);for(var e=Math.min(t-1,2),n=0;n<this.liNumber.length;n++)this.liNumber[n]=t-e+n;for(var i=0;i<this.liActive.length;i++)this.liActive[i]=!1;this.liActive[e]=!0}else this.Editing=!0}},{key:"moveToNextPage",value:function(t){var e,n;n=1===this.page?2:2===this.page?1:0,(e=this.page+t+n)<1&&(e=1),this.changePage(e)}},{key:"click",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==(t=this.helper.toNumber(null===e?this.myControl.value.number2:e))&&(this.changePage(t),this.Editing=!1)}}]),t}()).\u0275fac=function(t){return new(t||pQ)(i.Mb(Yp.a))},pQ.\u0275cmp=i.Gb({type:pQ,selectors:[["app-pager"]],outputs:{event:"event"},decls:1,vars:1,consts:[["class","pagerArea",4,"ngIf"],[1,"pagerArea"],[1,"pager"],[3,"formGroup"],["class","pagenation",4,"ngIf"],[4,"ngIf"],["mat-raised-button","",3,"click"],[1,"pagenation"],["id","prev","link","140","aria-label","Previous",3,"click"],["id","141","link","141",3,"click"],["id","142","link","142",3,"click"],["id","143","link","143",3,"click"],["id","144","link","144",3,"click"],["id","145","link","145",3,"click"],["id","next","link","146","aria-label","Next",3,"click"],["type","number","matInput","","matType","number","formControlName","number2",1,"pageNum"]],template:function(t,e){1&t&&i.yc(0,dQ,7,3,"div",0),2&t&&i.ic("ngIf",e.liNumber)},directives:[U,Pn,Le,Tn,ZG,je,cQ,ie,Ne,En],styles:[".pagerArea[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]{margin-right:.5px;margin-left:.5px;margin-top:16px;height:36px;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}"]}),pQ),PQ=["grid"],kQ=((fQ=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this.data=e,this.helper=n,this.app=i,this.three=r,this.dataset=[],this.columnHeaders=[{title:"\u7bc0\u70b9No",dataType:"string",dataIndx:"n",sortable:!1,width:30},{title:"X\u5909\u4f4d\u62d8\u675f",dataType:"float",dataIndx:"tx",sortable:!1,width:100},{title:"Y\u5909\u4f4d\u62d8\u675f",dataType:"float",dataIndx:"ty",sortable:!1,width:100},{title:"Z\u5909\u4f4d\u62d8\u675f",dataType:"float",dataIndx:"tz",sortable:!1,width:100},{title:"X\u56de\u8ee2\u62d8\u675f",dataType:"float",dataIndx:"rx",sortable:!1,width:100},{title:"Y\u56de\u8ee2\u62d8\u675f",dataType:"float",dataIndx:"ry",sortable:!1,width:100},{title:"Z\u56de\u8ee2\u62d8\u675f",dataType:"float",dataIndx:"rz",sortable:!1,width:100}],this.ROWS_COUNT=15,this.page=1,this.options={showTop:!1,reactive:!0,sortable:!1,locale:"jp",height:this.tableHeight(),numberCell:{show:!1},colModel:this.columnHeaders,animModel:{on:!0},dataModel:{data:this.dataset},beforeTableView:function(t,e){var n=o.dataset.length;null!=e.initV&&e.finalV>=n-1&&(o.loadPage(o.page,n+o.ROWS_COUNT),o.grid.refreshDataAndView())},selectEnd:function(t,e){o.three.selectChange("fix_nodes",e.selection.iCells.ranges[0].r1+1)},change:function(t,e){o.three.changeData("fix_nodes",o.page)}}}return _createClass(t,[{key:"ngOnInit",value:function(){this.ROWS_COUNT=this.rowsCount(),this.loadPage(1,this.ROWS_COUNT),this.three.ChangeMode("fix_nodes"),this.three.ChangePage(1)}},{key:"onReceiveEventFromChild",value:function(t){this.dataset.splice(0),this.loadPage(t,this.ROWS_COUNT),this.grid.refreshDataAndView(),this.three.ChangePage(t)}},{key:"loadPage",value:function(t,e){for(var n=this.dataset.length+1;n<=e;n++){var i=this.data.getFixNodeColumns(t,n);this.dataset.push(i)}this.page=t}},{key:"tableHeight",value:function(){return(this.app.getDialogHeight()-70).toString()}},{key:"rowsCount",value:function(){var t=this.app.getDialogHeight();return Math.round(t/30)}}]),t}()).\u0275fac=function(t){return new(t||fQ)(i.Mb(gO),i.Mb(Yp.a),i.Mb(bW),i.Mb(RW))},fQ.\u0275cmp=i.Gb({type:fQ,selectors:[["app-input-fix-node"]],viewQuery:function(t,e){var n;1&t&&i.Ec(PQ,!0),2&t&&i.oc(n=i.cc())&&(e.grid=n.first)},decls:4,vars:1,consts:[[1,"datasheet_inner"],[3,"event"],[3,"options"],["grid",""]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"app-pager",1),i.bc("event",function(t){return e.onReceiveEventFromChild(t)}),i.Qb(),i.Nb(2,"app-sheet",2,3),i.Qb()),2&t&&(i.Ab(2),i.ic("options",e.options))},directives:[OQ,qW],styles:[".datasheet_inner[_ngcontent-%COMP%]{width:712px}","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),fQ),AQ=["grid"],TQ=((mQ=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this.data=e,this.helper=n,this.app=i,this.three=r,this.dataset=[],this.columnHeaders=[{title:"\u5f3e\u6027\u4fc2\u6570",dataType:"float",format:"#,##0",dataIndx:"E",sortable:!1,width:120},{title:"\u305b\u3093\u65ad\u5f3e\u6027\u4fc2\u6570",dataType:"float",format:"#,##0",dataIndx:"G",sortable:!1,width:130},{title:"\u81a8\u5f35\u4fc2\u6570",dataType:"float",format:"#.000000",dataIndx:"Xp",sortable:!1,width:100},{title:"\u65ad\u9762\u7a4d",dataType:"float",format:"#.0000",dataIndx:"A",sortable:!1,width:100},{title:"\u306d\u3058\u308a\u5b9a\u6570",dataType:"float",format:"#.0000",dataIndx:"J",sortable:!1,width:100},{title:"\u65ad\u9762\u4e8c\u6b21Iy",dataType:"float",format:"#.000000",dataIndx:"Iy",sortable:!1,width:100},{title:"\u65ad\u9762\u4e8c\u6b21Iz",dataType:"float",format:"#.000000",dataIndx:"Iz",sortable:!1,width:100}],this.ROWS_COUNT=15,this.page=1,this.options={showTop:!1,reactive:!0,sortable:!1,locale:"jp",height:this.tableHeight(),numberCell:{show:!0,width:45},colModel:this.columnHeaders,animModel:{on:!0},dataModel:{data:this.dataset},beforeTableView:function(t,e){var n=o.dataset.length;null!=e.initV&&e.finalV>=n-1&&(o.loadPage(o.page,n+o.ROWS_COUNT),o.grid.refreshDataAndView())},selectEnd:function(t,e){o.three.selectChange("elements",e.selection.iCells.ranges[0].r1+1)},change:function(t,e){o.three.changeData("elements",o.page)}}}return _createClass(t,[{key:"ngOnInit",value:function(){this.ROWS_COUNT=this.rowsCount(),this.loadPage(1,this.ROWS_COUNT),this.three.ChangeMode("elements"),this.three.ChangePage(1)}},{key:"onReceiveEventFromChild",value:function(t){this.dataset.splice(0),this.loadPage(t,this.ROWS_COUNT),this.grid.refreshDataAndView(),this.three.ChangePage(t)}},{key:"loadPage",value:function(t,e){for(var n=this.dataset.length+1;n<=e;n++){var i=this.data.getElementColumns(t,n);this.dataset.push(i)}this.page=t}},{key:"tableHeight",value:function(){return(this.app.getDialogHeight()-70).toString()}},{key:"rowsCount",value:function(){var t=this.app.getDialogHeight();return Math.round(t/30)}}]),t}()).\u0275fac=function(t){return new(t||mQ)(i.Mb(pO),i.Mb(Yp.a),i.Mb(bW),i.Mb(RW))},mQ.\u0275cmp=i.Gb({type:mQ,selectors:[["app-input-elements"]],viewQuery:function(t,e){var n;1&t&&i.Ec(AQ,!0),2&t&&i.oc(n=i.cc())&&(e.grid=n.first)},decls:4,vars:1,consts:[[1,"datasheet_inner"],[3,"event"],[3,"options"],["grid",""]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"app-pager",1),i.bc("event",function(t){return e.onReceiveEventFromChild(t)}),i.Qb(),i.Nb(2,"app-sheet",2,3),i.Qb()),2&t&&(i.Ab(2),i.ic("options",e.options))},directives:[OQ,qW],styles:[".datasheet_inner[_ngcontent-%COMP%]{width:820px}","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),mQ),SQ=((gQ=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||gQ)},gQ.\u0275cmp=i.Gb({type:gQ,selectors:[["app-input-panel"]],decls:2,vars:0,consts:[[1,"datasheet_inner"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Ac(1," \u92ed\u610f\u5236\u4f5c\u4e2d\n"),i.Qb())},styles:[".datasheet_inner[_ngcontent-%COMP%]{width:350px}"]}),gQ),EQ=["grid"],IQ=((vQ=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this.data=e,this.helper=n,this.app=i,this.three=r,this.dataset=[],this.columnHeaders=[{title:"\u90e8\u6750No",dataType:"string",dataIndx:"m",sortable:!1},{title:"xi",dataType:"integer",dataIndx:"xi",sortable:!1},{title:"yi",dataType:"integer",dataIndx:"yi",sortable:!1},{title:"zi",dataType:"integer",dataIndx:"zi",sortable:!1},{title:"xj",dataType:"integer",dataIndx:"xj",sortable:!1},{title:"yj",dataType:"integer",dataIndx:"yj",sortable:!1},{title:"zj",dataType:"integer",dataIndx:"zj",sortable:!1}],this.ROWS_COUNT=15,this.page=1,this.options={showTop:!1,reactive:!0,sortable:!1,locale:"jp",height:this.tableHeight(),numberCell:{show:!1},colModel:this.columnHeaders,animModel:{on:!0},dataModel:{data:this.dataset},beforeTableView:function(t,e){var n=o.dataset.length;null!=e.initV&&e.finalV>=n-1&&(o.loadPage(o.page,n+o.ROWS_COUNT),o.grid.refreshDataAndView())},selectEnd:function(t,e){o.three.selectChange("joints",e.selection.iCells.ranges[0].r1+1)},change:function(t,e){o.three.changeData("joints",o.page)}}}return _createClass(t,[{key:"ngOnInit",value:function(){this.ROWS_COUNT=this.rowsCount(),this.loadPage(1,this.ROWS_COUNT),this.three.ChangeMode("joints"),this.three.ChangePage(1)}},{key:"onReceiveEventFromChild",value:function(t){this.dataset.splice(0),this.loadPage(t,this.ROWS_COUNT),this.grid.refreshDataAndView(),this.three.ChangePage(t)}},{key:"loadPage",value:function(t,e){for(var n=this.dataset.length+1;n<=e;n++){var i=this.data.getJointColumns(t,n);this.dataset.push(i)}this.page=t}},{key:"tableHeight",value:function(){return(this.app.getDialogHeight()-70).toString()}},{key:"rowsCount",value:function(){var t=this.app.getDialogHeight();return Math.round(t/30)}}]),t}()).\u0275fac=function(t){return new(t||vQ)(i.Mb(mO),i.Mb(Yp.a),i.Mb(bW),i.Mb(RW))},vQ.\u0275cmp=i.Gb({type:vQ,selectors:[["app-input-joint"]],viewQuery:function(t,e){var n;1&t&&i.Ec(EQ,!0),2&t&&i.oc(n=i.cc())&&(e.grid=n.first)},decls:4,vars:1,consts:[[1,"datasheet_inner"],[3,"event"],[3,"options"],["grid",""]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"app-pager",1),i.bc("event",function(t){return e.onReceiveEventFromChild(t)}),i.Qb(),i.Nb(2,"app-sheet",2,3),i.Qb()),2&t&&(i.Ab(2),i.ic("options",e.options))},directives:[OQ,qW],styles:[".datasheet_inner[_ngcontent-%COMP%]{width:400px}","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),vQ),RQ=["grid"],DQ=((bQ=function(){function t(e,n,i,r,o){var a=this;_classCallCheck(this,t),this.data=e,this.member=n,this.helper=i,this.app=r,this.three=o,this.dataset=[],this.columnHeaders=[{title:"\u90e8\u6750No",dataType:"string",dataIndx:"m",sortable:!1,minwidth:10,width:10},{title:"\u90e8\u6750\u9577",dataType:"float",format:"#.000",dataIndx:"len",sortable:!1,width:80,editable:!1,style:{background:"#dae6f0"}}],this.ROWS_COUNT=15,this.options={showTop:!1,reactive:!0,sortable:!1,scrollModel:{horizontal:!0},locale:"jp",height:this.tableHeight(),numberCell:{show:!1},colModel:this.columnHeaders,animModel:{on:!0},dataModel:{data:this.dataset},beforeTableView:function(t,e){var n=a.dataset.length;null!=e.initV&&e.finalV>=n-1&&(a.loadData(n+a.ROWS_COUNT),a.grid.refreshDataAndView())},selectEnd:function(t,e){a.three.selectChange("notice-points",e.selection.iCells.ranges[0].r1+1)},change:function(t,e){var n,i=_createForOfIteratorHelper(e.updateList);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.rowIndx;if("m"in r.newRow){var s=r.newRow.m;if(null===s)a.dataset[o].len=null;else{var c=a.member.getMemberLength(s);a.dataset[o].len=null!=c?c:null}a.grid.refreshDataAndView()}}}catch(l){i.e(l)}finally{i.f()}a.three.changeData("notice-points")}};for(var s=1;s<=this.data.NOTICE_POINTS_COUNT;s++){var c="L"+s;this.columnHeaders.push({title:c,dataType:"float",format:"#.000",dataIndx:c,sortable:!1,width:80})}}return _createClass(t,[{key:"ngOnInit",value:function(){this.ROWS_COUNT=this.rowsCount(),this.three.ChangeMode("notice_points")}},{key:"loadData",value:function(t){for(var e=this.dataset.length+1;e<=t;e++){var n=this.data.getNoticePointsColumns(e),i=n.m;if(""!==i){var r=this.member.getMemberLength(i);n.len=null!=r?r.toFixed(3):""}this.dataset.push(n)}}},{key:"tableHeight",value:function(){return this.app.getDialogHeight().toString()}},{key:"rowsCount",value:function(){var t=this.app.getDialogHeight();return Math.round(t/30)}}]),t}()).\u0275fac=function(t){return new(t||bQ)(i.Mb(vO.a),i.Mb($p.a),i.Mb(Yp.a),i.Mb(bW),i.Mb(RW))},bQ.\u0275cmp=i.Gb({type:bQ,selectors:[["app-input-notice-points"]],viewQuery:function(t,e){var n;1&t&&i.Ec(RQ,!0),2&t&&i.oc(n=i.cc())&&(e.grid=n.first)},decls:3,vars:1,consts:[[1,"datasheet_inner"],[3,"options"],["grid",""]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Nb(1,"app-sheet",1,2),i.Qb()),2&t&&(i.Ab(1),i.ic("options",e.options))},directives:[qW],styles:[".datasheet_inner[_ngcontent-%COMP%]{width:720px}","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),bQ),NQ=["grid"],LQ=((_Q=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this.data=e,this.helper=n,this.app=i,this.three=r,this.dataset=[],this.columnHeaders=[{title:"\u90e8\u6750No",dataType:"string",dataIndx:"m",sortable:!1,width:30},{title:"X\u5909\u4f4d\u62d8\u675f",dataType:"float",dataIndx:"tx",sortable:!1,width:100},{title:"Y\u5909\u4f4d\u62d8\u675f",dataType:"float",dataIndx:"ty",sortable:!1,width:100},{title:"Z\u5909\u4f4d\u62d8\u675f",dataType:"float",dataIndx:"tz",sortable:!1,width:100},{title:"\u56de\u8ee2\u62d8\u675f",dataType:"float",dataIndx:"tr",sortable:!1,width:100}],this.ROWS_COUNT=15,this.page=1,this.options={showTop:!1,reactive:!0,sortable:!1,locale:"jp",height:this.tableHeight(),numberCell:{show:!1},colModel:this.columnHeaders,animModel:{on:!0},dataModel:{data:this.dataset},beforeTableView:function(t,e){var n=o.dataset.length;null!=e.initV&&e.finalV>=n-1&&(o.loadPage(o.page,n+o.ROWS_COUNT),o.grid.refreshDataAndView())},selectEnd:function(t,e){o.three.selectChange("fix_member",e.selection.iCells.ranges[0].r1+1)},change:function(t,e){o.three.changeData("fix_member",o.page)}}}return _createClass(t,[{key:"ngOnInit",value:function(){this.ROWS_COUNT=this.rowsCount(),this.loadPage(1,this.ROWS_COUNT),this.three.ChangeMode("fix_member"),this.three.ChangePage(1)}},{key:"onReceiveEventFromChild",value:function(t){this.dataset.splice(0),this.loadPage(t,this.ROWS_COUNT),this.grid.refreshDataAndView(),this.three.ChangePage(t)}},{key:"loadPage",value:function(t,e){for(var n=this.dataset.length+1;n<=e;n++){var i=this.data.getFixMemberColumns(t,n);this.dataset.push(i)}this.page=t}},{key:"tableHeight",value:function(){return(this.app.getDialogHeight()-70).toString()}},{key:"rowsCount",value:function(){var t=this.app.getDialogHeight();return Math.round(t/30)}}]),t}()).\u0275fac=function(t){return new(t||_Q)(i.Mb(fO),i.Mb(Yp.a),i.Mb(bW),i.Mb(RW))},_Q.\u0275cmp=i.Gb({type:_Q,selectors:[["app-input-fix-member"]],viewQuery:function(t,e){var n;1&t&&i.Ec(NQ,!0),2&t&&i.oc(n=i.cc())&&(e.grid=n.first)},decls:4,vars:1,consts:[[1,"datasheet_inner"],[3,"event"],[3,"options"],["grid",""]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"app-pager",1),i.bc("event",function(t){return e.onReceiveEventFromChild(t)}),i.Qb(),i.Nb(2,"app-sheet",2,3),i.Qb()),2&t&&(i.Ab(2),i.ic("options",e.options))},directives:[OQ,qW],styles:[".datasheet_inner[_ngcontent-%COMP%]{width:500px}","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),_Q),zQ=["grid"],jQ=((yQ=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this.data=e,this.three=n,this.app=i,this.helper=r,this.dataset=[],this.columnHeaders=[{title:"\u5272\u5897\u3057\u4fc2\u6570",dataType:"float",format:"#.000",dataIndx:"rate",sortable:!1,width:100,align:"right"},{title:"\u8a18\u53f7",dataType:"string",dataIndx:"symbol",sortable:!1,width:80,align:"left"},{title:"\u540d\u79f0",dataType:"string",dataIndx:"name",sortable:!1,width:300,align:"left"},{title:"\u652f\u70b9",dataType:"integer",dataIndx:"fix_node",sortable:!1,width:30,align:"right"},{title:"\u30d0\u30cd",dataType:"integer",dataIndx:"fix_member",sortable:!1,width:30,align:"right"},{title:"\u65ad\u9762",dataType:"integer",dataIndx:"element",sortable:!1,width:30,align:"right"},{title:"\u7d50\u5408",dataType:"integer",dataIndx:"joint",sortable:!1,width:30,align:"right"}],this.ROWS_COUNT=15,this.options={showTop:!1,reactive:!0,sortable:!1,locale:"jp",height:this.tableHeight(),numberCell:{show:!0,width:45},colModel:this.columnHeaders,animModel:{on:!0},dataModel:{data:this.dataset},beforeTableView:function(t,e){var n=o.dataset.length;null!=e.initV&&e.finalV>=n-1&&(o.loadData(n+o.ROWS_COUNT),o.grid.refreshDataAndView())},selectEnd:function(t,e){o.three.ChangePage(e.selection.iCells.ranges[0].r1+1)},change:function(t,e){o.three.changeData("load_names",e.updateList[0].rowIndx)}},this.loadData(this.ROWS_COUNT)}return _createClass(t,[{key:"ngOnInit",value:function(){this.ROWS_COUNT=this.rowsCount(),this.three.ChangeMode("load_names"),this.three.ChangePage(1)}},{key:"loadData",value:function(t){for(var e=this.dataset.length+1;e<=t;e++){var n=this.data.getLoadNameColumns(e);this.dataset.push(n)}}},{key:"tableHeight",value:function(){return this.app.getDialogHeight().toString()}},{key:"rowsCount",value:function(){var t=this.app.getDialogHeight();return Math.round(t/30)}}]),t}()).\u0275fac=function(t){return new(t||yQ)(i.Mb(Jp),i.Mb(RW),i.Mb(bW),i.Mb(Yp.a))},yQ.\u0275cmp=i.Gb({type:yQ,selectors:[["app-input-load-name"]],viewQuery:function(t,e){var n;1&t&&i.Ec(zQ,!0),2&t&&i.oc(n=i.cc())&&(e.grid=n.first)},decls:9,vars:1,consts:[[1,"datasheet_inner"],[1,"btn-group"],["routerLink","/input-load-name","routerLinkActive","selected-item",1,"btn-change","active"],["routerLink","/input-loads","routerLinkActive","selected-item",1,"btn-change"],[3,"options"],["grid",""]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"nav"),i.Rb(3,"a",2),i.Ac(4,"\u8377\u91cd\u540d\u79f0"),i.Qb(),i.Rb(5,"a",3),i.Ac(6,"\u8377\u91cd\u5f37\u5ea6"),i.Qb(),i.Qb(),i.Qb(),i.Nb(7,"app-sheet",4,5),i.Qb()),2&t&&(i.Ab(7),i.ic("options",e.options))},directives:[gp,Cp,qW],styles:[".datasheet_inner[_ngcontent-%COMP%]{width:780px;margin-top:16px}.btn-group[_ngcontent-%COMP%]{width:780px;padding:0 16px;margin-right:auto}","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),yQ),FQ=["grid"],qQ=((CQ=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this.data=e,this.helper=n,this.app=i,this.three=r,this.dataset=[],this.columnHeaders=[{title:"\u90e8\u67501",dataType:"string",dataIndx:"m1",sortable:!1,width:30},{title:"\u90e8\u67502",dataType:"string",dataIndx:"m2",sortable:!1,width:30},{title:"\u65b9\u5411",dataType:"string",dataIndx:"direction",sortable:!1,width:30},{title:"\u30de\u30fc\u30af",dataType:"integer",dataIndx:"mark",sortable:!1,width:60},{title:"L1",dataType:"float",format:"#.000",dataIndx:"L1",sortable:!1,width:70},{title:"L2",dataType:"float",format:"#.000",dataIndx:"L2",sortable:!1,width:70},{title:"P1",dataType:"float",format:"#.00",dataIndx:"P1",sortable:!1,width:70},{title:"P2",dataType:"float",format:"#.00",dataIndx:"P2",sortable:!1,width:70},{title:"\u7bc0\u70b9No",dataType:"string",dataIndx:"n",sortable:!1,width:30},{title:"X",dataType:"float",format:"#.00",dataIndx:"tx",sortable:!1,width:70},{title:"Y",dataType:"float",format:"#.00",dataIndx:"ty",sortable:!1,width:70},{title:"Z",dataType:"float",format:"#.00",dataIndx:"tz",sortable:!1,width:70},{title:"RX",dataType:"float",format:"#.00",dataIndx:"rx",sortable:!1,width:70},{title:"RY",dataType:"float",format:"#.00",dataIndx:"ry",sortable:!1,width:70},{title:"RZ",dataType:"float",format:"#.00",dataIndx:"rz",sortable:!1,width:70}],this.ROWS_COUNT=15,this.page=1,this.options={showTop:!1,reactive:!0,sortable:!1,locale:"jp",height:this.tableHeight(),numberCell:{show:!1},colModel:this.columnHeaders,animModel:{on:!0},dataModel:{data:this.dataset},beforeTableView:function(t,e){var n=o.dataset.length;null!=e.initV&&e.finalV>=n-1&&(o.loadPage(o.page,n+o.ROWS_COUNT),o.grid.refreshDataAndView())},selectEnd:function(t,e){o.three.selectChange("load_values",e.selection.iCells.ranges[0].r1+1)},change:function(t,e){var n,i=_createForOfIteratorHelper(e.updateList);try{for(i.s();!(n=i.n()).done;){var r=n.value;o.three.changeData("load_values",r.rowIndx+1)}}catch(a){i.e(a)}finally{i.f()}}}}return _createClass(t,[{key:"ngOnInit",value:function(){this.ROWS_COUNT=this.rowsCount(),this.loadPage(1,this.ROWS_COUNT);var t=this.data.getLoadNameColumns(1);this.load_name=t.name,this.three.ChangeMode("load_values"),this.three.ChangePage(1)}},{key:"onReceiveEventFromChild",value:function(t){this.dataset.splice(0),this.loadPage(t,this.ROWS_COUNT),this.grid.refreshDataAndView();var e=this.data.getLoadNameColumns(t);this.load_name=e.name,this.three.ChangePage(t)}},{key:"loadPage",value:function(t,e){for(var n=this.dataset.length+1;n<=e;n++){var i=this.data.getLoadColumns(t,n);this.dataset.push(i)}this.page=t}},{key:"tableHeight",value:function(){return(this.app.getDialogHeight()-70).toString()}},{key:"rowsCount",value:function(){var t=this.app.getDialogHeight();return Math.round(t/30)}}]),t}()).\u0275fac=function(t){return new(t||CQ)(i.Mb(Jp),i.Mb(Yp.a),i.Mb(bW),i.Mb(RW))},CQ.\u0275cmp=i.Gb({type:CQ,selectors:[["app-input-load"]],viewQuery:function(t,e){var n;1&t&&i.Ec(FQ,!0),2&t&&i.oc(n=i.cc())&&(e.grid=n.first)},decls:13,vars:2,consts:[[1,"datasheet_inner"],[1,"btn-group"],["routerLink","/input-load-name","routerLinkActive","selected-item",1,"btn-change"],["routerLink","/input-loads","routerLinkActive","selected-item",1,"btn-change","active"],[1,"pager"],[3,"event"],[1,"load-name"],[3,"options"],["grid",""]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"nav"),i.Rb(3,"a",2),i.Ac(4,"\u8377\u91cd\u540d\u79f0"),i.Qb(),i.Rb(5,"a",3),i.Ac(6,"\u8377\u91cd\u5f37\u5ea6"),i.Qb(),i.Qb(),i.Qb(),i.Rb(7,"div",4),i.Rb(8,"app-pager",5),i.bc("event",function(t){return e.onReceiveEventFromChild(t)}),i.Qb(),i.Rb(9,"p",6),i.Ac(10),i.Qb(),i.Qb(),i.Nb(11,"app-sheet",7,8),i.Qb()),2&t&&(i.Ab(10),i.Bc(e.load_name),i.Ab(1),i.ic("options",e.options))},directives:[gp,Cp,OQ,qW],styles:[".datasheet_inner[_ngcontent-%COMP%]{width:1000px;margin-top:20px}.btn-group[_ngcontent-%COMP%]{display:flex;width:1000px;padding:0 16px;margin-right:auto}.pager[_ngcontent-%COMP%]{margin-left:.5px;margin-right:.5px}.pager[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px}","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),CQ),BQ=["grid"],UQ=((xQ=function(){function t(e,n,i,r,o){var a=this;_classCallCheck(this,t),this.data=e,this.load=n,this.result=i,this.helper=r,this.app=o,this.dataset=[],this.columnHeaders=[],this.ROWS_COUNT=15,this.COLUMNS_COUNT=5,this.options={showTop:!1,reactive:!0,sortable:!1,scrollModel:{horizontal:!0},locale:"jp",height:this.tableHeight(),numberCell:{show:!0,width:45},colModel:this.columnHeaders,animModel:{on:!0},dataModel:{data:this.dataset},beforeTableView:function(t,e){var n=a.dataset.length;null!=e.initV&&e.finalV>=n-1&&(a.loadData(n+a.ROWS_COUNT),a.grid.refreshDataAndView())}},this.COLUMNS_COUNT=2*this.load.getLoadCaseCount()+1,this.COLUMNS_COUNT<=10&&(this.COLUMNS_COUNT=10);for(var s=1;s<=this.COLUMNS_COUNT;s++){var c="C"+s;this.columnHeaders.push({title:c,dataType:"integer",dataIndx:c,sortable:!1,width:30})}}return _createClass(t,[{key:"ngOnInit",value:function(){this.ROWS_COUNT=this.rowsCount()}},{key:"loadData",value:function(t){for(var e=this.dataset.length+1;e<=t;e++){var n=this.data.getDefineDataColumns(e,this.COLUMNS_COUNT);this.dataset.push(n)}}},{key:"tableHeight",value:function(){return this.app.getDialogHeight().toString()}},{key:"rowsCount",value:function(){var t=this.app.getDialogHeight();return Math.round(t/30)}}]),t}()).\u0275fac=function(t){return new(t||xQ)(i.Mb(Xp),i.Mb(Jp),i.Mb(hO),i.Mb(Yp.a),i.Mb(bW))},xQ.\u0275cmp=i.Gb({type:xQ,selectors:[["app-input-define"]],viewQuery:function(t,e){var n;1&t&&i.Ec(BQ,!0),2&t&&i.oc(n=i.cc())&&(e.grid=n.first)},decls:11,vars:1,consts:[[1,"datasheet_inner"],[1,"btn-group"],["routerLink","/input-define","routerLinkActive","selected-item",1,"btn-change","active"],["routerLink","/input-combine","routerLinkActive","selected-item",1,"btn-change"],["routerLink","/input-pickup","routerLinkActive","selected-item",1,"btn-change"],[3,"options"],["grid",""]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"nav"),i.Rb(3,"a",2),i.Ac(4,"DEFINE"),i.Qb(),i.Rb(5,"a",3),i.Ac(6,"COMBINE"),i.Qb(),i.Rb(7,"a",4),i.Ac(8,"PICKUP"),i.Qb(),i.Qb(),i.Qb(),i.Nb(9,"app-sheet",5,6),i.Qb()),2&t&&(i.Ab(9),i.ic("options",e.options))},directives:[gp,Cp,qW],styles:[".datasheet_inner[_ngcontent-%COMP%]{width:580px;margin-top:16px}.btn-group[_ngcontent-%COMP%]{display:flex;width:580px;padding:0 16px;margin-right:auto}","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),xQ),HQ=["grid"],VQ=((wQ=function(){function t(e,n,i,r,o,a){var s=this;_classCallCheck(this,t),this.data=e,this.define=n,this.load=i,this.result=r,this.helper=o,this.app=a,this.dataset=[],this.columnHeaders=[],this.ROWS_COUNT=15,this.COLUMNS_COUNT=5,this.options={showTop:!1,reactive:!0,sortable:!1,scrollModel:{horizontal:!0},locale:"jp",height:this.tableHeight(),numberCell:{show:!0,width:45},colModel:this.columnHeaders,animModel:{on:!0},dataModel:{data:this.dataset},beforeTableView:function(t,e){var n=s.dataset.length;null!=e.initV&&e.finalV>=n-1&&(s.loadData(n+s.ROWS_COUNT),s.grid.refreshDataAndView())}};var c="D";this.COLUMNS_COUNT=this.define.getDefineCaseCount(),this.COLUMNS_COUNT<=0&&(this.COLUMNS_COUNT=this.load.getLoadCaseCount(),c="C"),this.COLUMNS_COUNT<=5&&(this.COLUMNS_COUNT=5);for(var l=1;l<=this.COLUMNS_COUNT;l++)this.columnHeaders.push({title:c+l,dataType:"float",format:"#.000",dataIndx:"C"+l,sortable:!1,width:30});this.columnHeaders.push({title:"\u540d\u79f0\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000",dataType:"string",dataIndx:"name",sortable:!1,width:250})}return _createClass(t,[{key:"ngOnInit",value:function(){this.ROWS_COUNT=this.rowsCount()}},{key:"loadData",value:function(t){for(var e=this.dataset.length+1;e<=t;e++){var n=this.data.getCombineDataColumns(e,this.COLUMNS_COUNT);this.dataset.push(n)}}},{key:"tableHeight",value:function(){return this.app.getDialogHeight().toString()}},{key:"rowsCount",value:function(){var t=this.app.getDialogHeight();return Math.round(t/30)}}]),t}()).\u0275fac=function(t){return new(t||wQ)(i.Mb(Kp),i.Mb(Xp),i.Mb(Jp),i.Mb(hO),i.Mb(Yp.a),i.Mb(bW))},wQ.\u0275cmp=i.Gb({type:wQ,selectors:[["app-input-combine"]],viewQuery:function(t,e){var n;1&t&&i.Ec(HQ,!0),2&t&&i.oc(n=i.cc())&&(e.grid=n.first)},decls:11,vars:1,consts:[[1,"datasheet_inner"],[1,"btn-group"],["routerLink","/input-define",1,"btn-change"],["routerLink","/input-combine",1,"btn-change","active"],["routerLink","/input-pickup",1,"btn-change"],[3,"options"],["grid",""]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"nav"),i.Rb(3,"a",2),i.Ac(4,"DEFINE"),i.Qb(),i.Rb(5,"a",3),i.Ac(6,"COMBINE"),i.Qb(),i.Rb(7,"a",4),i.Ac(8,"PICKUP"),i.Qb(),i.Qb(),i.Qb(),i.Nb(9,"app-sheet",5,6),i.Qb()),2&t&&(i.Ab(9),i.ic("options",e.options))},directives:[gp,qW],styles:[".datasheet_inner[_ngcontent-%COMP%]{width:580px;margin-top:16px}.btn-group[_ngcontent-%COMP%]{display:flex;width:580px;padding:0 16px;margin-right:auto}","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),wQ),WQ=["grid"],GQ=((MQ=function(){function t(e,n,i,r,o,a){var s=this;_classCallCheck(this,t),this.data=e,this.load=n,this.comb=i,this.result=r,this.helper=o,this.app=a,this.dataset=[],this.columnHeaders=[],this.ROWS_COUNT=15,this.COLUMNS_COUNT=5,this.options={showTop:!1,reactive:!0,sortable:!1,scrollModel:{horizontal:!0},locale:"jp",height:this.tableHeight(),numberCell:{show:!0,width:45},colModel:this.columnHeaders,animModel:{on:!0},dataModel:{data:this.dataset},beforeTableView:function(t,e){var n=s.dataset.length;null!=e.initV&&e.finalV>=n-1&&(s.loadData(n+s.ROWS_COUNT),s.grid.refreshDataAndView())}},this.COLUMNS_COUNT=this.comb.getCombineCaseCount(),this.COLUMNS_COUNT<=0&&(this.COLUMNS_COUNT=this.load.getLoadCaseCount()),this.COLUMNS_COUNT<=5&&(this.COLUMNS_COUNT=5);for(var c=1;c<=this.COLUMNS_COUNT;c++){var l="C"+c;this.columnHeaders.push({title:l,dataType:"integer",dataIndx:l,sortable:!1,width:30})}this.columnHeaders.push({title:"\u540d\u79f0\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000",dataType:"string",dataIndx:"name",sortable:!1,width:250})}return _createClass(t,[{key:"ngOnInit",value:function(){this.ROWS_COUNT=this.rowsCount()}},{key:"loadData",value:function(t){for(var e=this.dataset.length+1;e<=t;e++){var n=this.data.getPickUpDataColumns(e,this.COLUMNS_COUNT+1);this.dataset.push(n)}}},{key:"tableHeight",value:function(){return this.app.getDialogHeight().toString()}},{key:"rowsCount",value:function(){var t=this.app.getDialogHeight();return Math.round(t/30)}}]),t}()).\u0275fac=function(t){return new(t||MQ)(i.Mb(Zp),i.Mb(Jp),i.Mb(Kp),i.Mb(hO),i.Mb(Yp.a),i.Mb(bW))},MQ.\u0275cmp=i.Gb({type:MQ,selectors:[["app-input-pickup"]],viewQuery:function(t,e){var n;1&t&&i.Ec(WQ,!0),2&t&&i.oc(n=i.cc())&&(e.grid=n.first)},decls:11,vars:1,consts:[[1,"datasheet_inner"],[1,"btn-group"],["routerLink","/input-define","routerLinkActive","selected-item",1,"btn-change"],["routerLink","/input-combine","routerLinkActive","selected-item",1,"btn-change"],["routerLink","/input-pickup","routerLinkActive","selected-item",1,"btn-change","active"],[3,"options"],["grid",""]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"nav"),i.Rb(3,"a",2),i.Ac(4,"DEFINE"),i.Qb(),i.Rb(5,"a",3),i.Ac(6,"COMBINE"),i.Qb(),i.Rb(7,"a",4),i.Ac(8,"PICKUP"),i.Qb(),i.Qb(),i.Qb(),i.Nb(9,"app-sheet",5,6),i.Qb()),2&t&&(i.Ab(9),i.ic("options",e.options))},directives:[gp,Cp,qW],styles:[".datasheet_inner[_ngcontent-%COMP%]{width:580px;margin-top:16px}.btn-group[_ngcontent-%COMP%]{display:flex;width:580px;padding:0 16px;margin-right:auto}","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),MQ);function QQ(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",8),i.Ac(2),i.Qb(),i.Rb(3,"td",9),i.Ac(4),i.Qb(),i.Rb(5,"td",9),i.Ac(6),i.Qb(),i.Rb(7,"td",9),i.Ac(8),i.Qb(),i.Rb(9,"td",9),i.Ac(10),i.Qb(),i.Rb(11,"td",9),i.Ac(12),i.Qb(),i.Rb(13,"td",9),i.Ac(14),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n.id),i.Ab(2),i.Bc(n.dx),i.Ab(2),i.Bc(n.dy),i.Ab(2),i.Bc(n.dz),i.Ab(2),i.Bc(n.rx),i.Ab(2),i.Bc(n.ry),i.Ab(2),i.Bc(n.rz)}}var YQ,KQ=((YQ=function(){function t(e,n,i,r,o,a,s){_classCallCheck(this,t),this.data=e,this.app=n,this.load=i,this.three=r,this.result=o,this.comb=a,this.pic=s,this.dataset=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this.load.getLoadCaseCount();this.collectionSize=10*t,this.loadPage(1),this.btnCombine=!1===this.comb.isChange?"btn-change":"btn-change disabled",this.btnPickup=!1===this.pic.isChange?"btn-change":"btn-change disabled"}},{key:"onReceiveEventFromChild",value:function(t){this.dataset.splice(0),this.loadPage(t)}},{key:"loadPage",value:function(t){t!==this.page&&(this.page=t),this.dataset=this.data.getDisgColumns(this.page),this.load_name=this.load.getLoadName(t),this.three.ChangeMode("disg"),this.three.ChangePage(t)}}]),t}()).\u0275fac=function(t){return new(t||YQ)(i.Mb(tf.a),i.Mb(bW),i.Mb(Jp),i.Mb(RW),i.Mb(hO),i.Mb(rf.a),i.Mb(sf.a))},YQ.\u0275cmp=i.Gb({type:YQ,selectors:[["app-result-disg"]],decls:44,vars:2,consts:[[1,"btn-group"],["routerLink","/result-disg","routerLinkActive","selected-item",1,"btn-change","active"],["routerLink","/result-comb_disg","routerLinkActive","selected-item",1,"btn-change"],["routerLink","/result-pic_disg","routerLinkActive","selected-item",1,"btn-change"],[1,"pager"],[3,"event"],[1,"load-name"],[1,"result_table"],[1,"result-sm"],[1,"result-lg"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"nav"),i.Rb(2,"a",1),i.Ac(3,"\u57fa\u672c\u30b1\u30fc\u30b9"),i.Qb(),i.Rb(4,"a",2),i.Ac(5,"COMBINE"),i.Qb(),i.Rb(6,"a",3),i.Ac(7,"PICKUP"),i.Qb(),i.Qb(),i.Qb(),i.Rb(8,"div",4),i.Rb(9,"app-pager",5),i.bc("event",function(t){return e.onReceiveEventFromChild(t)}),i.Qb(),i.Rb(10,"p",6),i.Ac(11),i.Qb(),i.Qb(),i.Rb(12,"div",7),i.Rb(13,"table"),i.Rb(14,"thead"),i.Rb(15,"tr"),i.Rb(16,"th",8),i.Ac(17,"No"),i.Qb(),i.Rb(18,"th",9),i.Ac(19,"x\u65b9\u5411\u306e"),i.Nb(20,"br"),i.Ac(21,"\u79fb\u52d5\u91cf"),i.Qb(),i.Rb(22,"th",9),i.Ac(23,"y\u65b9\u5411\u306e"),i.Nb(24,"br"),i.Ac(25,"\u79fb\u52d5\u91cf"),i.Qb(),i.Rb(26,"th",9),i.Ac(27,"z\u65b9\u5411\u306e"),i.Nb(28,"br"),i.Ac(29,"\u79fb\u52d5\u91cf"),i.Qb(),i.Rb(30,"th",9),i.Ac(31,"x\u8ef8\u56de\u308a\u306e"),i.Nb(32,"br"),i.Ac(33,"\u56de\u8ee2\u91cf"),i.Qb(),i.Rb(34,"th",9),i.Ac(35,"y\u8ef8\u56de\u308a\u306e"),i.Nb(36,"br"),i.Ac(37,"\u56de\u8ee2\u91cf"),i.Qb(),i.Rb(38,"th",9),i.Ac(39,"z\u8ef8\u56de\u308a\u306e"),i.Nb(40,"br"),i.Ac(41,"\u56de\u8ee2\u91cf"),i.Qb(),i.Qb(),i.Qb(),i.Rb(42,"tbody"),i.yc(43,QQ,15,7,"tr",10),i.Qb(),i.Qb(),i.Qb()),2&t&&(i.Ab(11),i.Bc(e.load_name),i.Ab(32),i.ic("ngForOf",e.dataset))},directives:[gp,Cp,OQ,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",".conbine-title[_ngcontent-%COMP%]{margin-top:32px}.conbine-title.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]{padding:0 16px 16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{word-break:break-all;width:100%;margin-top:16px;border-collapse:collapse;border-spacing:0}.result_table[_ngcontent-%COMP%]   table.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{table-layout:fixed;border:.5px solid #83abcd;padding:0;line-height:16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;text-align:right;padding:4px;word-break:break-all}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#333;text-align:center;padding:4px 3px;vertical-align:middle}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:left}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;max-height:250px;display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#ebf6f7;border-radius:3px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .result_detail[_ngcontent-%COMP%]:nth-child(odd)   .buzai[_ngcontent-%COMP%]{display:none}.result_table[_ngcontent-%COMP%]   .result-sm[_ngcontent-%COMP%]{width:62px;min-width:62px}.result_table[_ngcontent-%COMP%]   .result-lg[_ngcontent-%COMP%]{width:100px;min-width:100px}.acd-check[_ngcontent-%COMP%]{display:none}.acd-label[_ngcontent-%COMP%]{background:#fff;color:#333;display:block;margin-bottom:1px;padding:10px;border-bottom:2px solid #f5f5f5;position:relative}.acd-label[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.acd-label[_ngcontent-%COMP%]:after{background:grey;box-sizing:border-box;display:block;font-family:Font Awesome\\ 5 Free;height:50px;padding:10px 20px;position:absolute;right:0;top:0}.acd-content[_ngcontent-%COMP%]{border:1px solid #333;display:block;height:0;opacity:0;padding:0 10px;transition:.5s;visibility:hidden}.acd-check[_ngcontent-%COMP%]:checked + .acd-label[_ngcontent-%COMP%] + .acd-content[_ngcontent-%COMP%]{height:auto;opacity:1;padding:16px 8px;visibility:visible}.fa-sort-down[_ngcontent-%COMP%]{float:right;font-size:20px}.btn-group[_ngcontent-%COMP%]{display:flex;padding:0 16px;margin-right:auto;margin-top:16px!important}.btn-group[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]{margin-left:.5px;margin-right:.5px}.pager[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]   .load-name[_ngcontent-%COMP%]{margin-top:16px}.datasheet[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;padding-bottom:10px;z-index:1}"]}),YQ);function XQ(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",8),i.Ac(2),i.Qb(),i.Rb(3,"td",9),i.Ac(4),i.Qb(),i.Rb(5,"td",9),i.Ac(6),i.Qb(),i.Rb(7,"td",9),i.Ac(8),i.Qb(),i.Rb(9,"td",9),i.Ac(10),i.Qb(),i.Rb(11,"td",9),i.Ac(12),i.Qb(),i.Rb(13,"td",9),i.Ac(14),i.Qb(),i.Rb(15,"td",9),i.Ac(16),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n.id),i.Ab(2),i.Bc(n.tx),i.Ab(2),i.Bc(n.ty),i.Ab(2),i.Bc(n.tz),i.Ab(2),i.Bc(n.mx),i.Ab(2),i.Bc(n.my),i.Ab(2),i.Bc(n.mz),i.Ab(2),i.Bc(n.case)}}var $Q,JQ=(($Q=function(){function t(e,n,i,r,o,a,s){_classCallCheck(this,t),this.data=e,this.app=n,this.load=i,this.three=r,this.result=o,this.comb=a,this.pic=s,this.dataset=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this.load.getLoadCaseCount();this.collectionSize=10*t,this.loadPage(1),this.btnCombine=!1===this.comb.isChange?"btn-change":"btn-change disabled",this.btnPickup=!1===this.pic.isChange?"btn-change":"btn-change disabled"}},{key:"onReceiveEventFromChild",value:function(t){this.dataset.splice(0),this.loadPage(t)}},{key:"loadPage",value:function(t){t!==this.page&&(this.page=t),this.dataset=new Array;for(var e=0;e<this.data.REAC_ROWS_COUNT;e++){var n=this.data.getReacColumns(this.page,e);this.dataset.push(n)}this.load_name=this.load.getLoadName(t),this.three.ChangeMode("reac"),this.three.ChangePage(t)}}]),t}()).\u0275fac=function(t){return new(t||$Q)(i.Mb(ef.a),i.Mb(bW),i.Mb(Jp),i.Mb(RW),i.Mb(hO),i.Mb(of.a),i.Mb(cf.a))},$Q.\u0275cmp=i.Gb({type:$Q,selectors:[["app-result-reac"]],decls:46,vars:6,consts:[[1,"btn-group"],["routerLink","/result-reac","routerLinkActive","selected-item",1,"btn-change","active"],["routerLink","/result-comb_reac","routerLinkActive","selected-item"],["routerLink","/result-pic_reac","routerLinkActive","selected-item"],[1,"pager"],[3,"event"],[1,"load-name"],[1,"result_table"],[1,"result-sm"],[1,"result-lg"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"nav"),i.Rb(2,"a",1),i.Ac(3,"\u57fa\u672c\u30b1\u30fc\u30b9"),i.Qb(),i.Rb(4,"a",2),i.Ac(5,"COMBINE"),i.Qb(),i.Rb(6,"a",3),i.Ac(7,"PICKUP"),i.Qb(),i.Qb(),i.Qb(),i.Rb(8,"div",4),i.Rb(9,"app-pager",5),i.bc("event",function(t){return e.onReceiveEventFromChild(t)}),i.Qb(),i.Rb(10,"p",6),i.Ac(11),i.Qb(),i.Qb(),i.Rb(12,"div",7),i.Rb(13,"table"),i.Rb(14,"thead"),i.Rb(15,"tr"),i.Rb(16,"th",8),i.Ac(17,"\u7bc0\u70b9No"),i.Qb(),i.Rb(18,"th",9),i.Ac(19,"x\u65b9\u5411\u306e"),i.Nb(20,"br"),i.Ac(21,"\u652f\u70b9\u53cd\u529b"),i.Qb(),i.Rb(22,"th",9),i.Ac(23,"y\u65b9\u5411\u306e"),i.Nb(24,"br"),i.Ac(25,"\u652f\u70b9\u53cd\u529b"),i.Qb(),i.Rb(26,"th",9),i.Ac(27,"z\u65b9\u5411\u306e"),i.Nb(28,"br"),i.Ac(29,"\u652f\u70b9\u53cd\u529b"),i.Qb(),i.Rb(30,"th",9),i.Ac(31,"x\u8ef8\u56de\u308a\u306e"),i.Nb(32,"br"),i.Ac(33,"\u56de\u8ee2\u53cd\u529b"),i.Qb(),i.Rb(34,"th",9),i.Ac(35,"y\u8ef8\u56de\u308a\u306e"),i.Nb(36,"br"),i.Ac(37,"\u56de\u8ee2\u53cd\u529b"),i.Qb(),i.Rb(38,"th",9),i.Ac(39,"z\u8ef8\u56de\u308a\u306e"),i.Nb(40,"br"),i.Ac(41,"\u56de\u8ee2\u53cd\u529b"),i.Qb(),i.Rb(42,"th",9),i.Ac(43,"\u7d44\u307f\u5408\u308f\u305b"),i.Qb(),i.Qb(),i.Qb(),i.Rb(44,"tbody"),i.yc(45,XQ,17,8,"tr",10),i.Qb(),i.Qb(),i.Qb()),2&t&&(i.Ab(4),i.Cb(e.btnCombine),i.Ab(2),i.Cb(e.btnPickup),i.Ab(5),i.Bc(e.load_name),i.Ab(34),i.ic("ngForOf",e.dataset))},directives:[gp,Cp,OQ,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",".conbine-title[_ngcontent-%COMP%]{margin-top:32px}.conbine-title.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]{padding:0 16px 16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{word-break:break-all;width:100%;margin-top:16px;border-collapse:collapse;border-spacing:0}.result_table[_ngcontent-%COMP%]   table.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{table-layout:fixed;border:.5px solid #83abcd;padding:0;line-height:16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;text-align:right;padding:4px;word-break:break-all}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#333;text-align:center;padding:4px 3px;vertical-align:middle}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:left}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;max-height:250px;display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#ebf6f7;border-radius:3px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .result_detail[_ngcontent-%COMP%]:nth-child(odd)   .buzai[_ngcontent-%COMP%]{display:none}.result_table[_ngcontent-%COMP%]   .result-sm[_ngcontent-%COMP%]{width:62px;min-width:62px}.result_table[_ngcontent-%COMP%]   .result-lg[_ngcontent-%COMP%]{width:100px;min-width:100px}.acd-check[_ngcontent-%COMP%]{display:none}.acd-label[_ngcontent-%COMP%]{background:#fff;color:#333;display:block;margin-bottom:1px;padding:10px;border-bottom:2px solid #f5f5f5;position:relative}.acd-label[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.acd-label[_ngcontent-%COMP%]:after{background:grey;box-sizing:border-box;display:block;font-family:Font Awesome\\ 5 Free;height:50px;padding:10px 20px;position:absolute;right:0;top:0}.acd-content[_ngcontent-%COMP%]{border:1px solid #333;display:block;height:0;opacity:0;padding:0 10px;transition:.5s;visibility:hidden}.acd-check[_ngcontent-%COMP%]:checked + .acd-label[_ngcontent-%COMP%] + .acd-content[_ngcontent-%COMP%]{height:auto;opacity:1;padding:16px 8px;visibility:visible}.fa-sort-down[_ngcontent-%COMP%]{float:right;font-size:20px}.btn-group[_ngcontent-%COMP%]{display:flex;padding:0 16px;margin-right:auto;margin-top:16px!important}.btn-group[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]{margin-left:.5px;margin-right:.5px}.pager[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]   .load-name[_ngcontent-%COMP%]{margin-top:16px}.datasheet[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;padding-bottom:10px;z-index:1}"]}),$Q);function ZQ(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",8),i.Ac(2),i.Qb(),i.Rb(3,"td",8),i.Ac(4),i.Qb(),i.Rb(5,"td",9),i.Ac(6),i.Qb(),i.Rb(7,"td",9),i.Ac(8),i.Qb(),i.Rb(9,"td",9),i.Ac(10),i.Qb(),i.Rb(11,"td",9),i.Ac(12),i.Qb(),i.Rb(13,"td",9),i.Ac(14),i.Qb(),i.Rb(15,"td",9),i.Ac(16),i.Qb(),i.Rb(17,"td",9),i.Ac(18),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n.m),i.Ab(2),i.Bc(n.n),i.Ab(2),i.Bc(n.l),i.Ab(2),i.Bc(n.fx),i.Ab(2),i.Bc(n.fy),i.Ab(2),i.Bc(n.fz),i.Ab(2),i.Bc(n.mx),i.Ab(2),i.Bc(n.my),i.Ab(2),i.Bc(n.mz)}}var tY,eY=((tY=function(){function t(e,n,i,r,o,a,s){_classCallCheck(this,t),this.data=e,this.app=n,this.load=i,this.three=r,this.result=o,this.comb=a,this.pic=s,this.dataset=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this.load.getLoadCaseCount();this.collectionSize=10*t,this.loadPage(1),this.btnCombine=!1===this.comb.isChange?"btn-change":"btn-change disabled",this.btnPickup=!1===this.pic.isChange?"btn-change":"btn-change disabled"}},{key:"onReceiveEventFromChild",value:function(t){this.loadPage(t)}},{key:"loadPage",value:function(t){t!==this.page&&(this.page=t),this.dataset=this.data.getFsecColumns(this.page),this.load_name=this.load.getLoadName(t),this.three.ChangeMode("fsec"),this.three.ChangePage(t)}}]),t}()).\u0275fac=function(t){return new(t||tY)(i.Mb(nf.a),i.Mb(bW),i.Mb(Jp),i.Mb(RW),i.Mb(hO),i.Mb(af.a),i.Mb(lf.a))},tY.\u0275cmp=i.Gb({type:tY,selectors:[["app-result-fsec"]],decls:46,vars:6,consts:[[1,"btn-group"],["routerLink","/result-fsec","routerLinkActive","selected-item",1,"btn-change","active"],["routerLink","/result-comb_fsec","routerLinkActive","selected-item"],["routerLink","/result-pic_fsec","routerLinkActive","selected-item"],[1,"pager"],[3,"event"],[1,"load-name"],[1,"result_table"],[1,"result-sm"],[1,"result-lg"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"nav"),i.Rb(2,"a",1),i.Ac(3,"\u57fa\u672c\u30b1\u30fc\u30b9"),i.Qb(),i.Rb(4,"a",2),i.Ac(5,"COMBINE"),i.Qb(),i.Rb(6,"a",3),i.Ac(7,"PICKUP"),i.Qb(),i.Qb(),i.Qb(),i.Rb(8,"div",4),i.Rb(9,"app-pager",5),i.bc("event",function(t){return e.onReceiveEventFromChild(t)}),i.Qb(),i.Rb(10,"p",6),i.Ac(11),i.Qb(),i.Qb(),i.Rb(12,"div",7),i.Rb(13,"table"),i.Rb(14,"thead"),i.Rb(15,"tr"),i.Rb(16,"th",8),i.Ac(17,"\u90e8\u6750No"),i.Qb(),i.Rb(18,"th",8),i.Ac(19,"\u7bc0\u70b9No"),i.Qb(),i.Rb(20,"th",9),i.Ac(21,"\u7740\u76ee\u4f4d\u7f6e"),i.Qb(),i.Rb(22,"th",9),i.Ac(23,"\u8ef8\u65b9\u5411\u529b"),i.Qb(),i.Rb(24,"th",9),i.Ac(25,"y\u8ef8\u65b9\u5411\u306e"),i.Nb(26,"br"),i.Ac(27,"\u305b\u3093\u65ad\u529b"),i.Qb(),i.Rb(28,"th",9),i.Ac(29,"z\u8ef8\u65b9\u5411\u306e"),i.Nb(30,"br"),i.Ac(31,"\u305b\u3093\u65ad\u529b"),i.Qb(),i.Rb(32,"th",9),i.Ac(33,"\u306d\u3058\u308a"),i.Nb(34,"br"),i.Ac(35,"\u30e2\u30fc\u30e1\u30f3\u30c8"),i.Qb(),i.Rb(36,"th",9),i.Ac(37,"y\u8ef8\u56de\u308a\u306e"),i.Nb(38,"br"),i.Ac(39,"\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8"),i.Qb(),i.Rb(40,"th",9),i.Ac(41,"z\u8ef8\u56de\u308a\u306e"),i.Nb(42,"br"),i.Ac(43,"\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8"),i.Qb(),i.Qb(),i.Qb(),i.Rb(44,"tbody"),i.yc(45,ZQ,19,9,"tr",10),i.Qb(),i.Qb(),i.Qb()),2&t&&(i.Ab(4),i.Cb(e.btnCombine),i.Ab(2),i.Cb(e.btnPickup),i.Ab(5),i.Bc(e.load_name),i.Ab(34),i.ic("ngForOf",e.dataset))},directives:[gp,Cp,OQ,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",".conbine-title[_ngcontent-%COMP%]{margin-top:32px}.conbine-title.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]{padding:0 16px 16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{word-break:break-all;width:100%;margin-top:16px;border-collapse:collapse;border-spacing:0}.result_table[_ngcontent-%COMP%]   table.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{table-layout:fixed;border:.5px solid #83abcd;padding:0;line-height:16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;text-align:right;padding:4px;word-break:break-all}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#333;text-align:center;padding:4px 3px;vertical-align:middle}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:left}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;max-height:250px;display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#ebf6f7;border-radius:3px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .result_detail[_ngcontent-%COMP%]:nth-child(odd)   .buzai[_ngcontent-%COMP%]{display:none}.result_table[_ngcontent-%COMP%]   .result-sm[_ngcontent-%COMP%]{width:62px;min-width:62px}.result_table[_ngcontent-%COMP%]   .result-lg[_ngcontent-%COMP%]{width:100px;min-width:100px}.acd-check[_ngcontent-%COMP%]{display:none}.acd-label[_ngcontent-%COMP%]{background:#fff;color:#333;display:block;margin-bottom:1px;padding:10px;border-bottom:2px solid #f5f5f5;position:relative}.acd-label[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.acd-label[_ngcontent-%COMP%]:after{background:grey;box-sizing:border-box;display:block;font-family:Font Awesome\\ 5 Free;height:50px;padding:10px 20px;position:absolute;right:0;top:0}.acd-content[_ngcontent-%COMP%]{border:1px solid #333;display:block;height:0;opacity:0;padding:0 10px;transition:.5s;visibility:hidden}.acd-check[_ngcontent-%COMP%]:checked + .acd-label[_ngcontent-%COMP%] + .acd-content[_ngcontent-%COMP%]{height:auto;opacity:1;padding:16px 8px;visibility:visible}.fa-sort-down[_ngcontent-%COMP%]{float:right;font-size:20px}.btn-group[_ngcontent-%COMP%]{display:flex;padding:0 16px;margin-right:auto;margin-top:16px!important}.btn-group[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]{margin-left:.5px;margin-right:.5px}.pager[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]   .load-name[_ngcontent-%COMP%]{margin-top:16px}.datasheet[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;padding-bottom:10px;z-index:1}"]}),tY);function nY(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",15),i.Ac(2),i.Qb(),i.Rb(3,"td",16),i.Ac(4),i.Qb(),i.Rb(5,"td",16),i.Ac(6),i.Qb(),i.Rb(7,"td",16),i.Ac(8),i.Qb(),i.Rb(9,"td",16),i.Ac(10),i.Qb(),i.Rb(11,"td",16),i.Ac(12),i.Qb(),i.Rb(13,"td",16),i.Ac(14),i.Qb(),i.Rb(15,"td",16),i.Ac(16),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n.id),i.Ab(2),i.Bc(n.dx),i.Ab(2),i.Bc(n.dy),i.Ab(2),i.Bc(n.dz),i.Ab(2),i.Bc(n.rx),i.Ab(2),i.Bc(n.ry),i.Ab(2),i.Bc(n.rz),i.Ab(2),i.Bc(n.case)}}function iY(t,e){if(1&t&&(i.Rb(0,"div"),i.Nb(1,"input",8),i.Rb(2,"label",9),i.Rb(3,"div",10),i.Ac(4),i.Nb(5,"i",11),i.Qb(),i.Qb(),i.Rb(6,"div",12),i.Rb(7,"div",13),i.Rb(8,"table",14),i.Rb(9,"thead"),i.Rb(10,"tr"),i.Rb(11,"th",15),i.Ac(12,"No"),i.Qb(),i.Rb(13,"th",16),i.Ac(14,"x\u65b9\u5411\u306e"),i.Nb(15,"br"),i.Ac(16,"\u79fb\u52d5\u91cf"),i.Qb(),i.Rb(17,"th",16),i.Ac(18,"y\u65b9\u5411\u306e"),i.Nb(19,"br"),i.Ac(20,"\u79fb\u52d5\u91cf"),i.Qb(),i.Rb(21,"th",16),i.Ac(22,"z\u65b9\u5411\u306e"),i.Nb(23,"br"),i.Ac(24,"\u79fb\u52d5\u91cf"),i.Qb(),i.Rb(25,"th",16),i.Ac(26,"x\u8ef8\u56de\u308a\u306e"),i.Nb(27,"br"),i.Ac(28,"\u56de\u8ee2\u91cf"),i.Qb(),i.Rb(29,"th",16),i.Ac(30,"y\u8ef8\u56de\u308a\u306e"),i.Nb(31,"br"),i.Ac(32,"\u56de\u8ee2\u91cf"),i.Qb(),i.Rb(33,"th",16),i.Ac(34,"z\u8ef8\u56de\u308a\u306e"),i.Nb(35,"br"),i.Ac(36,"\u56de\u8ee2\u91cf"),i.Qb(),i.Rb(37,"th",16),i.Ac(38,"\u7d44\u307f\u5408\u308f\u305b"),i.Qb(),i.Qb(),i.Qb(),i.Rb(39,"tbody"),i.yc(40,nY,17,8,"tr",7),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&t){var n=e.index,r=i.dc();i.Ab(1),i.jc("id",r.TITLES[n]),i.ic("checked",0==n),i.Ab(1),i.jc("for",r.TITLES[n]),i.Ab(2),i.Cc(" ",r.TITLES[n],""),i.Ab(36),i.ic("ngForOf",r.dataset[n])}}var rY,oY=((rY=function(){function t(e,n,i,r,o,a,s){_classCallCheck(this,t),this.data=e,this.app=n,this.disg=i,this.comb=r,this.three=o,this.result=a,this.pic=s,this.KEYS=["dx_max","dx_min","dy_max","dy_min","dz_max","dz_min","rx_max","rx_min","ry_max","ry_min","rz_max","rz_min"],this.TITLES=["x\u65b9\u5411\u306e\u79fb\u52d5\u91cf \u6700\u5927","x\u65b9\u5411\u306e\u79fb\u52d5\u91cf \u6700\u5c0f","y\u65b9\u5411\u306e\u79fb\u52d5\u91cf \u6700\u5927","y\u65b9\u5411\u306e\u79fb\u52d5\u91cf \u6700\u5c0f","z\u65b9\u5411\u306e\u79fb\u52d5\u91cf \u6700\u5927","Z\u65b9\u5411\u306e\u79fb\u52d5\u91cf \u6700\u5c0f","x\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u89d2 \u6700\u5927","x\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u89d2 \u6700\u5c0f","y\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u89d2 \u6700\u5927","y\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u89d2 \u6700\u5c0f","z\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u89d2 \u6700\u5927","Z\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u89d2 \u6700\u5c0f"],this.dataset=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){this.result.CombinePickup();var t=this.comb.getCombineCaseCount();this.collectionSize=10*t,this.loadPage(1),this.btnPickup=!1===this.pic.isChange?"btn-change":"btn-change disabled",this.tableHeight=30*(this.dataset[0].length+1)}},{key:"onReceiveEventFromChild",value:function(t){this.dataset.splice(0),this.loadPage(t)}},{key:"loadPage",value:function(t){t!==this.page&&(this.page=t),this.dataset=new Array;var e,n=_createForOfIteratorHelper(this.KEYS);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.dataset.push(this.data.getCombineDisgColumns(this.page,i))}}catch(r){n.e(r)}finally{n.f()}this.load_name=this.comb.getCombineName(t),this.three.ChangeMode("comb_disg"),this.three.ChangePage(t)}}]),t}()).\u0275fac=function(t){return new(t||rY)(i.Mb(rf.a),i.Mb(bW),i.Mb(tf.a),i.Mb(Kp),i.Mb(RW),i.Mb(hO),i.Mb(sf.a))},rY.\u0275cmp=i.Gb({type:rY,selectors:[["app-result-combine-disg"]],decls:13,vars:4,consts:[[1,"btn-group"],["routerLink","/result-disg",1,"btn-change"],["routesrLink","/result-comb_disg",1,"btn-change","active"],["routerLink","/result-pic_disg"],[1,"pager"],[3,"event"],[1,"load-name"],[4,"ngFor","ngForOf"],["type","checkbox",1,"acd-check",3,"id","checked"],[1,"acd-label",3,"for"],[1,"conbine-title","acd"],[1,"fas","fa-sort-down"],[1,"acd-content"],[1,"result_table"],[1,"acd"],[1,"result-sm"],[1,"result-lg"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"nav"),i.Rb(2,"a",1),i.Ac(3,"\u57fa\u672c\u30b1\u30fc\u30b9"),i.Qb(),i.Rb(4,"a",2),i.Ac(5,"COMBINE"),i.Qb(),i.Rb(6,"a",3),i.Ac(7,"PICKUP"),i.Qb(),i.Qb(),i.Qb(),i.Rb(8,"div",4),i.Rb(9,"app-pager",5),i.bc("event",function(t){return e.onReceiveEventFromChild(t)}),i.Qb(),i.Rb(10,"p",6),i.Ac(11),i.Qb(),i.Qb(),i.yc(12,iY,41,5,"div",7)),2&t&&(i.Ab(6),i.Cb(e.btnPickup),i.Ab(5),i.Bc(e.load_name),i.Ab(1),i.ic("ngForOf",e.KEYS))},directives:[gp,OQ,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",".conbine-title[_ngcontent-%COMP%]{margin-top:32px}.conbine-title.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]{padding:0 16px 16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{word-break:break-all;width:100%;margin-top:16px;border-collapse:collapse;border-spacing:0}.result_table[_ngcontent-%COMP%]   table.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{table-layout:fixed;border:.5px solid #83abcd;padding:0;line-height:16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;text-align:right;padding:4px;word-break:break-all}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#333;text-align:center;padding:4px 3px;vertical-align:middle}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:left}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;max-height:250px;display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#ebf6f7;border-radius:3px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .result_detail[_ngcontent-%COMP%]:nth-child(odd)   .buzai[_ngcontent-%COMP%]{display:none}.result_table[_ngcontent-%COMP%]   .result-sm[_ngcontent-%COMP%]{width:62px;min-width:62px}.result_table[_ngcontent-%COMP%]   .result-lg[_ngcontent-%COMP%]{width:100px;min-width:100px}.acd-check[_ngcontent-%COMP%]{display:none}.acd-label[_ngcontent-%COMP%]{background:#fff;color:#333;display:block;margin-bottom:1px;padding:10px;border-bottom:2px solid #f5f5f5;position:relative}.acd-label[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.acd-label[_ngcontent-%COMP%]:after{background:grey;box-sizing:border-box;display:block;font-family:Font Awesome\\ 5 Free;height:50px;padding:10px 20px;position:absolute;right:0;top:0}.acd-content[_ngcontent-%COMP%]{border:1px solid #333;display:block;height:0;opacity:0;padding:0 10px;transition:.5s;visibility:hidden}.acd-check[_ngcontent-%COMP%]:checked + .acd-label[_ngcontent-%COMP%] + .acd-content[_ngcontent-%COMP%]{height:auto;opacity:1;padding:16px 8px;visibility:visible}.fa-sort-down[_ngcontent-%COMP%]{float:right;font-size:20px}.btn-group[_ngcontent-%COMP%]{display:flex;padding:0 16px;margin-right:auto;margin-top:16px!important}.btn-group[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]{margin-left:.5px;margin-right:.5px}.pager[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]   .load-name[_ngcontent-%COMP%]{margin-top:16px}.datasheet[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;padding-bottom:10px;z-index:1}"]}),rY);function aY(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",15),i.Ac(2),i.Qb(),i.Rb(3,"td",16),i.Ac(4),i.Qb(),i.Rb(5,"td",16),i.Ac(6),i.Qb(),i.Rb(7,"td",16),i.Ac(8),i.Qb(),i.Rb(9,"td",16),i.Ac(10),i.Qb(),i.Rb(11,"td",16),i.Ac(12),i.Qb(),i.Rb(13,"td",16),i.Ac(14),i.Qb(),i.Rb(15,"td",16),i.Ac(16),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n.id),i.Ab(2),i.Bc(n.tx),i.Ab(2),i.Bc(n.ty),i.Ab(2),i.Bc(n.tz),i.Ab(2),i.Bc(n.mx),i.Ab(2),i.Bc(n.my),i.Ab(2),i.Bc(n.mz),i.Ab(2),i.Bc(n.case)}}function sY(t,e){if(1&t&&(i.Rb(0,"div"),i.Nb(1,"input",8),i.Rb(2,"label",9),i.Rb(3,"div",10),i.Ac(4),i.Nb(5,"i",11),i.Qb(),i.Qb(),i.Rb(6,"div",12),i.Rb(7,"div",13),i.Rb(8,"table",14),i.Rb(9,"thead"),i.Rb(10,"tr"),i.Rb(11,"th",15),i.Ac(12,"\u7bc0\u70b9No"),i.Qb(),i.Rb(13,"th",16),i.Ac(14,"x\u65b9\u5411\u306e"),i.Nb(15,"br"),i.Ac(16,"\u652f\u70b9\u53cd\u529b"),i.Qb(),i.Rb(17,"th",16),i.Ac(18,"y\u65b9\u5411\u306e"),i.Nb(19,"br"),i.Ac(20,"\u652f\u70b9\u53cd\u529b"),i.Qb(),i.Rb(21,"th",16),i.Ac(22,"z\u65b9\u5411\u306e"),i.Nb(23,"br"),i.Ac(24,"\u652f\u70b9\u53cd\u529b"),i.Qb(),i.Rb(25,"th",16),i.Ac(26,"x\u8ef8\u56de\u308a\u306e"),i.Nb(27,"br"),i.Ac(28,"\u56de\u8ee2\u53cd\u529b"),i.Qb(),i.Rb(29,"th",16),i.Ac(30,"y\u8ef8\u56de\u308a\u306e"),i.Nb(31,"br"),i.Ac(32,"\u56de\u8ee2\u53cd\u529b"),i.Qb(),i.Rb(33,"th",16),i.Ac(34,"z\u8ef8\u56de\u308a\u306e"),i.Nb(35,"br"),i.Ac(36,"\u56de\u8ee2\u53cd\u529b"),i.Qb(),i.Rb(37,"th",16),i.Ac(38,"\u7d44\u307f\u5408\u308f\u305b"),i.Qb(),i.Qb(),i.Qb(),i.Rb(39,"tbody"),i.yc(40,aY,17,8,"tr",7),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&t){var n=e.index,r=i.dc();i.Ab(1),i.jc("id",r.TITLES[n]),i.ic("checked",0==n),i.Ab(1),i.jc("for",r.TITLES[n]),i.Ab(2),i.Cc(" ",r.TITLES[n],""),i.Ab(36),i.ic("ngForOf",r.dataset[n])}}var cY,lY=((cY=function(){function t(e,n,i,r,o,a,s){_classCallCheck(this,t),this.data=e,this.app=n,this.fsec=i,this.comb=r,this.result=o,this.three=a,this.pic=s,this.KEYS=["tx_max","tx_min","ty_max","ty_min","tz_max","tz_min","mx_max","mx_min","my_max","my_min","mz_max","mz_min"],this.TITLES=["x\u65b9\u5411\u306e\u652f\u70b9\u53cd\u529b \u6700\u5927","x\u65b9\u5411\u306e\u652f\u70b9\u53cd\u529b \u6700\u5c0f","y\u65b9\u5411\u306e\u652f\u70b9\u53cd\u529b \u6700\u5927","y\u65b9\u5411\u306e\u652f\u70b9\u53cd\u529b \u6700\u5c0f","z\u65b9\u5411\u306e\u652f\u70b9\u53cd\u529b \u6700\u5927","Z\u65b9\u5411\u306e\u652f\u70b9\u53cd\u529b \u6700\u5c0f","x\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u53cd\u529b \u6700\u5927","x\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u53cd\u529b \u6700\u5c0f","y\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u53cd\u529b \u6700\u5927","y\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u53cd\u529b \u6700\u5c0f","z\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u53cd\u529b \u6700\u5927","Z\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u53cd\u529b \u6700\u5c0f"],this.dataset=new Array}return _createClass(t,[{key:"onAccordion",value:function(t){this.showDetail=!this.showDetail}},{key:"ngOnInit",value:function(){this.result.CombinePickup();var t=this.comb.getCombineCaseCount();this.collectionSize=10*t,this.loadPage(1),this.btnPickup=!1===this.pic.isChange?"btn-change":"btn-change disabled",this.tableHeight=30*(this.dataset[0].length+1)}},{key:"onReceiveEventFromChild",value:function(t){this.dataset.splice(0),this.loadPage(t)}},{key:"loadPage",value:function(t){t!==this.page&&(this.page=t),this.dataset=new Array;var e,n=_createForOfIteratorHelper(this.KEYS);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.dataset.push(this.data.getCombineReacColumns(this.page,i))}}catch(r){n.e(r)}finally{n.f()}this.load_name=this.comb.getCombineName(t),this.three.ChangeMode("comb_reac"),this.three.ChangePage(t)}}]),t}()).\u0275fac=function(t){return new(t||cY)(i.Mb(of.a),i.Mb(bW),i.Mb(ef.a),i.Mb(Kp),i.Mb(hO),i.Mb(RW),i.Mb(cf.a))},cY.\u0275cmp=i.Gb({type:cY,selectors:[["app-result-combine-reac"]],decls:13,vars:4,consts:[[1,"btn-group"],["routerLink","/result-reac",1,"btn-change"],["routerLink","/result-comb_reac",1,"btn-change","active"],["routerLink","/result-pic_reac"],[1,"pager"],[3,"event"],[1,"load-name"],[4,"ngFor","ngForOf"],["type","checkbox",1,"acd-check",3,"id","checked"],[1,"acd-label",3,"for"],[1,"conbine-title","acd"],[1,"fas","fa-sort-down"],[1,"acd-content"],[1,"result_table"],[1,"acd"],[1,"result-sm"],[1,"result-lg"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"nav"),i.Rb(2,"a",1),i.Ac(3,"\u57fa\u672c\u30b1\u30fc\u30b9"),i.Qb(),i.Rb(4,"a",2),i.Ac(5,"COMBINE"),i.Qb(),i.Rb(6,"a",3),i.Ac(7,"PICKUP"),i.Qb(),i.Qb(),i.Qb(),i.Rb(8,"div",4),i.Rb(9,"app-pager",5),i.bc("event",function(t){return e.onReceiveEventFromChild(t)}),i.Qb(),i.Rb(10,"p",6),i.Ac(11),i.Qb(),i.Qb(),i.yc(12,sY,41,5,"div",7)),2&t&&(i.Ab(6),i.Cb(e.btnPickup),i.Ab(5),i.Bc(e.load_name),i.Ab(1),i.ic("ngForOf",e.KEYS))},directives:[gp,OQ,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",".conbine-title[_ngcontent-%COMP%]{margin-top:32px}.conbine-title.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]{padding:0 16px 16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{word-break:break-all;width:100%;margin-top:16px;border-collapse:collapse;border-spacing:0}.result_table[_ngcontent-%COMP%]   table.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{table-layout:fixed;border:.5px solid #83abcd;padding:0;line-height:16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;text-align:right;padding:4px;word-break:break-all}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#333;text-align:center;padding:4px 3px;vertical-align:middle}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:left}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;max-height:250px;display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#ebf6f7;border-radius:3px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .result_detail[_ngcontent-%COMP%]:nth-child(odd)   .buzai[_ngcontent-%COMP%]{display:none}.result_table[_ngcontent-%COMP%]   .result-sm[_ngcontent-%COMP%]{width:62px;min-width:62px}.result_table[_ngcontent-%COMP%]   .result-lg[_ngcontent-%COMP%]{width:100px;min-width:100px}.acd-check[_ngcontent-%COMP%]{display:none}.acd-label[_ngcontent-%COMP%]{background:#fff;color:#333;display:block;margin-bottom:1px;padding:10px;border-bottom:2px solid #f5f5f5;position:relative}.acd-label[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.acd-label[_ngcontent-%COMP%]:after{background:grey;box-sizing:border-box;display:block;font-family:Font Awesome\\ 5 Free;height:50px;padding:10px 20px;position:absolute;right:0;top:0}.acd-content[_ngcontent-%COMP%]{border:1px solid #333;display:block;height:0;opacity:0;padding:0 10px;transition:.5s;visibility:hidden}.acd-check[_ngcontent-%COMP%]:checked + .acd-label[_ngcontent-%COMP%] + .acd-content[_ngcontent-%COMP%]{height:auto;opacity:1;padding:16px 8px;visibility:visible}.fa-sort-down[_ngcontent-%COMP%]{float:right;font-size:20px}.btn-group[_ngcontent-%COMP%]{display:flex;padding:0 16px;margin-right:auto;margin-top:16px!important}.btn-group[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]{margin-left:.5px;margin-right:.5px}.pager[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]   .load-name[_ngcontent-%COMP%]{margin-top:16px}.datasheet[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;padding-bottom:10px;z-index:1}"]}),cY);function uY(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",15),i.Ac(2),i.Qb(),i.Rb(3,"td",15),i.Ac(4),i.Qb(),i.Rb(5,"td",16),i.Ac(6),i.Qb(),i.Rb(7,"td",16),i.Ac(8),i.Qb(),i.Rb(9,"td",16),i.Ac(10),i.Qb(),i.Rb(11,"td",16),i.Ac(12),i.Qb(),i.Rb(13,"td",16),i.Ac(14),i.Qb(),i.Rb(15,"td",16),i.Ac(16),i.Qb(),i.Rb(17,"td",16),i.Ac(18),i.Qb(),i.Rb(19,"td",16),i.Ac(20),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n.m),i.Ab(2),i.Bc(n.n),i.Ab(2),i.Bc(n.l),i.Ab(2),i.Bc(n.fx),i.Ab(2),i.Bc(n.fy),i.Ab(2),i.Bc(n.fz),i.Ab(2),i.Bc(n.mx),i.Ab(2),i.Bc(n.my),i.Ab(2),i.Bc(n.mz),i.Ab(2),i.Bc(n.case)}}function hY(t,e){if(1&t&&(i.Rb(0,"div"),i.Nb(1,"input",8),i.Rb(2,"label",9),i.Rb(3,"div",10),i.Ac(4),i.Nb(5,"i",11),i.Qb(),i.Qb(),i.Rb(6,"div",12),i.Rb(7,"div",13),i.Rb(8,"table",14),i.Rb(9,"thead"),i.Rb(10,"tr"),i.Rb(11,"th",15),i.Ac(12,"\u90e8\u6750No"),i.Qb(),i.Rb(13,"th",15),i.Ac(14,"\u7bc0\u70b9No"),i.Qb(),i.Rb(15,"th",16),i.Ac(16,"\u7740\u76ee\u4f4d\u7f6e"),i.Qb(),i.Rb(17,"th",16),i.Ac(18,"\u8ef8\u65b9\u5411\u529b"),i.Qb(),i.Rb(19,"th",16),i.Ac(20,"y\u65b9\u5411\u306e"),i.Nb(21,"br"),i.Ac(22,"\u305b\u3093\u65ad\u529b"),i.Qb(),i.Rb(23,"th",16),i.Ac(24,"z\u65b9\u5411\u306e"),i.Nb(25,"br"),i.Ac(26,"\u305b\u3093\u65ad\u529b"),i.Qb(),i.Rb(27,"th",16),i.Ac(28,"\u306d\u3058\u308a"),i.Nb(29,"br"),i.Ac(30,"\u30e2\u30fc\u30e1\u30f3\u30c8"),i.Qb(),i.Rb(31,"th",16),i.Ac(32,"y\u8ef8\u5468\u308a\u306e"),i.Nb(33,"br"),i.Ac(34,"\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8"),i.Qb(),i.Rb(35,"th",16),i.Ac(36,"z\u8ef8\u5468\u308a\u306e"),i.Nb(37,"br"),i.Ac(38,"\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8"),i.Qb(),i.Rb(39,"th",16),i.Ac(40,"\u7d44\u307f\u5408\u308f\u305b"),i.Qb(),i.Qb(),i.Qb(),i.Rb(41,"tbody"),i.yc(42,uY,21,10,"tr",7),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&t){var n=e.index,r=i.dc();i.Ab(1),i.jc("id",r.TITLES[n]),i.ic("checked",0==n),i.Ab(1),i.jc("for",r.TITLES[n]),i.Ab(2),i.Cc(" ",r.TITLES[n],""),i.Ab(38),i.ic("ngForOf",r.dataset[n])}}var dY,pY=((dY=function(){function t(e,n,i,r,o,a,s){_classCallCheck(this,t),this.data=e,this.app=n,this.fsec=i,this.comb=r,this.result=o,this.three=a,this.pic=s,this.KEYS=["fx_max","fx_min","fy_max","fy_min","fz_max","fz_min","mx_max","mx_min","my_max","my_min","mz_max","mz_min"],this.TITLES=["\u8ef8\u65b9\u5411\u529b \u6700\u5927","\u8ef8\u65b9\u5411\u529b \u6700\u5c0f","y\u65b9\u5411\u306e\u305b\u3093\u65ad\u529b \u6700\u5927","y\u65b9\u5411\u306e\u305b\u3093\u65ad\u529b \u6700\u5c0f","z\u65b9\u5411\u306e\u305b\u3093\u65ad\u529b \u6700\u5927","z\u65b9\u5411\u306e\u305b\u3093\u65ad\u529b \u6700\u5c0f","\u306d\u3058\u308a\u30e2\u30fc\u30e1\u30f3\u30c8 \u6700\u5927","\u306d\u3058\u308a\u30e2\u30fc\u30e1\u30f3\u30c8 \u6700\u5c0f","y\u8ef8\u56de\u308a\u306e\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8 \u6700\u5927","y\u8ef8\u56de\u308a\u306e\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8\u529b \u6700\u5c0f","z\u8ef8\u56de\u308a\u306e\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8 \u6700\u5927","z\u8ef8\u56de\u308a\u306e\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8 \u6700\u5c0f"],this.dataset=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){this.result.CombinePickup();var t=this.comb.getCombineCaseCount();this.collectionSize=10*t,this.loadPage(1),this.btnPickup=!1===this.pic.isChange?"btn-change":"btn-change disabled",this.tableHeight=30*(this.dataset[0].length+1)}},{key:"onReceiveEventFromChild",value:function(t){this.dataset.splice(0),this.loadPage(t)}},{key:"loadPage",value:function(t){t!==this.page&&(this.page=t),this.dataset=new Array;var e,n=_createForOfIteratorHelper(this.KEYS);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.dataset.push(this.data.getCombineFsecColumns(this.page,i))}}catch(r){n.e(r)}finally{n.f()}this.load_name=this.comb.getCombineName(t),this.three.ChangeMode("comb_fsec"),this.three.ChangePage(t)}}]),t}()).\u0275fac=function(t){return new(t||dY)(i.Mb(af.a),i.Mb(bW),i.Mb(nf.a),i.Mb(Kp),i.Mb(hO),i.Mb(RW),i.Mb(lf.a))},dY.\u0275cmp=i.Gb({type:dY,selectors:[["app-result-combine-fsec"]],decls:13,vars:4,consts:[[1,"btn-group"],["routerLink","/result-fsec",1,"btn-change"],["routerLink","/result-comb_fsec",1,"btn-change","active"],["routerLink","/result-pic_fsec"],[1,"pager"],[3,"event"],[1,"load-name"],[4,"ngFor","ngForOf"],["type","checkbox",1,"acd-check",3,"id","checked"],[1,"acd-label",3,"for"],[1,"conbine-title","acd"],[1,"fas","fa-sort-down"],[1,"acd-content"],[1,"result_table"],[1,"acd"],[1,"result-sm"],[1,"result-lg"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"nav"),i.Rb(2,"a",1),i.Ac(3,"\u57fa\u672c\u30b1\u30fc\u30b9"),i.Qb(),i.Rb(4,"a",2),i.Ac(5,"COMBINE"),i.Qb(),i.Rb(6,"a",3),i.Ac(7,"PICKUP"),i.Qb(),i.Qb(),i.Qb(),i.Rb(8,"div",4),i.Rb(9,"app-pager",5),i.bc("event",function(t){return e.onReceiveEventFromChild(t)}),i.Qb(),i.Rb(10,"p",6),i.Ac(11),i.Qb(),i.Qb(),i.yc(12,hY,43,5,"div",7)),2&t&&(i.Ab(6),i.Cb(e.btnPickup),i.Ab(5),i.Bc(e.load_name),i.Ab(1),i.ic("ngForOf",e.KEYS))},directives:[gp,OQ,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",".conbine-title[_ngcontent-%COMP%]{margin-top:32px}.conbine-title.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]{padding:0 16px 16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{word-break:break-all;width:100%;margin-top:16px;border-collapse:collapse;border-spacing:0}.result_table[_ngcontent-%COMP%]   table.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{table-layout:fixed;border:.5px solid #83abcd;padding:0;line-height:16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;text-align:right;padding:4px;word-break:break-all}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#333;text-align:center;padding:4px 3px;vertical-align:middle}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:left}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;max-height:250px;display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#ebf6f7;border-radius:3px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .result_detail[_ngcontent-%COMP%]:nth-child(odd)   .buzai[_ngcontent-%COMP%]{display:none}.result_table[_ngcontent-%COMP%]   .result-sm[_ngcontent-%COMP%]{width:62px;min-width:62px}.result_table[_ngcontent-%COMP%]   .result-lg[_ngcontent-%COMP%]{width:100px;min-width:100px}.acd-check[_ngcontent-%COMP%]{display:none}.acd-label[_ngcontent-%COMP%]{background:#fff;color:#333;display:block;margin-bottom:1px;padding:10px;border-bottom:2px solid #f5f5f5;position:relative}.acd-label[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.acd-label[_ngcontent-%COMP%]:after{background:grey;box-sizing:border-box;display:block;font-family:Font Awesome\\ 5 Free;height:50px;padding:10px 20px;position:absolute;right:0;top:0}.acd-content[_ngcontent-%COMP%]{border:1px solid #333;display:block;height:0;opacity:0;padding:0 10px;transition:.5s;visibility:hidden}.acd-check[_ngcontent-%COMP%]:checked + .acd-label[_ngcontent-%COMP%] + .acd-content[_ngcontent-%COMP%]{height:auto;opacity:1;padding:16px 8px;visibility:visible}.fa-sort-down[_ngcontent-%COMP%]{float:right;font-size:20px}.btn-group[_ngcontent-%COMP%]{display:flex;padding:0 16px;margin-right:auto;margin-top:16px!important}.btn-group[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]{margin-left:.5px;margin-right:.5px}.pager[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]   .load-name[_ngcontent-%COMP%]{margin-top:16px}.datasheet[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;padding-bottom:10px;z-index:1}"]}),dY);function fY(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",15),i.Ac(2),i.Qb(),i.Rb(3,"td",16),i.Ac(4),i.Qb(),i.Rb(5,"td",16),i.Ac(6),i.Qb(),i.Rb(7,"td",16),i.Ac(8),i.Qb(),i.Rb(9,"td",16),i.Ac(10),i.Qb(),i.Rb(11,"td",16),i.Ac(12),i.Qb(),i.Rb(13,"td",16),i.Ac(14),i.Qb(),i.Rb(15,"td",16),i.Ac(16),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n.id),i.Ab(2),i.Bc(n.dx),i.Ab(2),i.Bc(n.dy),i.Ab(2),i.Bc(n.dz),i.Ab(2),i.Bc(n.rx),i.Ab(2),i.Bc(n.ry),i.Ab(2),i.Bc(n.rz),i.Ab(2),i.Bc(n.case)}}function gY(t,e){if(1&t&&(i.Rb(0,"div"),i.Nb(1,"input",8),i.Rb(2,"label",9),i.Rb(3,"div",10),i.Ac(4),i.Nb(5,"i",11),i.Qb(),i.Qb(),i.Rb(6,"div",12),i.Rb(7,"div",13),i.Rb(8,"table",14),i.Rb(9,"thead"),i.Rb(10,"tr"),i.Rb(11,"th",15),i.Ac(12,"No"),i.Qb(),i.Rb(13,"th",16),i.Ac(14,"x\u65b9\u5411\u306e"),i.Nb(15,"br"),i.Ac(16,"\u79fb\u52d5\u91cf"),i.Qb(),i.Rb(17,"th",16),i.Ac(18,"y\u65b9\u5411\u306e"),i.Nb(19,"br"),i.Ac(20,"\u79fb\u52d5\u91cf"),i.Qb(),i.Rb(21,"th",16),i.Ac(22,"z\u65b9\u5411\u306e"),i.Nb(23,"br"),i.Ac(24,"\u79fb\u52d5\u91cf"),i.Qb(),i.Rb(25,"th",16),i.Ac(26,"x\u8ef8\u56de\u308a\u306e"),i.Nb(27,"br"),i.Ac(28,"\u56de\u8ee2\u91cf"),i.Qb(),i.Rb(29,"th",16),i.Ac(30,"y\u8ef8\u56de\u308a\u306e"),i.Nb(31,"br"),i.Ac(32,"\u56de\u8ee2\u91cf"),i.Qb(),i.Rb(33,"th",16),i.Ac(34,"z\u8ef8\u56de\u308a\u306e"),i.Nb(35,"br"),i.Ac(36,"\u56de\u8ee2\u91cf"),i.Qb(),i.Rb(37,"th",16),i.Ac(38,"\u7d44\u307f\u5408\u308f\u305b"),i.Qb(),i.Qb(),i.Qb(),i.Rb(39,"tbody"),i.yc(40,fY,17,8,"tr",7),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&t){var n=e.index,r=i.dc();i.Ab(1),i.jc("id",r.TITLES[n]),i.ic("checked",0==n),i.Ab(1),i.jc("for",r.TITLES[n]),i.Ab(2),i.Cc(" ",r.TITLES[n],""),i.Ab(36),i.ic("ngForOf",r.dataset[n])}}var mY,vY=((mY=function(){function t(e,n,i,r,o,a,s){_classCallCheck(this,t),this.data=e,this.app=n,this.disg=i,this.pickup=r,this.result=o,this.three=a,this.comb=s,this.KEYS=["dx_max","dx_min","dy_max","dy_min","dz_max","dz_min","rx_max","rx_min","ry_max","ry_min","rz_max","rz_min"],this.TITLES=["x\u65b9\u5411\u306e\u79fb\u52d5\u91cf \u6700\u5927","x\u65b9\u5411\u306e\u79fb\u52d5\u91cf \u6700\u5c0f","y\u65b9\u5411\u306e\u79fb\u52d5\u91cf \u6700\u5927","y\u65b9\u5411\u306e\u79fb\u52d5\u91cf \u6700\u5c0f","z\u65b9\u5411\u306e\u79fb\u52d5\u91cf \u6700\u5927","Z\u65b9\u5411\u306e\u79fb\u52d5\u91cf \u6700\u5c0f","x\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u89d2 \u6700\u5927","x\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u89d2 \u6700\u5c0f","y\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u89d2 \u6700\u5927","y\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u89d2 \u6700\u5c0f","z\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u89d2 \u6700\u5927","Z\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u89d2 \u6700\u5c0f"],this.dataset=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){this.result.CombinePickup();var t=this.pickup.getPickupCaseCount();this.collectionSize=10*t,this.loadPage(1),this.btnCombine=!1===this.comb.isChange?"btn-change":"btn-change disabled",this.tableHeight=30*(this.dataset[0].length+1)}},{key:"onReceiveEventFromChild",value:function(t){this.dataset.splice(0),this.loadPage(t)}},{key:"loadPage",value:function(t){t!==this.page&&(this.page=t),this.dataset=new Array;var e,n=_createForOfIteratorHelper(this.KEYS);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.dataset.push(this.data.getPickupDisgColumns(this.page,i))}}catch(r){n.e(r)}finally{n.f()}this.load_name=this.pickup.getPickUpName(t),this.three.ChangeMode("pik_disg"),this.three.ChangePage(t)}}]),t}()).\u0275fac=function(t){return new(t||mY)(i.Mb(sf.a),i.Mb(bW),i.Mb(tf.a),i.Mb(Zp),i.Mb(hO),i.Mb(RW),i.Mb(rf.a))},mY.\u0275cmp=i.Gb({type:mY,selectors:[["app-result-pickup-disg"]],decls:13,vars:4,consts:[[1,"btn-group"],["routerLink","/result-disg","routerLinkActive","selected-item",1,"btn-change"],["routerLink","/result-comb_disg","routerLinkActive","selected-item"],["routerLink","/result-pic_disg","routerLinkActive","selected-item",1,"btn","btn-change","active"],[1,"pager"],[3,"event"],[1,"load-name"],[4,"ngFor","ngForOf"],["type","checkbox",1,"acd-check",3,"id","checked"],[1,"acd-label",3,"for"],[1,"conbine-title","acd"],[1,"fas","fa-sort-down"],[1,"acd-content"],[1,"result_table"],[1,"acd"],[1,"result-sm"],[1,"result-lg"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"nav"),i.Rb(2,"a",1),i.Ac(3,"\u57fa\u672c\u30b1\u30fc\u30b9"),i.Qb(),i.Rb(4,"a",2),i.Ac(5,"COMBINE"),i.Qb(),i.Rb(6,"a",3),i.Ac(7,"PICKUP"),i.Qb(),i.Qb(),i.Qb(),i.Rb(8,"div",4),i.Rb(9,"app-pager",5),i.bc("event",function(t){return e.onReceiveEventFromChild(t)}),i.Qb(),i.Rb(10,"p",6),i.Ac(11),i.Qb(),i.Qb(),i.yc(12,gY,41,5,"div",7)),2&t&&(i.Ab(4),i.Cb(e.btnCombine),i.Ab(7),i.Bc(e.load_name),i.Ab(1),i.ic("ngForOf",e.KEYS))},directives:[gp,Cp,OQ,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",".conbine-title[_ngcontent-%COMP%]{margin-top:32px}.conbine-title.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]{padding:0 16px 16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{word-break:break-all;width:100%;margin-top:16px;border-collapse:collapse;border-spacing:0}.result_table[_ngcontent-%COMP%]   table.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{table-layout:fixed;border:.5px solid #83abcd;padding:0;line-height:16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;text-align:right;padding:4px;word-break:break-all}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#333;text-align:center;padding:4px 3px;vertical-align:middle}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:left}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;max-height:250px;display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#ebf6f7;border-radius:3px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .result_detail[_ngcontent-%COMP%]:nth-child(odd)   .buzai[_ngcontent-%COMP%]{display:none}.result_table[_ngcontent-%COMP%]   .result-sm[_ngcontent-%COMP%]{width:62px;min-width:62px}.result_table[_ngcontent-%COMP%]   .result-lg[_ngcontent-%COMP%]{width:100px;min-width:100px}.acd-check[_ngcontent-%COMP%]{display:none}.acd-label[_ngcontent-%COMP%]{background:#fff;color:#333;display:block;margin-bottom:1px;padding:10px;border-bottom:2px solid #f5f5f5;position:relative}.acd-label[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.acd-label[_ngcontent-%COMP%]:after{background:grey;box-sizing:border-box;display:block;font-family:Font Awesome\\ 5 Free;height:50px;padding:10px 20px;position:absolute;right:0;top:0}.acd-content[_ngcontent-%COMP%]{border:1px solid #333;display:block;height:0;opacity:0;padding:0 10px;transition:.5s;visibility:hidden}.acd-check[_ngcontent-%COMP%]:checked + .acd-label[_ngcontent-%COMP%] + .acd-content[_ngcontent-%COMP%]{height:auto;opacity:1;padding:16px 8px;visibility:visible}.fa-sort-down[_ngcontent-%COMP%]{float:right;font-size:20px}.btn-group[_ngcontent-%COMP%]{display:flex;padding:0 16px;margin-right:auto;margin-top:16px!important}.btn-group[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]{margin-left:.5px;margin-right:.5px}.pager[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]   .load-name[_ngcontent-%COMP%]{margin-top:16px}.datasheet[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;padding-bottom:10px;z-index:1}"]}),mY);function bY(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",15),i.Ac(2),i.Qb(),i.Rb(3,"td",16),i.Ac(4),i.Qb(),i.Rb(5,"td",16),i.Ac(6),i.Qb(),i.Rb(7,"td",16),i.Ac(8),i.Qb(),i.Rb(9,"td",16),i.Ac(10),i.Qb(),i.Rb(11,"td",16),i.Ac(12),i.Qb(),i.Rb(13,"td",16),i.Ac(14),i.Qb(),i.Rb(15,"td",16),i.Ac(16),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n.id),i.Ab(2),i.Bc(n.tx),i.Ab(2),i.Bc(n.ty),i.Ab(2),i.Bc(n.tz),i.Ab(2),i.Bc(n.mx),i.Ab(2),i.Bc(n.my),i.Ab(2),i.Bc(n.mz),i.Ab(2),i.Bc(n.case)}}function _Y(t,e){if(1&t&&(i.Rb(0,"div"),i.Nb(1,"input",8),i.Rb(2,"label",9),i.Rb(3,"div",10),i.Ac(4),i.Nb(5,"i",11),i.Qb(),i.Qb(),i.Rb(6,"div",12),i.Rb(7,"div",13),i.Rb(8,"table",14),i.Rb(9,"thead"),i.Rb(10,"tr"),i.Rb(11,"th",15),i.Ac(12,"\u7bc0\u70b9No"),i.Qb(),i.Rb(13,"th",16),i.Ac(14,"x\u65b9\u5411\u306e"),i.Nb(15,"br"),i.Ac(16,"\u652f\u70b9\u53cd\u529b"),i.Qb(),i.Rb(17,"th",16),i.Ac(18,"y\u65b9\u5411\u306e"),i.Nb(19,"br"),i.Ac(20,"\u652f\u70b9\u53cd\u529b"),i.Qb(),i.Rb(21,"th",16),i.Ac(22,"z\u65b9\u5411\u306e"),i.Nb(23,"br"),i.Ac(24,"\u652f\u70b9\u53cd\u529b"),i.Qb(),i.Rb(25,"th",16),i.Ac(26,"x\u8ef8\u56de\u308a\u306e"),i.Nb(27,"br"),i.Ac(28,"\u56de\u8ee2\u53cd\u529b"),i.Qb(),i.Rb(29,"th",16),i.Ac(30,"y\u8ef8\u56de\u308a\u306e"),i.Nb(31,"br"),i.Ac(32,"\u56de\u8ee2\u53cd\u529b"),i.Qb(),i.Rb(33,"th",16),i.Ac(34,"z\u8ef8\u56de\u308a\u306e"),i.Nb(35,"br"),i.Ac(36,"\u56de\u8ee2\u53cd\u529b"),i.Qb(),i.Rb(37,"th",16),i.Ac(38,"\u7d44\u307f\u5408\u308f\u305b"),i.Qb(),i.Qb(),i.Qb(),i.Rb(39,"tbody"),i.yc(40,bY,17,8,"tr",7),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&t){var n=e.index,r=i.dc();i.Ab(1),i.jc("id",r.TITLES[n]),i.ic("checked",0==n),i.Ab(1),i.jc("for",r.TITLES[n]),i.Ab(2),i.Cc(" ",r.TITLES[n],""),i.Ab(36),i.ic("ngForOf",r.dataset[n])}}var yY,CY=((yY=function(){function t(e,n,i,r,o,a,s){_classCallCheck(this,t),this.data=e,this.app=n,this.reac=i,this.pickup=r,this.result=o,this.three=a,this.comb=s,this.KEYS=["tx_max","tx_min","ty_max","ty_min","tz_max","tz_min","mx_max","mx_min","my_max","my_min","mz_max","mz_min"],this.TITLES=["x\u65b9\u5411\u306e\u652f\u70b9\u53cd\u529b \u6700\u5927","x\u65b9\u5411\u306e\u652f\u70b9\u53cd\u529b \u6700\u5c0f","y\u65b9\u5411\u306e\u652f\u70b9\u53cd\u529b \u6700\u5927","y\u65b9\u5411\u306e\u652f\u70b9\u53cd\u529b \u6700\u5c0f","z\u65b9\u5411\u306e\u652f\u70b9\u53cd\u529b \u6700\u5927","Z\u65b9\u5411\u306e\u652f\u70b9\u53cd\u529b \u6700\u5c0f","x\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u53cd\u529b \u6700\u5927","x\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u53cd\u529b \u6700\u5c0f","y\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u53cd\u529b \u6700\u5927","y\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u53cd\u529b \u6700\u5c0f","z\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u53cd\u529b \u6700\u5927","Z\u8ef8\u56de\u308a\u306e\u56de\u8ee2\u53cd\u529b \u6700\u5c0f"],this.dataset=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){this.result.CombinePickup();var t=this.pickup.getPickupCaseCount();this.collectionSize=10*t,this.loadPage(1),this.btnCombine=!1===this.comb.isChange?"btn-change":"btn-change disabled",this.tableHeight=30*(this.dataset[0].length+1)}},{key:"onReceiveEventFromChild",value:function(t){this.dataset.splice(0),this.loadPage(t)}},{key:"loadPage",value:function(t){t!==this.page&&(this.page=t),this.dataset=new Array;var e,n=_createForOfIteratorHelper(this.KEYS);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.dataset.push(this.data.getPickupReacColumns(this.page,i))}}catch(r){n.e(r)}finally{n.f()}this.load_name=this.pickup.getPickUpName(t),this.three.ChangeMode("pik_reac"),this.three.ChangePage(t)}}]),t}()).\u0275fac=function(t){return new(t||yY)(i.Mb(cf.a),i.Mb(bW),i.Mb(ef.a),i.Mb(Zp),i.Mb(hO),i.Mb(RW),i.Mb(of.a))},yY.\u0275cmp=i.Gb({type:yY,selectors:[["app-result-pickup-reac"]],decls:13,vars:4,consts:[[1,"btn-group"],["routerLink","/result-reac","routerLinkActive","selected-item",1,"btn-change"],["routerLink","/result-comb_reac","routerLinkActive","selected-item"],["routerLink","/result-pic_reac","routerLinkActive","selected-item",1,"btn-change","active"],[1,"pager"],[3,"event"],[1,"load-name"],[4,"ngFor","ngForOf"],["type","checkbox",1,"acd-check",3,"id","checked"],[1,"acd-label",3,"for"],[1,"conbine-title","acd"],[1,"fas","fa-sort-down"],[1,"acd-content"],[1,"result_table"],[1,"acd"],[1,"result-sm"],[1,"result-lg"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"nav"),i.Rb(2,"a",1),i.Ac(3,"\u57fa\u672c\u30b1\u30fc\u30b9"),i.Qb(),i.Rb(4,"a",2),i.Ac(5,"COMBINE"),i.Qb(),i.Rb(6,"a",3),i.Ac(7,"PICKUP"),i.Qb(),i.Qb(),i.Qb(),i.Rb(8,"div",4),i.Rb(9,"app-pager",5),i.bc("event",function(t){return e.onReceiveEventFromChild(t)}),i.Qb(),i.Rb(10,"p",6),i.Ac(11),i.Qb(),i.Qb(),i.yc(12,_Y,41,5,"div",7)),2&t&&(i.Ab(4),i.Cb(e.btnCombine),i.Ab(7),i.Bc(e.load_name),i.Ab(1),i.ic("ngForOf",e.KEYS))},directives:[gp,Cp,OQ,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",".conbine-title[_ngcontent-%COMP%]{margin-top:32px}.conbine-title.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]{padding:0 16px 16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{word-break:break-all;width:100%;margin-top:16px;border-collapse:collapse;border-spacing:0}.result_table[_ngcontent-%COMP%]   table.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{table-layout:fixed;border:.5px solid #83abcd;padding:0;line-height:16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;text-align:right;padding:4px;word-break:break-all}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#333;text-align:center;padding:4px 3px;vertical-align:middle}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:left}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;max-height:250px;display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#ebf6f7;border-radius:3px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .result_detail[_ngcontent-%COMP%]:nth-child(odd)   .buzai[_ngcontent-%COMP%]{display:none}.result_table[_ngcontent-%COMP%]   .result-sm[_ngcontent-%COMP%]{width:62px;min-width:62px}.result_table[_ngcontent-%COMP%]   .result-lg[_ngcontent-%COMP%]{width:100px;min-width:100px}.acd-check[_ngcontent-%COMP%]{display:none}.acd-label[_ngcontent-%COMP%]{background:#fff;color:#333;display:block;margin-bottom:1px;padding:10px;border-bottom:2px solid #f5f5f5;position:relative}.acd-label[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.acd-label[_ngcontent-%COMP%]:after{background:grey;box-sizing:border-box;display:block;font-family:Font Awesome\\ 5 Free;height:50px;padding:10px 20px;position:absolute;right:0;top:0}.acd-content[_ngcontent-%COMP%]{border:1px solid #333;display:block;height:0;opacity:0;padding:0 10px;transition:.5s;visibility:hidden}.acd-check[_ngcontent-%COMP%]:checked + .acd-label[_ngcontent-%COMP%] + .acd-content[_ngcontent-%COMP%]{height:auto;opacity:1;padding:16px 8px;visibility:visible}.fa-sort-down[_ngcontent-%COMP%]{float:right;font-size:20px}.btn-group[_ngcontent-%COMP%]{display:flex;padding:0 16px;margin-right:auto;margin-top:16px!important}.btn-group[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]{margin-left:.5px;margin-right:.5px}.pager[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]   .load-name[_ngcontent-%COMP%]{margin-top:16px}.datasheet[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;padding-bottom:10px;z-index:1}"]}),yY);function xY(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",15),i.Ac(2),i.Qb(),i.Rb(3,"td",15),i.Ac(4),i.Qb(),i.Rb(5,"td",16),i.Ac(6),i.Qb(),i.Rb(7,"td",16),i.Ac(8),i.Qb(),i.Rb(9,"td",16),i.Ac(10),i.Qb(),i.Rb(11,"td",16),i.Ac(12),i.Qb(),i.Rb(13,"td",16),i.Ac(14),i.Qb(),i.Rb(15,"td",16),i.Ac(16),i.Qb(),i.Rb(17,"td",16),i.Ac(18),i.Qb(),i.Rb(19,"td",16),i.Ac(20),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n.m),i.Ab(2),i.Bc(n.n),i.Ab(2),i.Bc(n.l),i.Ab(2),i.Bc(n.fx),i.Ab(2),i.Bc(n.fy),i.Ab(2),i.Bc(n.fz),i.Ab(2),i.Bc(n.mx),i.Ab(2),i.Bc(n.my),i.Ab(2),i.Bc(n.mz),i.Ab(2),i.Bc(n.case)}}function wY(t,e){if(1&t&&(i.Rb(0,"div"),i.Nb(1,"input",8),i.Rb(2,"label",9),i.Rb(3,"div",10),i.Ac(4),i.Nb(5,"i",11),i.Qb(),i.Qb(),i.Rb(6,"div",12),i.Rb(7,"div",13),i.Rb(8,"table",14),i.Rb(9,"thead"),i.Rb(10,"tr"),i.Rb(11,"th",15),i.Ac(12,"\u90e8\u6750No"),i.Qb(),i.Rb(13,"th",15),i.Ac(14,"\u7bc0\u70b9No"),i.Qb(),i.Rb(15,"th",16),i.Ac(16,"\u7740\u76ee\u4f4d\u7f6e"),i.Qb(),i.Rb(17,"th",16),i.Ac(18,"\u8ef8\u65b9\u5411\u529b"),i.Qb(),i.Rb(19,"th",16),i.Ac(20,"y\u65b9\u5411\u306e"),i.Nb(21,"br"),i.Ac(22,"\u305b\u3093\u65ad\u529b"),i.Qb(),i.Rb(23,"th",16),i.Ac(24,"z\u65b9\u5411\u306e"),i.Nb(25,"br"),i.Ac(26,"\u305b\u3093\u65ad\u529b"),i.Qb(),i.Rb(27,"th",16),i.Ac(28,"\u306d\u3058\u308a"),i.Nb(29,"br"),i.Ac(30,"\u30e2\u30fc\u30e1\u30f3\u30c8"),i.Qb(),i.Rb(31,"th",16),i.Ac(32,"y\u8ef8\u56de\u308a\u306e"),i.Nb(33,"br"),i.Ac(34,"\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8"),i.Qb(),i.Rb(35,"th",16),i.Ac(36,"z\u8ef8\u56de\u308a\u306e"),i.Nb(37,"br"),i.Ac(38,"\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8"),i.Qb(),i.Rb(39,"th",16),i.Ac(40,"\u7d44\u307f\u5408\u308f\u305b"),i.Qb(),i.Qb(),i.Qb(),i.Rb(41,"tbody"),i.yc(42,xY,21,10,"tr",7),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb()),2&t){var n=e.index,r=i.dc();i.Ab(1),i.jc("id",r.TITLES[n]),i.ic("checked",0==n),i.Ab(1),i.jc("for",r.TITLES[n]),i.Ab(2),i.Cc(" ",r.TITLES[n],""),i.Ab(38),i.ic("ngForOf",r.dataset[n])}}var MY,OY,PY,kY,AY=((kY=function(){function t(e,n,i,r,o,a,s){_classCallCheck(this,t),this.data=e,this.app=n,this.fsec=i,this.pickup=r,this.result=o,this.three=a,this.comb=s,this.KEYS=["fx_max","fx_min","fy_max","fy_min","fz_max","fz_min","mx_max","mx_min","my_max","my_min","mz_max","mz_min"],this.TITLES=["\u8ef8\u65b9\u5411\u529b \u6700\u5927","\u8ef8\u65b9\u5411\u529b \u6700\u5c0f","y\u65b9\u5411\u306e\u305b\u3093\u65ad\u529b \u6700\u5927","y\u65b9\u5411\u306e\u305b\u3093\u65ad\u529b \u6700\u5c0f","z\u65b9\u5411\u306e\u305b\u3093\u65ad\u529b \u6700\u5927","z\u65b9\u5411\u306e\u305b\u3093\u65ad\u529b \u6700\u5c0f","\u306d\u3058\u308a\u30e2\u30fc\u30e1\u30f3\u30c8 \u6700\u5927","\u306d\u3058\u308a\u30e2\u30fc\u30e1\u30f3\u30c8 \u6700\u5c0f","y\u8ef8\u56de\u308a\u306e\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8 \u6700\u5927","y\u8ef8\u56de\u308a\u306e\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8\u529b \u6700\u5c0f","z\u8ef8\u56de\u308a\u306e\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8 \u6700\u5927","z\u8ef8\u56de\u308a\u306e\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8 \u6700\u5c0f"],this.dataset=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){this.result.CombinePickup();var t=this.pickup.getPickupCaseCount();this.collectionSize=10*t,this.loadPage(1),this.btnCombine=!1===this.comb.isChange?"btn-change":"btn-change disabled",this.tableHeight=30*(this.dataset[0].length+1)}},{key:"onReceiveEventFromChild",value:function(t){this.dataset.splice(0),this.loadPage(t)}},{key:"loadPage",value:function(t){t!==this.page&&(this.page=t),this.dataset=new Array;var e,n=_createForOfIteratorHelper(this.KEYS);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.dataset.push(this.data.getPickupFsecColumns(this.page,i))}}catch(r){n.e(r)}finally{n.f()}this.load_name=this.pickup.getPickUpName(t),this.three.ChangeMode("pik_fsec"),this.three.ChangePage(t)}}]),t}()).\u0275fac=function(t){return new(t||kY)(i.Mb(lf.a),i.Mb(bW),i.Mb(nf.a),i.Mb(Zp),i.Mb(hO),i.Mb(RW),i.Mb(af.a))},kY.\u0275cmp=i.Gb({type:kY,selectors:[["app-result-pickup-fsec"]],decls:13,vars:4,consts:[[1,"btn-group"],["routerLink","/result-fsec","routerLinkActive","selected-item",1,"btn-change"],["routerLink","/result-comb_fsec","routerLinkActive","selected-item"],["routerLink","/result-pic_fsec","routerLinkActive","selected-item",1,"btn-change","active"],[1,"pager"],[3,"event"],[1,"load-name"],[4,"ngFor","ngForOf"],["type","checkbox",1,"acd-check",3,"id","checked"],[1,"acd-label",3,"for"],[1,"conbine-title","acd"],[1,"fas","fa-sort-down"],[1,"acd-content"],[1,"result_table"],[1,"acd"],[1,"result-sm"],[1,"result-lg"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"nav"),i.Rb(2,"a",1),i.Ac(3,"\u57fa\u672c\u30b1\u30fc\u30b9"),i.Qb(),i.Rb(4,"a",2),i.Ac(5,"COMBINE"),i.Qb(),i.Rb(6,"a",3),i.Ac(7,"PICKUP"),i.Qb(),i.Qb(),i.Qb(),i.Rb(8,"div",4),i.Rb(9,"app-pager",5),i.bc("event",function(t){return e.onReceiveEventFromChild(t)}),i.Qb(),i.Rb(10,"p",6),i.Ac(11),i.Qb(),i.Qb(),i.yc(12,wY,43,5,"div",7)),2&t&&(i.Ab(4),i.Cb(e.btnCombine),i.Ab(7),i.Bc(e.load_name),i.Ab(1),i.ic("ngForOf",e.KEYS))},directives:[gp,Cp,OQ,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",".conbine-title[_ngcontent-%COMP%]{margin-top:32px}.conbine-title.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]{padding:0 16px 16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{word-break:break-all;width:100%;margin-top:16px;border-collapse:collapse;border-spacing:0}.result_table[_ngcontent-%COMP%]   table.acd[_ngcontent-%COMP%]{margin:0}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{table-layout:fixed;border:.5px solid #83abcd;padding:0;line-height:16px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;text-align:right;padding:4px;word-break:break-all}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;font-weight:400;color:#333;text-align:center;padding:4px 3px;vertical-align:middle}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:left}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{overflow-y:auto;max-height:250px;display:block}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#ebf6f7;border-radius:3px}.result_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .result_detail[_ngcontent-%COMP%]:nth-child(odd)   .buzai[_ngcontent-%COMP%]{display:none}.result_table[_ngcontent-%COMP%]   .result-sm[_ngcontent-%COMP%]{width:62px;min-width:62px}.result_table[_ngcontent-%COMP%]   .result-lg[_ngcontent-%COMP%]{width:100px;min-width:100px}.acd-check[_ngcontent-%COMP%]{display:none}.acd-label[_ngcontent-%COMP%]{background:#fff;color:#333;display:block;margin-bottom:1px;padding:10px;border-bottom:2px solid #f5f5f5;position:relative}.acd-label[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.acd-label[_ngcontent-%COMP%]:after{background:grey;box-sizing:border-box;display:block;font-family:Font Awesome\\ 5 Free;height:50px;padding:10px 20px;position:absolute;right:0;top:0}.acd-content[_ngcontent-%COMP%]{border:1px solid #333;display:block;height:0;opacity:0;padding:0 10px;transition:.5s;visibility:hidden}.acd-check[_ngcontent-%COMP%]:checked + .acd-label[_ngcontent-%COMP%] + .acd-content[_ngcontent-%COMP%]{height:auto;opacity:1;padding:16px 8px;visibility:visible}.fa-sort-down[_ngcontent-%COMP%]{float:right;font-size:20px}.btn-group[_ngcontent-%COMP%]{display:flex;padding:0 16px;margin-right:auto;margin-top:16px!important}.btn-group[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]{margin-left:.5px;margin-right:.5px}.pager[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pager[_ngcontent-%COMP%]   .load-name[_ngcontent-%COMP%]{margin-top:16px}.datasheet[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;padding-bottom:10px;z-index:1}"]}),kY),TY=((PY=function(){function t(e){_classCallCheck(this,t),this.router=e,this.currentY=0,this.dataExists=[],this.currentY=0,this.currentType=0,this.dataExists=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]}return _createClass(t,[{key:"ngOnInit",value:function(){this.currentY=0}},{key:"ngAfterViewInit",value:function(){this.currentY=0}},{key:"clear",value:function(){this.dataExists=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],this.currentY=0}},{key:"setCurrentY",value:function(t,e){return this.currentY+=t,this.currentY>54&&(this.currentY=e,!0)}},{key:"setData",value:function(t){this.dataExists[t]=!1}}]),t}()).\u0275fac=function(t){return new(t||PY)(i.Yb(pp))},PY.\u0275prov=i.Ib({token:PY,factory:PY.\u0275fac,providedIn:"root"}),PY),SY=((OY=function(){function t(e,n){_classCallCheck(this,t),this.printService=e,this.countArea=n,this.currentY=0}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onPrintInvoice",value:function(){this.countArea.clear(),this.printService.printDocument("invoice",["101"])}},{key:"toggleEditable",value:function(t,e){this.printService.contentEditable1[e]=!!t.target.checked,console.log(this.printService.contentEditable1)}}]),t}()).\u0275fac=function(t){return new(t||OY)(i.Mb(_O),i.Mb(TY))},OY.\u0275cmp=i.Gb({type:OY,selectors:[["app-print"]],decls:58,vars:0,consts:[[1,"printdata-choice"],[1,"print-choice"],[2,"width","100%"],["type","checkbox","name","checkbox-print","id","result0",1,"checkbox-input",3,"change"],[1,"checkbox-parts"],["type","checkbox","name","checkbox-print","id","print1",1,"checkbox-input",3,"change"],["type","checkbox","name","checkbox-print","id","print2",1,"checkbox-input",3,"change"],["type","checkbox","name","checkbox-print","id","print3",1,"checkbox-input",3,"change"],["type","checkbox","name","checkbox-print","id","print4",1,"checkbox-input",3,"change"],["type","checkbox","name","checkbox-print","id","print5",1,"checkbox-input",3,"change"],["type","checkbox","name","checkbox-print","id","print6",1,"checkbox-input",3,"change"],["type","checkbox","name","checkbox-print","id","print7",1,"checkbox-input",3,"change"],["type","checkbox","name","checkbox-result","id","print8",1,"checkbox-input",3,"change"],["type","checkbox","name","checkbox-result","id","print9",1,"checkbox-input",3,"change"],[1,"print-ing"],[3,"click"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"h2"),i.Ac(2,"\u5370\u5237\u30c7\u30fc\u30bf\u3092\u9078\u629e"),i.Qb(),i.Qb(),i.Rb(3,"div",1),i.Rb(4,"ul"),i.Rb(5,"li"),i.Rb(6,"label",2),i.Rb(7,"input",3),i.bc("change",function(t){return e.toggleEditable(t,0)}),i.Qb(),i.Rb(8,"span",4),i.Ac(9,"\u5165\u529b\u30c7\u30fc\u30bf"),i.Qb(),i.Qb(),i.Qb(),i.Rb(10,"li"),i.Rb(11,"label",2),i.Rb(12,"input",5),i.bc("change",function(t){return e.toggleEditable(t,1)}),i.Qb(),i.Rb(13,"span",4),i.Ac(14,"\u5909\u4f4d\u91cf"),i.Qb(),i.Qb(),i.Qb(),i.Rb(15,"li"),i.Rb(16,"label",2),i.Rb(17,"input",6),i.bc("change",function(t){return e.toggleEditable(t,2)}),i.Qb(),i.Rb(18,"span",4),i.Ac(19,"COMBINE \u5909\u4f4d\u91cf"),i.Qb(),i.Qb(),i.Qb(),i.Rb(20,"li"),i.Rb(21,"label",2),i.Rb(22,"input",7),i.bc("change",function(t){return e.toggleEditable(t,3)}),i.Qb(),i.Rb(23,"span",4),i.Ac(24,"PICKUP \u5909\u4f4d\u91cf"),i.Qb(),i.Qb(),i.Qb(),i.Rb(25,"li"),i.Rb(26,"label",2),i.Rb(27,"input",8),i.bc("change",function(t){return e.toggleEditable(t,4)}),i.Qb(),i.Rb(28,"span",4),i.Ac(29,"\u53cd\u529b"),i.Qb(),i.Qb(),i.Qb(),i.Rb(30,"li"),i.Rb(31,"label",2),i.Rb(32,"input",9),i.bc("change",function(t){return e.toggleEditable(t,5)}),i.Qb(),i.Rb(33,"span",4),i.Ac(34,"COMBINE \u53cd\u529b"),i.Qb(),i.Qb(),i.Qb(),i.Rb(35,"li"),i.Rb(36,"label",2),i.Rb(37,"input",10),i.bc("change",function(t){return e.toggleEditable(t,6)}),i.Qb(),i.Rb(38,"span",4),i.Ac(39,"PICKUP \u53cd\u529b"),i.Qb(),i.Qb(),i.Qb(),i.Rb(40,"li"),i.Rb(41,"label",2),i.Rb(42,"input",11),i.bc("change",function(t){return e.toggleEditable(t,7)}),i.Qb(),i.Rb(43,"span",4),i.Ac(44,"\u65ad\u9762\u529b"),i.Qb(),i.Qb(),i.Qb(),i.Rb(45,"li"),i.Rb(46,"label",2),i.Rb(47,"input",12),i.bc("change",function(t){return e.toggleEditable(t,8)}),i.Qb(),i.Rb(48,"span",4),i.Ac(49,"COMBINE \u65ad\u9762\u529b"),i.Qb(),i.Qb(),i.Qb(),i.Rb(50,"li"),i.Rb(51,"label",2),i.Rb(52,"input",13),i.bc("change",function(t){return e.toggleEditable(t,9)}),i.Qb(),i.Rb(53,"span",4),i.Ac(54,"PICKUP \u65ad\u9762\u529b"),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(55,"div",14),i.Rb(56,"button",15),i.bc("click",function(){return e.onPrintInvoice()}),i.Ac(57,"\u5370\u5237\u3059\u308b"),i.Qb(),i.Qb())},styles:['.print-choice[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:12px 0;padding:12px;background-color:#f5f5f5;font-size:12px}.print-choice[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-align:left}.print-choice[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.print-choice[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]{display:none}.print-choice[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .checkbox-parts[_ngcontent-%COMP%]{display:inline-block;padding-left:30px;position:relative;width:100%}.print-choice[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .checkbox-parts[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:0;left:0;width:15px;height:15px;border:1px solid #999;border-radius:4px}.print-choice[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]:hover + .checkbox-parts[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;display:block}.print-choice[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]:checked + .checkbox-parts[_ngcontent-%COMP%]{color:#d01137}.print-choice[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]:checked + .checkbox-parts[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;top:-5px;left:5px;width:7px;height:14px;transform:rotate(40deg);border-bottom:3px solid #d01137;border-right:3px solid #d01137}.print-choice[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin:0}.printdata-choice[_ngcontent-%COMP%]{margin-top:12px;font-size:12px}.print-ing[_ngcontent-%COMP%]{margin-bottom:12px;font-size:12px}.print-ing[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .print-ing[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .print-ing[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .print-ing[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:.5px solid #83abcd;border-radius:3px;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:8px 20px;background-color:#669987;color:#fff}.print-ing[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;background-color:#669987}',"@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),OY),EY=((MY=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||MY)},MY.\u0275cmp=i.Gb({type:MY,selectors:[["app-print-layout"]],decls:2,vars:0,consts:[[1,"content"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Nb(1,"router-outlet"),i.Qb())},directives:[xp],styles:[".footer[_ngcontent-%COMP%], .footer-space[_ngcontent-%COMP%], .header[_ngcontent-%COMP%], .header-space[_ngcontent-%COMP%]{height:100px}.header[_ngcontent-%COMP%]{position:fixed;top:0}.footer[_ngcontent-%COMP%]{position:fixed;bottom:0}@media screen{.header[_ngcontent-%COMP%], [_nghost-%COMP%]{display:none}.invoiceTable[_ngcontent-%COMP%]{font-size:30px}}@media print{@page{size:A4}}.content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding:64px 80px;size:A4}","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),MY);function IY(t,e){1&t&&i.Nb(0,"div",8)}function RY(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",4),i.Ac(2),i.Qb(),i.Rb(3,"td",5),i.Ac(4),i.Qb(),i.Rb(5,"td",6),i.Ac(6),i.Qb(),i.Rb(7,"td",7),i.Ac(8),i.Qb(),i.Rb(9,"td",4),i.Ac(10),i.Qb(),i.Rb(11,"td",5),i.Ac(12),i.Qb(),i.Rb(13,"td",6),i.Ac(14),i.Qb(),i.Rb(15,"td",7),i.Ac(16),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6]),i.Ab(2),i.Bc(n[7])}}function DY(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,IY,1,0,"div",2),i.Rb(2,"table",3),i.Rb(3,"tr"),i.Rb(4,"th",4),i.Ac(5,"No"),i.Qb(),i.Rb(6,"th",5),i.Ac(7,"X"),i.Qb(),i.Rb(8,"th",6),i.Ac(9,"Y"),i.Qb(),i.Rb(10,"th",7),i.Ac(11,"Z"),i.Qb(),i.Rb(12,"th",4),i.Ac(13,"No"),i.Qb(),i.Rb(14,"th",5),i.Ac(15,"X"),i.Qb(),i.Rb(16,"th",6),i.Ac(17,"Y"),i.Qb(),i.Rb(18,"th",7),i.Ac(19,"Z"),i.Qb(),i.Qb(),i.yc(20,RY,17,8,"tr",1),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(19),i.ic("ngForOf",n)}}var NY,LY=((NY=function(){function t(e,n){_classCallCheck(this,t),this.printService=e,this.countArea=n,this.countCell=0,this.countHead=0,this.countTotal=0,this.bottomCell=50,this.node_dataset=[],this.node_page=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.node_dataset=new Array,this.node_page=new Array}},{key:"ngOnInit",value:function(){var t=this.printService.inputJson;if("node"in t){var e=this.printNode(t);this.node_dataset=e.splid,this.node_page=e.page,this.headerShow=!0,1===e.page&&(this.headerShow=!1),this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(0)}},{key:"ngAfterViewInit",value:function(){}},{key:"printNode",value:function(t){var e=new Array,n=new Array,i=0,r=t.node,o=Object.keys(r),a=!0;if(o.length>2*this.bottomCell)for(;a;){for(var s=0;s<this.bottomCell;s++){var c=["","","","","","","",""],l=i*this.bottomCell*2+s;if(l+1>o.length){a=!1;break}var u=o[l],h=r[u];c[0]=u,c[1]=h.x.toFixed(3),c[2]=h.y.toFixed(3),c[3]=h.z.toFixed(3);var d=l+this.bottomCell;if(d<o.length){var p=o[d],f=r[p];c[4]=p,c[5]=f.x.toFixed(3),c[6]=f.y.toFixed(3),c[7]=f.z.toFixed(3)}e.push(c)}if(0===e.length)break;n.push(e),e=[],i++}else{this.bottomCell=o.length/2;for(var g=Math.ceil(this.bottomCell),m=0;m<g;m++){var v=["","","","","","","",""],b=o[m],_=r[b];if(v[0]=b,v[1]=_.x.toFixed(3),v[2]=_.y.toFixed(3),v[3]=_.z.toFixed(3),o.length<g+m+1)v[4]="",v[5]="",v[6]="",v[7]="";else{var y=o[g+m],C=r[y];v[4]=y,v[5]=C.x.toFixed(3),v[6]=C.y.toFixed(3),v[7]=C.z.toFixed(3)}e.push(v)}n.push(e)}var x=n.slice(-1)[0].length+2;return 0===o.length?this.countHead=0:o.length>0&&(this.countHead=Math.floor(o.length/50*3)+3),this.countTotal=o.length+this.countHead,{page:i,splid:n,this:this.countTotal,last:x}}}]),t}()).\u0275fac=function(t){return new(t||NY)(i.Mb(_O),i.Mb(TY))},NY.\u0275cmp=i.Gb({type:NY,selectors:[["app-print-input-nodes"]],decls:4,vars:1,consts:[[1,"invoicetTable","node"],[4,"ngFor","ngForOf"],["class","pagerBreak",4,"ngIf"],[1,"print-lg"],[1,"id"],[1,"x"],[1,"y"],[1,"z"],[1,"pagerBreak"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"h2"),i.Ac(2,"\u683c\u70b9\u30c7\u30fc\u30bf"),i.Qb(),i.yc(3,DY,21,2,"div",1),i.Qb()),2&t&&(i.Ab(3),i.ic("ngForOf",e.node_dataset))},directives:[q,U],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),NY);function zY(t,e){1&t&&i.Nb(0,"div",3)}function jY(t,e){1&t&&i.Nb(0,"div",3)}function FY(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",5),i.Ac(2),i.Qb(),i.Rb(3,"td",6),i.Ac(4),i.Qb(),i.Rb(5,"td",7),i.Ac(6),i.Qb(),i.Rb(7,"td",8),i.Ac(8),i.Qb(),i.Rb(9,"td",9),i.Ac(10),i.Qb(),i.Rb(11,"td",10),i.Ac(12),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5])}}function qY(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,jY,1,0,"div",0),i.Rb(2,"table",4),i.Rb(3,"tr"),i.Rb(4,"th",5),i.Ac(5,"No"),i.Qb(),i.Rb(6,"th",6),i.Ac(7,"I-TAN"),i.Qb(),i.Rb(8,"th",7),i.Ac(9,"J-TAN"),i.Qb(),i.Rb(10,"th",8),i.Ac(11,"L(m)"),i.Qb(),i.Rb(12,"th",9),i.Ac(13,"\u6750\u6599\u756a\u53f7"),i.Qb(),i.Rb(14,"th",10),i.Ac(15,"\u30b3\u30fc\u30c9\u30a2\u30f3\u30b0\u30eb"),i.Qb(),i.Qb(),i.yc(16,FY,13,6,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(15),i.ic("ngForOf",n)}}var BY,UY=((BY=function(){function t(e,n,i){_classCallCheck(this,t),this.InputData=e,this.printService=n,this.countArea=i,this.countCell=0,this.countHead=0,this.countTotal=0,this.member_dataset=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.member_dataset=new Array,this.member_page=0}},{key:"ngOnInit",value:function(){var t=this.printService.inputJson;if("member"in t){var e=this.printMember(t);this.member_dataset=e.splid,this.member_page=e.page,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(1)}},{key:"ngAfterViewInit",value:function(){}},{key:"printMember",value:function(t){for(var e=new Array,n=new Array,i=0,r=t.member,o=Object.keys(r),a=!0;a;){for(var s=0;s<50;s++){var c=50*i+s,l=["","","","","",""],u=o[c],h=r[u],d=this.InputData.member.getMemberLength(u);if(c+1>o.length){a=!1,this.countHead=3*(i+1);break}l[0]=u,l[1]=h.ni.toString(),l[2]=h.nj.toString(),l[3]=d.toFixed(3),l[4]=h.e.toString(),l[5]=h.cg.toString(),e.push(l)}if(0===e.length)break;n.push(e),e=[],i++}var p=n.slice(-1)[0].length+2;return this.countTotal=o.length+this.countHead+3,{page:i,splid:n,this:this.countTotal,last:p}}}]),t}()).\u0275fac=function(t){return new(t||BY)(i.Mb(bO),i.Mb(_O),i.Mb(TY))},BY.\u0275cmp=i.Gb({type:BY,selectors:[["app-print-input-members"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","member"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[1,"print-lg"],[1,"id"],[1,"I-TAN"],[1,"J-TAN"],[1,"L"],[1,"number"],[1,"code"]],template:function(t,e){1&t&&(i.yc(0,zY,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"\u90e8\u6750\u30c7\u30fc\u30bf"),i.Qb(),i.yc(4,qY,17,2,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.member_dataset))},directives:[U,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),BY);function HY(t,e){1&t&&i.Nb(0,"div",3)}function VY(t,e){1&t&&i.Nb(0,"div",3)}function WY(t,e){1&t&&i.Nb(0,"div",3)}function GY(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",5),i.Ac(2),i.Qb(),i.Rb(3,"td",6),i.Ac(4),i.Qb(),i.Rb(5,"td",7),i.Ac(6),i.Qb(),i.Rb(7,"td",8),i.Ac(8),i.Qb(),i.Rb(9,"td",9),i.Ac(10),i.Qb(),i.Rb(11,"td",12),i.Ac(12),i.Qb(),i.Rb(13,"td",13),i.Ac(14),i.Qb(),i.Rb(15,"td",14),i.Ac(16),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6]),i.Ab(2),i.Bc(n[7])}}function QY(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,WY,1,0,"div",0),i.Rb(2,"table",4),i.Rb(3,"tr"),i.Rb(4,"th",5),i.Ac(5,"No"),i.Qb(),i.Rb(6,"th",6),i.Ac(7,"A"),i.Qb(),i.Rb(8,"th",7),i.Ac(9,"E"),i.Qb(),i.Rb(10,"th",8),i.Ac(11,"G"),i.Qb(),i.Rb(12,"th",9),i.Ac(13,"ESP"),i.Qb(),i.Rb(14,"th",10),i.Ac(15,"\u65ad\u9762\u4e8c\u6b21\u30e2\u30fc\u30e1\u30f3\u30c8"),i.Qb(),i.Rb(16,"th",11),i.Ac(17,"\u306d\u3058\u308a\u525b\u6027"),i.Qb(),i.Qb(),i.Rb(18,"tr"),i.Nb(19,"th",5),i.Rb(20,"th",6),i.Ac(21,"(\u33a1)"),i.Qb(),i.Rb(22,"th",7),i.Ac(23,"(kN/\u33a1)"),i.Qb(),i.Rb(24,"th",8),i.Ac(25,"(kN/\u33a1)"),i.Qb(),i.Nb(26,"th",9),i.Rb(27,"th",12),i.Ac(28,"y\u8ef8\u5468\u308a"),i.Qb(),i.Rb(29,"th",13),i.Ac(30,"z\u8ef8\u5468\u308a"),i.Qb(),i.Nb(31,"th",14),i.Qb(),i.yc(32,GY,17,8,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(31),i.ic("ngForOf",n)}}function YY(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,VY,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,QY,33,2,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc();i.Ab(1),i.ic("ngIf",o.elements_break[r]),i.Ab(2),i.Cc("\u30bf\u30a4\u30d7 ",n,""),i.Ab(1),i.ic("ngForOf",o.elements_table[r])}}var KY,XY=((KY=function(){function t(e,n){_classCallCheck(this,t),this.printService=e,this.countArea=n,this.countCell=0,this.countHead=0,this.countTotal=0,this.reROW=0,this.remainCount=0,this.elements_table=[],this.elements_break=[],this.elements_typeNum=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.elements_table=new Array,this.elements_break=new Array,this.elements_typeNum=new Array}},{key:"ngOnInit",value:function(){var t=this.printService.inputJson;if("element"in t){var e=this.printElement(t);this.elements_table=e.table,this.elements_break=e.break_after,this.elements_typeNum=e.title,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(2)}},{key:"ngAfterViewInit",value:function(){}},{key:"printElement",value:function(t){for(var e=t.element,n=Object.keys(e),i=new Array,r=new Array,o=8,a=0,s=n;a<s.length;a++){var c=s[a],l=e[c],u=new Array;r.push(c.toString());for(var h=new Array,d=0,p=Object.keys(l);d<p.length;d++){var f=p[d],g=l[f],m=["","","","","","","",""];m[0]=f,m[1]=g.A.toFixed(4),m[2]=g.E.toExponential(2),m[3]=g.G.toExponential(2),m[4]=g.Xp.toExponential(2),m[5]=g.Iy.toFixed(6),m[6]=g.Iz.toFixed(6),m[7]=g.J.toFixed(4),h.push(m),++o>54&&(u.push(h),h=[],o=3)}h.length>0&&u.push(h),i.push(u),o=5}for(var v=0,b=0,_=n;b<_.length;b++){var y=_[b];v+=Object.keys(e[y]).length+1}for(var C=v+3*n.length+2*i.length+3,x=new Array,w=8,M=0,O=n;M<O.length;M++){var P=O[M];this.reROW=0;var k=Object.keys(e[P]).length;if((w+=k)<54)x.push(!1),this.reROW=w+5,w+=5;else{"1"===P?x.push(!1):(x.push(!0),w=0);var A=Math.floor(k/54*3+2);this.reROW=w%55,w+=A+k,w%=54,w+=5}}return this.remainCount=this.reROW,{table:i,title:r,this:C,last:this.remainCount,break_after:x}}}]),t}()).\u0275fac=function(t){return new(t||KY)(i.Mb(_O),i.Mb(TY))},KY.\u0275cmp=i.Gb({type:KY,selectors:[["app-print-input-elements"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","elements"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[1,"print-sm"],[1,"id"],[1,"A"],[1,"E"],[1,"G"],[1,"ESP"],["colspan","2",1,"I"],["colspan","2",1,"twist"],[1,"y1"],[1,"I"],[1,"twist"]],template:function(t,e){1&t&&(i.yc(0,HY,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"\u6750\u6599\u30c7\u30fc\u30bf"),i.Qb(),i.yc(4,YY,5,3,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.elements_typeNum))},directives:[U,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),KY);function $Y(t,e){1&t&&i.Nb(0,"div",3)}function JY(t,e){1&t&&i.Nb(0,"div",3)}function ZY(t,e){1&t&&i.Nb(0,"div",3)}function tK(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",5),i.Ac(2),i.Qb(),i.Rb(3,"td",6),i.Ac(4),i.Qb(),i.Rb(5,"td",7),i.Ac(6),i.Qb(),i.Rb(7,"td",8),i.Ac(8),i.Qb(),i.Rb(9,"td",9),i.Ac(10),i.Qb(),i.Rb(11,"td",10),i.Ac(12),i.Qb(),i.Rb(13,"td",11),i.Ac(14),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6])}}function eK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,ZY,1,0,"div",0),i.Rb(2,"table",4),i.Rb(3,"tr"),i.Rb(4,"th",5),i.Ac(5,"\u683c\u70b9No"),i.Qb(),i.Rb(6,"th",6),i.Ac(7,"TX"),i.Qb(),i.Rb(8,"th",7),i.Ac(9,"TY"),i.Qb(),i.Rb(10,"th",8),i.Ac(11,"TZ"),i.Qb(),i.Rb(12,"th",9),i.Ac(13,"RX"),i.Qb(),i.Rb(14,"th",10),i.Ac(15,"RY"),i.Qb(),i.Rb(16,"th",11),i.Ac(17,"RZ"),i.Qb(),i.Qb(),i.Rb(18,"tr"),i.Nb(19,"th",5),i.Rb(20,"th",12),i.Ac(21,"(\u33a1)"),i.Qb(),i.Rb(22,"th",13),i.Ac(23,"(kN/\u33a1)"),i.Qb(),i.Rb(24,"th",14),i.Ac(25,"(kN/\u33a1)"),i.Qb(),i.Nb(26,"th",15),i.Rb(27,"th",16),i.Ac(28,"y\u8ef8\u5468\u308a"),i.Qb(),i.Rb(29,"th",16),i.Ac(30,"z\u8ef8\u5468\u308a"),i.Qb(),i.Nb(31,"th",17),i.Qb(),i.yc(32,tK,15,7,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(31),i.ic("ngForOf",n)}}function nK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,JY,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,eK,33,2,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc();i.Ab(1),i.ic("ngIf",o.fixNode_break[r]),i.Ab(2),i.Cc("\u30bf\u30a4\u30d7 ",n,""),i.Ab(1),i.ic("ngForOf",o.fixNode_table[r])}}var iK,rK=((iK=function(){function t(e,n){_classCallCheck(this,t),this.printService=e,this.countArea=n,this.countCell=0,this.countHead=0,this.countTotal=0,this.reROW=0,this.remainCount=0,this.fixNode_table=[],this.fixNode_break=[],this.fixNode_typeNum=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.fixNode_table=new Array,this.fixNode_break=new Array,this.fixNode_typeNum=new Array}},{key:"ngOnInit",value:function(){var t=this.printService.inputJson;if("fix_node"in t){var e=this.printFixnode(t);this.fixNode_table=e.table,this.fixNode_break=e.break_after,this.fixNode_typeNum=e.title,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(3)}},{key:"ngAfterViewInit",value:function(){}},{key:"printFixnode",value:function(t){for(var e=t.fix_node,n=Object.keys(e),i=new Array,r=new Array,o=8,a=0,s=n;a<s.length;a++){var c=s[a],l=e[c],u=new Array;r.push(c.toString());for(var h=new Array,d=0,p=Object.keys(l);d<p.length;d++){var f=l[p[d]],g=["","","","","","",""];g[0]=f.n.toString(),g[1]=f.tx.toString(),g[2]=f.ty.toString(),g[3]=f.tz.toString(),g[4]=f.rx.toString(),g[5]=f.ry.toString(),g[6]=f.rz.toString(),h.push(g),++o>54&&(u.push(h),h=[],o=3)}h.length>0&&u.push(h),i.push(u),o=5}for(var m=0,v=0,b=n;v<b.length;v++){var _=b[v];m+=Object.keys(e[_]).length}for(var y=m+3*n.length+2*i.length+3,C=new Array,x=8,w=0,M=n;w<M.length;w++){var O=M[w];this.reROW=0;var P=Object.keys(e[O]).length;if((x+=P)<54)C.push(!1),this.reROW=x+5,x+=5;else{"1"===O?C.push(!1):(C.push(!0),x=0);var k=Math.floor(P/54*3+2);this.reROW=x%55,x+=k+P,x%=54,x+=5}}return this.remainCount=this.reROW,{table:i,title:r,this:y,last:this.remainCount,break_after:C}}}]),t}()).\u0275fac=function(t){return new(t||iK)(i.Mb(_O),i.Mb(TY))},iK.\u0275cmp=i.Gb({type:iK,selectors:[["app-print-input-fix-node"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","fixNode"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[1,"print-lg"],[1,"id"],[1,"TX"],[1,"TY"],[1,"TZ"],[1,"RX"],[1,"RY"],[1,"RZ"],[1,"A"],[1,"E"],[1,"G"],[1,"ESP"],[1,"I"],[1,"twist"]],template:function(t,e){1&t&&(i.yc(0,$Y,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"\u652f\u70b9\u30c7\u30fc\u30bf"),i.Qb(),i.yc(4,nK,5,3,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.fixNode_typeNum))},directives:[U,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),iK);function oK(t,e){1&t&&i.Nb(0,"div",3)}function aK(t,e){1&t&&i.Nb(0,"div",3)}function sK(t,e){1&t&&i.Nb(0,"div",3)}function cK(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",5),i.Ac(2),i.Qb(),i.Rb(3,"td",8),i.Ac(4),i.Qb(),i.Rb(5,"td",9),i.Ac(6),i.Qb(),i.Rb(7,"td",10),i.Ac(8),i.Qb(),i.Rb(9,"td",8),i.Ac(10),i.Qb(),i.Rb(11,"td",9),i.Ac(12),i.Qb(),i.Rb(13,"td",10),i.Ac(14),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6])}}function lK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,sK,1,0,"div",0),i.Rb(2,"table",4),i.Rb(3,"tr"),i.Rb(4,"th",5),i.Ac(5,"\u90e8\u6750No"),i.Qb(),i.Rb(6,"th",6),i.Ac(7,"i\u7aef\u5074"),i.Qb(),i.Rb(8,"th",7),i.Ac(9,"j\u7aef\u5074"),i.Qb(),i.Qb(),i.Rb(10,"tr"),i.Nb(11,"th",5),i.Rb(12,"th",8),i.Ac(13,"X"),i.Qb(),i.Rb(14,"th",9),i.Ac(15,"Y"),i.Qb(),i.Rb(16,"th",10),i.Ac(17,"Z"),i.Qb(),i.Rb(18,"th",8),i.Ac(19,"X"),i.Qb(),i.Rb(20,"th",9),i.Ac(21,"Y"),i.Qb(),i.Rb(22,"th",11),i.Ac(23,"Z"),i.Qb(),i.Qb(),i.yc(24,cK,15,7,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(23),i.ic("ngForOf",n)}}function uK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,aK,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,lK,25,2,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc();i.Ab(1),i.ic("ngIf",o.joint_break[r]),i.Ab(2),i.Cc("\u30bf\u30a4\u30d7 ",n,""),i.Ab(1),i.ic("ngForOf",o.joint_table[r])}}var hK,dK=((hK=function(){function t(e,n){_classCallCheck(this,t),this.printService=e,this.countArea=n,this.countCell=0,this.countHead=0,this.countTotal=0,this.reROW=0,this.remainCount=0,this.joint_table=[],this.joint_break=[],this.joint_typeNum=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.joint_table=new Array,this.joint_break=new Array,this.joint_typeNum=new Array}},{key:"ngOnInit",value:function(){var t=this.printService.inputJson;if("joint"in t){var e=this.printjoint(t);this.joint_table=e.table,this.joint_break=e.break_after,this.joint_typeNum=e.title,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(4)}},{key:"ngAfterViewInit",value:function(){}},{key:"printjoint",value:function(t){for(var e=t.joint,n=Object.keys(e),i=new Array,r=new Array,o=7,a=0,s=n;a<s.length;a++){var c=s[a],l=e[c],u=new Array;r.push(c.toString());for(var h=new Array,d=0,p=Object.keys(l);d<p.length;d++){var f=l[p[d]],g=["","","","","","",""];g[0]=f.m,g[1]=f.xi.toFixed(0),g[2]=f.yi.toFixed(0),g[3]=f.zi.toFixed(0),g[4]=f.xj.toFixed(0),g[5]=f.yj.toFixed(0),g[6]=f.zj.toFixed(0),h.push(g),++o>54&&(u.push(h),h=[],o=3)}h.length>0&&u.push(h),i.push(u),o=5}for(var m=0,v=0,b=n;v<b.length;v++){var _=b[v];m+=Object.keys(e[_]).length}for(var y=m+3*n.length+2*i.length+3,C=new Array,x=8,w=0,M=n;w<M.length;w++){var O=M[w];this.reROW=0;var P=Object.keys(e[O]).length;(x+=P)<54?(C.push(!1),this.reROW=x+5,x+=5):("1"===O?C.push(!1):(C.push(!0),x=0),x+=Math.floor(P/54*3+2)+P,x%=54,this.reROW=x%55,x+=5)}return this.remainCount=this.reROW,{table:i,title:r,this:y,last:this.remainCount,break_after:C}}}]),t}()).\u0275fac=function(t){return new(t||hK)(i.Mb(_O),i.Mb(TY))},hK.\u0275cmp=i.Gb({type:hK,selectors:[["app-print-input-joint"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","joint"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[1,"print-lg"],[1,"id"],["colspan","3",1,"i"],["colspan","3",1,"j"],[1,"x"],[1,"y1"],[1,"z"],[1,"j"]],template:function(t,e){1&t&&(i.yc(0,oK,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"\u7d50\u5408\u30c7\u30fc\u30bf"),i.Qb(),i.yc(4,uK,5,3,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.joint_typeNum))},directives:[U,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),hK);function pK(t,e){1&t&&i.Nb(0,"div",3)}function fK(t,e){1&t&&i.Nb(0,"div",3)}function gK(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",5),i.Ac(2),i.Qb(),i.Rb(3,"td",6),i.Ac(4),i.Qb(),i.Rb(5,"td",7),i.Ac(6),i.Qb(),i.Rb(7,"td",8),i.Ac(8),i.Qb(),i.Rb(9,"td",9),i.Ac(10),i.Qb(),i.Rb(11,"td",10),i.Ac(12),i.Qb(),i.Rb(13,"td",11),i.Ac(14),i.Qb(),i.Rb(15,"td",12),i.Ac(16),i.Qb(),i.Rb(17,"td",13),i.Ac(18),i.Qb(),i.Rb(19,"td",14),i.Ac(20),i.Qb(),i.Rb(21,"td",14),i.Ac(22),i.Qb(),i.Rb(23,"td",14),i.Ac(24),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6]),i.Ab(2),i.Bc(n[7]),i.Ab(2),i.Bc(n[8]),i.Ab(2),i.Bc(n[9]),i.Ab(2),i.Bc(n[10]),i.Ab(2),i.Bc(n[11])}}function mK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,fK,1,0,"div",0),i.Rb(2,"table",4),i.Rb(3,"tr"),i.Rb(4,"th",5),i.Ac(5,"\u90e8\u6750No"),i.Qb(),i.Rb(6,"th",6),i.Ac(7,"\u90e8\u6750\u9577"),i.Qb(),i.Rb(8,"th",7),i.Ac(9,"L1"),i.Qb(),i.Rb(10,"th",8),i.Ac(11,"L2"),i.Qb(),i.Rb(12,"th",9),i.Ac(13,"L3"),i.Qb(),i.Rb(14,"th",10),i.Ac(15,"L4"),i.Qb(),i.Rb(16,"th",11),i.Ac(17,"L5"),i.Qb(),i.Rb(18,"th",12),i.Ac(19,"L6"),i.Qb(),i.Rb(20,"th",13),i.Ac(21,"L7"),i.Qb(),i.Rb(22,"th",14),i.Ac(23,"L8"),i.Qb(),i.Rb(24,"th",15),i.Ac(25,"L9"),i.Qb(),i.Rb(26,"th",16),i.Ac(27,"L10"),i.Qb(),i.Qb(),i.yc(28,gK,25,12,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(27),i.ic("ngForOf",n)}}var vK,bK='@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}',_K=((vK=function(){function t(e,n,i){_classCallCheck(this,t),this.InputData=e,this.printService=n,this.countArea=i,this.countCell=0,this.countHead=0,this.countTotal=0,this.notice_dataset=[],this.notice_page=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.notice_dataset=new Array,this.notice_page=new Array}},{key:"ngOnInit",value:function(){var t=this.printService.inputJson;if("notice_points"in t){var e=this.printNoticepoints(t);this.notice_dataset=e.table,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(5)}},{key:"ngAfterViewInit",value:function(){}},{key:"printNoticepoints",value:function(t){for(var e=new Array,n=t.notice_points,i=[],r=1;i.length<n.length;){var o=n.find(function(t){return t.row===r});void 0!==o&&i.push(o),r++}for(var a=new Array,s=6,c=0,l=i;c<l.length;c++){var u=l[c],h=new Array,d=this.InputData.member.getMemberLength(u.m);h.push(null!==d?d.toFixed(3):"");for(var p=0,f=0,g=Object.keys(u.Points);f<g.length;f++){var m=g[f];h.push(u.Points[m].toFixed(3)),10===(p+=1)&&(e.push(h),p=0,(h=new Array).push(""),h.push(""),s++)}p>0&&e.push(h),s>54&&(a.push(e),e=[],s=3),s++}e.length>0&&a.push(e),this.countTotal=i.length+2*a.length;var v=a.slice(-1)[0];return{table:a,this:this.countTotal,last:v.length+2}}}]),t}()).\u0275fac=function(t){return new(t||vK)(i.Mb(bO),i.Mb(_O),i.Mb(TY))},vK.\u0275cmp=i.Gb({type:vK,selectors:[["app-print-input-notice-points"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[1,"print-sm"],[1,"id"],[1,"long"],[1,"L1"],[1,"L2"],[1,"L3"],[1,"L4"],[1,"L5"],[1,"L6"],[1,"L7"],[1,"L8"],[1,"L9"],[1,"L10"]],template:function(t,e){1&t&&(i.yc(0,pK,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"\u7740\u76ee\u70b9"),i.Qb(),i.yc(4,mK,29,2,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.notice_dataset))},directives:[U,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",bK,bK]}),vK);function yK(t,e){1&t&&i.Nb(0,"div",3)}function CK(t,e){1&t&&i.Nb(0,"div",3)}function xK(t,e){1&t&&i.Nb(0,"div",3)}function wK(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",5),i.Ac(2),i.Qb(),i.Rb(3,"td",6),i.Ac(4),i.Qb(),i.Rb(5,"td",7),i.Ac(6),i.Qb(),i.Rb(7,"td",8),i.Ac(8),i.Qb(),i.Rb(9,"td",9),i.Ac(10),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4])}}function MK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,xK,1,0,"div",0),i.Rb(2,"table",4),i.Rb(3,"tr"),i.Rb(4,"th",5),i.Ac(5,"\u90e8\u6750No"),i.Qb(),i.Rb(6,"th",6),i.Ac(7,"TX"),i.Qb(),i.Rb(8,"th",7),i.Ac(9,"TY"),i.Qb(),i.Rb(10,"th",8),i.Ac(11,"TZ"),i.Qb(),i.Rb(12,"th",9),i.Ac(13,"TR"),i.Qb(),i.Qb(),i.Rb(14,"tr"),i.Nb(15,"th",5),i.Rb(16,"th",6),i.Ac(17,"(kN/m)"),i.Qb(),i.Rb(18,"th",7),i.Ac(19,"(kN/m)"),i.Qb(),i.Rb(20,"th",8),i.Ac(21,"(kN/m)"),i.Qb(),i.Rb(22,"th",9),i.Ac(23,"(kN/rad)"),i.Qb(),i.Qb(),i.yc(24,wK,11,5,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(23),i.ic("ngForOf",n)}}function OK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,CK,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,MK,25,2,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc();i.Ab(1),i.ic("ngIf",o.fixMember_break[r]),i.Ab(2),i.Cc("\u30bf\u30a4\u30d7",n,""),i.Ab(1),i.ic("ngForOf",o.fixMember_table[r])}}var PK,kK=((PK=function(){function t(e,n){_classCallCheck(this,t),this.printService=e,this.countArea=n,this.countCell=0,this.countHead=0,this.countTotal=0,this.reROW=0,this.remainCount=0,this.fixMember_table=[],this.fixMember_break=[],this.fixMember_typeNum=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.fixMember_table=new Array,this.fixMember_break=new Array,this.fixMember_typeNum=new Array}},{key:"ngOnInit",value:function(){var t=this.printService.inputJson;if("fix_member"in t){var e=this.printFixmember(t);this.fixMember_table=e.table,this.fixMember_break=e.break_after,this.fixMember_typeNum=e.title,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(6)}},{key:"ngAfterViewInit",value:function(){}},{key:"printFixmember",value:function(t){for(var e=t.fix_member,n=Object.keys(e),i=new Array,r=new Array,o=8,a=0,s=n;a<s.length;a++){var c=s[a],l=e[c],u=new Array;r.push(c.toString());for(var h=new Array,d=0,p=Object.keys(l);d<p.length;d++){var f=l[p[d]],g=["","","","",""];g[0]=f.m,g[1]=f.tx.toString(),g[2]=f.ty.toString(),g[3]=f.tz.toString(),g[4]=f.tr.toString(),h.push(g),++o>54&&(u.push(h),h=[],o=3)}h.length>0&&u.push(h),i.push(u),o=5}for(var m=0,v=0,b=n;v<b.length;v++){var _=b[v];m+=Object.keys(e[_]).length+1}for(var y=m+3*n.length+2*i.length+3,C=new Array,x=8,w=0,M=n;w<M.length;w++){var O=M[w];this.reROW=0;var P=Object.keys(e[O]).length;(x+=P)<54?(C.push(!1),this.reROW=x+5,x+=5):("1"===O?C.push(!1):(C.push(!0),x=0),x+=Math.floor(P/54*3+2)+P,x%=54,this.reROW=x%55,x+=5)}return this.remainCount=this.reROW,{table:i,title:r,this:y,last:this.remainCount,break_after:C}}}]),t}()).\u0275fac=function(t){return new(t||PK)(i.Mb(_O),i.Mb(TY))},PK.\u0275cmp=i.Gb({type:PK,selectors:[["app-print-input-fix-member"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","fixMember"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[1,"print-lg"],[1,"id"],[1,"TX"],[1,"TY"],[1,"TZ"],[1,"TR"]],template:function(t,e){1&t&&(i.yc(0,yK,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"\u30d0\u30cd\u30c7\u30fc\u30bf"),i.Qb(),i.yc(4,OK,5,3,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.fixMember_typeNum))},directives:[U,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),PK);function AK(t,e){1&t&&i.Nb(0,"div",3)}function TK(t,e){1&t&&i.Nb(0,"div",3)}function SK(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",7),i.Ac(2),i.Qb(),i.Rb(3,"td",8),i.Ac(4),i.Qb(),i.Rb(5,"td",9),i.Ac(6),i.Qb(),i.Rb(7,"td",15),i.Ac(8),i.Qb(),i.Rb(9,"td",11),i.Ac(10),i.Qb(),i.Rb(11,"td",12),i.Ac(12),i.Qb(),i.Rb(13,"td",13),i.Ac(14),i.Qb(),i.Rb(15,"td",14),i.Ac(16),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6]),i.Ab(2),i.Bc(n[7])}}function EK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,TK,1,0,"div",0),i.Rb(2,"table",4),i.Rb(3,"tr"),i.Rb(4,"th",5),i.Ac(5,"Case"),i.Qb(),i.Rb(6,"th",6),i.Ac(7,"\u69cb\u9020\u7cfb\u6761\u4ef6"),i.Qb(),i.Qb(),i.Rb(8,"tr"),i.Rb(9,"th",7),i.Ac(10,"No"),i.Qb(),i.Rb(11,"th",8),i.Ac(12,"\u5272\u5897\u4fc2\u6570"),i.Qb(),i.Rb(13,"th",9),i.Ac(14,"\u8a18\u53f7"),i.Qb(),i.Rb(15,"th",10),i.Ac(16,"\u8377\u91cd\u540d\u79f0"),i.Qb(),i.Rb(17,"th",11),i.Ac(18,"\u652f\u70b9"),i.Qb(),i.Rb(19,"th",12),i.Ac(20,"\u65ad\u9762"),i.Qb(),i.Rb(21,"th",13),i.Ac(22,"\u30d0\u30cd"),i.Qb(),i.Rb(23,"th",14),i.Ac(24,"\u7d50\u5408"),i.Qb(),i.Qb(),i.yc(25,SK,17,8,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(24),i.ic("ngForOf",n)}}var IK,RK=((IK=function(){function t(e,n){_classCallCheck(this,t),this.InputData=e,this.countArea=n,this.countCell=0,this.countHead=0,this.countTotal=0,this.loadName_dataset=[],this.loadName_page=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.loadName_dataset=new Array,this.loadName_page=new Array}},{key:"ngOnInit",value:function(){this.InputData.getInputJson(0);var t=this.InputData.load.getLoadNameJson();if(Object.keys(t).length>0){var e=this.printLoadName(t);this.loadName_dataset=e.splid,this.loadName_page=e.page,this.judge=this.countArea.setCurrentY(e.this,e.last),this.countArea.setData(e.empty)}else this.countArea.setData(7)}},{key:"ngAfterViewInit",value:function(){}},{key:"printLoadName",value:function(t){for(var e=new Array,n=new Array,i=0,r=Object.keys(t),o=!0;o;){for(var a=0;a<47;a++){var s=["","","","","",""],c=r[a],l=t[c],u=47*i+a+1;if(0===r.length){this.empty=7,o=!1,this.countHead=3;break}if(1===r.length&&0===a)o=!0;else if(u>r.length){o=!1,this.countHead=2*i;break}var h=null!==l.rate?l.rate:1,d=null!==l.fix_node?l.fix_node:1,p=null!==l.fix_member?l.fix_member:1,f=null!==l.element?l.element:1,g=null!==l.joint?l.joint:1;s[0]=c,s[1]=h.toFixed(4),s[2]=l.symbol,s[3]=l.name,s[4]=d.toString(),s[5]=p.toString(),s[6]=f.toString(),s[7]=g.toString(),e.push(s)}if(0===e.length)break;n.push(e),e=[],i++}var m=n.slice(-1)[0].length+3;return this.countTotal=r.length+this.countHead,{empty:this.empty,page:i,splid:n,this:this.countTotal,last:m}}}]),t}()).\u0275fac=function(t){return new(t||IK)(i.Mb(bO),i.Mb(TY))},IK.\u0275cmp=i.Gb({type:IK,selectors:[["app-print-input-load-name"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","loadBasic"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[1,"print-sm"],["colspan","4",1,"case"],["colspan","4",1,"conditions"],[1,"id"],[1,"k"],[1,"sign"],[1,"name"],[1,"node"],[1,"section"],[1,"spring"],[1,"conection"],[1,"word"]],template:function(t,e){1&t&&(i.yc(0,AK,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"\u57fa\u672c\u8377\u91cd\u30c7\u30fc\u30bf"),i.Qb(),i.yc(4,EK,26,2,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.loadName_dataset))},directives:[U,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),IK);function DK(t,e){1&t&&i.Nb(0,"div",3)}function NK(t,e){1&t&&i.Nb(0,"div",3)}function LK(t,e){1&t&&i.Nb(0,"div",3)}function zK(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",15),i.Ac(2),i.Qb(),i.Rb(3,"td",8),i.Ac(4),i.Qb(),i.Rb(5,"td",9),i.Ac(6),i.Qb(),i.Rb(7,"td",10),i.Ac(8),i.Qb(),i.Rb(9,"td",11),i.Ac(10),i.Qb(),i.Rb(11,"td",12),i.Ac(12),i.Qb(),i.Rb(13,"td",13),i.Ac(14),i.Qb(),i.Rb(15,"td",14),i.Ac(16),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Cc(" ",n[3],""),i.Ab(2),i.Cc(" ",n[4],""),i.Ab(2),i.Cc(" ",n[5],""),i.Ab(2),i.Cc(" ",n[6],""),i.Ab(2),i.Bc(n[7])}}function jK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,LK,1,0,"div",0),i.Rb(2,"table",5),i.Rb(3,"tr"),i.Rb(4,"th",6),i.Ac(5,"\u90e8\u6750\u8377\u91cd"),i.Qb(),i.Rb(6,"th",7),i.Ac(7,"\u90e8\u6750\u756a\u53f7"),i.Qb(),i.Qb(),i.Rb(8,"tr"),i.Rb(9,"th",8),i.Ac(10,"\u30b9\u30bf\u30fc\u30c8"),i.Qb(),i.Rb(11,"th",9),i.Ac(12,"\u30a8\u30f3\u30c9"),i.Qb(),i.Rb(13,"th",10),i.Ac(14,"\u65b9\u5411"),i.Qb(),i.Rb(15,"th",11),i.Ac(16,"\u30de\u30fc\u30af"),i.Qb(),i.Rb(17,"th",12),i.Ac(18,"L1"),i.Qb(),i.Rb(19,"th",13),i.Ac(20,"L2"),i.Qb(),i.Rb(21,"th",14),i.Ac(22,"P1"),i.Qb(),i.Rb(23,"th",14),i.Ac(24,"P2"),i.Qb(),i.Qb(),i.yc(25,zK,17,8,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(24),i.ic("ngForOf",n)}}function FK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,jK,26,2,"div",2),i.Qb()),2&t){var n=e.$implicit;i.Ab(1),i.ic("ngForOf",n)}}function qK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,FK,2,1,"div",2),i.Qb()),2&t){var n=i.dc(2).$implicit;i.Ab(1),i.ic("ngForOf",n)}}function BK(t,e){1&t&&i.Nb(0,"div",3)}function UK(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",15),i.Ac(2),i.Qb(),i.Rb(3,"td",8),i.Ac(4),i.Qb(),i.Rb(5,"td",9),i.Ac(6),i.Qb(),i.Rb(7,"td",10),i.Ac(8),i.Qb(),i.Rb(9,"td",11),i.Ac(10),i.Qb(),i.Rb(11,"td",12),i.Ac(12),i.Qb(),i.Rb(13,"td",13),i.Ac(14),i.Qb(),i.Rb(15,"td",13),i.Ac(16),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Cc(" ",n[0],""),i.Ab(2),i.Cc(" ",n[1],""),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Cc(" ",n[6],""),i.Ab(2),i.Cc(" ",n[7],"")}}function HK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,BK,1,0,"div",0),i.Rb(2,"table",5),i.Rb(3,"tr"),i.Rb(4,"th",15),i.Ac(5,"\u7bc0\u70b9\u8377\u91cd"),i.Qb(),i.Rb(6,"th",8),i.Ac(7,"\u7bc0\u70b9\u756a\u53f7"),i.Qb(),i.Rb(8,"th",9),i.Ac(9,"Fx"),i.Qb(),i.Rb(10,"th",10),i.Ac(11,"Fy"),i.Qb(),i.Rb(12,"th",11),i.Ac(13,"Fz"),i.Qb(),i.Rb(14,"th",12),i.Ac(15,"Mx"),i.Qb(),i.Rb(16,"th",13),i.Ac(17,"My"),i.Qb(),i.Rb(18,"th",14),i.Ac(19,"Mz"),i.Qb(),i.Qb(),i.yc(20,UK,17,8,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(19),i.ic("ngForOf",n)}}function VK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,HK,21,2,"div",2),i.Qb()),2&t){var n=e.$implicit;i.Ab(1),i.ic("ngForOf",n)}}function WK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,VK,2,1,"div",2),i.Qb()),2&t){var n=i.dc(2).$implicit;i.Ab(1),i.ic("ngForOf",n)}}function GK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,qK,2,1,"div",4),i.yc(2,WK,2,1,"div",4),i.Qb()),2&t){var n=i.dc().index;i.Ab(1),i.ic("ngIf",1===n),i.Ab(1),i.ic("ngIf",2===n)}}function QK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,GK,3,2,"div",4),i.Qb()),2&t){var n=e.index;i.Ab(1),i.ic("ngIf",n>0)}}function YK(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,NK,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,QK,2,1,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc();i.Ab(1),i.ic("ngIf",o.load_break[r]),i.Ab(2),i.Bc(n[0]),i.Ab(1),i.ic("ngForOf",n)}}var KK,XK=((KK=function(){function t(e,n){_classCallCheck(this,t),this.printService=e,this.countArea=n,this.countCell=0,this.countHead=0,this.countTotal=0,this.remainCount=0,this.load_title=[],this.load_member=[],this.load_node=[],this.load_data=[],this.load_break=[],this.load_typeNum=[],this.load_titleArray=[],this.mload=[],this.pload=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.load_title=new Array,this.load_member=new Array,this.load_node=new Array,this.load_data=new Array,this.load_break=new Array,this.load_typeNum=new Array,this.load_titleArray=new Array,this.mload=new Array,this.pload=new Array}},{key:"ngOnInit",value:function(){var t=this.printService.inputJson;if("load"in t){var e=this.printLoad(t.load);this.load_data=e.tableData,this.load_break=e.break_after,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(8)}},{key:"ngAfterViewInit",value:function(){}},{key:"printLoad",value:function(t){for(var e,n,i=Object.keys(t),r=new Array,o=3,a=0,s=0,c=0,l=i;c<l.length;c++){var u=l[c],h=t[u];o+=2,e="load_member"in h?(a=h.load_member.length)>54?a+4*Math.floor(a/54)+2:a+4:0,n="load_node"in h?(s=h.load_node.length)>54?s+3*Math.floor(s/54)+2:s+3:0,(o+=e+n)<54?(r.push(!1),o=o,e=0,n=0):54===o?(r.push(!1),o=54,e=0,n=0):(r.push("1"!==u),o=0,o=(e+n)%54)}this.remainCount=o;for(var d=0,p=0,f=0,g=0,m=new Array,v=0,b=i;v<b.length;v++){var _=b[v],y=new Array,C=new Array,x=new Array,w=new Array,M=new Array,O=void 0,P=0,k=0;O="1"===_?7:5,console.log(_+"\u756a\u76ee\u307e\u3067\u7d42\u308f\u308a");var A=t[_];if(d+=(p="load_member"in A?A.load_member.length:0)+(f="load_node"in A?A.load_node.length:0)+2,(p>0||f>0)&&x.push(["Case "+_,A.name]),p>0){this.mload=[];var T,S=_createForOfIteratorHelper(A.load_member);try{for(S.s();!(T=S.n()).done;){var E=T.value,I=["","","","","","","",""];I[0]=E.m1,I[1]=E.m2,I[2]=E.direction,I[3]=E.mark,I[4]=E.L1,I[5]=E.L2,I[6]=null===E.P1?"":E.P1.toFixed(2),I[7]=null===E.P2?"":E.P1.toFixed(2),this.mload.push(I),++O>54&&(y.push(this.mload),this.mload=[],O=4)}}catch(H){S.e(H)}finally{S.f()}this.mload.length>0&&(y.push(this.mload),O=0,O=y.slice(-1)[0].length+3),P+=y.length,w.push(y)}if(O+=2,f>0){this.pload=[];var R,D=_createForOfIteratorHelper(A.load_node);try{for(D.s();!(R=D.n()).done;){var N=R.value,L=null!==N.tx?N.tx:0,z=null!==N.ty?N.ty:0,j=null!==N.tz?N.tz:0,F=null!==N.rx?N.rx:0,q=null!==N.ry?N.ry:0,B=null!==N.rz?N.rz:0,U=["","","","","","","",""];U[0]="",U[1]=N.n.toString(),U[2]=L.toFixed(2),U[3]=z.toFixed(2),U[4]=j.toFixed(2),U[5]=F.toFixed(2),U[6]=q.toFixed(2),U[7]=B.toFixed(2),this.pload.push(U),++O>54&&(C.push(this.pload),this.pload=[],O=4)}}catch(H){D.e(H)}finally{D.f()}this.pload.length>0&&(C.push(this.pload),C.slice(-1)[0]),k+=C.length,M.push(C),console.log(M)}x.push(w,M),m.push(x),0===p&&0===f||(g+=3*P+2*k)}return{tableData:m,this:d+3*i.length+g+3,last:this.remainCount,break_after:r}}}]),t}()).\u0275fac=function(t){return new(t||KK)(i.Mb(_O),i.Mb(TY))},KK.\u0275cmp=i.Gb({type:KK,selectors:[["app-print-input-load"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","loadBasic"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[4,"ngIf"],[1,"print-load"],["colspa","",1,"load"],["colspan","8",1,"number"],[1,"k"],[1,"sign"],[1,"name"],[1,"node"],[1,"section"],[1,"spring"],[1,"conection"],[1,"id"]],template:function(t,e){1&t&&(i.yc(0,DK,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"\u5b9f\u8377\u91cd\u30c7\u30fc\u30bf"),i.Qb(),i.yc(4,YK,5,3,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.load_data))},directives:[U,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),KK);function $K(t,e){1&t&&i.Nb(0,"div",3)}function JK(t,e){1&t&&i.Nb(0,"div",3)}function ZK(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",5),i.Ac(2),i.Qb(),i.Rb(3,"td",6),i.Ac(4),i.Qb(),i.Rb(5,"td",7),i.Ac(6),i.Qb(),i.Rb(7,"td",8),i.Ac(8),i.Qb(),i.Rb(9,"td",9),i.Ac(10),i.Qb(),i.Rb(11,"td",10),i.Ac(12),i.Qb(),i.Rb(13,"td",11),i.Ac(14),i.Qb(),i.Rb(15,"td",12),i.Ac(16),i.Qb(),i.Rb(17,"td",12),i.Ac(18),i.Qb(),i.Rb(19,"td",12),i.Ac(20),i.Qb(),i.Rb(21,"td",12),i.Ac(22),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6]),i.Ab(2),i.Bc(n[7]),i.Ab(2),i.Bc(n[8]),i.Ab(2),i.Bc(n[9]),i.Ab(2),i.Bc(n[10])}}function tX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,JK,1,0,"div",0),i.Rb(2,"table",4),i.Rb(3,"tr"),i.Rb(4,"th",5),i.Ac(5,"DefineNo."),i.Qb(),i.Rb(6,"th",6),i.Ac(7,"C1"),i.Qb(),i.Rb(8,"th",7),i.Ac(9,"C2"),i.Qb(),i.Rb(10,"th",8),i.Ac(11,"C3"),i.Qb(),i.Rb(12,"th",9),i.Ac(13,"C4"),i.Qb(),i.Rb(14,"th",10),i.Ac(15,"C5"),i.Qb(),i.Rb(16,"th",11),i.Ac(17,"C6"),i.Qb(),i.Rb(18,"th",12),i.Ac(19,"C7"),i.Qb(),i.Rb(20,"th",12),i.Ac(21,"C8"),i.Qb(),i.Rb(22,"th",12),i.Ac(23,"C9"),i.Qb(),i.Rb(24,"th",12),i.Ac(25,"C10"),i.Qb(),i.Qb(),i.yc(26,ZK,23,11,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(25),i.ic("ngForOf",n)}}var eX,nX=((eX=function(){function t(e,n){_classCallCheck(this,t),this.printService=e,this.countArea=n,this.countCell=0,this.countHead=0,this.countTotal=0,this.define_dataset=[],this.judge=!1,n.dataExists[9]=!0,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.define_dataset=new Array}},{key:"ngOnInit",value:function(){var t=this.printService.defineJson;if(Object.keys(t).length>0){var e=this.printDefine(t);this.define_dataset=e.splid,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(9)}},{key:"ngAfterViewInit",value:function(){}},{key:"printDefine",value:function(t){for(var e,n=new Array,i=new Array,r=0,o=Object.keys(t);r<o.length;r++){var a=o[r];e="1"===a?5:2;var s=t[a],c=new Array;c.push(a);for(var l=0,u=0,h=Object.keys(s);u<h.length;u++){var d=h[u];c.push(s[d]),10===(l+=1)&&(n.push(c),l=0,(c=new Array).push(""),e++)}l>0&&n.push(c),e>54&&(i.push(n),n=[],e=2),e++}var p;return n.length>0&&i.push(n),0===(p=Object.keys(t).length)?this.countHead=0:p>0&&(this.countHead=Math.floor(p/54*2)+2),this.countTotal=p+this.countHead+3,{splid:i,this:this.countTotal,last:this.countTotal%54}}}]),t}()).\u0275fac=function(t){return new(t||eX)(i.Mb(_O),i.Mb(TY))},eX.\u0275cmp=i.Gb({type:eX,selectors:[["app-print-input-define"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[1,"print-sm"],[1,"id"],[1,"k"],[1,"sign"],[1,"name"],[1,"node"],[1,"section"],[1,"spring"],[1,"conection"]],template:function(t,e){1&t&&(i.yc(0,$K,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"DEFINE\u30c7\u30fc\u30bf"),i.Qb(),i.yc(4,tX,27,2,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.define_dataset))},directives:[U,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),eX);function iX(t,e){1&t&&i.Nb(0,"div",3)}function rX(t,e){1&t&&i.Nb(0,"div",3)}function oX(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",5),i.Ac(2),i.Qb(),i.Rb(3,"td",12),i.Ac(4),i.Qb(),i.Rb(5,"td",7),i.Ac(6),i.Qb(),i.Rb(7,"td",7),i.Ac(8),i.Qb(),i.Rb(9,"td",8),i.Ac(10),i.Qb(),i.Rb(11,"td",9),i.Ac(12),i.Qb(),i.Rb(13,"td",10),i.Ac(14),i.Qb(),i.Rb(15,"td",11),i.Ac(16),i.Qb(),i.Rb(17,"td",11),i.Ac(18),i.Qb(),i.Rb(19,"td",11),i.Ac(20),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6]),i.Ab(2),i.Bc(n[7]),i.Ab(2),i.Bc(n[8]),i.Ab(2),i.Bc(n[9])}}function aX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,rX,1,0,"div",0),i.Rb(2,"table",4),i.Rb(3,"tr"),i.Rb(4,"th",5),i.Ac(5,"CombNo."),i.Qb(),i.Rb(6,"th",6),i.Ac(7,"\u8377\u91cd\u540d\u79f0"),i.Qb(),i.Rb(8,"th",7),i.Ac(9,"C1"),i.Qb(),i.Rb(10,"th",7),i.Ac(11,"C2"),i.Qb(),i.Rb(12,"th",7),i.Ac(13,"C3"),i.Qb(),i.Rb(14,"th",8),i.Ac(15,"C4"),i.Qb(),i.Rb(16,"th",9),i.Ac(17,"C5"),i.Qb(),i.Rb(18,"th",10),i.Ac(19,"C6"),i.Qb(),i.Rb(20,"th",11),i.Ac(21,"C7"),i.Qb(),i.Rb(22,"th",11),i.Ac(23,"C8"),i.Qb(),i.Qb(),i.yc(24,oX,21,10,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(23),i.ic("ngForOf",n)}}var sX,cX=((sX=function(){function t(e,n){_classCallCheck(this,t),this.printService=e,this.countArea=n,this.countCell=0,this.countHead=0,this.countTotal=0,this.comb_tables=[],this.comb_dataset=[],this.comb_page=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.comb_tables=new Array,this.comb_dataset=new Array,this.comb_page=new Array}},{key:"ngOnInit",value:function(){this.comb_tables=[];var t=this.printService.combineJson;if(Object.keys(t).length>0){var e=this.printCombine(t);this.comb_dataset=e.splid,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(10)}},{key:"ngAfterViewInit",value:function(){}},{key:"printCombine",value:function(t){for(var e,n=new Array,i=Object.keys(t).length,r=new Array,o=0,a=Object.keys(t);o<a.length;o++){var s=a[o];e="1"===s?5:2;var c=t[s],l=new Array,u=new Array;l.push(s),u.push(""),l.push("name"in c?c.name:""),u.push(""),"1"==s&&(console.log("2\u756a\u76ee\u306e\u51e6\u7406\u304c\u6b63\u5e38\u306b\u5b8c\u4e86"),console.log("1",l));for(var h=0,d=0,p=Object.keys(c);d<p.length;d++){var f=p[d];"row"!==f&&"name"!==f&&(l.push(f.replace("C","")),u.push(c[f]),10===(h+=1)&&(n.push(l),n.push(u),h=0,l=new Array,u=new Array,l.push(""),u.push(""),l.push(""),u.push(""),e++))}h>0&&(n.push(l),n.push(u)),e>54&&(r.push(n),n=[],e=2),e++}n.length>0&&r.push(n),this.countTotal=2*i;var g=r.slice(-1)[0];return{splid:r,this:this.countTotal,last:g.length}}}]),t}()).\u0275fac=function(t){return new(t||sX)(i.Mb(_O),i.Mb(TY))},sX.\u0275cmp=i.Gb({type:sX,selectors:[["app-print-input-combine"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[1,"print-sm"],[1,"id"],[1,"sign"],[1,"name"],[1,"node"],[1,"section"],[1,"spring"],[1,"conection"],[1,"word"]],template:function(t,e){1&t&&(i.yc(0,iX,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"COMBINE\u30c7\u30fc\u30bf"),i.Qb(),i.yc(4,aX,25,2,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.comb_dataset))},directives:[U,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),sX);function lX(t,e){1&t&&i.Nb(0,"div",3)}function uX(t,e){1&t&&i.Nb(0,"div",3)}function hX(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td",5),i.Ac(2),i.Qb(),i.Rb(3,"td",12),i.Ac(4),i.Qb(),i.Rb(5,"td",7),i.Ac(6),i.Qb(),i.Rb(7,"td",7),i.Ac(8),i.Qb(),i.Rb(9,"td",8),i.Ac(10),i.Qb(),i.Rb(11,"td",9),i.Ac(12),i.Qb(),i.Rb(13,"td",10),i.Ac(14),i.Qb(),i.Rb(15,"td",11),i.Ac(16),i.Qb(),i.Rb(17,"td",11),i.Ac(18),i.Qb(),i.Rb(19,"td",11),i.Ac(20),i.Qb(),i.Rb(21,"td",11),i.Ac(22),i.Qb(),i.Rb(23,"td",11),i.Ac(24),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6]),i.Ab(2),i.Bc(n[7]),i.Ab(2),i.Bc(n[8]),i.Ab(2),i.Bc(n[9]),i.Ab(2),i.Bc(n[10]),i.Ab(2),i.Bc(n[11])}}function dX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,uX,1,0,"div",0),i.Rb(2,"table",4),i.Rb(3,"tr"),i.Rb(4,"th",5),i.Ac(5,"No."),i.Qb(),i.Rb(6,"th",6),i.Ac(7,"\u8377\u91cd\u540d\u79f0"),i.Qb(),i.Rb(8,"th",7),i.Ac(9,"C1"),i.Qb(),i.Rb(10,"th",7),i.Ac(11,"C2"),i.Qb(),i.Rb(12,"th",7),i.Ac(13,"C3"),i.Qb(),i.Rb(14,"th",8),i.Ac(15,"C4"),i.Qb(),i.Rb(16,"th",9),i.Ac(17,"C5"),i.Qb(),i.Rb(18,"th",10),i.Ac(19,"C6"),i.Qb(),i.Rb(20,"th",11),i.Ac(21,"C7"),i.Qb(),i.Rb(22,"th",11),i.Ac(23,"C8"),i.Qb(),i.Rb(24,"th",11),i.Ac(25,"C9"),i.Qb(),i.Rb(26,"th",11),i.Ac(27,"C10"),i.Qb(),i.Qb(),i.yc(28,hX,25,12,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(27),i.ic("ngForOf",n)}}var pX,fX=((pX=function(){function t(e,n){_classCallCheck(this,t),this.printService=e,this.countArea=n,this.countCell=0,this.countHead=0,this.countTotal=0,this.pickup_dataset=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.pickup_dataset=new Array}},{key:"ngOnInit",value:function(){var t=this.printService.pickupJson;if(Object.keys(t).length>0){var e=this.printPickup(t);this.pickup_dataset=e.splid,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(11)}},{key:"ngAfterViewInit",value:function(){}},{key:"printPickup",value:function(t){Object.keys(t);for(var e,n=Object.keys(t),i=new Array,r=new Array,o=0,a=n;o<a.length;o++){var s=a[o];e="1"===s?5:2;var c=t[s],l=new Array;l.push(s),l.push("name"in c?c.name:"");for(var u=0,h=0,d=Object.keys(c);h<d.length;h++){var p=d[h];"row"!==p&&"name"!==p&&(l.push(c[p]),10===(u+=1)&&(i.push(l),u=0,(l=new Array).push(""),e++))}u>0&&i.push(l),e>54&&(r.push(i),i=[],e=2),e++}i.length>0&&r.push(i),this.countTotal=2*n.length;var f=r.slice(-1)[0];return{splid:r,this:this.countTotal,last:f.length}}}]),t}()).\u0275fac=function(t){return new(t||pX)(i.Mb(_O),i.Mb(TY))},pX.\u0275cmp=i.Gb({type:pX,selectors:[["app-print-input-pickup"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","pickup"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[1,"print-sm"],[1,"id"],[1,"sign"],[1,"name"],[1,"node"],[1,"section"],[1,"spring"],[1,"conection"],[1,"word"]],template:function(t,e){1&t&&(i.yc(0,lX,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"PICKUP\u30c7\u30fc\u30bf"),i.Qb(),i.yc(4,dX,29,2,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.pickup_dataset))},directives:[U,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),pX);function gX(t,e){1&t&&i.Nb(0,"div",3)}function mX(t,e){1&t&&i.Nb(0,"div",3)}function vX(t,e){1&t&&i.Nb(0,"div",3)}function bX(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td"),i.Ac(2),i.Qb(),i.Rb(3,"td"),i.Ac(4),i.Qb(),i.Rb(5,"td"),i.Ac(6),i.Qb(),i.Rb(7,"td"),i.Ac(8),i.Qb(),i.Rb(9,"td"),i.Ac(10),i.Qb(),i.Rb(11,"td"),i.Ac(12),i.Qb(),i.Rb(13,"td"),i.Ac(14),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6])}}function _X(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,vX,1,0,"div",0),i.Rb(2,"table",4),i.Rb(3,"tr"),i.Rb(4,"th"),i.Ac(5,"\u7bc0\u70b9"),i.Qb(),i.Rb(6,"th"),i.Ac(7,"X-Disp"),i.Qb(),i.Rb(8,"th"),i.Ac(9,"Y-Disp"),i.Qb(),i.Rb(10,"th"),i.Ac(11,"Z-disp"),i.Qb(),i.Rb(12,"th"),i.Ac(13,"X-Rotation"),i.Qb(),i.Rb(14,"th"),i.Ac(15,"Y-Rotation"),i.Qb(),i.Rb(16,"th"),i.Ac(17,"Z-Rotation"),i.Qb(),i.Qb(),i.Rb(18,"tr"),i.Rb(19,"th"),i.Ac(20,"No."),i.Qb(),i.Rb(21,"th"),i.Ac(22,"(mm)"),i.Qb(),i.Rb(23,"th"),i.Ac(24,"(mm)"),i.Qb(),i.Rb(25,"th"),i.Ac(26,"(mm)"),i.Qb(),i.Rb(27,"th"),i.Ac(28,"(mmrad)"),i.Qb(),i.Rb(29,"th"),i.Ac(30,"(mmrad)"),i.Qb(),i.Rb(31,"th"),i.Ac(32,"(mmrad)"),i.Qb(),i.Qb(),i.yc(33,bX,15,7,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(32),i.ic("ngForOf",n)}}function yX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,mX,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,_X,34,2,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc();i.Ab(1),i.ic("ngIf",o.disg_break[r]),i.Ab(2),i.Bc(n),i.Ab(1),i.ic("ngForOf",o.disg_table[r])}}var CX,xX='@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}',wX=((CX=function(){function t(e,n,i){_classCallCheck(this,t),this.InputData=e,this.ResultData=n,this.countArea=i,this.reROW=0,this.remainCount=0,this.disg_table=[],this.disg_break=[],this.disg_typeNum=[],this.clear()}return _createClass(t,[{key:"clear",value:function(){this.disg_table=new Array,this.disg_break=new Array,this.disg_typeNum=new Array}},{key:"ngOnInit",value:function(){var t=this.ResultData.disg.getDisgJson();void 0===t&&this.countArea.setData(12);var e=this.printDisg(t);this.disg_table=e.table,this.disg_break=e.break_after,this.disg_typeNum=e.title,this.judge=this.countArea.setCurrentY(e.this,e.last)}},{key:"ngAfterViewInit",value:function(){}},{key:"printDisg",value:function(t){for(var e=Object.keys(t),n=new Array,i=new Array,r=0,o=0,a=e;o<a.length;o++){var s=a[o];r="1"===s?8:5;var c=t[s],l=new Array,u=[],h="",d=this.InputData.load.getLoadNameJson(null,s);s in d&&(h=d[s].name,u.push(["Case"+s,h])),i.push(u);for(var p=new Array,f=0,g=Object.keys(c);f<g.length;f++){var m=c[g[f]],v=["","","","","","","",""];v[0]=m.id.toString(),v[1]=m.dx.toFixed(4),v[2]=m.dy.toFixed(4),v[3]=m.dz.toFixed(4),v[4]=m.rx.toFixed(4),v[5]=m.ry.toFixed(4),v[6]=m.rz.toFixed(4),p.push(v),++r>54&&(l.push(p),p=[],r=3)}p.length>0&&l.push(p),n.push(l)}for(var b=0,_=0,y=e;_<y.length;_++){var C=y[_];b+=Object.keys(t[C]).length}for(var x=b+2*e.length+3*n.length+3,w=new Array,M=8,O=0,P=e;O<P.length;O++){var k=P[O];this.reROW=0;var A=Object.keys(t[k]).length;if((M+=A)<54)w.push(!1),this.reROW=M+5,M+=5;else{"1"===k?w.push(!1):(w.push(!0),M=0);var T=Math.floor(A/54*3+2);this.reROW=M%55,M+=T+A,M%=54,M+=5}}return this.remainCount=this.reROW,{table:n,title:i,this:x,last:this.remainCount,break_after:w}}}]),t}()).\u0275fac=function(t){return new(t||CX)(i.Mb(bO),i.Mb(hO),i.Mb(TY))},CX.\u0275cmp=i.Gb({type:CX,selectors:[["app-print-result-disg"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","disg"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[1,"print-lg"]],template:function(t,e){1&t&&(i.yc(0,gX,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"\u5909\u4f4d\u91cf"),i.Qb(),i.yc(4,yX,5,3,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.disg_typeNum))},directives:[U,q],styles:["@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",xX,xX]}),CX);function MX(t,e){1&t&&i.Nb(0,"div",3)}function OX(t,e){1&t&&i.Nb(0,"div",3)}function PX(t,e){1&t&&i.Nb(0,"div",3)}function kX(t,e){1&t&&i.Nb(0,"div",3)}function AX(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td"),i.Ac(2),i.Qb(),i.Rb(3,"td"),i.Ac(4),i.Qb(),i.Rb(5,"td"),i.Ac(6),i.Qb(),i.Rb(7,"td"),i.Ac(8),i.Qb(),i.Rb(9,"td"),i.Ac(10),i.Qb(),i.Rb(11,"td"),i.Ac(12),i.Qb(),i.Rb(13,"td"),i.Ac(14),i.Qb(),i.Rb(15,"td"),i.Ac(16),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6]),i.Ab(2),i.Bc(n[7])}}function TX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,kX,1,0,"div",0),i.Rb(2,"table",5),i.Rb(3,"tr"),i.Rb(4,"th"),i.Ac(5,"\u7bc0\u70b9"),i.Qb(),i.Rb(6,"th"),i.Ac(7,"X-Disp"),i.Qb(),i.Rb(8,"th"),i.Ac(9,"Y-Disp"),i.Qb(),i.Rb(10,"th"),i.Ac(11,"Z-Disp"),i.Qb(),i.Rb(12,"th"),i.Ac(13,"X-Rotation"),i.Qb(),i.Rb(14,"th"),i.Ac(15,"Y-Rotation"),i.Qb(),i.Rb(16,"th"),i.Ac(17,"Z-Rotation"),i.Qb(),i.Rb(18,"th"),i.Ac(19,"comb"),i.Qb(),i.Qb(),i.Rb(20,"tr"),i.Rb(21,"th"),i.Ac(22,"No."),i.Qb(),i.Rb(23,"th"),i.Ac(24,"(mm)"),i.Qb(),i.Rb(25,"th"),i.Ac(26,"(mm)"),i.Qb(),i.Rb(27,"th"),i.Ac(28,"(mm)"),i.Qb(),i.Rb(29,"th"),i.Ac(30,"(mmrad)"),i.Qb(),i.Rb(31,"th"),i.Ac(32,"(mmrad)"),i.Qb(),i.Rb(33,"th"),i.Ac(34,"(mmrad)"),i.Qb(),i.Nb(35,"th"),i.Qb(),i.yc(36,AX,17,8,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(35),i.ic("ngForOf",n)}}function SX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,TX,37,2,"div",2),i.Qb()),2&t){var n=e.$implicit;i.Ab(1),i.ic("ngForOf",n)}}function EX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,SX,2,1,"div",2),i.Qb()),2&t){var n=i.dc().$implicit;i.Ab(1),i.ic("ngForOf",n)}}function IX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,EX,2,1,"div",4),i.Qb()),2&t){var n=e.index;i.Ab(1),i.ic("ngIf",n>0)}}function RX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,PX,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,IX,2,1,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc(2);i.Ab(1),i.ic("ngIf",o.combDisg_type_break[r]),i.Ab(2),i.Bc(n[0]),i.Ab(1),i.ic("ngForOf",n)}}function DX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,OX,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,RX,5,3,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc();i.Ab(1),i.ic("ngIf",o.combDisg_case_break[r]),i.Ab(2),i.Bc(n),i.Ab(1),i.ic("ngForOf",o.combDisg_dataset[r])}}var NX,LX='@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}',zX=((NX=function(){function t(e,n,i){_classCallCheck(this,t),this.InputData=e,this.ResultData=n,this.countArea=i,this.row=0,this.combDisg_dataset=[],this.combDisg_title=[],this.combDisg_case_break=[],this.combDisg_type_break=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.combDisg_dataset=new Array,this.combDisg_title=new Array,this.combDisg_case_break=new Array,this.combDisg_type_break=new Array}},{key:"ngOnInit",value:function(){var t=this.ResultData.combdisg.disgCombine;if(Object.keys(t).length>0){var e=this.printCombDisg(t);this.combDisg_dataset=e.table,this.combDisg_title=e.titleSum,this.combDisg_case_break=e.break_after_case,this.combDisg_type_break=e.break_after_type,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(13)}},{key:"ngAfterViewInit",value:function(){}},{key:"printCombDisg",value:function(t){var e=new Array;new Array;var n=new Array,i=["dx_max","dx_min","dy_max","dy_min","dz_max","dz_min","rx_max","rx_min","ry_max","ry_min","rz_max","rz_min"],r=Object.keys(t),o=[],a=[],s=[],c=[],l=[];this.row=0;for(var u=0,h=r;u<h.length;u++){var d=h[u],p=new Array,f="",g=this.InputData.combine.getCombineJson();d in g&&("name"in g[d]?(f=g[d].name,p.push(["Case"+d,f])):p.push(["Case"+d])),e.push(p);for(var m=[],v=0;v<i.length;v++){this.key=i[v],s.push(this.key);var b=t[d][this.key],_=new Array;this.row=0===v?10:7;for(var y=0,C=Object.keys(b);y<C.length;y++){var x=b[C[y]],w=["","","","","","","",""];w[0]=x.id.toString(),w[1]=x.dx.toFixed(4),w[2]=x.dy.toFixed(4),w[3]=x.dz.toFixed(4),w[4]=x.rx.toFixed(4),w[5]=x.ry.toFixed(4),w[6]=x.rz.toFixed(4),w[7]=x.case,_.push(w),this.row++,this.row>54&&(m.push(_),_=[],this.row=3)}_.length>0&&m.push(_),m.length>0&&(a.push(m),m=[]),c.push(s,a),l.push(c),s=[],a=[],c=[]}o.push(l),l=[]}for(var M=0,O=0,P=0,k=0,A=r;k<A.length;k++){for(var T=A[k],S=0;S<i.length;S++){this.key=i[S];for(var E=t[T],I=E[this.key],R=0,D=Object.keys(I);R<D.length;R++)D[R],P+=Object.keys(I).length;O+=3*Object.keys(E).length}M+=Object.keys(t).length}for(var N=P+M+O+3,L=new Array,z=new Array,j=7,F=10,q=0,B=0,U=0,H=Object.keys(t);U<H.length;U++){for(var V=H[U],W=t[V],G=0;G<i.length;G++)F+=q=Object.keys(W[i[G]]).length,(j+=q)<54?(z.push(!1),j+=5):(0===G?z.push(!1):(z.push(!0),j=0),j+=q+Math.floor(q/54*3+2),j%=54,j+=5);(F+=B+=Object.keys(W).length)<54?(L.push(!1),F+=7):(L.push("1"!==V),F+=q+Math.floor(q/54*3+5),F=j%54,F+=7)}return{titleSum:e,table:o,typeSum:n,break_after_case:L,break_after_type:z,this:N,last:N%54}}}]),t}()).\u0275fac=function(t){return new(t||NX)(i.Mb(bO),i.Mb(hO),i.Mb(TY))},NX.\u0275cmp=i.Gb({type:NX,selectors:[["app-print-result-combine-disg"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","combDisg"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[4,"ngIf"],[1,"print-md"]],template:function(t,e){1&t&&(i.yc(0,MX,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"COMBINE\u3000\u5909\u4f4d\u91cf"),i.Qb(),i.yc(4,DX,5,3,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.combDisg_title))},directives:[U,q],styles:["@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",LX,LX]}),NX);function jX(t,e){1&t&&i.Nb(0,"div",3)}function FX(t,e){1&t&&i.Nb(0,"div",3)}function qX(t,e){1&t&&i.Nb(0,"div",3)}function BX(t,e){1&t&&i.Nb(0,"div",3)}function UX(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td"),i.Ac(2),i.Qb(),i.Rb(3,"td"),i.Ac(4),i.Qb(),i.Rb(5,"td"),i.Ac(6),i.Qb(),i.Rb(7,"td"),i.Ac(8),i.Qb(),i.Rb(9,"td"),i.Ac(10),i.Qb(),i.Rb(11,"td"),i.Ac(12),i.Qb(),i.Rb(13,"td"),i.Ac(14),i.Qb(),i.Rb(15,"td"),i.Ac(16),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6]),i.Ab(2),i.Bc(n[7])}}function HX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,BX,1,0,"div",0),i.Rb(2,"table",5),i.Rb(3,"tr"),i.Rb(4,"th"),i.Ac(5,"\u7bc0\u70b9"),i.Qb(),i.Rb(6,"th"),i.Ac(7,"X-Disp"),i.Qb(),i.Rb(8,"th"),i.Ac(9,"Y-Disp"),i.Qb(),i.Rb(10,"th"),i.Ac(11,"Z-Disp"),i.Qb(),i.Rb(12,"th"),i.Ac(13,"X-Rotation"),i.Qb(),i.Rb(14,"th"),i.Ac(15,"Y-Rotation"),i.Qb(),i.Rb(16,"th"),i.Ac(17,"Z-Rotation"),i.Qb(),i.Rb(18,"th"),i.Ac(19,"comb"),i.Qb(),i.Qb(),i.Rb(20,"tr"),i.Rb(21,"th"),i.Ac(22,"No."),i.Qb(),i.Rb(23,"th"),i.Ac(24,"(mm)"),i.Qb(),i.Rb(25,"th"),i.Ac(26,"(mm)"),i.Qb(),i.Rb(27,"th"),i.Ac(28,"(mm)"),i.Qb(),i.Rb(29,"th"),i.Ac(30,"(mmrad)"),i.Qb(),i.Rb(31,"th"),i.Ac(32,"(mmrad)"),i.Qb(),i.Rb(33,"th"),i.Ac(34,"(mmrad)"),i.Qb(),i.Nb(35,"th"),i.Qb(),i.yc(36,UX,17,8,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(35),i.ic("ngForOf",n)}}function VX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,HX,37,2,"div",2),i.Qb()),2&t){var n=e.$implicit;i.Ab(1),i.ic("ngForOf",n)}}function WX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,VX,2,1,"div",2),i.Qb()),2&t){var n=i.dc().$implicit;i.Ab(1),i.ic("ngForOf",n)}}function GX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,WX,2,1,"div",4),i.Qb()),2&t){var n=e.index;i.Ab(1),i.ic("ngIf",n>0)}}function QX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,qX,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,GX,2,1,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc(2);i.Ab(1),i.ic("ngIf",o.pickDisg_type_break[r]),i.Ab(2),i.Bc(n[0]),i.Ab(1),i.ic("ngForOf",n)}}function YX(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,FX,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,QX,5,3,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc();i.Ab(1),i.ic("ngIf",o.pickDisg_case_break[r]),i.Ab(2),i.Bc(n),i.Ab(1),i.ic("ngForOf",o.pickDisg_dataset[r])}}var KX,XX=((KX=function(){function t(e,n,i){_classCallCheck(this,t),this.InputData=e,this.ResultData=n,this.countArea=i,this.row=0,this.pickDisg_dataset=[],this.pickDisg_title=[],this.pickDisg_case_break=[],this.pickDisg_type_break=[],this.clear()}return _createClass(t,[{key:"clear",value:function(){this.pickDisg_dataset=new Array,this.pickDisg_title=new Array,this.pickDisg_case_break=new Array,this.pickDisg_type_break=new Array}},{key:"ngOnInit",value:function(){var t=this.ResultData.pickdisg.disgPickup;if(Object.keys(t).length>0){var e=this.printPickDisg(t);this.pickDisg_dataset=e.splid,this.pickDisg_title=e.titleSum,this.pickDisg_case_break=e.break_after_case,this.pickDisg_type_break=e.break_after_type,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(14)}},{key:"ngAfterViewInit",value:function(){}},{key:"printPickDisg",value:function(t){var e=new Array;new Array;var n=new Array,i=["dx_max","dx_min","dy_max","dy_min","dz_max","dz_min","rx_max","rx_min","ry_max","ry_min","rz_max","rz_min"],r=Object.keys(t),o=new Array,a=new Array,s=new Array,c=new Array,l=new Array;this.row=0;for(var u=0,h=r;u<h.length;u++){var d=h[u],p=[],f="",g=this.InputData.combine.getCombineJson();d in g&&("name"in g[d]?(f=g[d].name,p.push(["Case"+d,f])):p.push(["Case"+d])),e.push(p);var m=new Array;new Array;for(var v=0;v<i.length;v++){this.key=i[v],c.push(this.key);var b=t[d][this.key],_=new Array;this.row=0===v?10:7;for(var y=0,C=Object.keys(b);y<C.length;y++){var x=b[C[y]],w=["","","","","","","",""];w[0]=x.id.toString(),w[1]=x.dx.toFixed(4),w[2]=x.dy.toFixed(4),w[3]=x.dz.toFixed(4),w[4]=x.rx.toFixed(4),w[5]=x.ry.toFixed(4),w[6]=x.rz.toFixed(4),w[7]=x.case,_.push(w),this.row++,this.row>54&&(m.push(_),_=[],this.row=3)}_.length>0&&m.push(_),m.length>0&&(a.push(m),m=[]),s.push(c,a),l.push(s),c=[],a=[],s=[]}o.push(l),l=[]}for(var M=0,O=0,P=0,k=0,A=r;k<A.length;k++){for(var T=A[k],S=0;S<i.length;S++){this.key=i[S];for(var E=t[T],I=E[this.key],R=0,D=Object.keys(I);R<D.length;R++)D[R],P+=Object.keys(I).length;O+=3*Object.keys(E).length}M+=Object.keys(t).length}for(var N=P+M+O+3,L=new Array,z=new Array,j=7,F=10,q=0,B=0,U=0,H=Object.keys(t);U<H.length;U++){for(var V=H[U],W=t[V],G=0;G<i.length;G++)F+=q=Object.keys(W[i[G]]).length,(j+=q)<54?(z.push(!1),j+=5):(0===G?z.push(!1):(z.push(!0),j=0),j+=q+Math.floor(q/54*3+2),j%=54,j+=5);(F+=B+=Object.keys(W).length)<54?(L.push(!1),F+=7):(L.push("1"!==V),F+=q+Math.floor(q/54*3+5),F=j%54,F+=7)}return{titleSum:e,splid:o,typeSum:n,break_after_case:L,break_after_type:z,this:N,last:N%54}}}]),t}()).\u0275fac=function(t){return new(t||KX)(i.Mb(bO),i.Mb(hO),i.Mb(TY))},KX.\u0275cmp=i.Gb({type:KX,selectors:[["app-print-result-pickup-disg"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","pickDisg"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[4,"ngIf"],[1,"print-md"]],template:function(t,e){1&t&&(i.yc(0,jX,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"PICKUP \u5909\u4f4d\u91cf"),i.Qb(),i.yc(4,YX,5,3,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.pickDisg_title))},directives:[U,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),KX);function $X(t,e){1&t&&i.Nb(0,"div",3)}function JX(t,e){1&t&&i.Nb(0,"div",3)}function ZX(t,e){1&t&&i.Nb(0,"div",3)}function t$(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td"),i.Ac(2),i.Qb(),i.Rb(3,"td"),i.Ac(4),i.Qb(),i.Rb(5,"td"),i.Ac(6),i.Qb(),i.Rb(7,"td"),i.Ac(8),i.Qb(),i.Rb(9,"td"),i.Ac(10),i.Qb(),i.Rb(11,"td"),i.Ac(12),i.Qb(),i.Rb(13,"td"),i.Ac(14),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6])}}function e$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,ZX,1,0,"div",0),i.Rb(2,"table",4),i.Rb(3,"tr"),i.Rb(4,"th"),i.Ac(5,"SUPPORT"),i.Qb(),i.Rb(6,"th"),i.Ac(7,"TX"),i.Qb(),i.Rb(8,"th"),i.Ac(9,"TY"),i.Qb(),i.Rb(10,"th"),i.Ac(11,"TZ"),i.Qb(),i.Rb(12,"th"),i.Ac(13,"MX"),i.Qb(),i.Rb(14,"th"),i.Ac(15,"MY"),i.Qb(),i.Rb(16,"th"),i.Ac(17,"MZ"),i.Qb(),i.Qb(),i.yc(18,t$,15,7,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(17),i.ic("ngForOf",n)}}function n$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,JX,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,e$,19,2,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc();i.Ab(1),i.ic("ngIf",o.reac_break[r]),i.Ab(2),i.Bc(n),i.Ab(1),i.ic("ngForOf",o.reac_table[r])}}var i$,r$='@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}',o$=((i$=function(){function t(e,n,i){_classCallCheck(this,t),this.InputData=e,this.ResultData=n,this.countArea=i,this.reROW=0,this.remainCount=0,this.reac_table=[],this.reac_break=[],this.reac_typeNum=[],this.clear()}return _createClass(t,[{key:"clear",value:function(){this.reac_table=new Array,this.reac_break=new Array,this.reac_typeNum=new Array}},{key:"ngOnInit",value:function(){var t=this.ResultData.reac.getReacJson(),e=this.printReact(t);this.reac_table=e.table,this.reac_break=e.break_after,this.reac_typeNum=e.title,this.judge=this.countArea.setCurrentY(e.this,e.last)}},{key:"ngAfterViewInit",value:function(){}},{key:"printReact",value:function(t){for(var e=Object.keys(t),n=new Array,i=new Array,r=0,o=0,a=e;o<a.length;o++){var s=a[o];r="1"===s?7:4;var c=t[s],l=new Array,u=[],h="",d=this.InputData.load.getLoadNameJson(null,s);s in d&&(h=d[s].name,u.push(["Case"+s,h])),i.push(u);for(var p=new Array,f=0,g=Object.keys(c);f<g.length;f++){var m=c[g[f]],v=["","","","","","","",""];v[0]=m.id.toString(),v[1]=m.tx,v[2]=m.ty,v[3]=m.tz,v[4]=m.mx,v[5]=m.my,v[6]=m.mz,p.push(v),++r>54&&(l.push(p),p=[],r=2)}p.length>0&&l.push(p),n.push(l)}for(var b=0,_=0,y=e;_<y.length;_++){var C=y[_];b+=Object.keys(t[C]).length}for(var x=b+2*e.length+2*n.length+3,w=new Array,M=7,O=0,P=e;O<P.length;O++){var k=P[O];this.reROW=0;var A=Object.keys(t[k]).length;if((M+=A)<54)w.push(!1),this.reROW=M+4,M+=4;else{"1"===k?w.push(!1):(w.push(!0),M=0);var T=Math.floor(A/54*2+2);this.reROW=M%55,M+=T+A,M%=54,M+=4}}return this.remainCount=this.reROW,{table:n,title:i,this:x,last:this.remainCount,break_after:w}}}]),t}()).\u0275fac=function(t){return new(t||i$)(i.Mb(bO),i.Mb(hO),i.Mb(TY))},i$.\u0275cmp=i.Gb({type:i$,selectors:[["app-print-result-reac"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","reac"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[1,"print-lg"]],template:function(t,e){1&t&&(i.yc(0,$X,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"\u53cd\u529b"),i.Qb(),i.yc(4,n$,5,3,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.reac_typeNum))},directives:[U,q],styles:["@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",r$,r$]}),i$);function a$(t,e){1&t&&i.Nb(0,"div",3)}function s$(t,e){1&t&&i.Nb(0,"div",3)}function c$(t,e){1&t&&i.Nb(0,"div",3)}function l$(t,e){1&t&&i.Nb(0,"div",3)}function u$(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td"),i.Ac(2),i.Qb(),i.Rb(3,"td"),i.Ac(4),i.Qb(),i.Rb(5,"td"),i.Ac(6),i.Qb(),i.Rb(7,"td"),i.Ac(8),i.Qb(),i.Rb(9,"td"),i.Ac(10),i.Qb(),i.Rb(11,"td"),i.Ac(12),i.Qb(),i.Rb(13,"td"),i.Ac(14),i.Qb(),i.Rb(15,"td"),i.Ac(16),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6]),i.Ab(2),i.Bc(n[7])}}function h$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,l$,1,0,"div",0),i.Rb(2,"table",5),i.Rb(3,"tr"),i.Rb(4,"th"),i.Ac(5,"SUPPORT"),i.Qb(),i.Rb(6,"th"),i.Ac(7,"TX"),i.Qb(),i.Rb(8,"th"),i.Ac(9,"TY"),i.Qb(),i.Rb(10,"th"),i.Ac(11,"TZ"),i.Qb(),i.Rb(12,"th"),i.Ac(13,"MX"),i.Qb(),i.Rb(14,"th"),i.Ac(15,"MY"),i.Qb(),i.Rb(16,"th"),i.Ac(17,"MZ"),i.Qb(),i.Rb(18,"th"),i.Ac(19,"comb"),i.Qb(),i.Qb(),i.yc(20,u$,17,8,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(19),i.ic("ngForOf",n)}}function d$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,h$,21,2,"div",2),i.Qb()),2&t){var n=e.$implicit;i.Ab(1),i.ic("ngForOf",n)}}function p$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,d$,2,1,"div",2),i.Qb()),2&t){var n=i.dc().$implicit;i.Ab(1),i.ic("ngForOf",n)}}function f$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,p$,2,1,"div",4),i.Qb()),2&t){var n=e.index;i.Ab(1),i.ic("ngIf",n>0)}}function g$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,c$,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,f$,2,1,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc(2);i.Ab(1),i.ic("ngIf",o.combReac_type_break[r]),i.Ab(2),i.Bc(n[0]),i.Ab(1),i.ic("ngForOf",n)}}function m$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,s$,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,g$,5,3,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc();i.Ab(1),i.ic("ngIf",o.combReac_case_break[r]),i.Ab(2),i.Bc(n),i.Ab(1),i.ic("ngForOf",o.combReac_dataset[r])}}var v$,b$='@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}',_$=((v$=function(){function t(e,n,i){_classCallCheck(this,t),this.InputData=e,this.ResultData=n,this.countArea=i,this.row=0,this.combReac_dataset=[],this.combReac_title=[],this.combReac_case_break=[],this.combReac_type_break=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.combReac_dataset=new Array,this.combReac_title=new Array,this.combReac_case_break=new Array,this.combReac_type_break=new Array}},{key:"ngOnInit",value:function(){var t=this.ResultData.combreac.reacCombine;if(Object.keys(t).length>0){var e=this.printCombReact(t);this.combReac_dataset=e.splid,this.combReac_title=e.titleSum,this.combReac_case_break=e.break_after_case,this.combReac_type_break=e.break_after_type,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(16)}},{key:"ngAfterViewInit",value:function(){}},{key:"printCombReact",value:function(t){var e=new Array,n=(new Array,new Array),i=["tx_max","tx_min","ty_max","ty_min","tz_max","tz_min","mx_max","mx_min","my_max","my_min","mz_max","mz_min"],r=Object.keys(t),o=new Array,a=new Array,s=new Array,c=new Array,l=new Array;this.row=0;for(var u=0,h=r;u<h.length;u++){var d=h[u],p=new Array,f="",g=this.InputData.combine.getCombineJson();d in g&&("name"in g[d]?(f=g[d].name,p.push(["Case"+d,f])):p.push(["Case"+d])),e.push(p);var m=new Array;new Array;for(var v=0;v<i.length;v++){this.key=i[v],s.push(this.key);var b=t[d][this.key],_=new Array;this.row=0===v?9:6;for(var y=0,C=Object.keys(b);y<C.length;y++){var x=b[C[y]],w=["","","","","","","",""];w[0]=x.id.toString(),w[1]=x.tx.toFixed(2),w[2]=x.ty.toFixed(2),w[3]=x.tz.toFixed(2),w[4]=x.mx.toFixed(2),w[5]=x.my.toFixed(2),w[6]=x.mz.toFixed(2),w[7]=x.case,_.push(w),this.row++,this.row>54&&(m.push(_),_=[],this.row=2)}_.length>0&&m.push(_),m.length>0&&(a.push(m),m=[]),c.push(s,a),l.push(c),a=[],s=[],c=[]}o.push(l),l=[]}for(var M=0,O=0,P=0,k=0,A=r;k<A.length;k++){for(var T=A[k],S=0;S<i.length;S++){this.key=i[S];for(var E=t[T],I=E[this.key],R=0,D=Object.keys(I);R<D.length;R++)D[R],P+=Object.keys(I).length;O+=3*Object.keys(E).length}M+=Object.keys(t).length}for(var N=P+M+O+3,L=new Array,z=new Array,j=4,F=9,q=0,B=0,U=0,H=Object.keys(t);U<H.length;U++){for(var V=H[U],W=t[V],G=0;G<i.length;G++)F+=q=Object.keys(W[i[G]]).length,(j+=q)<54?(z.push(!1),j+=4):(0===G?z.push(!1):(z.push(!0),j=0),j+=q+Math.floor(q/54*2+2),j%=54,j+=4);(F+=B+=Object.keys(W).length)<54?(L.push(!1),F+=6):(L.push("1"!==V),F+=q+Math.floor(q/54*2+5),F=j%54,F+=6)}return{titleSum:e,splid:o,typeSum:n,break_after_case:L,break_after_type:z,this:N,last:N%54}}}]),t}()).\u0275fac=function(t){return new(t||v$)(i.Mb(bO),i.Mb(hO),i.Mb(TY))},v$.\u0275cmp=i.Gb({type:v$,selectors:[["app-print-result-combine-reac"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","reacCombine"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[4,"ngIf"],[1,"print-lg"]],template:function(t,e){1&t&&(i.yc(0,a$,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"COMBINE \u53cd\u529b"),i.Qb(),i.yc(4,m$,5,3,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.combReac_title))},directives:[U,q],styles:["@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",b$,b$]}),v$);function y$(t,e){1&t&&i.Nb(0,"div",3)}function C$(t,e){1&t&&i.Nb(0,"div",3)}function x$(t,e){1&t&&i.Nb(0,"div",3)}function w$(t,e){1&t&&i.Nb(0,"div",3)}function M$(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td"),i.Ac(2),i.Qb(),i.Rb(3,"td"),i.Ac(4),i.Qb(),i.Rb(5,"td"),i.Ac(6),i.Qb(),i.Rb(7,"td"),i.Ac(8),i.Qb(),i.Rb(9,"td"),i.Ac(10),i.Qb(),i.Rb(11,"td"),i.Ac(12),i.Qb(),i.Rb(13,"td"),i.Ac(14),i.Qb(),i.Rb(15,"td"),i.Ac(16),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6]),i.Ab(2),i.Bc(n[7])}}function O$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,w$,1,0,"div",0),i.Rb(2,"table",5),i.Rb(3,"tr"),i.Rb(4,"th"),i.Ac(5,"SUPPORT"),i.Qb(),i.Rb(6,"th"),i.Ac(7,"TX"),i.Qb(),i.Rb(8,"th"),i.Ac(9,"TY"),i.Qb(),i.Rb(10,"th"),i.Ac(11,"TZ"),i.Qb(),i.Rb(12,"th"),i.Ac(13,"MX"),i.Qb(),i.Rb(14,"th"),i.Ac(15,"MY"),i.Qb(),i.Rb(16,"th"),i.Ac(17,"MZ"),i.Qb(),i.Rb(18,"th"),i.Ac(19,"comb"),i.Qb(),i.Qb(),i.yc(20,M$,17,8,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(19),i.ic("ngForOf",n)}}function P$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,O$,21,2,"div",2),i.Qb()),2&t){var n=e.$implicit;i.Ab(1),i.ic("ngForOf",n)}}function k$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,P$,2,1,"div",2),i.Qb()),2&t){var n=i.dc().$implicit;i.Ab(1),i.ic("ngForOf",n)}}function A$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,k$,2,1,"div",4),i.Qb()),2&t){var n=e.index;i.Ab(1),i.ic("ngIf",n>0)}}function T$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,x$,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,A$,2,1,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc(2);i.Ab(1),i.ic("ngIf",o.pickReac_type_break[r]),i.Ab(2),i.Bc(n[0]),i.Ab(1),i.ic("ngForOf",n)}}function S$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,C$,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,T$,5,3,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc();i.Ab(1),i.ic("ngIf",o.pickReac_case_break[r]),i.Ab(2),i.Bc(n),i.Ab(1),i.ic("ngForOf",o.pickReac_dataset[r])}}var E$,I$=((E$=function(){function t(e,n,i){_classCallCheck(this,t),this.InputData=e,this.ResultData=n,this.countArea=i,this.row=0,this.pickReac_datase=[],this.pickReac_dataset=[],this.pickReac_title=[],this.pickReac_type=[],this.pickReac_case_break=[],this.pickReac_type_break=[],this.judge=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this.ResultData.pickreac.reacPickup;if(Object.keys(t).length>0){var e=this.printPickReact(t);this.pickReac_dataset=e.splid,this.pickReac_title=e.titleSum,this.pickReac_case_break=e.break_after_case,this.pickReac_type_break=e.break_after_type,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(17)}},{key:"ngAfterViewInit",value:function(){}},{key:"printPickReact",value:function(t){var e=[],n=(new Array,["tx_max","tx_min","ty_max","ty_min","tz_max","tz_min","mx_max","mx_min","my_max","my_min","mz_max","mz_min"]),i=Object.keys(t),r=[],o=[],a=[],s=[],c=[];this.row=0;for(var l=0,u=i;l<u.length;l++){var h=u[l],d=[],p="",f=this.InputData.combine.getCombineJson();h in f&&("name"in f[h]?(p=f[h].name,d.push(["Case"+h,p])):d.push(["Case"+h])),e.push(d);for(var g=[],m=0;m<n.length;m++){this.key=n[m],s.push(this.key);var v=t[h][this.key],b=[];this.row=0===m?9:6;for(var _=0,y=Object.keys(v);_<y.length;_++){var C=v[y[_]],x=["","","","","","","",""];x[0]=C.id.toString(),x[1]=C.tx.toFixed(2),x[2]=C.ty.toFixed(2),x[3]=C.tz.toFixed(2),x[4]=C.mx.toFixed(2),x[5]=C.my.toFixed(2),x[6]=C.mz.toFixed(2),x[7]=C.case,b.push(x),this.row++,this.row>54&&(g.push(b),b=[],this.row=2)}b.length>0&&g.push(b),g.length>0&&(o.push(g),g=[]),a.push(s,o),c.push(a),s=[],o=[],a=[]}r.push(c),c=[]}for(var w=0,M=0,O=0,P=0,k=i;P<k.length;P++){for(var A=k[P],T=0;T<n.length;T++){this.key=n[T];for(var S=t[A],E=S[this.key],I=0,R=Object.keys(E);I<R.length;I++)R[I],O+=Object.keys(E).length;M+=3*Object.keys(S).length}w+=Object.keys(t).length}for(var D=O+w+M+3,N=new Array,L=new Array,z=4,j=9,F=0,q=0,B=0,U=Object.keys(t);B<U.length;B++){for(var H=U[B],V=t[H],W=0;W<n.length;W++)j+=F=Object.keys(V[n[W]]).length,(z+=F)<54?(L.push(!1),z+=4):(0===W?L.push(!1):(L.push(!0),z=0),z+=F+Math.floor(F/54*2+2),z%=54,z+=4);(j+=q+=Object.keys(V).length)<54?(N.push(!1),j+=6):(N.push("1"!==H),j+=F+Math.floor(F/54*2+5),j=z%54,j+=6)}return{titleSum:e,splid:r,typeSum:[],break_after_case:N,break_after_type:L,this:D,last:D%54}}}]),t}()).\u0275fac=function(t){return new(t||E$)(i.Mb(bO),i.Mb(hO),i.Mb(TY))},E$.\u0275cmp=i.Gb({type:E$,selectors:[["app-print-result-pickup-reac"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","reacCombine"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[4,"ngIf"],[1,"print-sm"]],template:function(t,e){1&t&&(i.yc(0,y$,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"PICKUP \u53cd\u529b"),i.Qb(),i.yc(4,S$,5,3,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.pickReac_title))},directives:[U,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),E$);function R$(t,e){1&t&&i.Nb(0,"div",3)}function D$(t,e){1&t&&i.Nb(0,"div",3)}function N$(t,e){1&t&&i.Nb(0,"div",3)}function L$(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td"),i.Ac(2),i.Qb(),i.Rb(3,"td"),i.Ac(4),i.Qb(),i.Rb(5,"td"),i.Ac(6),i.Qb(),i.Rb(7,"td"),i.Ac(8),i.Qb(),i.Rb(9,"td"),i.Ac(10),i.Qb(),i.Rb(11,"td"),i.Ac(12),i.Qb(),i.Rb(13,"td"),i.Ac(14),i.Qb(),i.Rb(15,"td"),i.Ac(16),i.Qb(),i.Rb(17,"td"),i.Ac(18),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6]),i.Ab(2),i.Bc(n[7]),i.Ab(2),i.Bc(n[8])}}function z$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,N$,1,0,"div",0),i.Rb(2,"table",4),i.Rb(3,"tr"),i.Rb(4,"th"),i.Ac(5,"\u90e8\u6750"),i.Qb(),i.Rb(6,"th"),i.Ac(7,"\u7bc0\u70b9"),i.Qb(),i.Nb(8,"th"),i.Rb(9,"th"),i.Ac(10,"FX"),i.Qb(),i.Rb(11,"th"),i.Ac(12,"FY"),i.Qb(),i.Rb(13,"th"),i.Ac(14,"FZ"),i.Qb(),i.Rb(15,"th"),i.Ac(16,"MX"),i.Qb(),i.Rb(17,"th"),i.Ac(18,"MY"),i.Qb(),i.Rb(19,"th"),i.Ac(20,"MZ"),i.Qb(),i.Qb(),i.Rb(21,"tr"),i.Rb(22,"th"),i.Ac(23,"No."),i.Qb(),i.Rb(24,"th"),i.Ac(25,"No."),i.Qb(),i.Rb(26,"th"),i.Ac(27,"DIST"),i.Qb(),i.Rb(28,"th"),i.Ac(29,"(kN)"),i.Qb(),i.Rb(30,"th"),i.Ac(31,"(kN)"),i.Qb(),i.Rb(32,"th"),i.Ac(33,"(kN)"),i.Qb(),i.Rb(34,"th"),i.Ac(35,"(kN\u30fbm)"),i.Qb(),i.Rb(36,"th"),i.Ac(37,"(kN\u30fbm)"),i.Qb(),i.Rb(38,"th"),i.Ac(39,"(kN\u30fbm)"),i.Qb(),i.Qb(),i.yc(40,L$,19,9,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(39),i.ic("ngForOf",n)}}function j$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,D$,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,z$,41,2,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc();i.Ab(1),i.ic("ngIf",o.fsec_break[r]),i.Ab(2),i.Bc(n),i.Ab(1),i.ic("ngForOf",o.fsec_table[r])}}var F$,q$='@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}',B$=((F$=function(){function t(e,n,i){_classCallCheck(this,t),this.InputData=e,this.ResultData=n,this.countArea=i,this.reROW=0,this.remainCount=0,this.fsec_table=[],this.fsec_break=[],this.fsec_typeNum=[],this.clear()}return _createClass(t,[{key:"clear",value:function(){this.fsec_table=new Array,this.fsec_break=new Array,this.fsec_typeNum=new Array}},{key:"ngOnInit",value:function(){var t=this.ResultData.fsec.getFsecJson(),e=this.printForce(t);this.fsec_table=e.table,this.fsec_break=e.break_after,this.fsec_typeNum=e.title,this.judge=this.countArea.setCurrentY(e.this,e.last)}},{key:"ngAfterViewInit",value:function(){}},{key:"printForce",value:function(t){for(var e=Object.keys(t),n=new Array,i=new Array,r=0,o=0,a=e;o<a.length;o++){var s=a[o];r="1"===s?8:5;var c=t[s],l=new Array,u=[],h="",d=this.InputData.load.getLoadNameJson(null,s);s in d&&(h=d[s].name,u.push(["Case"+s,h])),i.push(u);for(var p=new Array,f=0,g=Object.keys(c);f<g.length;f++){var m=c[g[f]],v=["","","","","","","",""];v[0]=m.m,v[1]=m.n,v[2]=m.l.toFixed(3),v[3]=m.fx.toFixed(2),v[4]=m.fy.toFixed(2),v[5]=m.fz.toFixed(2),v[6]=m.mx.toFixed(2),v[7]=m.my.toFixed(2),v[8]=m.mz.toFixed(2),p.push(v),++r>54&&(l.push(p),p=[],r=3)}p.length>0&&l.push(p),n.push(l)}for(var b=0,_=0,y=e;_<y.length;_++){var C=y[_];b+=Object.keys(t[C]).length}for(var x=b+2*e.length+3*n.length+3,w=new Array,M=8,O=0,P=e;O<P.length;O++){var k=P[O];this.reROW=0;var A=Object.keys(t[k]).length;if((M+=A)<54)w.push(!1),this.reROW=M+5,M+=5;else{"1"===k?w.push(!1):(w.push(!0),M=0);var T=Math.floor(A/54*3+2);this.reROW=M%55,M+=T+A,M%=54,M+=5}}return this.remainCount=this.reROW,{table:n,title:i,this:x,last:this.remainCount,break_after:w}}}]),t}()).\u0275fac=function(t){return new(t||F$)(i.Mb(bO),i.Mb(hO),i.Mb(TY))},F$.\u0275cmp=i.Gb({type:F$,selectors:[["app-print-result-fsec"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","fsec"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[1,"print-md"]],template:function(t,e){1&t&&(i.yc(0,R$,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"\u65ad\u9762\u529b"),i.Qb(),i.yc(4,j$,5,3,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.fsec_typeNum))},directives:[U,q],styles:["@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",q$,q$]}),F$);function U$(t,e){1&t&&i.Nb(0,"div",3)}function H$(t,e){1&t&&i.Nb(0,"div",3)}function V$(t,e){1&t&&i.Nb(0,"div",3)}function W$(t,e){1&t&&i.Nb(0,"div",3)}function G$(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td"),i.Ac(2),i.Qb(),i.Rb(3,"td"),i.Ac(4),i.Qb(),i.Rb(5,"td"),i.Ac(6),i.Qb(),i.Rb(7,"td"),i.Ac(8),i.Qb(),i.Rb(9,"td"),i.Ac(10),i.Qb(),i.Rb(11,"td"),i.Ac(12),i.Qb(),i.Rb(13,"td"),i.Ac(14),i.Qb(),i.Rb(15,"td"),i.Ac(16),i.Qb(),i.Rb(17,"td"),i.Ac(18),i.Qb(),i.Rb(19,"td"),i.Ac(20),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6]),i.Ab(2),i.Bc(n[7]),i.Ab(2),i.Bc(n[8]),i.Ab(2),i.Bc(n[9])}}function Q$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,W$,1,0,"div",0),i.Rb(2,"table",5),i.Rb(3,"tr"),i.Rb(4,"th"),i.Ac(5,"\u90e8\u6750"),i.Qb(),i.Rb(6,"th"),i.Ac(7,"\u7bc0\u70b9"),i.Qb(),i.Rb(8,"th"),i.Ac(9,"\u7740\u76ee\u4f4d\u7f6e"),i.Qb(),i.Rb(10,"th"),i.Ac(11,"FX"),i.Qb(),i.Rb(12,"th"),i.Ac(13,"FY"),i.Qb(),i.Rb(14,"th"),i.Ac(15,"FZ"),i.Qb(),i.Rb(16,"th"),i.Ac(17,"MX"),i.Qb(),i.Rb(18,"th"),i.Ac(19,"MY"),i.Qb(),i.Rb(20,"th"),i.Ac(21,"MZ"),i.Qb(),i.Rb(22,"th"),i.Ac(23,"Comb"),i.Qb(),i.Qb(),i.Rb(24,"tr"),i.Rb(25,"th"),i.Ac(26,"No."),i.Qb(),i.Rb(27,"th"),i.Ac(28,"No."),i.Qb(),i.Rb(29,"th"),i.Ac(30,"DIST"),i.Qb(),i.Rb(31,"th"),i.Ac(32,"(kN)"),i.Qb(),i.Rb(33,"th"),i.Ac(34,"(kN)"),i.Qb(),i.Rb(35,"th"),i.Ac(36,"(kN)"),i.Qb(),i.Rb(37,"th"),i.Ac(38,"(kN\u30fbm)"),i.Qb(),i.Rb(39,"th"),i.Ac(40,"(kN\u30fbm)"),i.Qb(),i.Rb(41,"th"),i.Ac(42,"(kN\u30fbm)"),i.Qb(),i.Nb(43,"th"),i.Qb(),i.yc(44,G$,21,10,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(43),i.ic("ngForOf",n)}}function Y$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,Q$,45,2,"div",2),i.Qb()),2&t){var n=e.$implicit;i.Ab(1),i.ic("ngForOf",n)}}function K$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,Y$,2,1,"div",2),i.Qb()),2&t){var n=i.dc().$implicit;i.Ab(1),i.ic("ngForOf",n)}}function X$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,K$,2,1,"div",4),i.Qb()),2&t){var n=e.index;i.Ab(1),i.ic("ngIf",n>0)}}function $$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,V$,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,X$,2,1,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc(2);i.Ab(1),i.ic("ngIf",o.combFsec_type_break[r]),i.Ab(2),i.Bc(n[0]),i.Ab(1),i.ic("ngForOf",n)}}function J$(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,H$,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,$$,5,3,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc();i.Ab(1),i.ic("ngIf",o.combFsec_case_break[r]),i.Ab(2),i.Bc(n),i.Ab(1),i.ic("ngForOf",o.combFsec_dataset[r])}}var Z$,tJ=((Z$=function(){function t(e,n,i){_classCallCheck(this,t),this.InputData=e,this.ResultData=n,this.countArea=i,this.row=0,this.combFsec_dataset=[],this.combFsec_title=[],this.combFsec_case_break=[],this.combFsec_type_break=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.combFsec_dataset=new Array,this.combFsec_title=new Array,this.combFsec_case_break=new Array,this.combFsec_type_break=new Array}},{key:"ngOnInit",value:function(){var t=this.ResultData.combfsec.fsecCombine;if(Object.keys(t).length>0){var e=this.printCombForce(t);this.combFsec_dataset=e.table,this.combFsec_title=e.titleSum,this.combFsec_case_break=e.break_after_case,this.combFsec_type_break=e.break_after_type,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(19)}},{key:"ngAfterViewInit",value:function(){}},{key:"printCombForce",value:function(t){var e=new Array,n=(new Array,new Array),i=["fx_max","fx_min","fy_max","fy_min","fz_max","fz_min","mx_max","mx_min","my_max","my_min","mz_max","mz_min"],r=Object.keys(t),o=new Array,a=[],s=[],c=[],l=[];this.row=0;for(var u=0,h=r;u<h.length;u++){var d=h[u],p=new Array,f="",g=this.InputData.combine.getCombineJson();d in g&&("name"in g[d]?(f=g[d].name,p.push(["Case"+d,f])):p.push(["Case"+d])),e.push(p);var m=new Array;new Array;for(var v=0;v<i.length;v++){this.key=i[v],s.push(this.key);var b=t[d][this.key],_=new Array;this.row=0===v?10:7;for(var y=0,C=Object.keys(b);y<C.length;y++){var x=b[C[y]],w=["","","","","","","","","",""];w[0]=x.m.toString(),w[1]=x.n.toString(),w[2]=x.l.toFixed(3),w[3]=x.fx.toFixed(2),w[4]=x.fy.toFixed(2),w[5]=x.fz.toFixed(2),w[6]=x.mx.toFixed(2),w[7]=x.my.toFixed(2),w[8]=x.mz.toFixed(2),w[9]=x.case,_.push(w),this.row++,this.row>54&&(m.push(_),_=[],this.row=3)}_.length>0&&m.push(_),m.length>0&&(a.push(m),m=[]),c.push(s,a),l.push(c),s=[],a=[],c=[]}o.push(l),l=[]}for(var M=0,O=0,P=0,k=0,A=r;k<A.length;k++){for(var T=A[k],S=0;S<i.length;S++){this.key=i[S];for(var E=t[T],I=E[this.key],R=0,D=Object.keys(I);R<D.length;R++)D[R],P+=Object.keys(I).length;O+=3*Object.keys(E).length}M+=Object.keys(t).length}for(var N=P+M+O+3,L=new Array,z=new Array,j=7,F=10,q=0,B=0,U=0,H=Object.keys(t);U<H.length;U++){for(var V=H[U],W=t[V],G=0;G<i.length;G++)F+=q=Object.keys(W[i[G]]).length,(j+=q)<54?(z.push(!1),j+=5):(0===G?z.push(!1):(z.push(!0),j=0),j+=q+Math.floor(q/54*3+2),j%=54,j+=5);(F+=B+=Object.keys(W).length)<54?(L.push(!1),F+=7):(L.push("1"!==V),F+=q+Math.floor(q/54*3+5),F=j%54,F+=7)}return{titleSum:e,table:o,typeSum:n,break_after_case:L,break_after_type:z,this:N,last:N%54}}}]),t}()).\u0275fac=function(t){return new(t||Z$)(i.Mb(bO),i.Mb(hO),i.Mb(TY))},Z$.\u0275cmp=i.Gb({type:Z$,selectors:[["app-print-result-combine-fsec"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","fsecComb"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[4,"ngIf"],[1,"print-sm"]],template:function(t,e){1&t&&(i.yc(0,U$,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"COMBINE \u65ad\u9762\u529b"),i.Qb(),i.yc(4,J$,5,3,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.combFsec_title))},directives:[U,q],styles:["@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),Z$);function eJ(t,e){1&t&&i.Nb(0,"div",3)}function nJ(t,e){1&t&&i.Nb(0,"div",3)}function iJ(t,e){1&t&&i.Nb(0,"div",3)}function rJ(t,e){1&t&&i.Nb(0,"div",3)}function oJ(t,e){if(1&t&&(i.Rb(0,"tr"),i.Rb(1,"td"),i.Ac(2),i.Qb(),i.Rb(3,"td"),i.Ac(4),i.Qb(),i.Rb(5,"td"),i.Ac(6),i.Qb(),i.Rb(7,"td"),i.Ac(8),i.Qb(),i.Rb(9,"td"),i.Ac(10),i.Qb(),i.Rb(11,"td"),i.Ac(12),i.Qb(),i.Rb(13,"td"),i.Ac(14),i.Qb(),i.Rb(15,"td"),i.Ac(16),i.Qb(),i.Rb(17,"td"),i.Ac(18),i.Qb(),i.Rb(19,"td"),i.Ac(20),i.Qb(),i.Qb()),2&t){var n=e.$implicit;i.Ab(2),i.Bc(n[0]),i.Ab(2),i.Bc(n[1]),i.Ab(2),i.Bc(n[2]),i.Ab(2),i.Bc(n[3]),i.Ab(2),i.Bc(n[4]),i.Ab(2),i.Bc(n[5]),i.Ab(2),i.Bc(n[6]),i.Ab(2),i.Bc(n[7]),i.Ab(2),i.Bc(n[8]),i.Ab(2),i.Bc(n[9])}}function aJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,rJ,1,0,"div",0),i.Rb(2,"table",5),i.Rb(3,"tr"),i.Rb(4,"th"),i.Ac(5,"\u90e8\u6750"),i.Qb(),i.Rb(6,"th"),i.Ac(7,"\u7bc0\u70b9"),i.Qb(),i.Nb(8,"th"),i.Rb(9,"th"),i.Ac(10,"FX"),i.Qb(),i.Rb(11,"th"),i.Ac(12,"FY"),i.Qb(),i.Rb(13,"th"),i.Ac(14,"FZ"),i.Qb(),i.Rb(15,"th"),i.Ac(16,"MX"),i.Qb(),i.Rb(17,"th"),i.Ac(18,"MY"),i.Qb(),i.Rb(19,"th"),i.Ac(20,"MZ"),i.Qb(),i.Qb(),i.Rb(21,"tr"),i.Rb(22,"th"),i.Ac(23,"No."),i.Qb(),i.Rb(24,"th"),i.Ac(25,"No."),i.Qb(),i.Rb(26,"th"),i.Ac(27,"DIST"),i.Qb(),i.Rb(28,"th"),i.Ac(29,"(kN)"),i.Qb(),i.Rb(30,"th"),i.Ac(31,"(kN)"),i.Qb(),i.Rb(32,"th"),i.Ac(33,"(kN)"),i.Qb(),i.Rb(34,"th"),i.Ac(35,"(kN\u30fbm)"),i.Qb(),i.Rb(36,"th"),i.Ac(37,"(kN\u30fbm)"),i.Qb(),i.Rb(38,"th"),i.Ac(39,"(kN\u30fbm)"),i.Qb(),i.Nb(40,"th"),i.Qb(),i.yc(41,oJ,21,10,"tr",2),i.Qb(),i.Qb()),2&t){var n=e.$implicit,r=e.index;i.Ab(1),i.ic("ngIf",r>0),i.Ab(40),i.ic("ngForOf",n)}}function sJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,aJ,42,2,"div",2),i.Qb()),2&t){var n=e.$implicit;i.Ab(1),i.ic("ngForOf",n)}}function cJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,sJ,2,1,"div",2),i.Qb()),2&t){var n=i.dc().$implicit;i.Ab(1),i.ic("ngForOf",n)}}function lJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,cJ,2,1,"div",4),i.Qb()),2&t){var n=e.index;i.Ab(1),i.ic("ngIf",n>0)}}function uJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,iJ,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,lJ,2,1,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc(2);i.Ab(1),i.ic("ngIf",o.pickFsec_type_break[r]),i.Ab(2),i.Bc(n[0]),i.Ab(1),i.ic("ngForOf",n)}}function hJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,nJ,1,0,"div",0),i.Rb(2,"h3"),i.Ac(3),i.Qb(),i.yc(4,uJ,5,3,"div",2),i.Qb()),2&t){var n=e.$implicit,r=e.index,o=i.dc();i.Ab(1),i.ic("ngIf",o.pickFsec_case_break[r]),i.Ab(2),i.Bc(n),i.Ab(1),i.ic("ngForOf",o.pickFsec_dataset[r])}}var dJ,pJ=((dJ=function(){function t(e,n,i){_classCallCheck(this,t),this.InputData=e,this.ResultData=n,this.countArea=i,this.row=0,this.pickFsec_dataset=[],this.pickFsec_title=[],this.pickFsec_case_break=[],this.pickFsec_type_break=[],this.judge=!1,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.pickFsec_dataset=new Array,this.pickFsec_title=new Array,this.pickFsec_case_break=new Array,this.pickFsec_type_break=new Array}},{key:"ngOnInit",value:function(){var t=this.ResultData.pickfsec.fsecPickup;if(Object.keys(t).length>0){var e=this.printPickForce(t);this.pickFsec_dataset=e.table,this.pickFsec_title=e.titleSum,this.pickFsec_case_break=e.break_after_case,this.pickFsec_type_break=e.break_after_type,this.judge=this.countArea.setCurrentY(e.this,e.last)}else this.countArea.setData(20)}},{key:"ngAfterViewInit",value:function(){}},{key:"printPickForce",value:function(t){var e=[],n=(new Array,["fx_max","fx_min","fy_max","fy_min","fz_max","fz_min","mx_max","mx_min","my_max","my_min","mz_max","mz_min"]),i=Object.keys(t),r=[],o=[],a=[],s=[],c=[];this.row=0;for(var l=0,u=i;l<u.length;l++){var h=u[l],d=[],p="",f=this.InputData.combine.getCombineJson();h in f&&("name"in f[h]?(p=f[h].name,d.push(["Case"+h,p])):d.push(["Case"+h])),e.push(d);for(var g=[],m=0;m<n.length;m++){this.key=n[m],s.push(this.key);var v=t[h][this.key],b=new Array;this.row=0===m?10:7;for(var _=0,y=Object.keys(v);_<y.length;_++){var C=v[y[_]],x=["","","","","","","","","",""];x[0]=C.m.toString(),x[1]=C.n.toString(),x[2]=C.l.toFixed(3),x[3]=C.fx.toFixed(2),x[4]=C.fy.toFixed(2),x[5]=C.fz.toFixed(2),x[6]=C.mx.toFixed(2),x[7]=C.my.toFixed(2),x[8]=C.mz.toFixed(2),x[9]=C.case,b.push(x),this.row++,this.row>54&&(g.push(b),b=[],this.row=3)}b.length>0&&g.push(b),g.length>0&&(o.push(g),g=[]),a.push(s,o),c.push(a),s=[],o=[],a=[]}r.push(c),c=[]}for(var w=0,M=0,O=0,P=0,k=i;P<k.length;P++){for(var A=k[P],T=0;T<n.length;T++){this.key=n[T];for(var S=t[A],E=S[this.key],I=0,R=Object.keys(E);I<R.length;I++)R[I],O+=Object.keys(E).length;M+=3*Object.keys(S).length}w+=Object.keys(t).length}for(var D=O+w+M+3,N=new Array,L=new Array,z=7,j=10,F=0,q=0,B=0,U=Object.keys(t);B<U.length;B++){for(var H=U[B],V=t[H],W=0;W<n.length;W++)j+=F=Object.keys(V[n[W]]).length,(z+=F)<54?(L.push(!1),z+=5):(0===W?L.push(!1):(L.push(!0),z=0),z+=F+Math.floor(F/54*3+2),z%=54,z+=5);(j+=q+=Object.keys(V).length)<54?(N.push(!1),j+=7):(N.push("1"!==H),j+=F+Math.floor(F/54*3+5),j=z%54,j+=7)}return{titleSum:e,table:r,typeSum:[],break_after_case:N,break_after_type:L,this:D,last:D%54}}}]),t}()).\u0275fac=function(t){return new(t||dJ)(i.Mb(bO),i.Mb(hO),i.Mb(TY))},dJ.\u0275cmp=i.Gb({type:dJ,selectors:[["app-print-result-pickup-fsec"]],decls:5,vars:2,consts:[["class","pagerBreak",4,"ngIf"],[1,"invoicetTable","pickfsec"],[4,"ngFor","ngForOf"],[1,"pagerBreak"],[4,"ngIf"],[1,"print-sm"]],template:function(t,e){1&t&&(i.yc(0,eJ,1,0,"div",0),i.Rb(1,"div",1),i.Rb(2,"h2"),i.Ac(3,"PICKUP \u65ad\u9762\u529b"),i.Qb(),i.yc(4,hJ,5,3,"div",2),i.Qb()),2&t&&(i.ic("ngIf",e.judge),i.Ab(4),i.ic("ngForOf",e.pickFsec_title))},directives:[U,q],styles:["","@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}",'@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}']}),dJ);function fJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-input-nodes"),i.Qb())}function gJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-input-members"),i.Qb())}function mJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-input-elements"),i.Qb())}function vJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-input-fix-node"),i.Qb())}function bJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-input-joint"),i.Qb())}function _J(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-input-notice-points"),i.Qb())}function yJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-input-fix-member"),i.Qb())}function CJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-input-load-name"),i.Qb())}function xJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-input-load"),i.Qb())}function wJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-input-define"),i.Qb())}function MJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-input-combine"),i.Qb())}function OJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-input-pickup"),i.Qb())}function PJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,fJ,2,0,"div",1),i.yc(2,gJ,2,0,"div",1),i.yc(3,mJ,2,0,"div",1),i.yc(4,vJ,2,0,"div",1),i.yc(5,bJ,2,0,"div",1),i.yc(6,_J,2,0,"div",1),i.yc(7,yJ,2,0,"div",1),i.yc(8,CJ,2,0,"div",1),i.yc(9,xJ,2,0,"div",1),i.yc(10,wJ,2,0,"div",1),i.yc(11,MJ,2,0,"div",1),i.yc(12,OJ,2,0,"div",1),i.Qb()),2&t){var n=i.dc();i.Ab(1),i.ic("ngIf",!0===n.dataExists[0]),i.Ab(1),i.ic("ngIf",!0===n.dataExists[1]),i.Ab(1),i.ic("ngIf",!0===n.dataExists[2]),i.Ab(1),i.ic("ngIf",!0===n.dataExists[3]),i.Ab(1),i.ic("ngIf",!0===n.dataExists[4]),i.Ab(1),i.ic("ngIf",!0===n.dataExists[5]),i.Ab(1),i.ic("ngIf",!0===n.dataExists[6]),i.Ab(1),i.ic("ngIf",!0===n.dataExists[7]),i.Ab(1),i.ic("ngIf",!0===n.dataExists[8]),i.Ab(1),i.ic("ngIf",!0===n.dataExists[9]),i.Ab(1),i.ic("ngIf",!0===n.dataExists[10]),i.Ab(1),i.ic("ngIf",!0===n.dataExists[11])}}function kJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-result-disg"),i.Qb())}function AJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,kJ,2,0,"div",1),i.Qb()),2&t){var n=i.dc();i.Ab(1),i.ic("ngIf",!0===n.dataExists[12])}}function TJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-result-combine-disg"),i.Qb())}function SJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,TJ,2,0,"div",1),i.Qb()),2&t){var n=i.dc();i.Ab(1),i.ic("ngIf",!0===n.dataExists[13])}}function EJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-result-pickup-disg"),i.Qb())}function IJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,EJ,2,0,"div",1),i.Qb()),2&t){var n=i.dc();i.Ab(1),i.ic("ngIf",!0===n.dataExists[14])}}function RJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-result-reac"),i.Qb())}function DJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,RJ,2,0,"div",1),i.Qb()),2&t){var n=i.dc();i.Ab(1),i.ic("ngIf",!0===n.dataExists[15])}}function NJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-result-combine-reac"),i.Qb())}function LJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,NJ,2,0,"div",1),i.Qb()),2&t){var n=i.dc();i.Ab(1),i.ic("ngIf",!0===n.dataExists[16])}}function zJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-result-pickup-reac"),i.Qb())}function jJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,zJ,2,0,"div",1),i.Qb()),2&t){var n=i.dc();i.Ab(1),i.ic("ngIf",!0===n.dataExists[17])}}function FJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-result-fsec"),i.Qb())}function qJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,FJ,2,0,"div",1),i.Qb()),2&t){var n=i.dc();i.Ab(1),i.ic("ngIf",!0===n.dataExists[18])}}function BJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-result-combine-fsec"),i.Qb())}function UJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,BJ,2,0,"div",1),i.Qb()),2&t){var n=i.dc();i.Ab(1),i.ic("ngIf",!0===n.dataExists[19])}}function HJ(t,e){1&t&&(i.Rb(0,"div"),i.Nb(1,"app-print-result-pickup-fsec"),i.Qb())}function VJ(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,HJ,2,0,"div",1),i.Qb()),2&t){var n=i.dc();i.Ab(1),i.ic("ngIf",!0===n.dataExists[20])}}var WJ,GJ,QJ=((GJ=function(){function t(e,n,i,r,o,a,s,c,l,u,h,d,p,f,g,m,v,b,_,y,C,x,w,M,O,P,k,A){_classCallCheck(this,t),this.app=n,this.printService=i,this.InputData=r,this.ResultData=o,this.comb=a,this.nodes=s,this.member=c,this.define=l,this.fixMember=u,this.fixNode=h,this.joint=d,this.load=p,this.notice=f,this.pickup=g,this.elements=m,this.combDisg=v,this.combFsec=b,this.combReac=_,this.disg=y,this.fsec=C,this.reac=x,this.pickDisg=w,this.pickFsec=M,this.pickReac=O,this.countArea=P,this.three=k,this.scene=A,this.currentY=0,this.node_dataset=[],this.comb_dataset=[],this.define_dataset=[],this.fixMember_dataset=[],this.fixMember_typeNum=[],this.fixNode_dataset=[],this.fixNode_typeNum=[],this.joint_dataset=[],this.joint_typeNum=[],this.loadName_dataset=[],this.load_title=[],this.load_member=[],this.load_node=[],this.member_dataset=[],this.notice_dataset=[],this.pickup_dataset=[],this.elements_dataset=[],this.elements_typeNum=[],this.combDisg_dataset=[],this.combFesc_dataset=[],this.combReac_dataset=[],this.disg_dataset=[],this.disg_title=[],this.fesc_dataset=[],this.reac_dataset=[],this.dataExists=new Array,this.invoiceIds=e.snapshot.params.invoiceIds.split(",")}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.myContentEditable=this.printService.contentEditable1,this.dataExists=this.countArea.dataExists,this.invoiceDetails=this.invoiceIds.map(function(e){return t.getInvoiceDetails(e)}),Promise.all(this.invoiceDetails).then(function(){return t.printService.onDataReady()})}},{key:"getInvoiceDetails",value:function(t){var e=Math.floor(Math.random());return new Promise(function(t){return setTimeout(function(){return t({amount:e})},1)})}},{key:"ngAfterViewInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||GJ)(i.Mb(Wh),i.Mb(bW),i.Mb(_O),i.Mb(bO),i.Mb(hO),i.Mb(Kp),i.Mb(Qp.a),i.Mb($p.a),i.Mb(Xp),i.Mb(fO),i.Mb(gO),i.Mb(mO),i.Mb(Jp),i.Mb(vO.a),i.Mb(Zp),i.Mb(pO),i.Mb(rf.a),i.Mb(af.a),i.Mb(of.a),i.Mb(tf.a),i.Mb(nf.a),i.Mb(ef.a),i.Mb(sf.a),i.Mb(lf.a),i.Mb(cf.a),i.Mb(TY),i.Mb(RW),i.Mb(WM))},GJ.\u0275cmp=i.Gb({type:GJ,selectors:[["app-invoice"]],decls:11,vars:10,consts:[[1,"invoice"],[4,"ngIf"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.yc(1,PJ,13,12,"div",1),i.yc(2,AJ,2,1,"div",1),i.yc(3,SJ,2,1,"div",1),i.yc(4,IJ,2,1,"div",1),i.yc(5,DJ,2,1,"div",1),i.yc(6,LJ,2,1,"div",1),i.yc(7,jJ,2,1,"div",1),i.yc(8,qJ,2,1,"div",1),i.yc(9,UJ,2,1,"div",1),i.yc(10,VJ,2,1,"div",1),i.Qb()),2&t&&(i.Ab(1),i.ic("ngIf",!0===e.myContentEditable[0]),i.Ab(1),i.ic("ngIf",!0===e.myContentEditable[1]),i.Ab(1),i.ic("ngIf",!0===e.myContentEditable[2]),i.Ab(1),i.ic("ngIf",!0===e.myContentEditable[3]),i.Ab(1),i.ic("ngIf",!0===e.myContentEditable[4]),i.Ab(1),i.ic("ngIf",!0===e.myContentEditable[5]),i.Ab(1),i.ic("ngIf",!0===e.myContentEditable[6]),i.Ab(1),i.ic("ngIf",!0===e.myContentEditable[7]),i.Ab(1),i.ic("ngIf",!0===e.myContentEditable[8]),i.Ab(1),i.ic("ngIf",!0===e.myContentEditable[9]))},directives:[U,LY,UY,XY,rK,dK,_K,kK,RK,XK,nX,cX,fX,wX,zX,XX,o$,_$,I$,B$,tJ,pJ],styles:['@charset "UTF-8";@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}@page{size:A4}.pagerBreak[_ngcontent-%COMP%]{size:A4;page-break-before:always}.show[_ngcontent-%COMP%]{display:none}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:400;font-family:\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af}.invoicetTable[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{height:32px;line-height:32px;font-size:16px}.invoicetTable[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:\uff2d\uff33 \u660e\u671d;font-size:16px;margin-bottom:16px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;font-weight:400}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:16px;font-size:16px;page-break-inside:avoid}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:right}.invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 16px}.invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-md[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 24px}.invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-lg[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 28px}.invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table.print-load[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:4px 20px}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.word[_ngcontent-%COMP%]{max-width:400px;min-width:200px;word-wrap:break-word;text-align:left}.invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.y1[_ngcontent-%COMP%], .invoicetTable[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.y1[_ngcontent-%COMP%]{padding:4px 12px}',"@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),GJ),YJ=((WJ=function(){function t(e,n){_classCallCheck(this,t),this.router=e,this.auth=n}return _createClass(t,[{key:"canActivate",value:function(t,e){var n=this;return this.auth.user.pipe(Vr(1),Object(Gt.a)(function(t){return!!t}),Object(Qr.a)(function(t){t||n.router.navigate(["/loggin"])}))}}]),t}()).\u0275fac=function(t){return new(t||WJ)(i.Yb(pp),i.Yb(KV))},WJ.\u0275prov=i.Ib({token:WJ,factory:WJ.\u0275fac,providedIn:"root"}),WJ);function KJ(t,e){if(1&t&&(i.Rb(0,"div"),i.Ac(1),i.Qb()),2&t){var n=i.dc();i.Ab(1),i.Cc(" ",n.errorMessage," ")}}function XJ(t,e){1&t&&(i.Rb(0,"div"),i.Rb(1,"div",16),i.Rb(2,"span",17),i.Ac(3,"Loading..."),i.Qb(),i.Qb(),i.Qb())}function $J(t,e){1&t&&i.Nb(0,"div")}function JJ(t,e){if(1&t){var n=i.Sb();i.Rb(0,"button",18),i.bc("click",function(){return i.rc(n),i.dc().loginGoogle()}),i.Ac(1,"Login with Google"),i.Qb()}}var ZJ,tZ,eZ,nZ,iZ=((ZJ=function(){function t(e,n,i,r,o,a,s){var c=this;_classCallCheck(this,t),this.activeModal=e,this.http=n,this.user=i,this.auth=r,this.afAuth=o,this.fb=a,this.router=s,this.loginError=!1,this.connecting=!1,this.auth.user.subscribe(function(t){null!==t&&c.router.navigate(["/"])})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.afAuth.signOut().then(function(){t.router.navigate(["/"])}),this.loginForm=this.fb.group({email:["",[le.required,le.email]],password:["",[le.required]]})}},{key:"onClick",value:function(){var t=this;this.connecting=!0,this.http.get("https://structuralengine.com/my-module/get_points_balance.php?id="+this.loginUserName+"&ps="+this.loginPassword,{headers:new Kn({"Content-Type":"application/x-www-form-urlencoded"})}).subscribe(function(e){var n=e;"error"in n?(t.errorMessage=n.error,t.loginError=!0,t.connecting=!1):(t.user.loginUserName=t.loginUserName,t.user.loginPassword=t.loginPassword,t.user.user_id=n.user_id,t.user.purchase_value=n.purchase_value,t.user.loggedIn=!0,t.activeModal.close("Submit"))},function(e){t.errorMessage=e.statusText,t.loginError=!0,t.connecting=!1})}},{key:"login",value:function(){var t=this,e=this.loginForm.get("email").value,n=this.loginForm.get("password").value;this.auth.login(e,n).then(function(e){t.activeModal.close("Submit"),t.user.loggedIn=!0,console.log(e)}).catch(function(t){alert("matigai")}),null===this.auth.user&&console.log("SD")}},{key:"loginGoogle",value:function(){this.auth.googleLogin(),this.activeModal.close("Submit"),this.user.loggedIn=!0}},{key:"logout",value:function(){this.auth.signOut()}}]),t}()).\u0275fac=function(t){return new(t||ZJ)(i.Mb(Zl),i.Mb(bi),i.Mb(dO),i.Mb(KV),i.Mb(PV),i.Mb(zn),i.Mb(pp))},ZJ.\u0275cmp=i.Gb({type:ZJ,selectors:[["app-login-dialog"]],decls:25,vars:9,consts:[[1,"modal-header"],["href","https://structural-engine.web.app/",2,"display","block"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],["for","email"],["type","email","name","mail","required","","email","","formControlName","email","placeholder","Username","id","user_name_id",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","formControlName","password","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-outline-success",3,"click"],[4,"ngIf","ngIfElse"],["showLogin",""],["type","button",1,"btn","btn-outline-dark",3,"click"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"btn","btn-primary","ml-2",3,"click"]],template:function(t,e){if(1&t&&(i.Rb(0,"div",0),i.Rb(1,"a",1),i.Ac(2,"\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u304c\u304a\u6e08\u307f\u3067\u306a\u3044\u65b9\u306f\u3053\u3061\u3089\u304b\u3089"),i.Qb(),i.Rb(3,"button",2),i.bc("click",function(){return e.activeModal.close()}),i.Rb(4,"span",3),i.Ac(5,"\xd7"),i.Qb(),i.Qb(),i.Qb(),i.Rb(6,"div",4),i.Rb(7,"form",5),i.bc("ngSubmit",function(){return e.login()}),i.Rb(8,"label",6),i.Ac(9,"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"),i.Qb(),i.Rb(10,"input",7),i.bc("ngModelChange",function(t){return e.loginUserName=t}),i.Qb(),i.Rb(11,"label",8),i.Ac(12,"\u30d1\u30b9\u30ef\u30fc\u30c9"),i.Qb(),i.Rb(13,"input",9),i.bc("ngModelChange",function(t){return e.loginPassword=t}),i.Qb(),i.Qb(),i.yc(14,KJ,2,1,"div",10),i.Qb(),i.Rb(15,"div",11),i.yc(16,XJ,4,0,"div",10),i.Rb(17,"button",12),i.bc("click",function(){return e.login()}),i.Ac(18,"\u30ed\u30b0\u30a4\u30f3"),i.Qb(),i.yc(19,$J,1,0,"div",13),i.ec(20,"async"),i.yc(21,JJ,2,0,"ng-template",null,14,i.zc),i.Rb(23,"button",15),i.bc("click",function(){return e.activeModal.close()}),i.Ac(24,"\u30ad\u30e3\u30f3\u30bb\u30eb"),i.Qb(),i.Qb()),2&t){var n=i.pc(22);i.Ab(7),i.ic("formGroup",e.loginForm),i.Ab(3),i.ic("ngModel",e.loginUserName),i.Ab(3),i.ic("ngModel",e.loginPassword),i.Ab(1),i.ic("ngIf",e.loginError),i.Ab(2),i.ic("ngIf",e.connecting),i.Ab(3),i.ic("ngIf",i.fc(20,7,e.auth.user))("ngIfElse",n)}},directives:[Pn,Le,Tn,ie,Rn,Nn,Ne,En,U],pipes:[et],styles:[""]}),ZJ),rZ=[{path:"input-nodes",component:UW},{path:"input-members",component:VW},{path:"input-fix_nodes",component:kQ},{path:"input-elements",component:TQ},{path:"input-panel",component:SQ},{path:"input-joints",component:IQ},{path:"input-notice_points",component:DQ},{path:"input-fix_members",component:LQ},{path:"login",component:iZ,canActivate:[YJ]},{path:"input-load-name",component:jQ},{path:"input-loads",component:qQ},{path:"input-define",component:UQ},{path:"input-combine",component:VQ},{path:"input-pickup",component:GQ},{path:"print",component:SY},{path:"result-disg",component:KQ},{path:"result-reac",component:JQ},{path:"result-fsec",component:eY},{path:"result-comb_disg",component:oY},{path:"result-comb_reac",component:lY},{path:"result-comb_fsec",component:pY},{path:"result-pic_disg",component:vY},{path:"result-pic_reac",component:CY},{path:"result-pic_fsec",component:AY},{path:"print",outlet:"print",component:EY,children:[{path:"invoice/:invoiceIds",component:QJ}]}],oZ=((nZ=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:nZ}),nZ.\u0275inj=i.Jb({factory:function(t){return new(t||nZ)},imports:[[Rp.forRoot(rZ)],Rp]}),nZ),aZ=((eZ=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:eZ}),eZ.\u0275inj=i.Jb({factory:function(t){return new(t||eZ)},imports:[[nt,AV,YV]]}),eZ),sZ=((tZ=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||tZ)},tZ.\u0275cmp=i.Gb({type:tZ,selectors:[["app-wait-dialog"]],decls:1,vars:0,consts:[[1,"spinner"]],template:function(t,e){1&t&&i.Nb(0,"div",0)},styles:[".spinner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;height:60px;width:60px;margin:0 auto;-webkit-animation:rotation .6s linear infinite;animation:rotation .6s linear infinite;border:6px solid rgba(0,174,239,.15);border-top-color:rgba(0,174,239,.8);border-radius:100%}@-webkit-keyframes rotation{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(359deg)}}@keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}"]}),tZ),cZ=n("Iab2");function lZ(t){for(var e=t.length;--e>=0;)t[e]=0}var uZ=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),hZ=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),dZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),pZ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fZ=new Array(576);lZ(fZ);var gZ=new Array(60);lZ(gZ);var mZ=new Array(512);lZ(mZ);var vZ=new Array(256);lZ(vZ);var bZ=new Array(29);lZ(bZ);var _Z,yZ,CZ,xZ=new Array(30);function wZ(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function MZ(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}lZ(xZ);var OZ=function(t){return t<256?mZ[t]:mZ[256+(t>>>7)]},PZ=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},kZ=function(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,PZ(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},AZ=function(t,e,n){kZ(t,n[2*e],n[2*e+1])},TZ=function(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},SZ=function(t,e,n){var i,r,o=new Array(16),a=0;for(i=1;i<=15;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=TZ(o[s]++,s))}},EZ=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},IZ=function(t){t.bi_valid>8?PZ(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},RZ=function(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]},DZ=function(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&RZ(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!RZ(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i},NZ=function(t,e,n){var i,r,o,a,s=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],r=t.pending_buf[t.l_buf+s],s++,0===i?AZ(t,r,e):(o=vZ[r],AZ(t,o+256+1,e),0!==(a=uZ[o])&&(r-=bZ[o],kZ(t,r,a)),i--,o=OZ(i),AZ(t,o,n),0!==(a=hZ[o])&&(i-=xZ[o],kZ(t,i,a)))}while(s<t.last_lit);AZ(t,256,e)},LZ=function(t,e){var n,i,r,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,c=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=a[2*r+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)DZ(t,o,n);r=c;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],DZ(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,DZ(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,a,s,c=e.dyn_tree,l=e.max_code,u=e.stat_desc.static_tree,h=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,f=e.stat_desc.max_length,g=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=c[2*c[2*(i=t.heap[n])+1]+1]+1)>f&&(o=f,g++),c[2*i+1]=o,i>l||(t.bl_count[o]++,a=0,i>=p&&(a=d[i-p]),s=c[2*i],t.opt_len+=s*(o+a),h&&(t.static_len+=s*(u[2*i+1]+a)));if(0!==g){do{for(o=f-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[f]--,g-=2}while(g>0);for(o=f;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>l||(c[2*r+1]!==o&&(t.opt_len+=(o-c[2*r+1])*c[2*r],c[2*r+1]=o),i--)}}(t,e),SZ(o,l,t.bl_count)},zZ=function(t,e,n){var i,r,o=-1,a=e[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=e[2*(i+1)+1],++s<c&&r===a||(s<l?t.bl_tree[2*r]+=s:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=r,0===a?(c=138,l=3):r===a?(c=6,l=3):(c=7,l=4))},jZ=function(t,e,n){var i,r,o=-1,a=e[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),i=0;i<=n;i++)if(r=a,a=e[2*(i+1)+1],!(++s<c&&r===a)){if(s<l)do{AZ(t,r,t.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(AZ(t,r,t.bl_tree),s--),AZ(t,16,t.bl_tree),kZ(t,s-3,2)):s<=10?(AZ(t,17,t.bl_tree),kZ(t,s-3,3)):(AZ(t,18,t.bl_tree),kZ(t,s-11,7));s=0,o=r,0===a?(c=138,l=3):r===a?(c=6,l=3):(c=7,l=4)}},FZ=!1,qZ=function(t,e,n,i){kZ(t,0+(i?1:0),3),function(t,e,n,i){IZ(t),PZ(t,n),PZ(t,~n),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n}(t,e,n)},BZ=function(t){FZ||(function(){var t,e,n,i,r,o=new Array(16);for(n=0,i=0;i<28;i++)for(bZ[i]=n,t=0;t<1<<uZ[i];t++)vZ[n++]=i;for(vZ[n-1]=i,r=0,i=0;i<16;i++)for(xZ[i]=r,t=0;t<1<<hZ[i];t++)mZ[r++]=i;for(r>>=7;i<30;i++)for(xZ[i]=r<<7,t=0;t<1<<hZ[i]-7;t++)mZ[256+r++]=i;for(e=0;e<=15;e++)o[e]=0;for(t=0;t<=143;)fZ[2*t+1]=8,t++,o[8]++;for(;t<=255;)fZ[2*t+1]=9,t++,o[9]++;for(;t<=279;)fZ[2*t+1]=7,t++,o[7]++;for(;t<=287;)fZ[2*t+1]=8,t++,o[8]++;for(SZ(fZ,287,o),t=0;t<30;t++)gZ[2*t+1]=5,gZ[2*t]=TZ(t,5);_Z=new wZ(fZ,uZ,257,286,15),yZ=new wZ(gZ,hZ,0,30,15),CZ=new wZ(new Array(0),dZ,0,19,7)}(),FZ=!0),t.l_desc=new MZ(t.dyn_ltree,_Z),t.d_desc=new MZ(t.dyn_dtree,yZ),t.bl_desc=new MZ(t.bl_tree,CZ),t.bi_buf=0,t.bi_valid=0,EZ(t)},UZ=qZ,HZ=function(t,e,n,i){var r,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),LZ(t,t.l_desc),LZ(t,t.d_desc),a=function(t){var e;for(zZ(t,t.dyn_ltree,t.l_desc.max_code),zZ(t,t.dyn_dtree,t.d_desc.max_code),LZ(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*pZ[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==e?qZ(t,e,n,i):4===t.strategy||o===r?(kZ(t,2+(i?1:0),3),NZ(t,fZ,gZ)):(kZ(t,4+(i?1:0),3),function(t,e,n,i){var r;for(kZ(t,e-257,5),kZ(t,n-1,5),kZ(t,i-4,4),r=0;r<i;r++)kZ(t,t.bl_tree[2*pZ[r]+1],3);jZ(t,t.dyn_ltree,e-1),jZ(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),NZ(t,t.dyn_ltree,t.dyn_dtree)),EZ(t),i&&IZ(t)},VZ=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(vZ[n]+256+1)]++,t.dyn_dtree[2*OZ(e)]++),t.last_lit===t.lit_bufsize-1},WZ=function(t){kZ(t,2,3),AZ(t,256,fZ),function(t){16===t.bi_valid?(PZ(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)},GZ=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+e[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0},QZ=new Uint32Array(function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}()),YZ=function(t,e,n,i){var r=QZ,o=i+n;t^=-1;for(var a=i;a<o;a++)t=t>>>8^r[255&(t^e[a])];return-1^t},KZ={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},XZ={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},$Z=BZ,JZ=UZ,ZZ=HZ,t0=VZ,e0=WZ,n0=XZ.Z_NO_FLUSH,i0=XZ.Z_PARTIAL_FLUSH,r0=XZ.Z_FULL_FLUSH,o0=XZ.Z_FINISH,a0=XZ.Z_BLOCK,s0=XZ.Z_OK,c0=XZ.Z_STREAM_END,l0=XZ.Z_STREAM_ERROR,u0=XZ.Z_DATA_ERROR,h0=XZ.Z_BUF_ERROR,d0=XZ.Z_DEFAULT_COMPRESSION,p0=XZ.Z_FILTERED,f0=XZ.Z_HUFFMAN_ONLY,g0=XZ.Z_RLE,m0=XZ.Z_FIXED,v0=XZ.Z_UNKNOWN,b0=XZ.Z_DEFLATED,_0=function(t,e){return t.msg=KZ[e],e},y0=function(t){return(t<<1)-(t>4?9:0)},C0=function(t){for(var e=t.length;--e>=0;)t[e]=0},x0=function(t,e,n){return(e<<t.hash_shift^n)&t.hash_mask},w0=function(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},M0=function(t,e){ZZ(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,w0(t.strm)},O0=function(t,e){t.pending_buf[t.pending++]=e},P0=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},k0=function(t,e,n,i){var r=t.avail_in;return r>i&&(r=i),0===r?0:(t.avail_in-=r,e.set(t.input.subarray(t.next_in,t.next_in+r),n),1===t.state.wrap?t.adler=GZ(t.adler,e,r,n):2===t.state.wrap&&(t.adler=YZ(t.adler,e,r,n)),t.next_in+=r,t.total_in+=r,r)},A0=function(t,e){var n,i,r=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,c=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,l=t.window,u=t.w_mask,h=t.prev,d=t.strstart+258,p=l[o+a-1],f=l[o+a];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(n=e)+a]===f&&l[n+a-1]===p&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<d);if(i=258-(d-o),o=d-258,i>a){if(t.match_start=e,a=i,i>=s)break;p=l[o+a-1],f=l[o+a]}}}while((e=h[e&u])>c&&0!=--r);return a<=t.lookahead?a:t.lookahead},T0=function(t){var e,n,i,r,o,a=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-262)){t.window.set(t.window.subarray(a,a+a),0),t.match_start-=a,t.strstart-=a,t.block_start-=a,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=a?i-a:0}while(--n);e=n=a;do{i=t.prev[--e],t.prev[e]=i>=a?i-a:0}while(--n);r+=a}if(0===t.strm.avail_in)break;if(n=k0(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=x0(t,t.ins_h,t.window[o+1]);t.insert&&(t.ins_h=x0(t,t.ins_h,t.window[o+3-1]),t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},S0=function(t,e){for(var n,i;;){if(t.lookahead<262){if(T0(t),t.lookahead<262&&e===n0)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=x0(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=A0(t,n)),t.match_length>=3)if(i=t0(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=x0(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=x0(t,t.ins_h,t.window[t.strstart+1]);else i=t0(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(M0(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===o0?(M0(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(M0(t,!1),0===t.strm.avail_out)?1:2},E0=function(t,e){for(var n,i,r;;){if(t.lookahead<262){if(T0(t),t.lookahead<262&&e===n0)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=x0(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=A0(t,n),t.match_length<=5&&(t.strategy===p0||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,i=t0(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=x0(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(M0(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=t0(t,0,t.window[t.strstart-1]))&&M0(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=t0(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===o0?(M0(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(M0(t,!1),0===t.strm.avail_out)?1:2};function I0(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}var R0=[new I0(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(T0(t),0===t.lookahead&&e===n0)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,M0(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(M0(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===o0?(M0(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&M0(t,!1),1)}),new I0(4,4,8,4,S0),new I0(4,5,16,8,S0),new I0(4,6,32,32,S0),new I0(4,4,16,16,E0),new I0(8,16,32,32,E0),new I0(8,16,128,128,E0),new I0(8,32,128,256,E0),new I0(32,128,258,1024,E0),new I0(32,258,258,4096,E0)];function D0(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),C0(this.dyn_ltree),C0(this.dyn_dtree),C0(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),C0(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),C0(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var N0=function(t,e,n,i,r,o){if(!t)return l0;var a=1;if(e===d0&&(e=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>9||n!==b0||i<8||i>15||e<0||e>9||o<0||o>m0)return _0(t,l0);8===i&&(i=9);var s=new D0;return t.state=s,s.strm=t,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=o,s.method=n,function(t){var e,n=function(t){if(!t||!t.state)return _0(t,l0);t.total_in=t.total_out=0,t.data_type=v0;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=n0,$Z(e),s0}(t);return n===s0&&((e=t.state).window_size=2*e.w_size,C0(e.head),e.max_lazy_match=R0[e.level].max_lazy,e.good_match=R0[e.level].good_length,e.nice_match=R0[e.level].nice_length,e.max_chain_length=R0[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}(t)},L0=function(t,e){var n,i;if(!t||!t.state||e>a0||e<0)return t?_0(t,l0):l0;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||666===r.status&&e!==o0)return _0(t,0===t.avail_out?h0:l0);r.strm=t;var o=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,O0(r,31),O0(r,139),O0(r,8),r.gzhead?(O0(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),O0(r,255&r.gzhead.time),O0(r,r.gzhead.time>>8&255),O0(r,r.gzhead.time>>16&255),O0(r,r.gzhead.time>>24&255),O0(r,9===r.level?2:r.strategy>=f0||r.level<2?4:0),O0(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(O0(r,255&r.gzhead.extra.length),O0(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=YZ(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(O0(r,0),O0(r,0),O0(r,0),O0(r,0),O0(r,0),O0(r,9===r.level?2:r.strategy>=f0||r.level<2?4:0),O0(r,3),r.status=113);else{var a=b0+(r.w_bits-8<<4)<<8;a|=(r.strategy>=f0||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),a+=31-a%31,r.status=113,P0(r,a),0!==r.strstart&&(P0(r,t.adler>>>16),P0(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(t.adler=YZ(t.adler,r.pending_buf,r.pending-n,n)),w0(t),n=r.pending,r.pending!==r.pending_buf_size));)O0(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(t.adler=YZ(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(t.adler=YZ(t.adler,r.pending_buf,r.pending-n,n)),w0(t),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,O0(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(t.adler=YZ(t.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(t.adler=YZ(t.adler,r.pending_buf,r.pending-n,n)),w0(t),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,O0(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(t.adler=YZ(t.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&w0(t),r.pending+2<=r.pending_buf_size&&(O0(r,255&t.adler),O0(r,t.adler>>8&255),t.adler=0,r.status=113)):r.status=113),0!==r.pending){if(w0(t),0===t.avail_out)return r.last_flush=-1,s0}else if(0===t.avail_in&&y0(e)<=y0(o)&&e!==o0)return _0(t,h0);if(666===r.status&&0!==t.avail_in)return _0(t,h0);if(0!==t.avail_in||0!==r.lookahead||e!==n0&&666!==r.status){var s=r.strategy===f0?function(t,e){for(var n;;){if(0===t.lookahead&&(T0(t),0===t.lookahead)){if(e===n0)return 1;break}if(t.match_length=0,n=t0(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(M0(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===o0?(M0(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(M0(t,!1),0===t.strm.avail_out)?1:2}(r,e):r.strategy===g0?function(t,e){for(var n,i,r,o,a=t.window;;){if(t.lookahead<=258){if(T0(t),t.lookahead<=258&&e===n0)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&((i=a[r=t.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r])){o=t.strstart+258;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);t.match_length=258-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=t0(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=t0(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(M0(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===o0?(M0(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(M0(t,!1),0===t.strm.avail_out)?1:2}(r,e):R0[r.level].func(r,e);if(3!==s&&4!==s||(r.status=666),1===s||3===s)return 0===t.avail_out&&(r.last_flush=-1),s0;if(2===s&&(e===i0?e0(r):e!==a0&&(JZ(r,0,0,!1),e===r0&&(C0(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),w0(t),0===t.avail_out))return r.last_flush=-1,s0}return e!==o0?s0:r.wrap<=0?c0:(2===r.wrap?(O0(r,255&t.adler),O0(r,t.adler>>8&255),O0(r,t.adler>>16&255),O0(r,t.adler>>24&255),O0(r,255&t.total_in),O0(r,t.total_in>>8&255),O0(r,t.total_in>>16&255),O0(r,t.total_in>>24&255)):(P0(r,t.adler>>>16),P0(r,65535&t.adler)),w0(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?s0:c0)},z0=function(t){if(!t||!t.state)return l0;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?_0(t,l0):(t.state=null,113===e?_0(t,u0):s0)},j0=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},F0=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)j0(n,i)&&(t[i]=n[i])}}return t},q0=function(t){for(var e=0,n=0,i=t.length;n<i;n++)e+=t[n].length;for(var r=new Uint8Array(e),o=0,a=0,s=t.length;o<s;o++){var c=t[o];r.set(c,a),a+=c.length}return r},B0=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s2){B0=!1}for(var U0=new Uint8Array(256),H0=0;H0<256;H0++)U0[H0]=H0>=252?6:H0>=248?5:H0>=240?4:H0>=224?3:H0>=192?2:1;U0[254]=U0[254]=1;var V0=function(t){var e,n,i,r,o,a=t.length,s=0;for(r=0;r<a;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<a&&(56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(s),o=0,r=0;o<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<a&&(56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},W0=function(t,e){var n,i,r=e||t.length,o=new Array(2*r);for(i=0,n=0;n<r;){var a=t[n++];if(a<128)o[i++]=a;else{var s=U0[a];if(s>4)o[i++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<r;)a=a<<6|63&t[n++],s--;s>1?o[i++]=65533:a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|1023&a)}}}return function(t,e){if(e<65534&&t.subarray&&B0)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}(o,i)},G0=function(t,e){(e=e||t.length)>t.length&&(e=t.length);for(var n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+U0[t[n]]>e?n:e},Q0=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Y0=Object.prototype.toString,K0=XZ.Z_NO_FLUSH,X0=XZ.Z_SYNC_FLUSH,$0=XZ.Z_FULL_FLUSH,J0=XZ.Z_FINISH,Z0=XZ.Z_OK,t1=XZ.Z_STREAM_END,e1=XZ.Z_DEFAULT_COMPRESSION,n1=XZ.Z_DEFAULT_STRATEGY,i1=XZ.Z_DEFLATED;function r1(t){this.options=F0({level:e1,method:i1,chunkSize:16384,windowBits:15,memLevel:8,strategy:n1},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Q0,this.strm.avail_out=0;var n,i,r=N0(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Z0)throw new Error(KZ[r]);if(e.header&&(i=e.header,(n=this.strm)&&n.state&&(2!==n.state.wrap||(n.state.gzhead=i))),e.dictionary){var o;if(o="string"==typeof e.dictionary?V0(e.dictionary):"[object ArrayBuffer]"===Y0.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=function(t,e){var n=e.length;if(!t||!t.state)return l0;var i=t.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return l0;if(1===r&&(t.adler=GZ(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){0===r&&(C0(i.head),i.strstart=0,i.block_start=0,i.insert=0);var o=new Uint8Array(i.w_size);o.set(e.subarray(n-i.w_size,n),0),e=o,n=i.w_size}var a=t.avail_in,s=t.next_in,c=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,T0(i);i.lookahead>=3;){var l=i.strstart,u=i.lookahead-2;do{i.ins_h=x0(i,i.ins_h,i.window[l+3-1]),i.prev[l&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=l,l++}while(--u);i.strstart=l,i.lookahead=2,T0(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=s,t.input=c,t.avail_in=a,i.wrap=r,s0}(this.strm,o))!==Z0)throw new Error(KZ[r]);this._dict_set=!0}}function o1(t,e){var n=new r1(e);if(n.push(t,!0),n.err)throw n.msg||KZ[n.err];return n.result}r1.prototype.push=function(t,e){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(i=e===~~e?e:!0===e?J0:K0,r.input="string"==typeof t?V0(t):"[object ArrayBuffer]"===Y0.call(t)?new Uint8Array(t):t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(o),r.next_out=0,r.avail_out=o),(i===X0||i===$0)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((n=L0(r,i))===t1)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=z0(this.strm),this.onEnd(n),this.ended=!0,n===Z0;if(0!==r.avail_out){if(i>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},r1.prototype.onData=function(t){this.chunks.push(t)},r1.prototype.onEnd=function(t){t===Z0&&(this.result=q0(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var a1=function(t,e){return(e=e||{}).gzip=!0,o1(t,e)},s1=function(t,e){var n,i,r,o,a,s,c,l,u,h,d,p,f,g,m,v,b,_,y,C,x,w,M,O,P=t.state;n=t.next_in,M=t.input,i=n+(t.avail_in-5),r=t.next_out,O=t.output,o=r-(e-t.avail_out),a=r+(t.avail_out-257),s=P.dmax,c=P.wsize,l=P.whave,u=P.wnext,h=P.window,d=P.hold,p=P.bits,f=P.lencode,g=P.distcode,m=(1<<P.lenbits)-1,v=(1<<P.distbits)-1;t:do{p<15&&(d+=M[n++]<<p,p+=8,d+=M[n++]<<p,p+=8),b=f[d&m];e:for(;;){if(d>>>=_=b>>>24,p-=_,0===(_=b>>>16&255))O[r++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=f[(65535&b)+(d&(1<<_)-1)];continue e}if(32&_){P.mode=12;break t}t.msg="invalid literal/length code",P.mode=30;break t}y=65535&b,(_&=15)&&(p<_&&(d+=M[n++]<<p,p+=8),y+=d&(1<<_)-1,d>>>=_,p-=_),p<15&&(d+=M[n++]<<p,p+=8,d+=M[n++]<<p,p+=8),b=g[d&v];n:for(;;){if(d>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(d&(1<<_)-1)];continue n}t.msg="invalid distance code",P.mode=30;break t}if(C=65535&b,p<(_&=15)&&(d+=M[n++]<<p,(p+=8)<_&&(d+=M[n++]<<p,p+=8)),(C+=d&(1<<_)-1)>s){t.msg="invalid distance too far back",P.mode=30;break t}if(d>>>=_,p-=_,C>(_=r-o)){if((_=C-_)>l&&P.sane){t.msg="invalid distance too far back",P.mode=30;break t}if(x=0,w=h,0===u){if(x+=c-_,_<y){y-=_;do{O[r++]=h[x++]}while(--_);x=r-C,w=O}}else if(u<_){if(x+=c+u-_,(_-=u)<y){y-=_;do{O[r++]=h[x++]}while(--_);if(x=0,u<y){y-=_=u;do{O[r++]=h[x++]}while(--_);x=r-C,w=O}}}else if(x+=u-_,_<y){y-=_;do{O[r++]=h[x++]}while(--_);x=r-C,w=O}for(;y>2;)O[r++]=w[x++],O[r++]=w[x++],O[r++]=w[x++],y-=3;y&&(O[r++]=w[x++],y>1&&(O[r++]=w[x++]))}else{x=r-C;do{O[r++]=O[x++],O[r++]=O[x++],O[r++]=O[x++],y-=3}while(y>2);y&&(O[r++]=O[x++],y>1&&(O[r++]=O[x++]))}break}}break}}while(n<i&&r<a);n-=y=p>>3,d&=(1<<(p-=y<<3))-1,t.next_in=n,t.next_out=r,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=r<a?a-r+257:257-(r-a),P.hold=d,P.bits=p},c1=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),l1=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),u1=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),h1=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),d1=function(t,e,n,i,r,o,a,s){var c,l,u,h,d,p,f,g,m,v=s.bits,b=0,_=0,y=0,C=0,x=0,w=0,M=0,O=0,P=0,k=0,A=null,T=0,S=new Uint16Array(16),E=new Uint16Array(16),I=null,R=0;for(b=0;b<=15;b++)S[b]=0;for(_=0;_<i;_++)S[e[n+_]]++;for(x=v,C=15;C>=1&&0===S[C];C--);if(x>C&&(x=C),0===C)return r[o++]=20971520,r[o++]=20971520,s.bits=1,0;for(y=1;y<C&&0===S[y];y++);for(x<y&&(x=y),O=1,b=1;b<=15;b++)if(O<<=1,(O-=S[b])<0)return-1;if(O>0&&(0===t||1!==C))return-1;for(E[1]=0,b=1;b<15;b++)E[b+1]=E[b]+S[b];for(_=0;_<i;_++)0!==e[n+_]&&(a[E[e[n+_]]++]=_);if(0===t?(A=I=a,p=19):1===t?(A=c1,T-=257,I=l1,R-=257,p=256):(A=u1,I=h1,p=-1),k=0,_=0,b=y,d=o,w=x,M=0,u=-1,h=(P=1<<x)-1,1===t&&P>852||2===t&&P>592)return 1;for(;;){f=b-M,a[_]<p?(g=0,m=a[_]):a[_]>p?(g=I[R+a[_]],m=A[T+a[_]]):(g=96,m=0),c=1<<b-M,y=l=1<<w;do{r[d+(k>>M)+(l-=c)]=f<<24|g<<16|m|0}while(0!==l);for(c=1<<b-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,_++,0==--S[b]){if(b===C)break;b=e[n+a[_]]}if(b>x&&(k&h)!==u){for(0===M&&(M=x),d+=y,O=1<<(w=b-M);w+M<C&&!((O-=S[w+M])<=0);)w++,O<<=1;if(P+=1<<w,1===t&&P>852||2===t&&P>592)return 1;r[u=k&h]=x<<24|w<<16|d-o|0}}return 0!==k&&(r[d+k]=b-M<<24|64<<16|0),s.bits=x,0},p1=XZ.Z_FINISH,f1=XZ.Z_BLOCK,g1=XZ.Z_TREES,m1=XZ.Z_OK,v1=XZ.Z_STREAM_END,b1=XZ.Z_NEED_DICT,_1=XZ.Z_STREAM_ERROR,y1=XZ.Z_DATA_ERROR,C1=XZ.Z_MEM_ERROR,x1=XZ.Z_BUF_ERROR,w1=XZ.Z_DEFLATED,M1=function(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)};function O1(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var P1,k1,A1=function(t){if(!t||!t.state)return _1;var e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,function(t){if(!t||!t.state)return _1;var e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,m1}(t)},T1=!0,S1=function(t){if(T1){P1=new Int32Array(512),k1=new Int32Array(32);for(var e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(d1(1,t.lens,0,288,P1,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;d1(2,t.lens,0,32,k1,0,t.work,{bits:5}),T1=!1}t.lencode=P1,t.lenbits=9,t.distcode=k1,t.distbits=5},E1=function(t,e,n,i){var r,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),o.window.set(e.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(e.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},I1=A1,R1=function(t,e){var n,i,r,o,a,s,c,l,u,h,d,p,f,g,m,v,b,_,y,C,x,w,M,O,P=0,k=new Uint8Array(4),A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return _1;12===(n=t.state).mode&&(n.mode=13),a=t.next_out,r=t.output,c=t.avail_out,o=t.next_in,i=t.input,s=t.avail_in,l=n.hold,u=n.bits,h=s,d=c,w=m1;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;u<16;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}if(2&n.wrap&&35615===l){n.check=0,k[0]=255&l,k[1]=l>>>8&255,n.check=YZ(n.check,k,2,0),l=0,u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=30;break}if((15&l)!==w1){t.msg="unknown compression method",n.mode=30;break}if(u-=4,x=8+(15&(l>>>=4)),0===n.wbits)n.wbits=x;else if(x>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<n.wbits,t.adler=n.check=1,n.mode=512&l?10:12,l=0,u=0;break;case 2:for(;u<16;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}if(n.flags=l,(255&n.flags)!==w1){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&(k[0]=255&l,k[1]=l>>>8&255,n.check=YZ(n.check,k,2,0)),l=0,u=0,n.mode=3;case 3:for(;u<32;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}n.head&&(n.head.time=l),512&n.flags&&(k[0]=255&l,k[1]=l>>>8&255,k[2]=l>>>16&255,k[3]=l>>>24&255,n.check=YZ(n.check,k,4,0)),l=0,u=0,n.mode=4;case 4:for(;u<16;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&(k[0]=255&l,k[1]=l>>>8&255,n.check=YZ(n.check,k,2,0)),l=0,u=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&(k[0]=255&l,k[1]=l>>>8&255,n.check=YZ(n.check,k,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((p=n.length)>s&&(p=s),p&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+p),x)),512&n.flags&&(n.check=YZ(n.check,i,p,o)),s-=p,o+=p,n.length-=p),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break t;p=0;do{x=i[o+p++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x))}while(x&&p<s);if(512&n.flags&&(n.check=YZ(n.check,i,p,o)),s-=p,o+=p,x)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break t;p=0;do{x=i[o+p++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x))}while(x&&p<s);if(512&n.flags&&(n.check=YZ(n.check,i,p,o)),s-=p,o+=p,x)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}if(l!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;u<32;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}t.adler=n.check=M1(l),l=0,u=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,n.hold=l,n.bits=u,b1;t.adler=n.check=1,n.mode=12;case 12:if(e===f1||e===g1)break t;case 13:if(n.last){l>>>=7&u,u-=7&u,n.mode=27;break}for(;u<3;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}switch(n.last=1&l,u-=1,3&(l>>>=1)){case 0:n.mode=14;break;case 1:if(S1(n),n.mode=20,e===g1){l>>>=2,u-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}l>>>=2,u-=2;break;case 14:for(l>>>=7&u,u-=7&u;u<32;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&l,l=0,u=0,n.mode=15,e===g1)break t;case 15:n.mode=16;case 16:if(p=n.length){if(p>s&&(p=s),p>c&&(p=c),0===p)break t;r.set(i.subarray(o,o+p),a),s-=p,o+=p,c-=p,a+=p,n.length-=p;break}n.mode=12;break;case 17:for(;u<14;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}if(n.nlen=257+(31&l),l>>>=5,u-=5,n.ndist=1+(31&l),l>>>=5,u-=5,n.ncode=4+(15&l),l>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}n.lens[A[n.have++]]=7&l,l>>>=3,u-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},w=d1(0,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,w){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;v=(P=n.lencode[l&(1<<n.lenbits)-1])>>>16&255,b=65535&P,!((m=P>>>24)<=u);){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}if(b<16)l>>>=m,u-=m,n.lens[n.have++]=b;else{if(16===b){for(O=m+2;u<O;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}if(l>>>=m,u-=m,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}x=n.lens[n.have-1],p=3+(3&l),l>>>=2,u-=2}else if(17===b){for(O=m+3;u<O;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}u-=m,x=0,p=3+(7&(l>>>=m)),l>>>=3,u-=3}else{for(O=m+7;u<O;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}u-=m,x=0,p=11+(127&(l>>>=m)),l>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;p--;)n.lens[n.have++]=x}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,M={bits:n.lenbits},w=d1(1,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,w){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},w=d1(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,w){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,e===g1)break t;case 20:n.mode=21;case 21:if(s>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,n.hold=l,n.bits=u,s1(t,d),a=t.next_out,r=t.output,c=t.avail_out,o=t.next_in,i=t.input,s=t.avail_in,l=n.hold,u=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;v=(P=n.lencode[l&(1<<n.lenbits)-1])>>>16&255,b=65535&P,!((m=P>>>24)<=u);){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}if(v&&0==(240&v)){for(_=m,y=v,C=b;v=(P=n.lencode[C+((l&(1<<_+y)-1)>>_)])>>>16&255,b=65535&P,!(_+(m=P>>>24)<=u);){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}l>>>=_,u-=_,n.back+=_}if(l>>>=m,u-=m,n.back+=m,n.length=b,0===v){n.mode=26;break}if(32&v){n.back=-1,n.mode=12;break}if(64&v){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&v,n.mode=22;case 22:if(n.extra){for(O=n.extra;u<O;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;v=(P=n.distcode[l&(1<<n.distbits)-1])>>>16&255,b=65535&P,!((m=P>>>24)<=u);){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}if(0==(240&v)){for(_=m,y=v,C=b;v=(P=n.distcode[C+((l&(1<<_+y)-1)>>_)])>>>16&255,b=65535&P,!(_+(m=P>>>24)<=u);){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}l>>>=_,u-=_,n.back+=_}if(l>>>=m,u-=m,n.back+=m,64&v){t.msg="invalid distance code",n.mode=30;break}n.offset=b,n.extra=15&v,n.mode=24;case 24:if(n.extra){for(O=n.extra;u<O;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===c)break t;if(p=d-c,n.offset>p){if((p=n.offset-p)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}p>n.wnext?(p-=n.wnext,f=n.wsize-p):f=n.wnext-p,p>n.length&&(p=n.length),g=n.window}else g=r,f=a-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do{r[a++]=g[f++]}while(--p);0===n.length&&(n.mode=21);break;case 26:if(0===c)break t;r[a++]=n.length,c--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===s)break t;s--,l|=i[o++]<<u,u+=8}if(d-=c,t.total_out+=d,n.total+=d,d&&(t.adler=n.check=n.flags?YZ(n.check,r,d,a-d):GZ(n.check,r,d,a-d)),d=c,(n.flags?l:M1(l))!==n.check){t.msg="incorrect data check",n.mode=30;break}l=0,u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break t;s--,l+=i[o++]<<u,u+=8}if(l!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}l=0,u=0}n.mode=29;case 29:w=v1;break t;case 30:w=y1;break t;case 31:return C1;case 32:default:return _1}return t.next_out=a,t.avail_out=c,t.next_in=o,t.avail_in=s,n.hold=l,n.bits=u,(n.wsize||d!==t.avail_out&&n.mode<30&&(n.mode<27||e!==p1))&&E1(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,n.total+=d,n.wrap&&d&&(t.adler=n.check=n.flags?YZ(n.check,r,d,t.next_out-d):GZ(n.check,r,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===h&&0===d||e===p1)&&w===m1&&(w=x1),w},D1=function(t){if(!t||!t.state)return _1;var e=t.state;return e.window&&(e.window=null),t.state=null,m1},N1=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?_1:11===n.mode&&GZ(1,e,i,0)!==n.check?y1:E1(t,e,i,i)?(n.mode=31,C1):(n.havedict=1,m1):_1},L1=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},z1=Object.prototype.toString,j1=XZ.Z_NO_FLUSH,F1=XZ.Z_FINISH,q1=XZ.Z_OK,B1=XZ.Z_STREAM_END,U1=XZ.Z_NEED_DICT,H1=XZ.Z_STREAM_ERROR,V1=XZ.Z_DATA_ERROR,W1=XZ.Z_MEM_ERROR;function G1(t){this.options=F0({chunkSize:65536,windowBits:15,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Q0,this.strm.avail_out=0;var n=function(t,e){if(!t)return _1;var n=new O1;t.state=n,n.window=null;var i=function(t,e){var n;if(!t||!t.state)return _1;var i=t.state;return e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?_1:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,A1(t))}(t,e);return i!==m1&&(t.state=null),i}(this.strm,e.windowBits);if(n!==q1)throw new Error(KZ[n]);if(this.header=new L1,function(t,e){if(!t||!t.state)return _1;var n=t.state;0==(2&n.wrap)||(n.head=e,e.done=!1)}(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=V0(e.dictionary):"[object ArrayBuffer]"===z1.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=N1(this.strm,e.dictionary))!==q1))throw new Error(KZ[n])}function Q1(t,e){var n=new G1(e);if(n.push(t),n.err)throw n.msg||KZ[n.err];return n.result}G1.prototype.push=function(t,e){var n,i,r,o=this.strm,a=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(i=e===~~e?e:!0===e?F1:j1,o.input="[object ArrayBuffer]"===z1.call(t)?new Uint8Array(t):t,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(n=R1(o,i))===U1&&s&&((n=N1(o,s))===q1?n=R1(o,i):n===V1&&(n=U1));o.avail_in>0&&n===B1&&o.state.wrap>0&&0!==t[o.next_in];)I1(o),n=R1(o,i);switch(n){case H1:case V1:case U1:case W1:return this.onEnd(n),this.ended=!0,!1}if(r=o.avail_out,o.next_out&&(0===o.avail_out||n===B1))if("string"===this.options.to){var c=G0(o.output,o.next_out),l=o.next_out-c,u=W0(o.output,c);o.next_out=l,o.avail_out=a-l,l&&o.output.set(o.output.subarray(c,c+l),0),this.onData(u)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(n!==q1||0!==r){if(n===B1)return n=D1(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},G1.prototype.onData=function(t){this.chunks.push(t)},G1.prototype.onEnd=function(t){t===q1&&(this.result="string"===this.options.to?this.chunks.join(""):q0(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Y1=a1,K1=Q1;function X1(t,e){if(1&t){var n=i.Sb();i.Rb(0,"div"),i.Rb(1,"a",10),i.bc("click",function(){return i.rc(n),i.dc().logIn()}),i.Nb(2,"i",19),i.Ac(3," \u30ed\u30b0\u30a4\u30f3 "),i.Qb(),i.Qb()}}function $1(t,e){if(1&t){var n=i.Sb();i.Rb(0,"div"),i.Rb(1,"h3"),i.Nb(2,"i",20),i.Ac(3),i.Qb(),i.Rb(4,"button",10),i.bc("click",function(){return i.rc(n),i.dc(2).auth.signOut()})("click",function(){return i.rc(n),i.dc(2).logOut()}),i.Ac(5,"Logout"),i.Qb(),i.Qb()}if(2&t){var r=e.ngIf;i.Ab(3),i.Cc("\u3088\u3046\u3053\u305d, ",r.displayName,"\u3055\u3093")}}function J1(t,e){if(1&t&&(i.Rb(0,"div"),i.yc(1,$1,6,1,"div",18),i.ec(2,"async"),i.Qb()),2&t){var n=i.dc();i.Ab(1),i.ic("ngIf",i.fc(2,1,n.auth.user))}}var Z1,t2,e2,n2=((Z1=function(){function t(e,n,i,r,o,a,s,c,l,u,h){_classCallCheck(this,t),this.modalService=e,this.app=n,this.router=i,this.user=r,this.InputData=o,this.ResultData=a,this.http=s,this.three=c,this.printService=l,this.countArea=u,this.auth=h,this.loggedIn=this.user.loggedIn,this.fileName=""}return _createClass(t,[{key:"ngOnInit",value:function(){this.fileName="\u7acb\u4f53\u9aa8\u7d44\u69cb\u9020\u89e3\u6790\u30bd\u30d5\u30c8ver1.2.1",this.user.isContentsDailogShow=!1,this.auth.user.subscribe(function(t){console.log(t)}),yO.a.firestore().settings({ignoreUndefinedProperties:!0})}},{key:"renew",value:function(){this.app.dialogClose(),this.InputData.clear(),this.ResultData.clear(),this.app.isCalculated=!1,this.three.ClearData(),this.fileName="\u7acb\u4f53\u9aa8\u7d44\u69cb\u9020\u89e3\u6790\u30bd\u30d5\u30c8ver1.2.1"}},{key:"open",value:function(t){var e=this;this.app.dialogClose(),this.InputData.clear(),this.ResultData.clear(),this.app.isCalculated=!1,this.three.ClearData(),this.countArea.clear();var n=this.modalService.open(sZ),i=t.target.files[0];this.fileName=i.name,t.target.value="",this.fileToText(i).then(function(t){e.app.dialogClose(),e.InputData.loadInputData(t),e.app.isCalculated=!1,e.three.fileload(),n.close()}).catch(function(t){alert(t),n.close()})}},{key:"fileToText",value:function(t){var e=new FileReader;return e.readAsText(t),new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}},{key:"save",value:function(){var t=JSON.stringify(this.InputData.getInputJson()),e=new window.Blob([t],{type:"text/plain"});0===this.fileName.length&&(this.fileName="frameWebForJS.json"),cZ.saveAs(e,this.fileName)}},{key:"calcrate",value:function(){var t=this.modalService.open(sZ),e=this.InputData.getInputJson(0);if("error"in e)return alert(e.error),void t.close();this.ResultData.clear(),this.post_compress(e,t)}},{key:"post_compress",value:function(t,e){var n=this,i=JSON.stringify(t,null,0),r=Y1(i),o=btoa(r);this.http.post("https://asia-northeast1-the-structural-engine.cloudfunctions.net/frameWeb-2",o,{headers:new Kn({"Content-Type":"application/json","Content-Encoding":"gzip,base64"}),responseType:"text"}).subscribe(function(t){console.log("\u901a\u4fe1\u6210\u529f!!");try{var i=atob(t).split("").map(function(t){return t.charCodeAt(0)}),r=new Uint8Array(i),o=K1(r,{to:"string"});n.saveResult(o);var a=JSON.parse(o);if(console.log(a),!n.ResultData.loadResultData(a))throw"\u89e3\u6790\u7d50\u679c\u306e\u96c6\u8a08\u306b\u5931\u6557\u3057\u307e\u3057\u305f";n.loadResultData(a),n.three.changeData()}catch(UF){alert(UF)}finally{e.close()}},function(t){n.app.isCalculated=!1;var i="\u901a\u4fe1 "+t.statusText;"_body"in t&&(i+="\n"+t._body),alert(i),console.error(t),e.close()})}},{key:"loadResultData",value:function(t){this.ResultData.CombinePickup(),this.user.loadResultData(t),this.userPoint=this.user.purchase_value.toString(),this.app.Calculated(this.ResultData)}},{key:"pickup",value:function(){var t=this.ResultData.GetPicUpText(),e=new window.Blob([t],{type:"text/plain"}),n="frameWebForJS.csv";this.fileName.length>0&&(n=this.fileName.split(".").slice(0,-1).join("."),n+=".csv"),cZ.saveAs(e,n)}},{key:"logIn",value:function(){var t=this;this.modalService.open(iZ).result.then(function(e){t.loggedIn=t.user.loggedIn,!0===t.loggedIn&&(t.loginUserName=t.user.loginUserName,t.userPoint=t.user.purchase_value.toString())})}},{key:"logOut",value:function(){this.loggedIn=!1,this.user.clear(),this.auth.signOut()}},{key:"logout",value:function(){this.user.loggedIn=!1,this.auth.signOut(),this.user.clear()}},{key:"dialogClose",value:function(){this.user.isContentsDailogShow=!1}},{key:"contentsDailogShow",value:function(t){this.deactiveButtons(),document.getElementById(t).classList.add("active"),this.user.isContentsDailogShow=!0}},{key:"deactiveButtons",value:function(){for(var t=0;t<=13;t++){var e=document.getElementById(t+"");null!=e&&e.classList.contains("active")&&e.classList.remove("active")}}},{key:"saveResult",value:function(t){var e=new window.Blob([t],{type:"text/plain"});cZ.saveAs(e,"frameWebResult.json")}},{key:"resultopen",value:function(t){var e=this,n=this.modalService.open(sZ),i=t.target.files[0];this.fileName=i.name,t.target.value="",this.fileToText(i).then(function(t){e.app.dialogClose(),e.ResultData.clear();var i=JSON.parse(t);e.ResultData.loadResultData(i)&&(e.loadResultData(i),e.three.changeData(),e.app.isCalculated=!0),n.close()}).catch(function(t){alert(t),n.close()})}}]),t}()).\u0275fac=function(t){return new(t||Z1)(i.Mb(ru),i.Mb(bW),i.Mb(pp),i.Mb(dO),i.Mb(bO),i.Mb(hO),i.Mb(bi),i.Mb(RW),i.Mb(_O),i.Mb(TY),i.Mb(KV))},Z1.\u0275cmp=i.Gb({type:Z1,selectors:[["app-menu"]],decls:37,vars:3,consts:[["id","disTitle",1,"title-and-menu"],[1,"icon-area"],["ngbDropdown",""],["id","dropdownBasic1","ngbDropdownToggle","","onfocus","this.blur();",1,"icon","file"],[1,"far","fa-file"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[2,"width","100%","margin","0px"],["ngbDropdownItem","",2,"padding","8px"],["type","file","accept","application/json",2,"display","none",3,"change"],[3,"click"],[1,"fas","fa-calculator"],["routerLink","./print","routerLinkActive","selected-item","id","13",3,"click"],[1,"fi","fi-print"],["onClick","window.open('https://doboku-design-program.slack.com/archives/C0199TMHMA9','_blank')"],[1,"far","fa-question-circle"],[1,"title"],[1,"login-area"],[4,"ngIf"],[1,"fas","fa-sign-in-alt"],[1,"far","fa-user-circle"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"ul"),i.Rb(3,"li"),i.Rb(4,"div",2),i.Rb(5,"a",3),i.Nb(6,"i",4),i.Qb(),i.Rb(7,"div",5),i.Rb(8,"button",6),i.bc("click",function(){return e.renew()}),i.Ac(9,"\u65b0\u898f\u4f5c\u6210"),i.Qb(),i.Rb(10,"label",7),i.Rb(11,"span",8),i.Ac(12," \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f "),i.Rb(13,"input",9),i.bc("change",function(t){return e.open(t)}),i.Qb(),i.Qb(),i.Qb(),i.Rb(14,"button",6),i.bc("click",function(){return e.save()}),i.Ac(15,"\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58"),i.Qb(),i.Rb(16,"button",6),i.bc("click",function(){return e.pickup()}),i.Ac(17," \u30d4\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u51fa\u529b "),i.Qb(),i.Rb(18,"label",7),i.Rb(19,"span",8),i.Ac(20," \u89e3\u6790\u7d50\u679c\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f "),i.Rb(21,"input",9),i.bc("change",function(t){return e.resultopen(t)}),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(22,"li"),i.Rb(23,"a",10),i.bc("click",function(){return e.calcrate()}),i.Nb(24,"i",11),i.Qb(),i.Qb(),i.Rb(25,"li"),i.Rb(26,"a",12),i.bc("click",function(){return e.contentsDailogShow(13)}),i.Nb(27,"i",13),i.Qb(),i.Qb(),i.Rb(28,"li"),i.Rb(29,"a",14),i.Nb(30,"i",15),i.Qb(),i.Qb(),i.Qb(),i.Qb(),i.Rb(31,"div",16),i.Rb(32,"h1"),i.Ac(33),i.Qb(),i.Qb(),i.Rb(34,"div",17),i.yc(35,X1,4,0,"div",18),i.yc(36,J1,3,3,"div",18),i.Qb(),i.Qb()),2&t&&(i.Ab(33),i.Bc(e.fileName),i.Ab(2),i.ic("ngIf",!e.loggedIn),i.Ab(1),i.ic("ngIf",e.loggedIn))},directives:[Gl,Wl,Hl,Ul,gp,Cp,U],pipes:[et],styles:['.welcome-message[_ngcontent-%COMP%]{display:flex}.margin[_ngcontent-%COMP%]{margin:0 5}.title-and-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:8px 0;font-weight:lighter}@media screen and (max-width:767px){.title-and-menu[_ngcontent-%COMP%]{display:block;text-align:center}}.title-and-menu[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]{display:flex;font-size:20px}.title-and-menu[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.title-and-menu[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:inline-block;margin-right:8px}.title-and-menu[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer}@media screen and (max-width:767px){.title-and-menu[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]{justify-content:center}}.title-and-menu[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#fff}.title-and-menu[_ngcontent-%COMP%]   .login-area[_ngcontent-%COMP%]{font-size:16px}.title-and-menu[_ngcontent-%COMP%]   .login-area[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}i.fas[_ngcontent-%COMP%]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:lighter}@media screen and (max-width:767px){.title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:4px 0}}.login-item[_ngcontent-%COMP%]{color:#fff}.fukidashi[_ngcontent-%COMP%]{display:none;position:absolute;padding:4px 8px;border-radius:5px;color:#333;font-size:12px;background:#fff;border:2px solid #333;box-sizing:border-box;z-index:1}.fukidashi.file[_ngcontent-%COMP%]{width:70px;top:40px;left:-20px}.fukidashi[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-24px;margin-left:-15px;border:12px solid transparent;border-bottom:14px solid #fff;z-index:2}.fukidashi[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-30px;margin-left:-17px;border:14px solid transparent;border-bottom:16px solid #333;z-index:1}.fukidashi.file[_ngcontent-%COMP%]:after, .fukidashi.file[_ngcontent-%COMP%]:before{left:45%}.fukidashi.calculator[_ngcontent-%COMP%]:after, .fukidashi.calculator[_ngcontent-%COMP%]:before, .fukidashi.help[_ngcontent-%COMP%]:after, .fukidashi.help[_ngcontent-%COMP%]:before, .fukidashi.print[_ngcontent-%COMP%]:after, .fukidashi.print[_ngcontent-%COMP%]:before{left:50%}.icon-area[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover + .fukidashi[_ngcontent-%COMP%]{display:block}.icon-area[_ngcontent-%COMP%]   a.file[_ngcontent-%COMP%]:checked + .fukidashi[_ngcontent-%COMP%]{display:none}',"@media print{#contents-dialog-id[_ngcontent-%COMP%], .title-and-menu[_ngcontent-%COMP%]{display:none}@page{size:A4}}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#dceb03;z-index:10}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}.input-area[_ngcontent-%COMP%]{padding-right:4px}.input-area[_ngcontent-%COMP%], .output-area[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.output-area[_ngcontent-%COMP%]{padding-left:4px;border-left:1px solid #333}.guide[_ngcontent-%COMP%]{margin:0 auto;font-size:8px;text-align:center;font-weight:550}.btn-group[_ngcontent-%COMP%]{margin-top:4px}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;min-width:60px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center}.btn-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:10px}.btn-change[_ngcontent-%COMP%]{text-decoration:none;min-width:100px!important;min-height:36px;padding:8px 0;line-height:normal;margin:0;font-size:12px;display:inline-block;text-align:center;vertical-align:middle;background-color:#f5f5f5;border:.5px solid silver}.btn-change[_ngcontent-%COMP%]:first-child{border-radius:4px 0 0 4px}.btn-change[_ngcontent-%COMP%]:last-child{border-radius:0 4px 4px 0}.btn-change[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#fff}.btn-change[_ngcontent-%COMP%]:active, .btn-change[_ngcontent-%COMP%]:hover{background-color:#669987}.btn-change[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#669987}.btn-blue[_ngcontent-%COMP%]{background-color:#fff;color:#333}.btn-blue[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#dcdcdc}.btn-blue[_ngcontent-%COMP%]:active{border:1px solid grey}.btn-blue[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:grey}.icon-img[_ngcontent-%COMP%]{min-height:50px}.icon-img.ppt[_ngcontent-%COMP%]{padding-top:6px}.body-container[_ngcontent-%COMP%]{width:100%;margin:0;padding:0 16px}.three-container[_ngcontent-%COMP%]{width:100%;margin-top:5px}.contents-dailog[_ngcontent-%COMP%]{border:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:absolute;top:130px;left:16px;margin:0;z-index:1048;overflow:scroll;display:inline;resize:both;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contents-dailog[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.dialog-close-button[_ngcontent-%COMP%]{background-color:#f5f5f5;border:1px solid #f5f5f5;min-height:30px;min-width:50px;padding:2px}.dialog-close-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#333}.dialog-close-button[_ngcontent-%COMP%]:hover{opacity:.7;background-color:#e00;padding:2px}.dialog-header[_ngcontent-%COMP%]{display:flex;color:#fff;background-color:#333;height:30px}.dialog-header[_ngcontent-%COMP%]   .dialog-drag-handle[_ngcontent-%COMP%]{padding:4px 16px 8px;cursor:move;width:100%}#myCanvas[_ngcontent-%COMP%]{width:100%!important}.pagerArea[_ngcontent-%COMP%]{display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]{margin:10 .5 0 100;display:inline-block}.pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .ngb-pagination[_ngcontent-%COMP%], .pagerArea[_ngcontent-%COMP%]   .pager.type[_ngcontent-%COMP%]   .pager-title[_ngcontent-%COMP%]{float:left}.pagerArea[_ngcontent-%COMP%]   .tabset[_ngcontent-%COMP%]{margin-left:15px;z-index:110;cursor:auto}.pagerArea[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]{display:flex;color:#333;padding:0;list-style:none}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;min-width:40px;padding:8px;color:#333;margin:0 8px}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7;color:#333;background-color:#f5f5f5}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pagenation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active{color:#fff;background-color:#113800}.pagerArea[_ngcontent-%COMP%]   .pageNum[_ngcontent-%COMP%]{padding:8px;border:1px solid #333;border-radius:4px;text-align:center}\n*[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{display:block}address[_ngcontent-%COMP%], blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], form[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;line-height:inherit;font-weight:inherit;margin:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-left:0}hr[_ngcontent-%COMP%]{box-sizing:content-box;height:0;overflow:visible;border-top-width:1px;margin:0;clear:both;color:inherit}pre[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}address[_ngcontent-%COMP%]{font-style:inherit}a[_ngcontent-%COMP%]{background-color:transparent;text-decoration:none;color:inherit}abbr[title][_ngcontent-%COMP%]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:monospace,monospace;font-size:inherit}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}embed[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], img[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{vertical-align:bottom}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;color:inherit;font:inherit;background:transparent;padding:0;margin:0;outline:0;border-radius:0;text-align:inherit}[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:checkbox;-moz-appearance:checkbox;appearance:checkbox}[type=radio][_ngcontent-%COMP%]{-webkit-appearance:radio;-moz-appearance:radio;appearance:radio}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{overflow:visible}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:pointer;padding:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}[type=button][disabled][_ngcontent-%COMP%], [type=reset][disabled][_ngcontent-%COMP%], [type=submit][disabled][_ngcontent-%COMP%], button[disabled][_ngcontent-%COMP%]{cursor:default}[type=button][_ngcontent-%COMP%]::-moz-focus-inner, [type=reset][_ngcontent-%COMP%]::-moz-focus-inner, [type=submit][_ngcontent-%COMP%]::-moz-focus-inner, button[_ngcontent-%COMP%]::-moz-focus-inner{border-style:none;padding:0}[type=button][_ngcontent-%COMP%]:-moz-focusring, [type=reset][_ngcontent-%COMP%]:-moz-focusring, [type=submit][_ngcontent-%COMP%]:-moz-focusring, button[_ngcontent-%COMP%]:-moz-focusring{outline:1px dotted ButtonText}select[_ngcontent-%COMP%]::-ms-expand{display:none}fieldset[_ngcontent-%COMP%], option[_ngcontent-%COMP%]{padding:0}fieldset[_ngcontent-%COMP%]{margin:0;min-width:0}legend[_ngcontent-%COMP%]{color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress[_ngcontent-%COMP%]{vertical-align:baseline}textarea[_ngcontent-%COMP%]{overflow:auto}[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px}[type=search][_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}label[for][_ngcontent-%COMP%]{cursor:pointer}details[_ngcontent-%COMP%]{display:block}summary[_ngcontent-%COMP%]{display:list-item}[contenteditable][_ngcontent-%COMP%]{outline:none}[hidden][_ngcontent-%COMP%], template[_ngcontent-%COMP%]{display:none}"]}),Z1),i2=["myCanvas"],r2=((e2=function(){function t(e,n,i){_classCallCheck(this,t),this.ngZone=e,this.scene=n,this.three=i,Og.DefaultUp.set(0,0,1)}return _createClass(t,[{key:"canvas",get:function(){return this.canvasRef.nativeElement}},{key:"ngAfterViewInit",value:function(){this.scene.OnInit(this.getAspectRatio(),this.canvas,devicePixelRatio,window.innerWidth,window.innerHeight-120),this.three.OnInit();var t=this.scene.labelRendererDomElement(),e=document.getElementById("myCanvas");e.parentNode.insertBefore(t,e.nextSibling),this.animate()}},{key:"animate",value:function(){var t=this;this.ngZone.runOutsideAngular(function(){window.addEventListener("DOMContentLoaded",function(){t.scene.render()})})}},{key:"onMouseDown",value:function(t){var e=this.getMousePosition(t);this.three.detectObject(e,"click")}},{key:"onMouseUp",value:function(t){var e=this.getMousePosition(t);this.three.detectObject(e,"select")}},{key:"onMouseMove",value:function(t){var e=this.getMousePosition(t);this.three.detectObject(e,"hover")}},{key:"getMousePosition",value:function(t){t.preventDefault();var e=this.scene.getBoundingClientRect(),n=new mf;return n.x=(t.clientX-e.left)/e.width*2-1,n.y=-(t.clientY-e.top)/e.height*2+1,n}},{key:"onResize",value:function(t){this.scene.onResize(this.getAspectRatio(),window.innerWidth,window.innerHeight-120)}},{key:"getAspectRatio",value:function(){return 0===this.canvas.clientHeight?0:this.canvas.clientWidth/this.canvas.clientHeight}}]),t}()).\u0275fac=function(t){return new(t||e2)(i.Mb(i.z),i.Mb(WM),i.Mb(RW))},e2.\u0275cmp=i.Gb({type:e2,selectors:[["app-three"]],viewQuery:function(t,e){var n;1&t&&i.wc(i2,!0),2&t&&i.oc(n=i.cc())&&(e.canvasRef=n.first)},hostBindings:function(t,e){1&t&&i.bc("mousedown",function(t){return e.onMouseDown(t)})("mouseup",function(t){return e.onMouseUp(t)})("mousemove",function(t){return e.onMouseMove(t)})("resize",function(t){return e.onResize(t)},!1,i.qc)},decls:2,vars:0,consts:[["id","myCanvas",2,"overflow","hidden","position","absolute",3,"mousedown","mouseup","mousemove"],["myCanvas",""]],template:function(t,e){1&t&&(i.Rb(0,"canvas",0,1),i.bc("mousedown",function(t){return e.onMouseDown(t)})("mouseup",function(t){return e.onMouseUp(t)})("mousemove",function(t){return e.onMouseMove(t)}),i.Qb())},styles:["#gui_css[_ngcontent-%COMP%]{position:fixed;top:300px!important}"]}),e2),o2=((t2=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:t2,bootstrap:[bW]}),t2.\u0275inj=i.Jb({factory:function(t){return new(t||t2)},providers:[bO,Qp.a,$p.a,gO,pO,mO,vO.a,fO,Jp,Xp,Kp,Zp,_O,YJ,hO,tf.a,ef.a,nf.a,rf.a,sf.a,of.a,cf.a,lf.a,af.a,TY,dO,WM],imports:[[Ht,oZ,jn,Fn,Ri,Vo,dc,bu,Yp.a,lQ,_V.a.initializeApp(r),aZ]]}),t2);i.tc(bW,[n2,gp,Cp,U,r2,Bo,jo,xp],[]),Object(i.T)(),Bt().bootstrapModule(o2).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zqb7:function(t,e,n){var i,r,o,a,s=s||n("EVdn");o=(r=(i=s).paramquery).pqGrid.regional.en={strLocal:"en",strAdd:"Add",strBlanks:"(Blanks)",strDelete:"Delete",strEdit:"Edit",strCondition:"Condition:",strConditions:{"":"--None--",begin:"Begins with",between:"In between",contain:"Contains",equal:"Equals",empty:"Empty",end:"Ends With",great:"Greater than",gte:"Greater than or equal",less:"Less than",lte:"Less than or equal",notbegin:"Not begins with",notcontain:"Not contains",notequal:"Not equals",notempty:"Not empty",notend:"Not ends with",range:"[ Range ]",regexp:"Regular expression"},strOk:"Ok",strClear:"Clear",strGroup_header:"Drag a column here to group by that column",strGroup_merge:"Merge cells",strGroup_fixCols:"Fix columns",strGroup_grandSummary:"Grand summary",strTP_aggPane:"Aggregates",strTP_colPane:"Group columns",strTP_pivot:"Pivot mode",strTP_rowPane:"Group rows",strTP_aggPH:"Drop columns for computing aggregate values",strTP_colPH:"Drop columns here for grouping along column or x axis",strTP_rowPH:"Drop columns here for grouping along row or y axis",strLoading:"Loading",strNextResult:"Next Result",strNoRows:"No rows to display.",strNothingFound:"Nothing found",strPrevResult:"Previous Result",strSearch:"Search",strSelectAll:"Select All",strSelectedmatches:"Selected {0} of {1} match(es)",strFormulas:{ABS:["ABS(number)","Returns the absolute value of a number. The absolute value of a number is the number without its sign."],ACOS:["ACOS(number)","Returns the arccosine, or inverse cosine, of a number. The arccosine is the angle whose cosine is number. The returned angle is given in radians in the range 0 (zero) to pi."],AND:["AND(logical1, [logical2], ...)","Returns TRUE if all its arguments evaluate to TRUE, and returns FALSE if one or more arguments evaluate to FALSE."],ASIN:["ASIN(number)","Returns the arcsine, or inverse sine, of a number. The arcsine is the angle whose sine is number. The returned angle is given in radians in the range -pi/2 to pi/2."],ATAN:["ATAN(number)","Returns the arctangent, or inverse tangent, of a number. The arctangent is the angle whose tangent is number. The returned angle is given in radians in the range -pi/2 to pi/2."],AVERAGE:["AVERAGE(number1, [number2], ...)","Returns the average (arithmetic mean) of the arguments. For example, if the range A1:A20 contains numbers, the formula =AVERAGE(A1:A20) returns the average of those numbers."],AVERAGEIF:["AVERAGEIF(range, criteria, [average_range])","Returns the average (arithmetic mean) of all the cells in a range that meet a given criteria."],AVERAGEIFS:["AVERAGEIFS(average_range, criteria_range1, criteria1, [criteria_range2, criteria2], ...)","Returns the average (arithmetic mean) of all cells that meet multiple criteria."],CEILING:["CEILING(number, significance)","Returns number rounded up, away from zero, to the nearest multiple of significance. For example, if you want to avoid using pennies in your prices and your product is priced at $4.42, use the formula =CEILING(4.42,0.05) to round prices up to the nearest nickel."],CHAR:["CHAR(number)","Returns the character specified by a number."],CHOOSE:["CHOOSE(index_num, value1, [value2], ...)","If index_num is 1, CHOOSE returns value1; if it is 2, CHOOSE returns value2; and so on."],CODE:["CODE(text)","Returns a numeric code for the first character in a text string."],COLUMN:["COLUMN()","Returns reference of the cell in which the COLUMN function appears."],COLUMNS:["COLUMNS(array)","Returns the number of columns in an array or reference."],CONCATENATE:["CONCATENATE(text1, [text2], ...)","join two or more text strings into one string."],COS:["COS(number)","Returns the cosine of the given angle(in radians)."],COUNT:["COUNT(value1, [value2], ...)","Counts the number of cells that contain numbers, and counts numbers within the list of arguments."],COUNTA:["COUNTA(value1, [value2], ...)","The COUNTA function counts the number of cells that are not empty in a range."],COUNTBLANK:["COUNTBLANK(range)","Counts empty cells in a specified range of cells."],COUNTIF:["COUNTIF(range, criteria)","counts the number of cells that meet a criterion; for example, to count the number of times a particular city appears in a customer list."],COUNTIFS:["COUNTIFS(criteria_range1, criteria1, [criteria_range2, criteria2]\u2026)","Applies criteria to cells across multiple ranges and counts the number of times all criteria are met."],DATE:["DATE(year,month,day)","returns the sequential serial number that represents a particular date."],DATEDIF:["DATEDIF(start_date,end_date,unit)","Calculates the number of days, months, or years between two dates. Unit can be 'Y', 'M' or 'D'."],DATEVALUE:["DATEVALUE(date_text)",'converts a date that is stored as text to a serial number that Excel recognizes as a date. For example, the formula =DATEVALUE("1/1/2008") returns 39448.'],DAY:["DAY(serial_number)","Returns the day of a date, represented by a serial number."],DAYS:["DAYS(end_date, start_date)","Returns the number of days between two dates."],DEGREES:["DEGREES(angle)","Converts radians into degrees."],EOMONTH:["EOMONTH(start_date, months)","Returns the serial number for the last day of the month that is the indicated number of months before or after start_date."],EXP:["EXP(number)","Returns e raised to the power of number. "],FIND:["FIND(find_text, within_text, [start_num])","Locates one text string within a second text string, and return the number of the starting position of the first text string from the first character of the second text string."],FLOOR:["FLOOR(number, significance)","Rounds number down, toward zero, to the nearest multiple of significance."],HLOOKUP:["HLOOKUP(lookup_value, table_array, row_index_num, [range_lookup])","Searches for a value in the top row of a table or an array of values, and then returns a value in the same column from a row you specify in the table or array."],HOUR:["HOUR(serial_number)","Returns the hour of a time value. The hour is given as an integer, ranging from 0 (12:00 A.M.) to 23 (11:00 P.M.)."],IF:["IF(logical_test, value_if_true, [value_if_false])","returns one value if a condition is true and another value if it's false."],INDEX:["INDEX(array, row_num, [column_num])","Returns the value of an element in a table or an array, selected by the row and column number indexes."],INDIRECT:["INDIRECT(ref_text, [a1])","Returns the reference specified by a text string. References are immediately evaluated to display their contents."],ISBLANK:["ISBLANK(value)","Returns TRUE if the value is blank"],LARGE:["LARGE(array, k)","Returns the k-th largest value in a data set."],LEFT:["LEFT(text, [num_chars])","returns the first character or characters in a text string, based on the number of characters you specify."],LEN:["LEN(text)","returns the number of characters in a text string."],LOOKUP:["LOOKUP(lookup_value, lookup_vector, [result_vector])","Looks in a one-row or one-column range (known as a vector) for a value and returns a value from the same position in a second one-row or one-column range."],LOWER:["LOWER(text)","Converts all uppercase letters in a text string to lowercase."],MATCH:["MATCH(lookup_value, lookup_array, [match_type])","Searches for a specified item in a range of cells, and then returns the relative position of that item in the range. match_type can be: 0 for exact match with option to use wildcards; 1 ( default ) for less than, The values in the lookup_array argument must be placed in ascending order; -1 for greater than, values in the lookup_array argument must be placed in descending order."],MAX:["MAX(number1, [number2], ...)","Returns the largest value in a set of values."],MEDIAN:["MEDIAN(number1, [number2], ...)","Returns the median of the given numbers. The median is the number in the middle of a set of numbers."],MID:["MID(text, start_num, num_chars)","returns a specific number of characters from a text string, starting at the position you specify, based on the number of characters you specify."],MIN:["MIN(number1, [number2], ...)","Returns the smallest number in a set of values."],MODE:["MODE(number1,[number2],...)","Returns the most frequently occurring, or repetitive, value in an array or range of data."],MONTH:["MONTH(serial_number)","Returns the month of a date represented by a serial number. The month is given as an integer, ranging from 1 (January) to 12 (December)."],OR:["OR(logical1, [logical2], ...)","returns TRUE if any of its arguments evaluate to TRUE, and returns FALSE if all of its arguments evaluate to FALSE."],PI:["PI()","Returns the number 3.14159265358979, the mathematical constant pi."],POWER:["POWER(number, power)","Returns the result of a number raised to a power."],PRODUCT:["PRODUCT(number1, [number2], ...)","multiplies all the numbers given as arguments and returns the product. PRODUCT(A1:A3, C1:C3) is equivalent to =A1 * A2 * A3 * C1 * C2 * C3."],PROPER:["PROPER(text)","Capitalizes the first letter in each word of a text value."],RADIANS:["RADIANS(angle)","Converts degrees into radians."],RAND:["RAND()","Returns an evenly distributed random real number greater than or equal to 0 and less than 1."],RANK:["RANK(number,ref,[order])","Returns the rank of a number in a list of numbers."],RATE:["",""],REPLACE:["REPLACE(old_text, start_num, num_chars, new_text)","replaces part of a text string, based on the number of characters you specify, with a different text string."],REPT:["REPT(text, number_times)","Repeats text a given number of times."],RIGHT:["RIGHT(text,[num_chars])","returns the last character or characters in a text string, based on the number of characters you specify."],ROUND:["ROUND(number, num_digits)","rounds a number to a specified number of digits."],ROUNDDOWN:["ROUNDDOWN(number, num_digits)","Rounds a number down, toward zero."],ROUNDUP:["ROUNDUP(number, num_digits)","Rounds a number up, away from 0 (zero)."],ROW:["ROW()","Returns the reference of the cell in which the ROW function appears."],ROWS:["ROWS(array)","Returns the number of rows in a reference or array."],SEARCH:["SEARCH(find_text,within_text,[start_num])","locate one text string within a second text string, and return the number of the starting position of the first text string from the first character of the second text string."],SIN:["SIN(number)","Returns the sine of the given angle(in radians)."],SMALL:["SMALL(array, k)","Returns the k-th smallest value in a data set."],SQRT:["SQRT(number)","Returns a positive square root."],STDEV:["STDEV(number1,[number2],...)","Estimates standard deviation based on a sample. The standard deviation is a measure of how widely values are dispersed from the average value (the mean)."],STDEVP:["STDEVP(number1,[number2],...)","Calculates standard deviation based on the entire population given as arguments."],SUBSTITUTE:["SUBSTITUTE(text, old_text, new_text, [instance_num])","Substitutes new_text for old_text in a text string."],SUM:["SUM(number1,[number2],...)","Adds its arguments. You can add individual values, cell references or ranges or a mix of all three."],SUMIF:["SUMIF(range, criteria, [sum_range])","adds the values in a range that meet criteria that you specify"],SUMIFS:["SUMIFS(sum_range, criteria_range1, criteria1, [criteria_range2, criteria2], ...)","adds all of its arguments that meet multiple criteria."],SUMPRODUCT:["SUMPRODUCT(array1, [array2], [array3], ...)","Multiplies corresponding components in the given arrays, and returns the sum of those products."],TAN:["TAN(number)","Returns the tangent of the given angle(in radians)."],TEXT:['TEXT(Value you want to format, "Format code you want to apply")',"The TEXT function lets you change the way a number appears by applying formatting to it with format codes."],TIME:["TIME(hour, minute, second)","Returns the decimal number for a particular time."],TIMEVALUE:["TIMEVALUE(time_text)","Returns the decimal number of the time represented by a text string. The decimal number is a value ranging from 0 (zero) to 0.99988426, representing the times from 0:00:00 (12:00:00 AM) to 23:59:59 (11:59:59 P.M.)."],TODAY:["TODAY()","Returns the serial number of the current date."],TRIM:["TRIM(text)","Removes all spaces from text except for single spaces between words."],TRUNC:["TRUNC(number, [num_digits])","Truncates a number to an integer by removing the fractional part of the number."],UPPER:["UPPER(text)","Converts text to uppercase."],VALUE:["VALUE(text)","Converts a text string that represents a number to a number."],VAR:["VAR(number1,[number2],...)","Estimates variance based on a sample."],VARP:["VARP(number1,[number2],...)","Calculates variance based on the entire population."],VLOOKUP:["VLOOKUP (lookup_value, table_array, col_index_num, [range_lookup])","look up a value in a table or a range by row. For example, look up a price of an automotive part by the part number."],YEAR:["YEAR(serial_number)","Returns the year corresponding to a date. The year is returned as an integer in the range 1900-9999."]}},a=r.pqPager.regional.en={strDisplay:"Displaying {0} to {1} of {2} items.",strFirstPage:"First Page",strLastPage:"Last Page",strNextPage:"Next Page",strPage:"Page {0} of {1}",strPrevPage:"Previous Page",strRefresh:"Refresh",strRpp:"Records per page: {0}"},i.extend(r.pqGrid.defaults,o),i.extend(r.pqPager.defaults,a)},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return c});var i=n("7o/Q"),r=n("HDdC"),o=n("SeVD"),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).parent=t,i}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(i.a),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(i.a);function c(t,e){if(!e.closed)return t instanceof r.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]])})();